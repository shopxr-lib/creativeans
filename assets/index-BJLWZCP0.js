var pC=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var XL=pC((c5,Qd)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}})();var an=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function cb(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var n=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(r,i,n.get?n:{enumerable:!0,get:function(){return t[i]}})}),r}var db={exports:{}},Sd={},fb={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var du=Symbol.for("react.element"),mC=Symbol.for("react.portal"),gC=Symbol.for("react.fragment"),yC=Symbol.for("react.strict_mode"),vC=Symbol.for("react.profiler"),xC=Symbol.for("react.provider"),_C=Symbol.for("react.context"),wC=Symbol.for("react.forward_ref"),bC=Symbol.for("react.suspense"),SC=Symbol.for("react.memo"),EC=Symbol.for("react.lazy"),G1=Symbol.iterator;function TC(t){return t===null||typeof t!="object"?null:(t=G1&&t[G1]||t["@@iterator"],typeof t=="function"?t:null)}var pb={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},mb=Object.assign,gb={};function Aa(t,e,r){this.props=t,this.context=e,this.refs=gb,this.updater=r||pb}Aa.prototype.isReactComponent={};Aa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Aa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function yb(){}yb.prototype=Aa.prototype;function B0(t,e,r){this.props=t,this.context=e,this.refs=gb,this.updater=r||pb}var L0=B0.prototype=new yb;L0.constructor=B0;mb(L0,Aa.prototype);L0.isPureReactComponent=!0;var j1=Array.isArray,vb=Object.prototype.hasOwnProperty,U0={current:null},xb={key:!0,ref:!0,__self:!0,__source:!0};function _b(t,e,r){var i,n={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)vb.call(e,i)&&!xb.hasOwnProperty(i)&&(n[i]=e[i]);var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){for(var h=Array(l),c=0;c<l;c++)h[c]=arguments[c+2];n.children=h}if(t&&t.defaultProps)for(i in l=t.defaultProps,l)n[i]===void 0&&(n[i]=l[i]);return{$$typeof:du,type:t,key:s,ref:o,props:n,_owner:U0.current}}function AC(t,e){return{$$typeof:du,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function z0(t){return typeof t=="object"&&t!==null&&t.$$typeof===du}function CC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var H1=/\/+/g;function xp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?CC(""+t.key):e.toString(36)}function oc(t,e,r,i,n){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case du:case mC:o=!0}}if(o)return o=t,n=n(o),t=i===""?"."+xp(o,0):i,j1(n)?(r="",t!=null&&(r=t.replace(H1,"$&/")+"/"),oc(n,e,r,"",function(c){return c})):n!=null&&(z0(n)&&(n=AC(n,r+(!n.key||o&&o.key===n.key?"":(""+n.key).replace(H1,"$&/")+"/")+t)),e.push(n)),1;if(o=0,i=i===""?".":i+":",j1(t))for(var l=0;l<t.length;l++){s=t[l];var h=i+xp(s,l);o+=oc(s,e,r,h,n)}else if(h=TC(t),typeof h=="function")for(t=h.call(t),l=0;!(s=t.next()).done;)s=s.value,h=i+xp(s,l++),o+=oc(s,e,r,h,n);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ch(t,e,r){if(t==null)return t;var i=[],n=0;return oc(t,i,"","",function(s){return e.call(r,s,n++)}),i}function PC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var sr={current:null},ac={transition:null},IC={ReactCurrentDispatcher:sr,ReactCurrentBatchConfig:ac,ReactCurrentOwner:U0};function wb(){throw Error("act(...) is not supported in production builds of React.")}Ie.Children={map:ch,forEach:function(t,e,r){ch(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ch(t,function(){e++}),e},toArray:function(t){return ch(t,function(e){return e})||[]},only:function(t){if(!z0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ie.Component=Aa;Ie.Fragment=gC;Ie.Profiler=vC;Ie.PureComponent=B0;Ie.StrictMode=yC;Ie.Suspense=bC;Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=IC;Ie.act=wb;Ie.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=mb({},t.props),n=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=U0.current),e.key!==void 0&&(n=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(h in e)vb.call(e,h)&&!xb.hasOwnProperty(h)&&(i[h]=e[h]===void 0&&l!==void 0?l[h]:e[h])}var h=arguments.length-2;if(h===1)i.children=r;else if(1<h){l=Array(h);for(var c=0;c<h;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:du,type:t.type,key:n,ref:s,props:i,_owner:o}};Ie.createContext=function(t){return t={$$typeof:_C,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:xC,_context:t},t.Consumer=t};Ie.createElement=_b;Ie.createFactory=function(t){var e=_b.bind(null,t);return e.type=t,e};Ie.createRef=function(){return{current:null}};Ie.forwardRef=function(t){return{$$typeof:wC,render:t}};Ie.isValidElement=z0;Ie.lazy=function(t){return{$$typeof:EC,_payload:{_status:-1,_result:t},_init:PC}};Ie.memo=function(t,e){return{$$typeof:SC,type:t,compare:e===void 0?null:e}};Ie.startTransition=function(t){var e=ac.transition;ac.transition={};try{t()}finally{ac.transition=e}};Ie.unstable_act=wb;Ie.useCallback=function(t,e){return sr.current.useCallback(t,e)};Ie.useContext=function(t){return sr.current.useContext(t)};Ie.useDebugValue=function(){};Ie.useDeferredValue=function(t){return sr.current.useDeferredValue(t)};Ie.useEffect=function(t,e){return sr.current.useEffect(t,e)};Ie.useId=function(){return sr.current.useId()};Ie.useImperativeHandle=function(t,e,r){return sr.current.useImperativeHandle(t,e,r)};Ie.useInsertionEffect=function(t,e){return sr.current.useInsertionEffect(t,e)};Ie.useLayoutEffect=function(t,e){return sr.current.useLayoutEffect(t,e)};Ie.useMemo=function(t,e){return sr.current.useMemo(t,e)};Ie.useReducer=function(t,e,r){return sr.current.useReducer(t,e,r)};Ie.useRef=function(t){return sr.current.useRef(t)};Ie.useState=function(t){return sr.current.useState(t)};Ie.useSyncExternalStore=function(t,e,r){return sr.current.useSyncExternalStore(t,e,r)};Ie.useTransition=function(){return sr.current.useTransition()};Ie.version="18.3.1";fb.exports=Ie;var Pe=fb.exports;const Zt=bd(Pe);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var RC=Pe,kC=Symbol.for("react.element"),MC=Symbol.for("react.fragment"),DC=Object.prototype.hasOwnProperty,FC=RC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,OC={key:!0,ref:!0,__self:!0,__source:!0};function bb(t,e,r){var i,n={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)DC.call(e,i)&&!OC.hasOwnProperty(i)&&(n[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)n[i]===void 0&&(n[i]=e[i]);return{$$typeof:kC,type:t,key:s,ref:o,props:n,_owner:FC.current}}Sd.Fragment=MC;Sd.jsx=bb;Sd.jsxs=bb;db.exports=Sd;var ce=db.exports,Sb={exports:{}},Pr={},Eb={exports:{}},Tb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,L){var k=P.length;P.push(L);e:for(;0<k;){var U=k-1>>>1,re=P[U];if(0<n(re,L))P[U]=L,P[k]=re,k=U;else break e}}function r(P){return P.length===0?null:P[0]}function i(P){if(P.length===0)return null;var L=P[0],k=P.pop();if(k!==L){P[0]=k;e:for(var U=0,re=P.length,be=re>>>1;U<be;){var xe=2*(U+1)-1,Le=P[xe],Ae=xe+1,Be=P[Ae];if(0>n(Le,k))Ae<re&&0>n(Be,Le)?(P[U]=Be,P[Ae]=k,U=Ae):(P[U]=Le,P[xe]=k,U=xe);else if(Ae<re&&0>n(Be,k))P[U]=Be,P[Ae]=k,U=Ae;else break e}}return L}function n(P,L){var k=P.sortIndex-L.sortIndex;return k!==0?k:P.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var h=[],c=[],f=1,m=null,p=3,v=!1,x=!1,b=!1,A=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(P){for(var L=r(c);L!==null;){if(L.callback===null)i(c);else if(L.startTime<=P)i(c),L.sortIndex=L.expirationTime,e(h,L);else break;L=r(c)}}function T(P){if(b=!1,w(P),!x)if(r(h)!==null)x=!0,he(R);else{var L=r(c);L!==null&&H(T,L.startTime-P)}}function R(P,L){x=!1,b&&(b=!1,S(M),M=-1),v=!0;var k=p;try{for(w(L),m=r(h);m!==null&&(!(m.expirationTime>L)||P&&!te());){var U=m.callback;if(typeof U=="function"){m.callback=null,p=m.priorityLevel;var re=U(m.expirationTime<=L);L=t.unstable_now(),typeof re=="function"?m.callback=re:m===r(h)&&i(h),w(L)}else i(h);m=r(h)}if(m!==null)var be=!0;else{var xe=r(c);xe!==null&&H(T,xe.startTime-L),be=!1}return be}finally{m=null,p=k,v=!1}}var N=!1,D=null,M=-1,V=5,W=-1;function te(){return!(t.unstable_now()-W<V)}function Z(){if(D!==null){var P=t.unstable_now();W=P;var L=!0;try{L=D(!0,P)}finally{L?O():(N=!1,D=null)}}else N=!1}var O;if(typeof E=="function")O=function(){E(Z)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ee=G.port2;G.port1.onmessage=Z,O=function(){ee.postMessage(null)}}else O=function(){A(Z,0)};function he(P){D=P,N||(N=!0,O())}function H(P,L){M=A(function(){P(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,he(R))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(P){switch(p){case 1:case 2:case 3:var L=3;break;default:L=p}var k=p;p=L;try{return P()}finally{p=k}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,L){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var k=p;p=P;try{return L()}finally{p=k}},t.unstable_scheduleCallback=function(P,L,k){var U=t.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?U+k:U):k=U,P){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=k+re,P={id:f++,callback:L,priorityLevel:P,startTime:k,expirationTime:re,sortIndex:-1},k>U?(P.sortIndex=k,e(c,P),r(h)===null&&P===r(c)&&(b?(S(M),M=-1):b=!0,H(T,k-U))):(P.sortIndex=re,e(h,P),x||v||(x=!0,he(R))),P},t.unstable_shouldYield=te,t.unstable_wrapCallback=function(P){var L=p;return function(){var k=p;p=L;try{return P.apply(this,arguments)}finally{p=k}}}})(Tb);Eb.exports=Tb;var NC=Eb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BC=Pe,Cr=NC;function K(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ab=new Set,Gl={};function ro(t,e){ma(t,e),ma(t+"Capture",e)}function ma(t,e){for(Gl[t]=e,t=0;t<e.length;t++)Ab.add(e[t])}var mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bm=Object.prototype.hasOwnProperty,LC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,V1={},W1={};function UC(t){return Bm.call(W1,t)?!0:Bm.call(V1,t)?!1:LC.test(t)?W1[t]=!0:(V1[t]=!0,!1)}function zC(t,e,r,i){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function GC(t,e,r,i){if(e===null||typeof e>"u"||zC(t,e,r,i))return!0;if(i)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function or(t,e,r,i,n,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ht[t]=new or(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ht[e]=new or(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ht[t]=new or(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ht[t]=new or(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ht[t]=new or(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ht[t]=new or(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ht[t]=new or(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ht[t]=new or(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ht[t]=new or(t,5,!1,t.toLowerCase(),null,!1,!1)});var G0=/[\-:]([a-z])/g;function j0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(G0,j0);Ht[e]=new or(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(G0,j0);Ht[e]=new or(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(G0,j0);Ht[e]=new or(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ht[t]=new or(t,1,!1,t.toLowerCase(),null,!1,!1)});Ht.xlinkHref=new or("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ht[t]=new or(t,1,!1,t.toLowerCase(),null,!0,!0)});function H0(t,e,r,i){var n=Ht.hasOwnProperty(e)?Ht[e]:null;(n!==null?n.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(GC(e,r,n,i)&&(r=null),i||n===null?UC(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):n.mustUseProperty?t[n.propertyName]=r===null?n.type===3?!1:"":r:(e=n.attributeName,i=n.attributeNamespace,r===null?t.removeAttribute(e):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,i?t.setAttributeNS(i,e,r):t.setAttribute(e,r))))}var bn=BC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dh=Symbol.for("react.element"),zo=Symbol.for("react.portal"),Go=Symbol.for("react.fragment"),V0=Symbol.for("react.strict_mode"),Lm=Symbol.for("react.profiler"),Cb=Symbol.for("react.provider"),Pb=Symbol.for("react.context"),W0=Symbol.for("react.forward_ref"),Um=Symbol.for("react.suspense"),zm=Symbol.for("react.suspense_list"),X0=Symbol.for("react.memo"),Un=Symbol.for("react.lazy"),Ib=Symbol.for("react.offscreen"),X1=Symbol.iterator;function Ja(t){return t===null||typeof t!="object"?null:(t=X1&&t[X1]||t["@@iterator"],typeof t=="function"?t:null)}var at=Object.assign,_p;function fl(t){if(_p===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);_p=e&&e[1]||""}return`
`+_p+t}var wp=!1;function bp(t,e){if(!t||wp)return"";wp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var i=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){i=c}t.call(e.prototype)}else{try{throw Error()}catch(c){i=c}t()}}catch(c){if(c&&i&&typeof c.stack=="string"){for(var n=c.stack.split(`
`),s=i.stack.split(`
`),o=n.length-1,l=s.length-1;1<=o&&0<=l&&n[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(n[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||n[o]!==s[l]){var h=`
`+n[o].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=o&&0<=l);break}}}finally{wp=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?fl(t):""}function jC(t){switch(t.tag){case 5:return fl(t.type);case 16:return fl("Lazy");case 13:return fl("Suspense");case 19:return fl("SuspenseList");case 0:case 2:case 15:return t=bp(t.type,!1),t;case 11:return t=bp(t.type.render,!1),t;case 1:return t=bp(t.type,!0),t;default:return""}}function Gm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Go:return"Fragment";case zo:return"Portal";case Lm:return"Profiler";case V0:return"StrictMode";case Um:return"Suspense";case zm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Pb:return(t.displayName||"Context")+".Consumer";case Cb:return(t._context.displayName||"Context")+".Provider";case W0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case X0:return e=t.displayName||null,e!==null?e:Gm(t.type)||"Memo";case Un:e=t._payload,t=t._init;try{return Gm(t(e))}catch{}}return null}function HC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Gm(e);case 8:return e===V0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function os(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Rb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function VC(t){var e=Rb(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return n.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fh(t){t._valueTracker||(t._valueTracker=VC(t))}function kb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),i="";return t&&(i=Rb(t)?t.checked?"true":"false":t.value),t=i,t!==r?(e.setValue(t),!0):!1}function Ic(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function jm(t,e){var r=e.checked;return at({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function $1(t,e){var r=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;r=os(e.value!=null?e.value:r),t._wrapperState={initialChecked:i,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Mb(t,e){e=e.checked,e!=null&&H0(t,"checked",e,!1)}function Hm(t,e){Mb(t,e);var r=os(e.value),i=e.type;if(r!=null)i==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Vm(t,e.type,r):e.hasOwnProperty("defaultValue")&&Vm(t,e.type,os(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Y1(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Vm(t,e,r){(e!=="number"||Ic(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var pl=Array.isArray;function ta(t,e,r,i){if(t=t.options,e){e={};for(var n=0;n<r.length;n++)e["$"+r[n]]=!0;for(r=0;r<t.length;r++)n=e.hasOwnProperty("$"+t[r].value),t[r].selected!==n&&(t[r].selected=n),n&&i&&(t[r].defaultSelected=!0)}else{for(r=""+os(r),e=null,n=0;n<t.length;n++){if(t[n].value===r){t[n].selected=!0,i&&(t[n].defaultSelected=!0);return}e!==null||t[n].disabled||(e=t[n])}e!==null&&(e.selected=!0)}}function Wm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(K(91));return at({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Q1(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(K(92));if(pl(r)){if(1<r.length)throw Error(K(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:os(r)}}function Db(t,e){var r=os(e.value),i=os(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),i!=null&&(t.defaultValue=""+i)}function K1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Fb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xm(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Fb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ph,Ob=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,i,n){MSApp.execUnsafeLocalFunction(function(){return t(e,r,i,n)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ph=ph||document.createElement("div"),ph.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ph.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function jl(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Al={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},WC=["Webkit","ms","Moz","O"];Object.keys(Al).forEach(function(t){WC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Al[e]=Al[t]})});function Nb(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Al.hasOwnProperty(t)&&Al[t]?(""+e).trim():e+"px"}function Bb(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var i=r.indexOf("--")===0,n=Nb(r,e[r],i);r==="float"&&(r="cssFloat"),i?t.setProperty(r,n):t[r]=n}}var XC=at({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $m(t,e){if(e){if(XC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(K(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(K(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(K(61))}if(e.style!=null&&typeof e.style!="object")throw Error(K(62))}}function Ym(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Qm=null;function $0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Km=null,ra=null,ia=null;function Z1(t){if(t=mu(t)){if(typeof Km!="function")throw Error(K(280));var e=t.stateNode;e&&(e=Pd(e),Km(t.stateNode,t.type,e))}}function Lb(t){ra?ia?ia.push(t):ia=[t]:ra=t}function Ub(){if(ra){var t=ra,e=ia;if(ia=ra=null,Z1(t),e)for(t=0;t<e.length;t++)Z1(e[t])}}function zb(t,e){return t(e)}function Gb(){}var Sp=!1;function jb(t,e,r){if(Sp)return t(e,r);Sp=!0;try{return zb(t,e,r)}finally{Sp=!1,(ra!==null||ia!==null)&&(Gb(),Ub())}}function Hl(t,e){var r=t.stateNode;if(r===null)return null;var i=Pd(r);if(i===null)return null;r=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(K(231,e,typeof r));return r}var Zm=!1;if(mn)try{var el={};Object.defineProperty(el,"passive",{get:function(){Zm=!0}}),window.addEventListener("test",el,el),window.removeEventListener("test",el,el)}catch{Zm=!1}function $C(t,e,r,i,n,s,o,l,h){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(f){this.onError(f)}}var Cl=!1,Rc=null,kc=!1,qm=null,YC={onError:function(t){Cl=!0,Rc=t}};function QC(t,e,r,i,n,s,o,l,h){Cl=!1,Rc=null,$C.apply(YC,arguments)}function KC(t,e,r,i,n,s,o,l,h){if(QC.apply(this,arguments),Cl){if(Cl){var c=Rc;Cl=!1,Rc=null}else throw Error(K(198));kc||(kc=!0,qm=c)}}function io(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Hb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function q1(t){if(io(t)!==t)throw Error(K(188))}function ZC(t){var e=t.alternate;if(!e){if(e=io(t),e===null)throw Error(K(188));return e!==t?null:t}for(var r=t,i=e;;){var n=r.return;if(n===null)break;var s=n.alternate;if(s===null){if(i=n.return,i!==null){r=i;continue}break}if(n.child===s.child){for(s=n.child;s;){if(s===r)return q1(n),t;if(s===i)return q1(n),e;s=s.sibling}throw Error(K(188))}if(r.return!==i.return)r=n,i=s;else{for(var o=!1,l=n.child;l;){if(l===r){o=!0,r=n,i=s;break}if(l===i){o=!0,i=n,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,i=n;break}if(l===i){o=!0,i=s,r=n;break}l=l.sibling}if(!o)throw Error(K(189))}}if(r.alternate!==i)throw Error(K(190))}if(r.tag!==3)throw Error(K(188));return r.stateNode.current===r?t:e}function Vb(t){return t=ZC(t),t!==null?Wb(t):null}function Wb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Wb(t);if(e!==null)return e;t=t.sibling}return null}var Xb=Cr.unstable_scheduleCallback,J1=Cr.unstable_cancelCallback,qC=Cr.unstable_shouldYield,JC=Cr.unstable_requestPaint,gt=Cr.unstable_now,eP=Cr.unstable_getCurrentPriorityLevel,Y0=Cr.unstable_ImmediatePriority,$b=Cr.unstable_UserBlockingPriority,Mc=Cr.unstable_NormalPriority,tP=Cr.unstable_LowPriority,Yb=Cr.unstable_IdlePriority,Ed=null,ji=null;function rP(t){if(ji&&typeof ji.onCommitFiberRoot=="function")try{ji.onCommitFiberRoot(Ed,t,void 0,(t.current.flags&128)===128)}catch{}}var di=Math.clz32?Math.clz32:sP,iP=Math.log,nP=Math.LN2;function sP(t){return t>>>=0,t===0?32:31-(iP(t)/nP|0)|0}var mh=64,gh=4194304;function ml(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Dc(t,e){var r=t.pendingLanes;if(r===0)return 0;var i=0,n=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~n;l!==0?i=ml(l):(s&=o,s!==0&&(i=ml(s)))}else o=r&~n,o!==0?i=ml(o):s!==0&&(i=ml(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&n)&&(n=i&-i,s=e&-e,n>=s||n===16&&(s&4194240)!==0))return e;if(i&4&&(i|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)r=31-di(e),n=1<<r,i|=t[r],e&=~n;return i}function oP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function aP(t,e){for(var r=t.suspendedLanes,i=t.pingedLanes,n=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-di(s),l=1<<o,h=n[o];h===-1?(!(l&r)||l&i)&&(n[o]=oP(l,e)):h<=e&&(t.expiredLanes|=l),s&=~l}}function Jm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Qb(){var t=mh;return mh<<=1,!(mh&4194240)&&(mh=64),t}function Ep(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function fu(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-di(e),t[e]=r}function lP(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<r;){var n=31-di(r),s=1<<n;e[n]=0,i[n]=-1,t[n]=-1,r&=~s}}function Q0(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var i=31-di(r),n=1<<i;n&e|t[i]&e&&(t[i]|=e),r&=~n}}var Ge=0;function Kb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Zb,K0,qb,Jb,eS,eg=!1,yh=[],Zn=null,qn=null,Jn=null,Vl=new Map,Wl=new Map,Hn=[],uP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ex(t,e){switch(t){case"focusin":case"focusout":Zn=null;break;case"dragenter":case"dragleave":qn=null;break;case"mouseover":case"mouseout":Jn=null;break;case"pointerover":case"pointerout":Vl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wl.delete(e.pointerId)}}function tl(t,e,r,i,n,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:i,nativeEvent:s,targetContainers:[n]},e!==null&&(e=mu(e),e!==null&&K0(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,n!==null&&e.indexOf(n)===-1&&e.push(n),t)}function hP(t,e,r,i,n){switch(e){case"focusin":return Zn=tl(Zn,t,e,r,i,n),!0;case"dragenter":return qn=tl(qn,t,e,r,i,n),!0;case"mouseover":return Jn=tl(Jn,t,e,r,i,n),!0;case"pointerover":var s=n.pointerId;return Vl.set(s,tl(Vl.get(s)||null,t,e,r,i,n)),!0;case"gotpointercapture":return s=n.pointerId,Wl.set(s,tl(Wl.get(s)||null,t,e,r,i,n)),!0}return!1}function tS(t){var e=zs(t.target);if(e!==null){var r=io(e);if(r!==null){if(e=r.tag,e===13){if(e=Hb(r),e!==null){t.blockedOn=e,eS(t.priority,function(){qb(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function lc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=tg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var i=new r.constructor(r.type,r);Qm=i,r.target.dispatchEvent(i),Qm=null}else return e=mu(r),e!==null&&K0(e),t.blockedOn=r,!1;e.shift()}return!0}function tx(t,e,r){lc(t)&&r.delete(e)}function cP(){eg=!1,Zn!==null&&lc(Zn)&&(Zn=null),qn!==null&&lc(qn)&&(qn=null),Jn!==null&&lc(Jn)&&(Jn=null),Vl.forEach(tx),Wl.forEach(tx)}function rl(t,e){t.blockedOn===e&&(t.blockedOn=null,eg||(eg=!0,Cr.unstable_scheduleCallback(Cr.unstable_NormalPriority,cP)))}function Xl(t){function e(n){return rl(n,t)}if(0<yh.length){rl(yh[0],t);for(var r=1;r<yh.length;r++){var i=yh[r];i.blockedOn===t&&(i.blockedOn=null)}}for(Zn!==null&&rl(Zn,t),qn!==null&&rl(qn,t),Jn!==null&&rl(Jn,t),Vl.forEach(e),Wl.forEach(e),r=0;r<Hn.length;r++)i=Hn[r],i.blockedOn===t&&(i.blockedOn=null);for(;0<Hn.length&&(r=Hn[0],r.blockedOn===null);)tS(r),r.blockedOn===null&&Hn.shift()}var na=bn.ReactCurrentBatchConfig,Fc=!0;function dP(t,e,r,i){var n=Ge,s=na.transition;na.transition=null;try{Ge=1,Z0(t,e,r,i)}finally{Ge=n,na.transition=s}}function fP(t,e,r,i){var n=Ge,s=na.transition;na.transition=null;try{Ge=4,Z0(t,e,r,i)}finally{Ge=n,na.transition=s}}function Z0(t,e,r,i){if(Fc){var n=tg(t,e,r,i);if(n===null)Fp(t,e,i,Oc,r),ex(t,i);else if(hP(n,t,e,r,i))i.stopPropagation();else if(ex(t,i),e&4&&-1<uP.indexOf(t)){for(;n!==null;){var s=mu(n);if(s!==null&&Zb(s),s=tg(t,e,r,i),s===null&&Fp(t,e,i,Oc,r),s===n)break;n=s}n!==null&&i.stopPropagation()}else Fp(t,e,i,null,r)}}var Oc=null;function tg(t,e,r,i){if(Oc=null,t=$0(i),t=zs(t),t!==null)if(e=io(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Hb(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Oc=t,null}function rS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(eP()){case Y0:return 1;case $b:return 4;case Mc:case tP:return 16;case Yb:return 536870912;default:return 16}default:return 16}}var Xn=null,q0=null,uc=null;function iS(){if(uc)return uc;var t,e=q0,r=e.length,i,n="value"in Xn?Xn.value:Xn.textContent,s=n.length;for(t=0;t<r&&e[t]===n[t];t++);var o=r-t;for(i=1;i<=o&&e[r-i]===n[s-i];i++);return uc=n.slice(t,1<i?1-i:void 0)}function hc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vh(){return!0}function rx(){return!1}function Ir(t){function e(r,i,n,s,o){this._reactName=r,this._targetInst=n,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?vh:rx,this.isPropagationStopped=rx,this}return at(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=vh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=vh)},persist:function(){},isPersistent:vh}),e}var Ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},J0=Ir(Ca),pu=at({},Ca,{view:0,detail:0}),pP=Ir(pu),Tp,Ap,il,Td=at({},pu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ey,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==il&&(il&&t.type==="mousemove"?(Tp=t.screenX-il.screenX,Ap=t.screenY-il.screenY):Ap=Tp=0,il=t),Tp)},movementY:function(t){return"movementY"in t?t.movementY:Ap}}),ix=Ir(Td),mP=at({},Td,{dataTransfer:0}),gP=Ir(mP),yP=at({},pu,{relatedTarget:0}),Cp=Ir(yP),vP=at({},Ca,{animationName:0,elapsedTime:0,pseudoElement:0}),xP=Ir(vP),_P=at({},Ca,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wP=Ir(_P),bP=at({},Ca,{data:0}),nx=Ir(bP),SP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function AP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=TP[t])?!!e[t]:!1}function ey(){return AP}var CP=at({},pu,{key:function(t){if(t.key){var e=SP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=hc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?EP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ey,charCode:function(t){return t.type==="keypress"?hc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),PP=Ir(CP),IP=at({},Td,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),sx=Ir(IP),RP=at({},pu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ey}),kP=Ir(RP),MP=at({},Ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),DP=Ir(MP),FP=at({},Td,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),OP=Ir(FP),NP=[9,13,27,32],ty=mn&&"CompositionEvent"in window,Pl=null;mn&&"documentMode"in document&&(Pl=document.documentMode);var BP=mn&&"TextEvent"in window&&!Pl,nS=mn&&(!ty||Pl&&8<Pl&&11>=Pl),ox=" ",ax=!1;function sS(t,e){switch(t){case"keyup":return NP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var jo=!1;function LP(t,e){switch(t){case"compositionend":return oS(e);case"keypress":return e.which!==32?null:(ax=!0,ox);case"textInput":return t=e.data,t===ox&&ax?null:t;default:return null}}function UP(t,e){if(jo)return t==="compositionend"||!ty&&sS(t,e)?(t=iS(),uc=q0=Xn=null,jo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return nS&&e.locale!=="ko"?null:e.data;default:return null}}var zP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!zP[t.type]:e==="textarea"}function aS(t,e,r,i){Lb(i),e=Nc(e,"onChange"),0<e.length&&(r=new J0("onChange","change",null,r,i),t.push({event:r,listeners:e}))}var Il=null,$l=null;function GP(t){vS(t,0)}function Ad(t){var e=Wo(t);if(kb(e))return t}function jP(t,e){if(t==="change")return e}var lS=!1;if(mn){var Pp;if(mn){var Ip="oninput"in document;if(!Ip){var ux=document.createElement("div");ux.setAttribute("oninput","return;"),Ip=typeof ux.oninput=="function"}Pp=Ip}else Pp=!1;lS=Pp&&(!document.documentMode||9<document.documentMode)}function hx(){Il&&(Il.detachEvent("onpropertychange",uS),$l=Il=null)}function uS(t){if(t.propertyName==="value"&&Ad($l)){var e=[];aS(e,$l,t,$0(t)),jb(GP,e)}}function HP(t,e,r){t==="focusin"?(hx(),Il=e,$l=r,Il.attachEvent("onpropertychange",uS)):t==="focusout"&&hx()}function VP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ad($l)}function WP(t,e){if(t==="click")return Ad(e)}function XP(t,e){if(t==="input"||t==="change")return Ad(e)}function $P(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gi=typeof Object.is=="function"?Object.is:$P;function Yl(t,e){if(gi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;for(i=0;i<r.length;i++){var n=r[i];if(!Bm.call(e,n)||!gi(t[n],e[n]))return!1}return!0}function cx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dx(t,e){var r=cx(t);t=0;for(var i;r;){if(r.nodeType===3){if(i=t+r.textContent.length,t<=e&&i>=e)return{node:r,offset:e-t};t=i}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cx(r)}}function hS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?hS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function cS(){for(var t=window,e=Ic();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Ic(t.document)}return e}function ry(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function YP(t){var e=cS(),r=t.focusedElem,i=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&hS(r.ownerDocument.documentElement,r)){if(i!==null&&ry(r)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var n=r.textContent.length,s=Math.min(i.start,n);i=i.end===void 0?s:Math.min(i.end,n),!t.extend&&s>i&&(n=i,i=s,s=n),n=dx(r,s);var o=dx(r,i);n&&o&&(t.rangeCount!==1||t.anchorNode!==n.node||t.anchorOffset!==n.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(n.node,n.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var QP=mn&&"documentMode"in document&&11>=document.documentMode,Ho=null,rg=null,Rl=null,ig=!1;function fx(t,e,r){var i=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ig||Ho==null||Ho!==Ic(i)||(i=Ho,"selectionStart"in i&&ry(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Rl&&Yl(Rl,i)||(Rl=i,i=Nc(rg,"onSelect"),0<i.length&&(e=new J0("onSelect","select",null,e,r),t.push({event:e,listeners:i}),e.target=Ho)))}function xh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Vo={animationend:xh("Animation","AnimationEnd"),animationiteration:xh("Animation","AnimationIteration"),animationstart:xh("Animation","AnimationStart"),transitionend:xh("Transition","TransitionEnd")},Rp={},dS={};mn&&(dS=document.createElement("div").style,"AnimationEvent"in window||(delete Vo.animationend.animation,delete Vo.animationiteration.animation,delete Vo.animationstart.animation),"TransitionEvent"in window||delete Vo.transitionend.transition);function Cd(t){if(Rp[t])return Rp[t];if(!Vo[t])return t;var e=Vo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in dS)return Rp[t]=e[r];return t}var fS=Cd("animationend"),pS=Cd("animationiteration"),mS=Cd("animationstart"),gS=Cd("transitionend"),yS=new Map,px="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function cs(t,e){yS.set(t,e),ro(e,[t])}for(var kp=0;kp<px.length;kp++){var Mp=px[kp],KP=Mp.toLowerCase(),ZP=Mp[0].toUpperCase()+Mp.slice(1);cs(KP,"on"+ZP)}cs(fS,"onAnimationEnd");cs(pS,"onAnimationIteration");cs(mS,"onAnimationStart");cs("dblclick","onDoubleClick");cs("focusin","onFocus");cs("focusout","onBlur");cs(gS,"onTransitionEnd");ma("onMouseEnter",["mouseout","mouseover"]);ma("onMouseLeave",["mouseout","mouseover"]);ma("onPointerEnter",["pointerout","pointerover"]);ma("onPointerLeave",["pointerout","pointerover"]);ro("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ro("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ro("onBeforeInput",["compositionend","keypress","textInput","paste"]);ro("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ro("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ro("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qP=new Set("cancel close invalid load scroll toggle".split(" ").concat(gl));function mx(t,e,r){var i=t.type||"unknown-event";t.currentTarget=r,KC(i,e,void 0,t),t.currentTarget=null}function vS(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var i=t[r],n=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var l=i[o],h=l.instance,c=l.currentTarget;if(l=l.listener,h!==s&&n.isPropagationStopped())break e;mx(n,l,c),s=h}else for(o=0;o<i.length;o++){if(l=i[o],h=l.instance,c=l.currentTarget,l=l.listener,h!==s&&n.isPropagationStopped())break e;mx(n,l,c),s=h}}}if(kc)throw t=qm,kc=!1,qm=null,t}function Xe(t,e){var r=e[lg];r===void 0&&(r=e[lg]=new Set);var i=t+"__bubble";r.has(i)||(xS(e,t,2,!1),r.add(i))}function Dp(t,e,r){var i=0;e&&(i|=4),xS(r,t,i,e)}var _h="_reactListening"+Math.random().toString(36).slice(2);function Ql(t){if(!t[_h]){t[_h]=!0,Ab.forEach(function(r){r!=="selectionchange"&&(qP.has(r)||Dp(r,!1,t),Dp(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_h]||(e[_h]=!0,Dp("selectionchange",!1,e))}}function xS(t,e,r,i){switch(rS(e)){case 1:var n=dP;break;case 4:n=fP;break;default:n=Z0}r=n.bind(null,e,r,t),n=void 0,!Zm||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(n=!0),i?n!==void 0?t.addEventListener(e,r,{capture:!0,passive:n}):t.addEventListener(e,r,!0):n!==void 0?t.addEventListener(e,r,{passive:n}):t.addEventListener(e,r,!1)}function Fp(t,e,r,i,n){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var l=i.stateNode.containerInfo;if(l===n||l.nodeType===8&&l.parentNode===n)break;if(o===4)for(o=i.return;o!==null;){var h=o.tag;if((h===3||h===4)&&(h=o.stateNode.containerInfo,h===n||h.nodeType===8&&h.parentNode===n))return;o=o.return}for(;l!==null;){if(o=zs(l),o===null)return;if(h=o.tag,h===5||h===6){i=s=o;continue e}l=l.parentNode}}i=i.return}jb(function(){var c=s,f=$0(r),m=[];e:{var p=yS.get(t);if(p!==void 0){var v=J0,x=t;switch(t){case"keypress":if(hc(r)===0)break e;case"keydown":case"keyup":v=PP;break;case"focusin":x="focus",v=Cp;break;case"focusout":x="blur",v=Cp;break;case"beforeblur":case"afterblur":v=Cp;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=ix;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=gP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=kP;break;case fS:case pS:case mS:v=xP;break;case gS:v=DP;break;case"scroll":v=pP;break;case"wheel":v=OP;break;case"copy":case"cut":case"paste":v=wP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=sx}var b=(e&4)!==0,A=!b&&t==="scroll",S=b?p!==null?p+"Capture":null:p;b=[];for(var E=c,w;E!==null;){w=E;var T=w.stateNode;if(w.tag===5&&T!==null&&(w=T,S!==null&&(T=Hl(E,S),T!=null&&b.push(Kl(E,T,w)))),A)break;E=E.return}0<b.length&&(p=new v(p,x,null,r,f),m.push({event:p,listeners:b}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&r!==Qm&&(x=r.relatedTarget||r.fromElement)&&(zs(x)||x[gn]))break e;if((v||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,v?(x=r.relatedTarget||r.toElement,v=c,x=x?zs(x):null,x!==null&&(A=io(x),x!==A||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=c),v!==x)){if(b=ix,T="onMouseLeave",S="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(b=sx,T="onPointerLeave",S="onPointerEnter",E="pointer"),A=v==null?p:Wo(v),w=x==null?p:Wo(x),p=new b(T,E+"leave",v,r,f),p.target=A,p.relatedTarget=w,T=null,zs(f)===c&&(b=new b(S,E+"enter",x,r,f),b.target=w,b.relatedTarget=A,T=b),A=T,v&&x)t:{for(b=v,S=x,E=0,w=b;w;w=Eo(w))E++;for(w=0,T=S;T;T=Eo(T))w++;for(;0<E-w;)b=Eo(b),E--;for(;0<w-E;)S=Eo(S),w--;for(;E--;){if(b===S||S!==null&&b===S.alternate)break t;b=Eo(b),S=Eo(S)}b=null}else b=null;v!==null&&gx(m,p,v,b,!1),x!==null&&A!==null&&gx(m,A,x,b,!0)}}e:{if(p=c?Wo(c):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var R=jP;else if(lx(p))if(lS)R=XP;else{R=VP;var N=HP}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(R=WP);if(R&&(R=R(t,c))){aS(m,R,r,f);break e}N&&N(t,p,c),t==="focusout"&&(N=p._wrapperState)&&N.controlled&&p.type==="number"&&Vm(p,"number",p.value)}switch(N=c?Wo(c):window,t){case"focusin":(lx(N)||N.contentEditable==="true")&&(Ho=N,rg=c,Rl=null);break;case"focusout":Rl=rg=Ho=null;break;case"mousedown":ig=!0;break;case"contextmenu":case"mouseup":case"dragend":ig=!1,fx(m,r,f);break;case"selectionchange":if(QP)break;case"keydown":case"keyup":fx(m,r,f)}var D;if(ty)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else jo?sS(t,r)&&(M="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(M="onCompositionStart");M&&(nS&&r.locale!=="ko"&&(jo||M!=="onCompositionStart"?M==="onCompositionEnd"&&jo&&(D=iS()):(Xn=f,q0="value"in Xn?Xn.value:Xn.textContent,jo=!0)),N=Nc(c,M),0<N.length&&(M=new nx(M,t,null,r,f),m.push({event:M,listeners:N}),D?M.data=D:(D=oS(r),D!==null&&(M.data=D)))),(D=BP?LP(t,r):UP(t,r))&&(c=Nc(c,"onBeforeInput"),0<c.length&&(f=new nx("onBeforeInput","beforeinput",null,r,f),m.push({event:f,listeners:c}),f.data=D))}vS(m,e)})}function Kl(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Nc(t,e){for(var r=e+"Capture",i=[];t!==null;){var n=t,s=n.stateNode;n.tag===5&&s!==null&&(n=s,s=Hl(t,r),s!=null&&i.unshift(Kl(t,s,n)),s=Hl(t,e),s!=null&&i.push(Kl(t,s,n))),t=t.return}return i}function Eo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function gx(t,e,r,i,n){for(var s=e._reactName,o=[];r!==null&&r!==i;){var l=r,h=l.alternate,c=l.stateNode;if(h!==null&&h===i)break;l.tag===5&&c!==null&&(l=c,n?(h=Hl(r,s),h!=null&&o.unshift(Kl(r,h,l))):n||(h=Hl(r,s),h!=null&&o.push(Kl(r,h,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var JP=/\r\n?/g,eI=/\u0000|\uFFFD/g;function yx(t){return(typeof t=="string"?t:""+t).replace(JP,`
`).replace(eI,"")}function wh(t,e,r){if(e=yx(e),yx(t)!==e&&r)throw Error(K(425))}function Bc(){}var ng=null,sg=null;function og(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ag=typeof setTimeout=="function"?setTimeout:void 0,tI=typeof clearTimeout=="function"?clearTimeout:void 0,vx=typeof Promise=="function"?Promise:void 0,rI=typeof queueMicrotask=="function"?queueMicrotask:typeof vx<"u"?function(t){return vx.resolve(null).then(t).catch(iI)}:ag;function iI(t){setTimeout(function(){throw t})}function Op(t,e){var r=e,i=0;do{var n=r.nextSibling;if(t.removeChild(r),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(i===0){t.removeChild(n),Xl(e);return}i--}else r!=="$"&&r!=="$?"&&r!=="$!"||i++;r=n}while(r);Xl(e)}function es(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function xx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Pa=Math.random().toString(36).slice(2),Ui="__reactFiber$"+Pa,Zl="__reactProps$"+Pa,gn="__reactContainer$"+Pa,lg="__reactEvents$"+Pa,nI="__reactListeners$"+Pa,sI="__reactHandles$"+Pa;function zs(t){var e=t[Ui];if(e)return e;for(var r=t.parentNode;r;){if(e=r[gn]||r[Ui]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=xx(t);t!==null;){if(r=t[Ui])return r;t=xx(t)}return e}t=r,r=t.parentNode}return null}function mu(t){return t=t[Ui]||t[gn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Wo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(K(33))}function Pd(t){return t[Zl]||null}var ug=[],Xo=-1;function ds(t){return{current:t}}function Qe(t){0>Xo||(t.current=ug[Xo],ug[Xo]=null,Xo--)}function Ve(t,e){Xo++,ug[Xo]=t.current,t.current=e}var as={},qt=ds(as),pr=ds(!1),Qs=as;function ga(t,e){var r=t.type.contextTypes;if(!r)return as;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var n={},s;for(s in r)n[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=n),n}function mr(t){return t=t.childContextTypes,t!=null}function Lc(){Qe(pr),Qe(qt)}function _x(t,e,r){if(qt.current!==as)throw Error(K(168));Ve(qt,e),Ve(pr,r)}function _S(t,e,r){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return r;i=i.getChildContext();for(var n in i)if(!(n in e))throw Error(K(108,HC(t)||"Unknown",n));return at({},r,i)}function Uc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||as,Qs=qt.current,Ve(qt,t),Ve(pr,pr.current),!0}function wx(t,e,r){var i=t.stateNode;if(!i)throw Error(K(169));r?(t=_S(t,e,Qs),i.__reactInternalMemoizedMergedChildContext=t,Qe(pr),Qe(qt),Ve(qt,t)):Qe(pr),Ve(pr,r)}var on=null,Id=!1,Np=!1;function wS(t){on===null?on=[t]:on.push(t)}function oI(t){Id=!0,wS(t)}function fs(){if(!Np&&on!==null){Np=!0;var t=0,e=Ge;try{var r=on;for(Ge=1;t<r.length;t++){var i=r[t];do i=i(!0);while(i!==null)}on=null,Id=!1}catch(n){throw on!==null&&(on=on.slice(t+1)),Xb(Y0,fs),n}finally{Ge=e,Np=!1}}return null}var $o=[],Yo=0,zc=null,Gc=0,Gr=[],jr=0,Ks=null,ln=1,un="";function Rs(t,e){$o[Yo++]=Gc,$o[Yo++]=zc,zc=t,Gc=e}function bS(t,e,r){Gr[jr++]=ln,Gr[jr++]=un,Gr[jr++]=Ks,Ks=t;var i=ln;t=un;var n=32-di(i)-1;i&=~(1<<n),r+=1;var s=32-di(e)+n;if(30<s){var o=n-n%5;s=(i&(1<<o)-1).toString(32),i>>=o,n-=o,ln=1<<32-di(e)+n|r<<n|i,un=s+t}else ln=1<<s|r<<n|i,un=t}function iy(t){t.return!==null&&(Rs(t,1),bS(t,1,0))}function ny(t){for(;t===zc;)zc=$o[--Yo],$o[Yo]=null,Gc=$o[--Yo],$o[Yo]=null;for(;t===Ks;)Ks=Gr[--jr],Gr[jr]=null,un=Gr[--jr],Gr[jr]=null,ln=Gr[--jr],Gr[jr]=null}var Tr=null,Er=null,et=!1,ai=null;function SS(t,e){var r=Hr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function bx(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Tr=t,Er=es(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Tr=t,Er=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ks!==null?{id:ln,overflow:un}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Hr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Tr=t,Er=null,!0):!1;default:return!1}}function hg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cg(t){if(et){var e=Er;if(e){var r=e;if(!bx(t,e)){if(hg(t))throw Error(K(418));e=es(r.nextSibling);var i=Tr;e&&bx(t,e)?SS(i,r):(t.flags=t.flags&-4097|2,et=!1,Tr=t)}}else{if(hg(t))throw Error(K(418));t.flags=t.flags&-4097|2,et=!1,Tr=t}}}function Sx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Tr=t}function bh(t){if(t!==Tr)return!1;if(!et)return Sx(t),et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!og(t.type,t.memoizedProps)),e&&(e=Er)){if(hg(t))throw ES(),Error(K(418));for(;e;)SS(t,e),e=es(e.nextSibling)}if(Sx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(K(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Er=es(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Er=null}}else Er=Tr?es(t.stateNode.nextSibling):null;return!0}function ES(){for(var t=Er;t;)t=es(t.nextSibling)}function ya(){Er=Tr=null,et=!1}function sy(t){ai===null?ai=[t]:ai.push(t)}var aI=bn.ReactCurrentBatchConfig;function nl(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(K(309));var i=r.stateNode}if(!i)throw Error(K(147,t));var n=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=n.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(K(284));if(!r._owner)throw Error(K(290,t))}return t}function Sh(t,e){throw t=Object.prototype.toString.call(e),Error(K(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ex(t){var e=t._init;return e(t._payload)}function TS(t){function e(S,E){if(t){var w=S.deletions;w===null?(S.deletions=[E],S.flags|=16):w.push(E)}}function r(S,E){if(!t)return null;for(;E!==null;)e(S,E),E=E.sibling;return null}function i(S,E){for(S=new Map;E!==null;)E.key!==null?S.set(E.key,E):S.set(E.index,E),E=E.sibling;return S}function n(S,E){return S=ns(S,E),S.index=0,S.sibling=null,S}function s(S,E,w){return S.index=w,t?(w=S.alternate,w!==null?(w=w.index,w<E?(S.flags|=2,E):w):(S.flags|=2,E)):(S.flags|=1048576,E)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function l(S,E,w,T){return E===null||E.tag!==6?(E=Hp(w,S.mode,T),E.return=S,E):(E=n(E,w),E.return=S,E)}function h(S,E,w,T){var R=w.type;return R===Go?f(S,E,w.props.children,T,w.key):E!==null&&(E.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Un&&Ex(R)===E.type)?(T=n(E,w.props),T.ref=nl(S,E,w),T.return=S,T):(T=yc(w.type,w.key,w.props,null,S.mode,T),T.ref=nl(S,E,w),T.return=S,T)}function c(S,E,w,T){return E===null||E.tag!==4||E.stateNode.containerInfo!==w.containerInfo||E.stateNode.implementation!==w.implementation?(E=Vp(w,S.mode,T),E.return=S,E):(E=n(E,w.children||[]),E.return=S,E)}function f(S,E,w,T,R){return E===null||E.tag!==7?(E=Vs(w,S.mode,T,R),E.return=S,E):(E=n(E,w),E.return=S,E)}function m(S,E,w){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Hp(""+E,S.mode,w),E.return=S,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case dh:return w=yc(E.type,E.key,E.props,null,S.mode,w),w.ref=nl(S,null,E),w.return=S,w;case zo:return E=Vp(E,S.mode,w),E.return=S,E;case Un:var T=E._init;return m(S,T(E._payload),w)}if(pl(E)||Ja(E))return E=Vs(E,S.mode,w,null),E.return=S,E;Sh(S,E)}return null}function p(S,E,w,T){var R=E!==null?E.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return R!==null?null:l(S,E,""+w,T);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case dh:return w.key===R?h(S,E,w,T):null;case zo:return w.key===R?c(S,E,w,T):null;case Un:return R=w._init,p(S,E,R(w._payload),T)}if(pl(w)||Ja(w))return R!==null?null:f(S,E,w,T,null);Sh(S,w)}return null}function v(S,E,w,T,R){if(typeof T=="string"&&T!==""||typeof T=="number")return S=S.get(w)||null,l(E,S,""+T,R);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case dh:return S=S.get(T.key===null?w:T.key)||null,h(E,S,T,R);case zo:return S=S.get(T.key===null?w:T.key)||null,c(E,S,T,R);case Un:var N=T._init;return v(S,E,w,N(T._payload),R)}if(pl(T)||Ja(T))return S=S.get(w)||null,f(E,S,T,R,null);Sh(E,T)}return null}function x(S,E,w,T){for(var R=null,N=null,D=E,M=E=0,V=null;D!==null&&M<w.length;M++){D.index>M?(V=D,D=null):V=D.sibling;var W=p(S,D,w[M],T);if(W===null){D===null&&(D=V);break}t&&D&&W.alternate===null&&e(S,D),E=s(W,E,M),N===null?R=W:N.sibling=W,N=W,D=V}if(M===w.length)return r(S,D),et&&Rs(S,M),R;if(D===null){for(;M<w.length;M++)D=m(S,w[M],T),D!==null&&(E=s(D,E,M),N===null?R=D:N.sibling=D,N=D);return et&&Rs(S,M),R}for(D=i(S,D);M<w.length;M++)V=v(D,S,M,w[M],T),V!==null&&(t&&V.alternate!==null&&D.delete(V.key===null?M:V.key),E=s(V,E,M),N===null?R=V:N.sibling=V,N=V);return t&&D.forEach(function(te){return e(S,te)}),et&&Rs(S,M),R}function b(S,E,w,T){var R=Ja(w);if(typeof R!="function")throw Error(K(150));if(w=R.call(w),w==null)throw Error(K(151));for(var N=R=null,D=E,M=E=0,V=null,W=w.next();D!==null&&!W.done;M++,W=w.next()){D.index>M?(V=D,D=null):V=D.sibling;var te=p(S,D,W.value,T);if(te===null){D===null&&(D=V);break}t&&D&&te.alternate===null&&e(S,D),E=s(te,E,M),N===null?R=te:N.sibling=te,N=te,D=V}if(W.done)return r(S,D),et&&Rs(S,M),R;if(D===null){for(;!W.done;M++,W=w.next())W=m(S,W.value,T),W!==null&&(E=s(W,E,M),N===null?R=W:N.sibling=W,N=W);return et&&Rs(S,M),R}for(D=i(S,D);!W.done;M++,W=w.next())W=v(D,S,M,W.value,T),W!==null&&(t&&W.alternate!==null&&D.delete(W.key===null?M:W.key),E=s(W,E,M),N===null?R=W:N.sibling=W,N=W);return t&&D.forEach(function(Z){return e(S,Z)}),et&&Rs(S,M),R}function A(S,E,w,T){if(typeof w=="object"&&w!==null&&w.type===Go&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case dh:e:{for(var R=w.key,N=E;N!==null;){if(N.key===R){if(R=w.type,R===Go){if(N.tag===7){r(S,N.sibling),E=n(N,w.props.children),E.return=S,S=E;break e}}else if(N.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Un&&Ex(R)===N.type){r(S,N.sibling),E=n(N,w.props),E.ref=nl(S,N,w),E.return=S,S=E;break e}r(S,N);break}else e(S,N);N=N.sibling}w.type===Go?(E=Vs(w.props.children,S.mode,T,w.key),E.return=S,S=E):(T=yc(w.type,w.key,w.props,null,S.mode,T),T.ref=nl(S,E,w),T.return=S,S=T)}return o(S);case zo:e:{for(N=w.key;E!==null;){if(E.key===N)if(E.tag===4&&E.stateNode.containerInfo===w.containerInfo&&E.stateNode.implementation===w.implementation){r(S,E.sibling),E=n(E,w.children||[]),E.return=S,S=E;break e}else{r(S,E);break}else e(S,E);E=E.sibling}E=Vp(w,S.mode,T),E.return=S,S=E}return o(S);case Un:return N=w._init,A(S,E,N(w._payload),T)}if(pl(w))return x(S,E,w,T);if(Ja(w))return b(S,E,w,T);Sh(S,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,E!==null&&E.tag===6?(r(S,E.sibling),E=n(E,w),E.return=S,S=E):(r(S,E),E=Hp(w,S.mode,T),E.return=S,S=E),o(S)):r(S,E)}return A}var va=TS(!0),AS=TS(!1),jc=ds(null),Hc=null,Qo=null,oy=null;function ay(){oy=Qo=Hc=null}function ly(t){var e=jc.current;Qe(jc),t._currentValue=e}function dg(t,e,r){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===r)break;t=t.return}}function sa(t,e){Hc=t,oy=Qo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dr=!0),t.firstContext=null)}function $r(t){var e=t._currentValue;if(oy!==t)if(t={context:t,memoizedValue:e,next:null},Qo===null){if(Hc===null)throw Error(K(308));Qo=t,Hc.dependencies={lanes:0,firstContext:t}}else Qo=Qo.next=t;return e}var Gs=null;function uy(t){Gs===null?Gs=[t]:Gs.push(t)}function CS(t,e,r,i){var n=e.interleaved;return n===null?(r.next=r,uy(e)):(r.next=n.next,n.next=r),e.interleaved=r,yn(t,i)}function yn(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var zn=!1;function hy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function PS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ts(t,e,r){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,De&2){var n=i.pending;return n===null?e.next=e:(e.next=n.next,n.next=e),i.pending=e,yn(t,r)}return n=i.interleaved,n===null?(e.next=e,uy(i)):(e.next=n.next,n.next=e),i.interleaved=e,yn(t,r)}function cc(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,r|=i,e.lanes=r,Q0(t,r)}}function Tx(t,e){var r=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,r===i)){var n=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?n=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?n=s=e:s=s.next=e}else n=s=e;r={baseState:i.baseState,firstBaseUpdate:n,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Vc(t,e,r,i){var n=t.updateQueue;zn=!1;var s=n.firstBaseUpdate,o=n.lastBaseUpdate,l=n.shared.pending;if(l!==null){n.shared.pending=null;var h=l,c=h.next;h.next=null,o===null?s=c:o.next=c,o=h;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=h))}if(s!==null){var m=n.baseState;o=0,f=c=h=null,l=s;do{var p=l.lane,v=l.eventTime;if((i&p)===p){f!==null&&(f=f.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=t,b=l;switch(p=e,v=r,b.tag){case 1:if(x=b.payload,typeof x=="function"){m=x.call(v,m,p);break e}m=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=b.payload,p=typeof x=="function"?x.call(v,m,p):x,p==null)break e;m=at({},m,p);break e;case 2:zn=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=n.effects,p===null?n.effects=[l]:p.push(l))}else v={eventTime:v,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=v,h=m):f=f.next=v,o|=p;if(l=l.next,l===null){if(l=n.shared.pending,l===null)break;p=l,l=p.next,p.next=null,n.lastBaseUpdate=p,n.shared.pending=null}}while(!0);if(f===null&&(h=m),n.baseState=h,n.firstBaseUpdate=c,n.lastBaseUpdate=f,e=n.shared.interleaved,e!==null){n=e;do o|=n.lane,n=n.next;while(n!==e)}else s===null&&(n.shared.lanes=0);qs|=o,t.lanes=o,t.memoizedState=m}}function Ax(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],n=i.callback;if(n!==null){if(i.callback=null,i=r,typeof n!="function")throw Error(K(191,n));n.call(i)}}}var gu={},Hi=ds(gu),ql=ds(gu),Jl=ds(gu);function js(t){if(t===gu)throw Error(K(174));return t}function cy(t,e){switch(Ve(Jl,e),Ve(ql,t),Ve(Hi,gu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xm(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xm(e,t)}Qe(Hi),Ve(Hi,e)}function xa(){Qe(Hi),Qe(ql),Qe(Jl)}function IS(t){js(Jl.current);var e=js(Hi.current),r=Xm(e,t.type);e!==r&&(Ve(ql,t),Ve(Hi,r))}function dy(t){ql.current===t&&(Qe(Hi),Qe(ql))}var nt=ds(0);function Wc(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Bp=[];function fy(){for(var t=0;t<Bp.length;t++)Bp[t]._workInProgressVersionPrimary=null;Bp.length=0}var dc=bn.ReactCurrentDispatcher,Lp=bn.ReactCurrentBatchConfig,Zs=0,ot=null,St=null,kt=null,Xc=!1,kl=!1,eu=0,lI=0;function Yt(){throw Error(K(321))}function py(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!gi(t[r],e[r]))return!1;return!0}function my(t,e,r,i,n,s){if(Zs=s,ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,dc.current=t===null||t.memoizedState===null?dI:fI,t=r(i,n),kl){s=0;do{if(kl=!1,eu=0,25<=s)throw Error(K(301));s+=1,kt=St=null,e.updateQueue=null,dc.current=pI,t=r(i,n)}while(kl)}if(dc.current=$c,e=St!==null&&St.next!==null,Zs=0,kt=St=ot=null,Xc=!1,e)throw Error(K(300));return t}function gy(){var t=eu!==0;return eu=0,t}function Oi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?ot.memoizedState=kt=t:kt=kt.next=t,kt}function Yr(){if(St===null){var t=ot.alternate;t=t!==null?t.memoizedState:null}else t=St.next;var e=kt===null?ot.memoizedState:kt.next;if(e!==null)kt=e,St=t;else{if(t===null)throw Error(K(310));St=t,t={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},kt===null?ot.memoizedState=kt=t:kt=kt.next=t}return kt}function tu(t,e){return typeof e=="function"?e(t):e}function Up(t){var e=Yr(),r=e.queue;if(r===null)throw Error(K(311));r.lastRenderedReducer=t;var i=St,n=i.baseQueue,s=r.pending;if(s!==null){if(n!==null){var o=n.next;n.next=s.next,s.next=o}i.baseQueue=n=s,r.pending=null}if(n!==null){s=n.next,i=i.baseState;var l=o=null,h=null,c=s;do{var f=c.lane;if((Zs&f)===f)h!==null&&(h=h.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),i=c.hasEagerState?c.eagerState:t(i,c.action);else{var m={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};h===null?(l=h=m,o=i):h=h.next=m,ot.lanes|=f,qs|=f}c=c.next}while(c!==null&&c!==s);h===null?o=i:h.next=l,gi(i,e.memoizedState)||(dr=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=h,r.lastRenderedState=i}if(t=r.interleaved,t!==null){n=t;do s=n.lane,ot.lanes|=s,qs|=s,n=n.next;while(n!==t)}else n===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function zp(t){var e=Yr(),r=e.queue;if(r===null)throw Error(K(311));r.lastRenderedReducer=t;var i=r.dispatch,n=r.pending,s=e.memoizedState;if(n!==null){r.pending=null;var o=n=n.next;do s=t(s,o.action),o=o.next;while(o!==n);gi(s,e.memoizedState)||(dr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,i]}function RS(){}function kS(t,e){var r=ot,i=Yr(),n=e(),s=!gi(i.memoizedState,n);if(s&&(i.memoizedState=n,dr=!0),i=i.queue,yy(FS.bind(null,r,i,t),[t]),i.getSnapshot!==e||s||kt!==null&&kt.memoizedState.tag&1){if(r.flags|=2048,ru(9,DS.bind(null,r,i,n,e),void 0,null),Ft===null)throw Error(K(349));Zs&30||MS(r,e,n)}return n}function MS(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function DS(t,e,r,i){e.value=r,e.getSnapshot=i,OS(e)&&NS(t)}function FS(t,e,r){return r(function(){OS(e)&&NS(t)})}function OS(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!gi(t,r)}catch{return!0}}function NS(t){var e=yn(t,1);e!==null&&fi(e,t,1,-1)}function Cx(t){var e=Oi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tu,lastRenderedState:t},e.queue=t,t=t.dispatch=cI.bind(null,ot,t),[e.memoizedState,t]}function ru(t,e,r,i){return t={tag:t,create:e,destroy:r,deps:i,next:null},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(i=r.next,r.next=t,t.next=i,e.lastEffect=t)),t}function BS(){return Yr().memoizedState}function fc(t,e,r,i){var n=Oi();ot.flags|=t,n.memoizedState=ru(1|e,r,void 0,i===void 0?null:i)}function Rd(t,e,r,i){var n=Yr();i=i===void 0?null:i;var s=void 0;if(St!==null){var o=St.memoizedState;if(s=o.destroy,i!==null&&py(i,o.deps)){n.memoizedState=ru(e,r,s,i);return}}ot.flags|=t,n.memoizedState=ru(1|e,r,s,i)}function Px(t,e){return fc(8390656,8,t,e)}function yy(t,e){return Rd(2048,8,t,e)}function LS(t,e){return Rd(4,2,t,e)}function US(t,e){return Rd(4,4,t,e)}function zS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function GS(t,e,r){return r=r!=null?r.concat([t]):null,Rd(4,4,zS.bind(null,e,t),r)}function vy(){}function jS(t,e){var r=Yr();e=e===void 0?null:e;var i=r.memoizedState;return i!==null&&e!==null&&py(e,i[1])?i[0]:(r.memoizedState=[t,e],t)}function HS(t,e){var r=Yr();e=e===void 0?null:e;var i=r.memoizedState;return i!==null&&e!==null&&py(e,i[1])?i[0]:(t=t(),r.memoizedState=[t,e],t)}function VS(t,e,r){return Zs&21?(gi(r,e)||(r=Qb(),ot.lanes|=r,qs|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dr=!0),t.memoizedState=r)}function uI(t,e){var r=Ge;Ge=r!==0&&4>r?r:4,t(!0);var i=Lp.transition;Lp.transition={};try{t(!1),e()}finally{Ge=r,Lp.transition=i}}function WS(){return Yr().memoizedState}function hI(t,e,r){var i=is(t);if(r={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null},XS(t))$S(e,r);else if(r=CS(t,e,r,i),r!==null){var n=ir();fi(r,t,i,n),YS(r,e,i)}}function cI(t,e,r){var i=is(t),n={lane:i,action:r,hasEagerState:!1,eagerState:null,next:null};if(XS(t))$S(e,n);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,r);if(n.hasEagerState=!0,n.eagerState=l,gi(l,o)){var h=e.interleaved;h===null?(n.next=n,uy(e)):(n.next=h.next,h.next=n),e.interleaved=n;return}}catch{}finally{}r=CS(t,e,n,i),r!==null&&(n=ir(),fi(r,t,i,n),YS(r,e,i))}}function XS(t){var e=t.alternate;return t===ot||e!==null&&e===ot}function $S(t,e){kl=Xc=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function YS(t,e,r){if(r&4194240){var i=e.lanes;i&=t.pendingLanes,r|=i,e.lanes=r,Q0(t,r)}}var $c={readContext:$r,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},dI={readContext:$r,useCallback:function(t,e){return Oi().memoizedState=[t,e===void 0?null:e],t},useContext:$r,useEffect:Px,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,fc(4194308,4,zS.bind(null,e,t),r)},useLayoutEffect:function(t,e){return fc(4194308,4,t,e)},useInsertionEffect:function(t,e){return fc(4,2,t,e)},useMemo:function(t,e){var r=Oi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var i=Oi();return e=r!==void 0?r(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=hI.bind(null,ot,t),[i.memoizedState,t]},useRef:function(t){var e=Oi();return t={current:t},e.memoizedState=t},useState:Cx,useDebugValue:vy,useDeferredValue:function(t){return Oi().memoizedState=t},useTransition:function(){var t=Cx(!1),e=t[0];return t=uI.bind(null,t[1]),Oi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var i=ot,n=Oi();if(et){if(r===void 0)throw Error(K(407));r=r()}else{if(r=e(),Ft===null)throw Error(K(349));Zs&30||MS(i,e,r)}n.memoizedState=r;var s={value:r,getSnapshot:e};return n.queue=s,Px(FS.bind(null,i,s,t),[t]),i.flags|=2048,ru(9,DS.bind(null,i,s,r,e),void 0,null),r},useId:function(){var t=Oi(),e=Ft.identifierPrefix;if(et){var r=un,i=ln;r=(i&~(1<<32-di(i)-1)).toString(32)+r,e=":"+e+"R"+r,r=eu++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=lI++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},fI={readContext:$r,useCallback:jS,useContext:$r,useEffect:yy,useImperativeHandle:GS,useInsertionEffect:LS,useLayoutEffect:US,useMemo:HS,useReducer:Up,useRef:BS,useState:function(){return Up(tu)},useDebugValue:vy,useDeferredValue:function(t){var e=Yr();return VS(e,St.memoizedState,t)},useTransition:function(){var t=Up(tu)[0],e=Yr().memoizedState;return[t,e]},useMutableSource:RS,useSyncExternalStore:kS,useId:WS,unstable_isNewReconciler:!1},pI={readContext:$r,useCallback:jS,useContext:$r,useEffect:yy,useImperativeHandle:GS,useInsertionEffect:LS,useLayoutEffect:US,useMemo:HS,useReducer:zp,useRef:BS,useState:function(){return zp(tu)},useDebugValue:vy,useDeferredValue:function(t){var e=Yr();return St===null?e.memoizedState=t:VS(e,St.memoizedState,t)},useTransition:function(){var t=zp(tu)[0],e=Yr().memoizedState;return[t,e]},useMutableSource:RS,useSyncExternalStore:kS,useId:WS,unstable_isNewReconciler:!1};function si(t,e){if(t&&t.defaultProps){e=at({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function fg(t,e,r,i){e=t.memoizedState,r=r(i,e),r=r==null?e:at({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var kd={isMounted:function(t){return(t=t._reactInternals)?io(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var i=ir(),n=is(t),s=dn(i,n);s.payload=e,r!=null&&(s.callback=r),e=ts(t,s,n),e!==null&&(fi(e,t,n,i),cc(e,t,n))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var i=ir(),n=is(t),s=dn(i,n);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=ts(t,s,n),e!==null&&(fi(e,t,n,i),cc(e,t,n))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ir(),i=is(t),n=dn(r,i);n.tag=2,e!=null&&(n.callback=e),e=ts(t,n,i),e!==null&&(fi(e,t,i,r),cc(e,t,i))}};function Ix(t,e,r,i,n,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Yl(r,i)||!Yl(n,s):!0}function QS(t,e,r){var i=!1,n=as,s=e.contextType;return typeof s=="object"&&s!==null?s=$r(s):(n=mr(e)?Qs:qt.current,i=e.contextTypes,s=(i=i!=null)?ga(t,n):as),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=kd,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=n,t.__reactInternalMemoizedMaskedChildContext=s),e}function Rx(t,e,r,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,i),e.state!==t&&kd.enqueueReplaceState(e,e.state,null)}function pg(t,e,r,i){var n=t.stateNode;n.props=r,n.state=t.memoizedState,n.refs={},hy(t);var s=e.contextType;typeof s=="object"&&s!==null?n.context=$r(s):(s=mr(e)?Qs:qt.current,n.context=ga(t,s)),n.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(fg(t,e,s,r),n.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(e=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),e!==n.state&&kd.enqueueReplaceState(n,n.state,null),Vc(t,r,n,i),n.state=t.memoizedState),typeof n.componentDidMount=="function"&&(t.flags|=4194308)}function _a(t,e){try{var r="",i=e;do r+=jC(i),i=i.return;while(i);var n=r}catch(s){n=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:n,digest:null}}function Gp(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function mg(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var mI=typeof WeakMap=="function"?WeakMap:Map;function KS(t,e,r){r=dn(-1,r),r.tag=3,r.payload={element:null};var i=e.value;return r.callback=function(){Qc||(Qc=!0,Tg=i),mg(t,e)},r}function ZS(t,e,r){r=dn(-1,r),r.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var n=e.value;r.payload=function(){return i(n)},r.callback=function(){mg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){mg(t,e),typeof i!="function"&&(rs===null?rs=new Set([this]):rs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function kx(t,e,r){var i=t.pingCache;if(i===null){i=t.pingCache=new mI;var n=new Set;i.set(e,n)}else n=i.get(e),n===void 0&&(n=new Set,i.set(e,n));n.has(r)||(n.add(r),t=II.bind(null,t,e,r),e.then(t,t))}function Mx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Dx(t,e,r,i,n){return t.mode&1?(t.flags|=65536,t.lanes=n,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=dn(-1,1),e.tag=2,ts(r,e,1))),r.lanes|=1),t)}var gI=bn.ReactCurrentOwner,dr=!1;function rr(t,e,r,i){e.child=t===null?AS(e,null,r,i):va(e,t.child,r,i)}function Fx(t,e,r,i,n){r=r.render;var s=e.ref;return sa(e,n),i=my(t,e,r,i,s,n),r=gy(),t!==null&&!dr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n,vn(t,e,n)):(et&&r&&iy(e),e.flags|=1,rr(t,e,i,n),e.child)}function Ox(t,e,r,i,n){if(t===null){var s=r.type;return typeof s=="function"&&!Ay(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,qS(t,e,s,i,n)):(t=yc(r.type,null,i,e,e.mode,n),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&n)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Yl,r(o,i)&&t.ref===e.ref)return vn(t,e,n)}return e.flags|=1,t=ns(s,i),t.ref=e.ref,t.return=e,e.child=t}function qS(t,e,r,i,n){if(t!==null){var s=t.memoizedProps;if(Yl(s,i)&&t.ref===e.ref)if(dr=!1,e.pendingProps=i=s,(t.lanes&n)!==0)t.flags&131072&&(dr=!0);else return e.lanes=t.lanes,vn(t,e,n)}return gg(t,e,r,i,n)}function JS(t,e,r){var i=e.pendingProps,n=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(Zo,Sr),Sr|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ve(Zo,Sr),Sr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:r,Ve(Zo,Sr),Sr|=i}else s!==null?(i=s.baseLanes|r,e.memoizedState=null):i=r,Ve(Zo,Sr),Sr|=i;return rr(t,e,n,r),e.child}function eE(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function gg(t,e,r,i,n){var s=mr(r)?Qs:qt.current;return s=ga(e,s),sa(e,n),r=my(t,e,r,i,s,n),i=gy(),t!==null&&!dr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~n,vn(t,e,n)):(et&&i&&iy(e),e.flags|=1,rr(t,e,r,n),e.child)}function Nx(t,e,r,i,n){if(mr(r)){var s=!0;Uc(e)}else s=!1;if(sa(e,n),e.stateNode===null)pc(t,e),QS(e,r,i),pg(e,r,i,n),i=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var h=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=$r(c):(c=mr(r)?Qs:qt.current,c=ga(e,c));var f=r.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==i||h!==c)&&Rx(e,o,i,c),zn=!1;var p=e.memoizedState;o.state=p,Vc(e,i,o,n),h=e.memoizedState,l!==i||p!==h||pr.current||zn?(typeof f=="function"&&(fg(e,r,f,i),h=e.memoizedState),(l=zn||Ix(e,r,l,i,p,h,c))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=h),o.props=i,o.state=h,o.context=c,i=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,PS(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:si(e.type,l),o.props=c,m=e.pendingProps,p=o.context,h=r.contextType,typeof h=="object"&&h!==null?h=$r(h):(h=mr(r)?Qs:qt.current,h=ga(e,h));var v=r.getDerivedStateFromProps;(f=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||p!==h)&&Rx(e,o,i,h),zn=!1,p=e.memoizedState,o.state=p,Vc(e,i,o,n);var x=e.memoizedState;l!==m||p!==x||pr.current||zn?(typeof v=="function"&&(fg(e,r,v,i),x=e.memoizedState),(c=zn||Ix(e,r,c,i,p,x,h)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,x,h),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,x,h)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=x),o.props=i,o.state=x,o.context=h,i=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),i=!1)}return yg(t,e,r,i,s,n)}function yg(t,e,r,i,n,s){eE(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return n&&wx(e,r,!1),vn(t,e,s);i=e.stateNode,gI.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=va(e,t.child,null,s),e.child=va(e,null,l,s)):rr(t,e,l,s),e.memoizedState=i.state,n&&wx(e,r,!0),e.child}function tE(t){var e=t.stateNode;e.pendingContext?_x(t,e.pendingContext,e.pendingContext!==e.context):e.context&&_x(t,e.context,!1),cy(t,e.containerInfo)}function Bx(t,e,r,i,n){return ya(),sy(n),e.flags|=256,rr(t,e,r,i),e.child}var vg={dehydrated:null,treeContext:null,retryLane:0};function xg(t){return{baseLanes:t,cachePool:null,transitions:null}}function rE(t,e,r){var i=e.pendingProps,n=nt.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(n&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(n|=1),Ve(nt,n&1),t===null)return cg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Fd(o,i,0,null),t=Vs(t,i,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=xg(r),e.memoizedState=vg,t):xy(e,o));if(n=t.memoizedState,n!==null&&(l=n.dehydrated,l!==null))return yI(t,e,o,i,l,n,r);if(s){s=i.fallback,o=e.mode,n=t.child,l=n.sibling;var h={mode:"hidden",children:i.children};return!(o&1)&&e.child!==n?(i=e.child,i.childLanes=0,i.pendingProps=h,e.deletions=null):(i=ns(n,h),i.subtreeFlags=n.subtreeFlags&14680064),l!==null?s=ns(l,s):(s=Vs(s,o,r,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?xg(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=vg,i}return s=t.child,t=s.sibling,i=ns(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=r),i.return=e,i.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=i,e.memoizedState=null,i}function xy(t,e){return e=Fd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Eh(t,e,r,i){return i!==null&&sy(i),va(e,t.child,null,r),t=xy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function yI(t,e,r,i,n,s,o){if(r)return e.flags&256?(e.flags&=-257,i=Gp(Error(K(422))),Eh(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,n=e.mode,i=Fd({mode:"visible",children:i.children},n,0,null),s=Vs(s,n,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&va(e,t.child,null,o),e.child.memoizedState=xg(o),e.memoizedState=vg,s);if(!(e.mode&1))return Eh(t,e,o,null);if(n.data==="$!"){if(i=n.nextSibling&&n.nextSibling.dataset,i)var l=i.dgst;return i=l,s=Error(K(419)),i=Gp(s,i,void 0),Eh(t,e,o,i)}if(l=(o&t.childLanes)!==0,dr||l){if(i=Ft,i!==null){switch(o&-o){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(i.suspendedLanes|o)?0:n,n!==0&&n!==s.retryLane&&(s.retryLane=n,yn(t,n),fi(i,t,n,-1))}return Ty(),i=Gp(Error(K(421))),Eh(t,e,o,i)}return n.data==="$?"?(e.flags|=128,e.child=t.child,e=RI.bind(null,t),n._reactRetry=e,null):(t=s.treeContext,Er=es(n.nextSibling),Tr=e,et=!0,ai=null,t!==null&&(Gr[jr++]=ln,Gr[jr++]=un,Gr[jr++]=Ks,ln=t.id,un=t.overflow,Ks=e),e=xy(e,i.children),e.flags|=4096,e)}function Lx(t,e,r){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),dg(t.return,e,r)}function jp(t,e,r,i,n){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:r,tailMode:n}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=r,s.tailMode=n)}function iE(t,e,r){var i=e.pendingProps,n=i.revealOrder,s=i.tail;if(rr(t,e,i.children,r),i=nt.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Lx(t,r,e);else if(t.tag===19)Lx(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Ve(nt,i),!(e.mode&1))e.memoizedState=null;else switch(n){case"forwards":for(r=e.child,n=null;r!==null;)t=r.alternate,t!==null&&Wc(t)===null&&(n=r),r=r.sibling;r=n,r===null?(n=e.child,e.child=null):(n=r.sibling,r.sibling=null),jp(e,!1,n,r,s);break;case"backwards":for(r=null,n=e.child,e.child=null;n!==null;){if(t=n.alternate,t!==null&&Wc(t)===null){e.child=n;break}t=n.sibling,n.sibling=r,r=n,n=t}jp(e,!0,r,null,s);break;case"together":jp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function pc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vn(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),qs|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(K(153));if(e.child!==null){for(t=e.child,r=ns(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ns(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function vI(t,e,r){switch(e.tag){case 3:tE(e),ya();break;case 5:IS(e);break;case 1:mr(e.type)&&Uc(e);break;case 4:cy(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,n=e.memoizedProps.value;Ve(jc,i._currentValue),i._currentValue=n;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Ve(nt,nt.current&1),e.flags|=128,null):r&e.child.childLanes?rE(t,e,r):(Ve(nt,nt.current&1),t=vn(t,e,r),t!==null?t.sibling:null);Ve(nt,nt.current&1);break;case 19:if(i=(r&e.childLanes)!==0,t.flags&128){if(i)return iE(t,e,r);e.flags|=128}if(n=e.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),Ve(nt,nt.current),i)break;return null;case 22:case 23:return e.lanes=0,JS(t,e,r)}return vn(t,e,r)}var nE,_g,sE,oE;nE=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};_g=function(){};sE=function(t,e,r,i){var n=t.memoizedProps;if(n!==i){t=e.stateNode,js(Hi.current);var s=null;switch(r){case"input":n=jm(t,n),i=jm(t,i),s=[];break;case"select":n=at({},n,{value:void 0}),i=at({},i,{value:void 0}),s=[];break;case"textarea":n=Wm(t,n),i=Wm(t,i),s=[];break;default:typeof n.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Bc)}$m(r,i);var o;r=null;for(c in n)if(!i.hasOwnProperty(c)&&n.hasOwnProperty(c)&&n[c]!=null)if(c==="style"){var l=n[c];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Gl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in i){var h=i[c];if(l=n!=null?n[c]:void 0,i.hasOwnProperty(c)&&h!==l&&(h!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||h&&h.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in h)h.hasOwnProperty(o)&&l[o]!==h[o]&&(r||(r={}),r[o]=h[o])}else r||(s||(s=[]),s.push(c,r)),r=h;else c==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,l=l?l.__html:void 0,h!=null&&l!==h&&(s=s||[]).push(c,h)):c==="children"?typeof h!="string"&&typeof h!="number"||(s=s||[]).push(c,""+h):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Gl.hasOwnProperty(c)?(h!=null&&c==="onScroll"&&Xe("scroll",t),s||l===h||(s=[])):(s=s||[]).push(c,h))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};oE=function(t,e,r,i){r!==i&&(e.flags|=4)};function sl(t,e){if(!et)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Qt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,i=0;if(e)for(var n=t.child;n!==null;)r|=n.lanes|n.childLanes,i|=n.subtreeFlags&14680064,i|=n.flags&14680064,n.return=t,n=n.sibling;else for(n=t.child;n!==null;)r|=n.lanes|n.childLanes,i|=n.subtreeFlags,i|=n.flags,n.return=t,n=n.sibling;return t.subtreeFlags|=i,t.childLanes=r,e}function xI(t,e,r){var i=e.pendingProps;switch(ny(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(e),null;case 1:return mr(e.type)&&Lc(),Qt(e),null;case 3:return i=e.stateNode,xa(),Qe(pr),Qe(qt),fy(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(bh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ai!==null&&(Pg(ai),ai=null))),_g(t,e),Qt(e),null;case 5:dy(e);var n=js(Jl.current);if(r=e.type,t!==null&&e.stateNode!=null)sE(t,e,r,i,n),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(K(166));return Qt(e),null}if(t=js(Hi.current),bh(e)){i=e.stateNode,r=e.type;var s=e.memoizedProps;switch(i[Ui]=e,i[Zl]=s,t=(e.mode&1)!==0,r){case"dialog":Xe("cancel",i),Xe("close",i);break;case"iframe":case"object":case"embed":Xe("load",i);break;case"video":case"audio":for(n=0;n<gl.length;n++)Xe(gl[n],i);break;case"source":Xe("error",i);break;case"img":case"image":case"link":Xe("error",i),Xe("load",i);break;case"details":Xe("toggle",i);break;case"input":$1(i,s),Xe("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Xe("invalid",i);break;case"textarea":Q1(i,s),Xe("invalid",i)}$m(r,s),n=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?i.textContent!==l&&(s.suppressHydrationWarning!==!0&&wh(i.textContent,l,t),n=["children",l]):typeof l=="number"&&i.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&wh(i.textContent,l,t),n=["children",""+l]):Gl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&Xe("scroll",i)}switch(r){case"input":fh(i),Y1(i,s,!0);break;case"textarea":fh(i),K1(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Bc)}i=n,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=n.nodeType===9?n:n.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Fb(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(r,{is:i.is}):(t=o.createElement(r),r==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,r),t[Ui]=e,t[Zl]=i,nE(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ym(r,i),r){case"dialog":Xe("cancel",t),Xe("close",t),n=i;break;case"iframe":case"object":case"embed":Xe("load",t),n=i;break;case"video":case"audio":for(n=0;n<gl.length;n++)Xe(gl[n],t);n=i;break;case"source":Xe("error",t),n=i;break;case"img":case"image":case"link":Xe("error",t),Xe("load",t),n=i;break;case"details":Xe("toggle",t),n=i;break;case"input":$1(t,i),n=jm(t,i),Xe("invalid",t);break;case"option":n=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},n=at({},i,{value:void 0}),Xe("invalid",t);break;case"textarea":Q1(t,i),n=Wm(t,i),Xe("invalid",t);break;default:n=i}$m(r,n),l=n;for(s in l)if(l.hasOwnProperty(s)){var h=l[s];s==="style"?Bb(t,h):s==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&Ob(t,h)):s==="children"?typeof h=="string"?(r!=="textarea"||h!=="")&&jl(t,h):typeof h=="number"&&jl(t,""+h):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Gl.hasOwnProperty(s)?h!=null&&s==="onScroll"&&Xe("scroll",t):h!=null&&H0(t,s,h,o))}switch(r){case"input":fh(t),Y1(t,i,!1);break;case"textarea":fh(t),K1(t);break;case"option":i.value!=null&&t.setAttribute("value",""+os(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?ta(t,!!i.multiple,s,!1):i.defaultValue!=null&&ta(t,!!i.multiple,i.defaultValue,!0);break;default:typeof n.onClick=="function"&&(t.onclick=Bc)}switch(r){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qt(e),null;case 6:if(t&&e.stateNode!=null)oE(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(K(166));if(r=js(Jl.current),js(Hi.current),bh(e)){if(i=e.stateNode,r=e.memoizedProps,i[Ui]=e,(s=i.nodeValue!==r)&&(t=Tr,t!==null))switch(t.tag){case 3:wh(i.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wh(i.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(r.nodeType===9?r:r.ownerDocument).createTextNode(i),i[Ui]=e,e.stateNode=i}return Qt(e),null;case 13:if(Qe(nt),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(et&&Er!==null&&e.mode&1&&!(e.flags&128))ES(),ya(),e.flags|=98560,s=!1;else if(s=bh(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(K(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(K(317));s[Ui]=e}else ya(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qt(e),s=!1}else ai!==null&&(Pg(ai),ai=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||nt.current&1?Et===0&&(Et=3):Ty())),e.updateQueue!==null&&(e.flags|=4),Qt(e),null);case 4:return xa(),_g(t,e),t===null&&Ql(e.stateNode.containerInfo),Qt(e),null;case 10:return ly(e.type._context),Qt(e),null;case 17:return mr(e.type)&&Lc(),Qt(e),null;case 19:if(Qe(nt),s=e.memoizedState,s===null)return Qt(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)sl(s,!1);else{if(Et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Wc(t),o!==null){for(e.flags|=128,sl(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=r,r=e.child;r!==null;)s=r,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ve(nt,nt.current&1|2),e.child}t=t.sibling}s.tail!==null&&gt()>wa&&(e.flags|=128,i=!0,sl(s,!1),e.lanes=4194304)}else{if(!i)if(t=Wc(o),t!==null){if(e.flags|=128,i=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),sl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!et)return Qt(e),null}else 2*gt()-s.renderingStartTime>wa&&r!==1073741824&&(e.flags|=128,i=!0,sl(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=gt(),e.sibling=null,r=nt.current,Ve(nt,i?r&1|2:r&1),e):(Qt(e),null);case 22:case 23:return Ey(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?Sr&1073741824&&(Qt(e),e.subtreeFlags&6&&(e.flags|=8192)):Qt(e),null;case 24:return null;case 25:return null}throw Error(K(156,e.tag))}function _I(t,e){switch(ny(e),e.tag){case 1:return mr(e.type)&&Lc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return xa(),Qe(pr),Qe(qt),fy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return dy(e),null;case 13:if(Qe(nt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(K(340));ya()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Qe(nt),null;case 4:return xa(),null;case 10:return ly(e.type._context),null;case 22:case 23:return Ey(),null;case 24:return null;default:return null}}var Th=!1,Kt=!1,wI=typeof WeakSet=="function"?WeakSet:Set,ue=null;function Ko(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(i){ct(t,e,i)}else r.current=null}function wg(t,e,r){try{r()}catch(i){ct(t,e,i)}}var Ux=!1;function bI(t,e){if(ng=Fc,t=cS(),ry(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var i=r.getSelection&&r.getSelection();if(i&&i.rangeCount!==0){r=i.anchorNode;var n=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,h=-1,c=0,f=0,m=t,p=null;t:for(;;){for(var v;m!==r||n!==0&&m.nodeType!==3||(l=o+n),m!==s||i!==0&&m.nodeType!==3||(h=o+i),m.nodeType===3&&(o+=m.nodeValue.length),(v=m.firstChild)!==null;)p=m,m=v;for(;;){if(m===t)break t;if(p===r&&++c===n&&(l=o),p===s&&++f===i&&(h=o),(v=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=v}r=l===-1||h===-1?null:{start:l,end:h}}else r=null}r=r||{start:0,end:0}}else r=null;for(sg={focusedElem:t,selectionRange:r},Fc=!1,ue=e;ue!==null;)if(e=ue,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ue=t;else for(;ue!==null;){e=ue;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var b=x.memoizedProps,A=x.memoizedState,S=e.stateNode,E=S.getSnapshotBeforeUpdate(e.elementType===e.type?b:si(e.type,b),A);S.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(T){ct(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,ue=t;break}ue=e.return}return x=Ux,Ux=!1,x}function Ml(t,e,r){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var n=i=i.next;do{if((n.tag&t)===t){var s=n.destroy;n.destroy=void 0,s!==void 0&&wg(e,r,s)}n=n.next}while(n!==i)}}function Md(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var i=r.create;r.destroy=i()}r=r.next}while(r!==e)}}function bg(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function aE(t){var e=t.alternate;e!==null&&(t.alternate=null,aE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ui],delete e[Zl],delete e[lg],delete e[nI],delete e[sI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function lE(t){return t.tag===5||t.tag===3||t.tag===4}function zx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sg(t,e,r){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Bc));else if(i!==4&&(t=t.child,t!==null))for(Sg(t,e,r),t=t.sibling;t!==null;)Sg(t,e,r),t=t.sibling}function Eg(t,e,r){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Eg(t,e,r),t=t.sibling;t!==null;)Eg(t,e,r),t=t.sibling}var zt=null,oi=!1;function Fn(t,e,r){for(r=r.child;r!==null;)uE(t,e,r),r=r.sibling}function uE(t,e,r){if(ji&&typeof ji.onCommitFiberUnmount=="function")try{ji.onCommitFiberUnmount(Ed,r)}catch{}switch(r.tag){case 5:Kt||Ko(r,e);case 6:var i=zt,n=oi;zt=null,Fn(t,e,r),zt=i,oi=n,zt!==null&&(oi?(t=zt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):zt.removeChild(r.stateNode));break;case 18:zt!==null&&(oi?(t=zt,r=r.stateNode,t.nodeType===8?Op(t.parentNode,r):t.nodeType===1&&Op(t,r),Xl(t)):Op(zt,r.stateNode));break;case 4:i=zt,n=oi,zt=r.stateNode.containerInfo,oi=!0,Fn(t,e,r),zt=i,oi=n;break;case 0:case 11:case 14:case 15:if(!Kt&&(i=r.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){n=i=i.next;do{var s=n,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&wg(r,e,o),n=n.next}while(n!==i)}Fn(t,e,r);break;case 1:if(!Kt&&(Ko(r,e),i=r.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=r.memoizedProps,i.state=r.memoizedState,i.componentWillUnmount()}catch(l){ct(r,e,l)}Fn(t,e,r);break;case 21:Fn(t,e,r);break;case 22:r.mode&1?(Kt=(i=Kt)||r.memoizedState!==null,Fn(t,e,r),Kt=i):Fn(t,e,r);break;default:Fn(t,e,r)}}function Gx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new wI),e.forEach(function(i){var n=kI.bind(null,t,i);r.has(i)||(r.add(i),i.then(n,n))})}}function ei(t,e){var r=e.deletions;if(r!==null)for(var i=0;i<r.length;i++){var n=r[i];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:zt=l.stateNode,oi=!1;break e;case 3:zt=l.stateNode.containerInfo,oi=!0;break e;case 4:zt=l.stateNode.containerInfo,oi=!0;break e}l=l.return}if(zt===null)throw Error(K(160));uE(s,o,n),zt=null,oi=!1;var h=n.alternate;h!==null&&(h.return=null),n.return=null}catch(c){ct(n,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)hE(e,t),e=e.sibling}function hE(t,e){var r=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ei(e,t),Pi(t),i&4){try{Ml(3,t,t.return),Md(3,t)}catch(b){ct(t,t.return,b)}try{Ml(5,t,t.return)}catch(b){ct(t,t.return,b)}}break;case 1:ei(e,t),Pi(t),i&512&&r!==null&&Ko(r,r.return);break;case 5:if(ei(e,t),Pi(t),i&512&&r!==null&&Ko(r,r.return),t.flags&32){var n=t.stateNode;try{jl(n,"")}catch(b){ct(t,t.return,b)}}if(i&4&&(n=t.stateNode,n!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,l=t.type,h=t.updateQueue;if(t.updateQueue=null,h!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Mb(n,s),Ym(l,o);var c=Ym(l,s);for(o=0;o<h.length;o+=2){var f=h[o],m=h[o+1];f==="style"?Bb(n,m):f==="dangerouslySetInnerHTML"?Ob(n,m):f==="children"?jl(n,m):H0(n,f,m,c)}switch(l){case"input":Hm(n,s);break;case"textarea":Db(n,s);break;case"select":var p=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?ta(n,!!s.multiple,v,!1):p!==!!s.multiple&&(s.defaultValue!=null?ta(n,!!s.multiple,s.defaultValue,!0):ta(n,!!s.multiple,s.multiple?[]:"",!1))}n[Zl]=s}catch(b){ct(t,t.return,b)}}break;case 6:if(ei(e,t),Pi(t),i&4){if(t.stateNode===null)throw Error(K(162));n=t.stateNode,s=t.memoizedProps;try{n.nodeValue=s}catch(b){ct(t,t.return,b)}}break;case 3:if(ei(e,t),Pi(t),i&4&&r!==null&&r.memoizedState.isDehydrated)try{Xl(e.containerInfo)}catch(b){ct(t,t.return,b)}break;case 4:ei(e,t),Pi(t);break;case 13:ei(e,t),Pi(t),n=t.child,n.flags&8192&&(s=n.memoizedState!==null,n.stateNode.isHidden=s,!s||n.alternate!==null&&n.alternate.memoizedState!==null||(by=gt())),i&4&&Gx(t);break;case 22:if(f=r!==null&&r.memoizedState!==null,t.mode&1?(Kt=(c=Kt)||f,ei(e,t),Kt=c):ei(e,t),Pi(t),i&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(ue=t,f=t.child;f!==null;){for(m=ue=f;ue!==null;){switch(p=ue,v=p.child,p.tag){case 0:case 11:case 14:case 15:Ml(4,p,p.return);break;case 1:Ko(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){i=p,r=p.return;try{e=i,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(b){ct(i,r,b)}}break;case 5:Ko(p,p.return);break;case 22:if(p.memoizedState!==null){Hx(m);continue}}v!==null?(v.return=p,ue=v):Hx(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{n=m.stateNode,c?(s=n.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=m.stateNode,h=m.memoizedProps.style,o=h!=null&&h.hasOwnProperty("display")?h.display:null,l.style.display=Nb("display",o))}catch(b){ct(t,t.return,b)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(b){ct(t,t.return,b)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:ei(e,t),Pi(t),i&4&&Gx(t);break;case 21:break;default:ei(e,t),Pi(t)}}function Pi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(lE(r)){var i=r;break e}r=r.return}throw Error(K(160))}switch(i.tag){case 5:var n=i.stateNode;i.flags&32&&(jl(n,""),i.flags&=-33);var s=zx(t);Eg(t,s,n);break;case 3:case 4:var o=i.stateNode.containerInfo,l=zx(t);Sg(t,l,o);break;default:throw Error(K(161))}}catch(h){ct(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function SI(t,e,r){ue=t,cE(t)}function cE(t,e,r){for(var i=(t.mode&1)!==0;ue!==null;){var n=ue,s=n.child;if(n.tag===22&&i){var o=n.memoizedState!==null||Th;if(!o){var l=n.alternate,h=l!==null&&l.memoizedState!==null||Kt;l=Th;var c=Kt;if(Th=o,(Kt=h)&&!c)for(ue=n;ue!==null;)o=ue,h=o.child,o.tag===22&&o.memoizedState!==null?Vx(n):h!==null?(h.return=o,ue=h):Vx(n);for(;s!==null;)ue=s,cE(s),s=s.sibling;ue=n,Th=l,Kt=c}jx(t)}else n.subtreeFlags&8772&&s!==null?(s.return=n,ue=s):jx(t)}}function jx(t){for(;ue!==null;){var e=ue;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Kt||Md(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Kt)if(r===null)i.componentDidMount();else{var n=e.elementType===e.type?r.memoizedProps:si(e.type,r.memoizedProps);i.componentDidUpdate(n,r.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Ax(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Ax(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&r.focus();break;case"img":h.src&&(r.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&Xl(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}Kt||e.flags&512&&bg(e)}catch(p){ct(e,e.return,p)}}if(e===t){ue=null;break}if(r=e.sibling,r!==null){r.return=e.return,ue=r;break}ue=e.return}}function Hx(t){for(;ue!==null;){var e=ue;if(e===t){ue=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ue=r;break}ue=e.return}}function Vx(t){for(;ue!==null;){var e=ue;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Md(4,e)}catch(h){ct(e,r,h)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var n=e.return;try{i.componentDidMount()}catch(h){ct(e,n,h)}}var s=e.return;try{bg(e)}catch(h){ct(e,s,h)}break;case 5:var o=e.return;try{bg(e)}catch(h){ct(e,o,h)}}}catch(h){ct(e,e.return,h)}if(e===t){ue=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ue=l;break}ue=e.return}}var EI=Math.ceil,Yc=bn.ReactCurrentDispatcher,_y=bn.ReactCurrentOwner,Xr=bn.ReactCurrentBatchConfig,De=0,Ft=null,xt=null,jt=0,Sr=0,Zo=ds(0),Et=0,iu=null,qs=0,Dd=0,wy=0,Dl=null,cr=null,by=0,wa=1/0,sn=null,Qc=!1,Tg=null,rs=null,Ah=!1,$n=null,Kc=0,Fl=0,Ag=null,mc=-1,gc=0;function ir(){return De&6?gt():mc!==-1?mc:mc=gt()}function is(t){return t.mode&1?De&2&&jt!==0?jt&-jt:aI.transition!==null?(gc===0&&(gc=Qb()),gc):(t=Ge,t!==0||(t=window.event,t=t===void 0?16:rS(t.type)),t):1}function fi(t,e,r,i){if(50<Fl)throw Fl=0,Ag=null,Error(K(185));fu(t,r,i),(!(De&2)||t!==Ft)&&(t===Ft&&(!(De&2)&&(Dd|=r),Et===4&&Vn(t,jt)),gr(t,i),r===1&&De===0&&!(e.mode&1)&&(wa=gt()+500,Id&&fs()))}function gr(t,e){var r=t.callbackNode;aP(t,e);var i=Dc(t,t===Ft?jt:0);if(i===0)r!==null&&J1(r),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(r!=null&&J1(r),e===1)t.tag===0?oI(Wx.bind(null,t)):wS(Wx.bind(null,t)),rI(function(){!(De&6)&&fs()}),r=null;else{switch(Kb(i)){case 1:r=Y0;break;case 4:r=$b;break;case 16:r=Mc;break;case 536870912:r=Yb;break;default:r=Mc}r=xE(r,dE.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function dE(t,e){if(mc=-1,gc=0,De&6)throw Error(K(327));var r=t.callbackNode;if(oa()&&t.callbackNode!==r)return null;var i=Dc(t,t===Ft?jt:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Zc(t,i);else{e=i;var n=De;De|=2;var s=pE();(Ft!==t||jt!==e)&&(sn=null,wa=gt()+500,Hs(t,e));do try{CI();break}catch(l){fE(t,l)}while(!0);ay(),Yc.current=s,De=n,xt!==null?e=0:(Ft=null,jt=0,e=Et)}if(e!==0){if(e===2&&(n=Jm(t),n!==0&&(i=n,e=Cg(t,n))),e===1)throw r=iu,Hs(t,0),Vn(t,i),gr(t,gt()),r;if(e===6)Vn(t,i);else{if(n=t.current.alternate,!(i&30)&&!TI(n)&&(e=Zc(t,i),e===2&&(s=Jm(t),s!==0&&(i=s,e=Cg(t,s))),e===1))throw r=iu,Hs(t,0),Vn(t,i),gr(t,gt()),r;switch(t.finishedWork=n,t.finishedLanes=i,e){case 0:case 1:throw Error(K(345));case 2:ks(t,cr,sn);break;case 3:if(Vn(t,i),(i&130023424)===i&&(e=by+500-gt(),10<e)){if(Dc(t,0)!==0)break;if(n=t.suspendedLanes,(n&i)!==i){ir(),t.pingedLanes|=t.suspendedLanes&n;break}t.timeoutHandle=ag(ks.bind(null,t,cr,sn),e);break}ks(t,cr,sn);break;case 4:if(Vn(t,i),(i&4194240)===i)break;for(e=t.eventTimes,n=-1;0<i;){var o=31-di(i);s=1<<o,o=e[o],o>n&&(n=o),i&=~s}if(i=n,i=gt()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*EI(i/1960))-i,10<i){t.timeoutHandle=ag(ks.bind(null,t,cr,sn),i);break}ks(t,cr,sn);break;case 5:ks(t,cr,sn);break;default:throw Error(K(329))}}}return gr(t,gt()),t.callbackNode===r?dE.bind(null,t):null}function Cg(t,e){var r=Dl;return t.current.memoizedState.isDehydrated&&(Hs(t,e).flags|=256),t=Zc(t,e),t!==2&&(e=cr,cr=r,e!==null&&Pg(e)),t}function Pg(t){cr===null?cr=t:cr.push.apply(cr,t)}function TI(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var i=0;i<r.length;i++){var n=r[i],s=n.getSnapshot;n=n.value;try{if(!gi(s(),n))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vn(t,e){for(e&=~wy,e&=~Dd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-di(e),i=1<<r;t[r]=-1,e&=~i}}function Wx(t){if(De&6)throw Error(K(327));oa();var e=Dc(t,0);if(!(e&1))return gr(t,gt()),null;var r=Zc(t,e);if(t.tag!==0&&r===2){var i=Jm(t);i!==0&&(e=i,r=Cg(t,i))}if(r===1)throw r=iu,Hs(t,0),Vn(t,e),gr(t,gt()),r;if(r===6)throw Error(K(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ks(t,cr,sn),gr(t,gt()),null}function Sy(t,e){var r=De;De|=1;try{return t(e)}finally{De=r,De===0&&(wa=gt()+500,Id&&fs())}}function Js(t){$n!==null&&$n.tag===0&&!(De&6)&&oa();var e=De;De|=1;var r=Xr.transition,i=Ge;try{if(Xr.transition=null,Ge=1,t)return t()}finally{Ge=i,Xr.transition=r,De=e,!(De&6)&&fs()}}function Ey(){Sr=Zo.current,Qe(Zo)}function Hs(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,tI(r)),xt!==null)for(r=xt.return;r!==null;){var i=r;switch(ny(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Lc();break;case 3:xa(),Qe(pr),Qe(qt),fy();break;case 5:dy(i);break;case 4:xa();break;case 13:Qe(nt);break;case 19:Qe(nt);break;case 10:ly(i.type._context);break;case 22:case 23:Ey()}r=r.return}if(Ft=t,xt=t=ns(t.current,null),jt=Sr=e,Et=0,iu=null,wy=Dd=qs=0,cr=Dl=null,Gs!==null){for(e=0;e<Gs.length;e++)if(r=Gs[e],i=r.interleaved,i!==null){r.interleaved=null;var n=i.next,s=r.pending;if(s!==null){var o=s.next;s.next=n,i.next=o}r.pending=i}Gs=null}return t}function fE(t,e){do{var r=xt;try{if(ay(),dc.current=$c,Xc){for(var i=ot.memoizedState;i!==null;){var n=i.queue;n!==null&&(n.pending=null),i=i.next}Xc=!1}if(Zs=0,kt=St=ot=null,kl=!1,eu=0,_y.current=null,r===null||r.return===null){Et=1,iu=e,xt=null;break}e:{var s=t,o=r.return,l=r,h=e;if(e=jt,l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var c=h,f=l,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=Mx(o);if(v!==null){v.flags&=-257,Dx(v,o,l,s,e),v.mode&1&&kx(s,c,e),e=v,h=c;var x=e.updateQueue;if(x===null){var b=new Set;b.add(h),e.updateQueue=b}else x.add(h);break e}else{if(!(e&1)){kx(s,c,e),Ty();break e}h=Error(K(426))}}else if(et&&l.mode&1){var A=Mx(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),Dx(A,o,l,s,e),sy(_a(h,l));break e}}s=h=_a(h,l),Et!==4&&(Et=2),Dl===null?Dl=[s]:Dl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=KS(s,h,e);Tx(s,S);break e;case 1:l=h;var E=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(rs===null||!rs.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=ZS(s,l,e);Tx(s,T);break e}}s=s.return}while(s!==null)}gE(r)}catch(R){e=R,xt===r&&r!==null&&(xt=r=r.return);continue}break}while(!0)}function pE(){var t=Yc.current;return Yc.current=$c,t===null?$c:t}function Ty(){(Et===0||Et===3||Et===2)&&(Et=4),Ft===null||!(qs&268435455)&&!(Dd&268435455)||Vn(Ft,jt)}function Zc(t,e){var r=De;De|=2;var i=pE();(Ft!==t||jt!==e)&&(sn=null,Hs(t,e));do try{AI();break}catch(n){fE(t,n)}while(!0);if(ay(),De=r,Yc.current=i,xt!==null)throw Error(K(261));return Ft=null,jt=0,Et}function AI(){for(;xt!==null;)mE(xt)}function CI(){for(;xt!==null&&!qC();)mE(xt)}function mE(t){var e=vE(t.alternate,t,Sr);t.memoizedProps=t.pendingProps,e===null?gE(t):xt=e,_y.current=null}function gE(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=_I(r,e),r!==null){r.flags&=32767,xt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Et=6,xt=null;return}}else if(r=xI(r,e,Sr),r!==null){xt=r;return}if(e=e.sibling,e!==null){xt=e;return}xt=e=t}while(e!==null);Et===0&&(Et=5)}function ks(t,e,r){var i=Ge,n=Xr.transition;try{Xr.transition=null,Ge=1,PI(t,e,r,i)}finally{Xr.transition=n,Ge=i}return null}function PI(t,e,r,i){do oa();while($n!==null);if(De&6)throw Error(K(327));r=t.finishedWork;var n=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(K(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(lP(t,s),t===Ft&&(xt=Ft=null,jt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ah||(Ah=!0,xE(Mc,function(){return oa(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Xr.transition,Xr.transition=null;var o=Ge;Ge=1;var l=De;De|=4,_y.current=null,bI(t,r),hE(r,t),YP(sg),Fc=!!ng,sg=ng=null,t.current=r,SI(r),JC(),De=l,Ge=o,Xr.transition=s}else t.current=r;if(Ah&&(Ah=!1,$n=t,Kc=n),s=t.pendingLanes,s===0&&(rs=null),rP(r.stateNode),gr(t,gt()),e!==null)for(i=t.onRecoverableError,r=0;r<e.length;r++)n=e[r],i(n.value,{componentStack:n.stack,digest:n.digest});if(Qc)throw Qc=!1,t=Tg,Tg=null,t;return Kc&1&&t.tag!==0&&oa(),s=t.pendingLanes,s&1?t===Ag?Fl++:(Fl=0,Ag=t):Fl=0,fs(),null}function oa(){if($n!==null){var t=Kb(Kc),e=Xr.transition,r=Ge;try{if(Xr.transition=null,Ge=16>t?16:t,$n===null)var i=!1;else{if(t=$n,$n=null,Kc=0,De&6)throw Error(K(331));var n=De;for(De|=4,ue=t.current;ue!==null;){var s=ue,o=s.child;if(ue.flags&16){var l=s.deletions;if(l!==null){for(var h=0;h<l.length;h++){var c=l[h];for(ue=c;ue!==null;){var f=ue;switch(f.tag){case 0:case 11:case 15:Ml(8,f,s)}var m=f.child;if(m!==null)m.return=f,ue=m;else for(;ue!==null;){f=ue;var p=f.sibling,v=f.return;if(aE(f),f===c){ue=null;break}if(p!==null){p.return=v,ue=p;break}ue=v}}}var x=s.alternate;if(x!==null){var b=x.child;if(b!==null){x.child=null;do{var A=b.sibling;b.sibling=null,b=A}while(b!==null)}}ue=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ue=o;else e:for(;ue!==null;){if(s=ue,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ml(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,ue=S;break e}ue=s.return}}var E=t.current;for(ue=E;ue!==null;){o=ue;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,ue=w;else e:for(o=E;ue!==null;){if(l=ue,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Md(9,l)}}catch(R){ct(l,l.return,R)}if(l===o){ue=null;break e}var T=l.sibling;if(T!==null){T.return=l.return,ue=T;break e}ue=l.return}}if(De=n,fs(),ji&&typeof ji.onPostCommitFiberRoot=="function")try{ji.onPostCommitFiberRoot(Ed,t)}catch{}i=!0}return i}finally{Ge=r,Xr.transition=e}}return!1}function Xx(t,e,r){e=_a(r,e),e=KS(t,e,1),t=ts(t,e,1),e=ir(),t!==null&&(fu(t,1,e),gr(t,e))}function ct(t,e,r){if(t.tag===3)Xx(t,t,r);else for(;e!==null;){if(e.tag===3){Xx(e,t,r);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(rs===null||!rs.has(i))){t=_a(r,t),t=ZS(e,t,1),e=ts(e,t,1),t=ir(),e!==null&&(fu(e,1,t),gr(e,t));break}}e=e.return}}function II(t,e,r){var i=t.pingCache;i!==null&&i.delete(e),e=ir(),t.pingedLanes|=t.suspendedLanes&r,Ft===t&&(jt&r)===r&&(Et===4||Et===3&&(jt&130023424)===jt&&500>gt()-by?Hs(t,0):wy|=r),gr(t,e)}function yE(t,e){e===0&&(t.mode&1?(e=gh,gh<<=1,!(gh&130023424)&&(gh=4194304)):e=1);var r=ir();t=yn(t,e),t!==null&&(fu(t,e,r),gr(t,r))}function RI(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),yE(t,r)}function kI(t,e){var r=0;switch(t.tag){case 13:var i=t.stateNode,n=t.memoizedState;n!==null&&(r=n.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(K(314))}i!==null&&i.delete(e),yE(t,r)}var vE;vE=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||pr.current)dr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return dr=!1,vI(t,e,r);dr=!!(t.flags&131072)}else dr=!1,et&&e.flags&1048576&&bS(e,Gc,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;pc(t,e),t=e.pendingProps;var n=ga(e,qt.current);sa(e,r),n=my(null,e,i,t,n,r);var s=gy();return e.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mr(i)?(s=!0,Uc(e)):s=!1,e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,hy(e),n.updater=kd,e.stateNode=n,n._reactInternals=e,pg(e,i,t,r),e=yg(null,e,i,!0,s,r)):(e.tag=0,et&&s&&iy(e),rr(null,e,n,r),e=e.child),e;case 16:i=e.elementType;e:{switch(pc(t,e),t=e.pendingProps,n=i._init,i=n(i._payload),e.type=i,n=e.tag=DI(i),t=si(i,t),n){case 0:e=gg(null,e,i,t,r);break e;case 1:e=Nx(null,e,i,t,r);break e;case 11:e=Fx(null,e,i,t,r);break e;case 14:e=Ox(null,e,i,si(i.type,t),r);break e}throw Error(K(306,i,""))}return e;case 0:return i=e.type,n=e.pendingProps,n=e.elementType===i?n:si(i,n),gg(t,e,i,n,r);case 1:return i=e.type,n=e.pendingProps,n=e.elementType===i?n:si(i,n),Nx(t,e,i,n,r);case 3:e:{if(tE(e),t===null)throw Error(K(387));i=e.pendingProps,s=e.memoizedState,n=s.element,PS(t,e),Vc(e,i,null,r);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){n=_a(Error(K(423)),e),e=Bx(t,e,i,r,n);break e}else if(i!==n){n=_a(Error(K(424)),e),e=Bx(t,e,i,r,n);break e}else for(Er=es(e.stateNode.containerInfo.firstChild),Tr=e,et=!0,ai=null,r=AS(e,null,i,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ya(),i===n){e=vn(t,e,r);break e}rr(t,e,i,r)}e=e.child}return e;case 5:return IS(e),t===null&&cg(e),i=e.type,n=e.pendingProps,s=t!==null?t.memoizedProps:null,o=n.children,og(i,n)?o=null:s!==null&&og(i,s)&&(e.flags|=32),eE(t,e),rr(t,e,o,r),e.child;case 6:return t===null&&cg(e),null;case 13:return rE(t,e,r);case 4:return cy(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=va(e,null,i,r):rr(t,e,i,r),e.child;case 11:return i=e.type,n=e.pendingProps,n=e.elementType===i?n:si(i,n),Fx(t,e,i,n,r);case 7:return rr(t,e,e.pendingProps,r),e.child;case 8:return rr(t,e,e.pendingProps.children,r),e.child;case 12:return rr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(i=e.type._context,n=e.pendingProps,s=e.memoizedProps,o=n.value,Ve(jc,i._currentValue),i._currentValue=o,s!==null)if(gi(s.value,o)){if(s.children===n.children&&!pr.current){e=vn(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var h=l.firstContext;h!==null;){if(h.context===i){if(s.tag===1){h=dn(-1,r&-r),h.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?h.next=h:(h.next=f.next,f.next=h),c.pending=h}}s.lanes|=r,h=s.alternate,h!==null&&(h.lanes|=r),dg(s.return,r,e),l.lanes|=r;break}h=h.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(K(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),dg(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}rr(t,e,n.children,r),e=e.child}return e;case 9:return n=e.type,i=e.pendingProps.children,sa(e,r),n=$r(n),i=i(n),e.flags|=1,rr(t,e,i,r),e.child;case 14:return i=e.type,n=si(i,e.pendingProps),n=si(i.type,n),Ox(t,e,i,n,r);case 15:return qS(t,e,e.type,e.pendingProps,r);case 17:return i=e.type,n=e.pendingProps,n=e.elementType===i?n:si(i,n),pc(t,e),e.tag=1,mr(i)?(t=!0,Uc(e)):t=!1,sa(e,r),QS(e,i,n),pg(e,i,n,r),yg(null,e,i,!0,t,r);case 19:return iE(t,e,r);case 22:return JS(t,e,r)}throw Error(K(156,e.tag))};function xE(t,e){return Xb(t,e)}function MI(t,e,r,i){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hr(t,e,r,i){return new MI(t,e,r,i)}function Ay(t){return t=t.prototype,!(!t||!t.isReactComponent)}function DI(t){if(typeof t=="function")return Ay(t)?1:0;if(t!=null){if(t=t.$$typeof,t===W0)return 11;if(t===X0)return 14}return 2}function ns(t,e){var r=t.alternate;return r===null?(r=Hr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function yc(t,e,r,i,n,s){var o=2;if(i=t,typeof t=="function")Ay(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Go:return Vs(r.children,n,s,e);case V0:o=8,n|=8;break;case Lm:return t=Hr(12,r,e,n|2),t.elementType=Lm,t.lanes=s,t;case Um:return t=Hr(13,r,e,n),t.elementType=Um,t.lanes=s,t;case zm:return t=Hr(19,r,e,n),t.elementType=zm,t.lanes=s,t;case Ib:return Fd(r,n,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Cb:o=10;break e;case Pb:o=9;break e;case W0:o=11;break e;case X0:o=14;break e;case Un:o=16,i=null;break e}throw Error(K(130,t==null?t:typeof t,""))}return e=Hr(o,r,e,n),e.elementType=t,e.type=i,e.lanes=s,e}function Vs(t,e,r,i){return t=Hr(7,t,i,e),t.lanes=r,t}function Fd(t,e,r,i){return t=Hr(22,t,i,e),t.elementType=Ib,t.lanes=r,t.stateNode={isHidden:!1},t}function Hp(t,e,r){return t=Hr(6,t,null,e),t.lanes=r,t}function Vp(t,e,r){return e=Hr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function FI(t,e,r,i,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ep(0),this.expirationTimes=Ep(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ep(0),this.identifierPrefix=i,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function Cy(t,e,r,i,n,s,o,l,h){return t=new FI(t,e,r,l,h),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Hr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},hy(s),t}function OI(t,e,r){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:zo,key:i==null?null:""+i,children:t,containerInfo:e,implementation:r}}function _E(t){if(!t)return as;t=t._reactInternals;e:{if(io(t)!==t||t.tag!==1)throw Error(K(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(K(171))}if(t.tag===1){var r=t.type;if(mr(r))return _S(t,r,e)}return e}function wE(t,e,r,i,n,s,o,l,h){return t=Cy(r,i,!0,t,n,s,o,l,h),t.context=_E(null),r=t.current,i=ir(),n=is(r),s=dn(i,n),s.callback=e??null,ts(r,s,n),t.current.lanes=n,fu(t,n,i),gr(t,i),t}function Od(t,e,r,i){var n=e.current,s=ir(),o=is(n);return r=_E(r),e.context===null?e.context=r:e.pendingContext=r,e=dn(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=ts(n,e,o),t!==null&&(fi(t,n,o,s),cc(t,n,o)),o}function qc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $x(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Py(t,e){$x(t,e),(t=t.alternate)&&$x(t,e)}function NI(){return null}var bE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Iy(t){this._internalRoot=t}Nd.prototype.render=Iy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(K(409));Od(t,e,null,null)};Nd.prototype.unmount=Iy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Js(function(){Od(null,t,null,null)}),e[gn]=null}};function Nd(t){this._internalRoot=t}Nd.prototype.unstable_scheduleHydration=function(t){if(t){var e=Jb();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Hn.length&&e!==0&&e<Hn[r].priority;r++);Hn.splice(r,0,t),r===0&&tS(t)}};function Ry(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Bd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Yx(){}function BI(t,e,r,i,n){if(n){if(typeof i=="function"){var s=i;i=function(){var c=qc(o);s.call(c)}}var o=wE(e,i,t,0,null,!1,!1,"",Yx);return t._reactRootContainer=o,t[gn]=o.current,Ql(t.nodeType===8?t.parentNode:t),Js(),o}for(;n=t.lastChild;)t.removeChild(n);if(typeof i=="function"){var l=i;i=function(){var c=qc(h);l.call(c)}}var h=Cy(t,0,!1,null,null,!1,!1,"",Yx);return t._reactRootContainer=h,t[gn]=h.current,Ql(t.nodeType===8?t.parentNode:t),Js(function(){Od(e,h,r,i)}),h}function Ld(t,e,r,i,n){var s=r._reactRootContainer;if(s){var o=s;if(typeof n=="function"){var l=n;n=function(){var h=qc(o);l.call(h)}}Od(e,o,t,n)}else o=BI(r,e,t,n,i);return qc(o)}Zb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=ml(e.pendingLanes);r!==0&&(Q0(e,r|1),gr(e,gt()),!(De&6)&&(wa=gt()+500,fs()))}break;case 13:Js(function(){var i=yn(t,1);if(i!==null){var n=ir();fi(i,t,1,n)}}),Py(t,1)}};K0=function(t){if(t.tag===13){var e=yn(t,134217728);if(e!==null){var r=ir();fi(e,t,134217728,r)}Py(t,134217728)}};qb=function(t){if(t.tag===13){var e=is(t),r=yn(t,e);if(r!==null){var i=ir();fi(r,t,e,i)}Py(t,e)}};Jb=function(){return Ge};eS=function(t,e){var r=Ge;try{return Ge=t,e()}finally{Ge=r}};Km=function(t,e,r){switch(e){case"input":if(Hm(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var i=r[e];if(i!==t&&i.form===t.form){var n=Pd(i);if(!n)throw Error(K(90));kb(i),Hm(i,n)}}}break;case"textarea":Db(t,r);break;case"select":e=r.value,e!=null&&ta(t,!!r.multiple,e,!1)}};zb=Sy;Gb=Js;var LI={usingClientEntryPoint:!1,Events:[mu,Wo,Pd,Lb,Ub,Sy]},ol={findFiberByHostInstance:zs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UI={bundleType:ol.bundleType,version:ol.version,rendererPackageName:ol.rendererPackageName,rendererConfig:ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Vb(t),t===null?null:t.stateNode},findFiberByHostInstance:ol.findFiberByHostInstance||NI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ch.isDisabled&&Ch.supportsFiber)try{Ed=Ch.inject(UI),ji=Ch}catch{}}Pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LI;Pr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ry(e))throw Error(K(200));return OI(t,e,null,r)};Pr.createRoot=function(t,e){if(!Ry(t))throw Error(K(299));var r=!1,i="",n=bE;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(n=e.onRecoverableError)),e=Cy(t,1,!1,null,null,r,!1,i,n),t[gn]=e.current,Ql(t.nodeType===8?t.parentNode:t),new Iy(e)};Pr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(K(188)):(t=Object.keys(t).join(","),Error(K(268,t)));return t=Vb(e),t=t===null?null:t.stateNode,t};Pr.flushSync=function(t){return Js(t)};Pr.hydrate=function(t,e,r){if(!Bd(e))throw Error(K(200));return Ld(null,t,e,!0,r)};Pr.hydrateRoot=function(t,e,r){if(!Ry(t))throw Error(K(405));var i=r!=null&&r.hydratedSources||null,n=!1,s="",o=bE;if(r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=wE(e,null,t,1,r??null,n,!1,s,o),t[gn]=e.current,Ql(t),i)for(t=0;t<i.length;t++)r=i[t],n=r._getVersion,n=n(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,n]:e.mutableSourceEagerHydrationData.push(r,n);return new Nd(e)};Pr.render=function(t,e,r){if(!Bd(e))throw Error(K(200));return Ld(null,t,e,!1,r)};Pr.unmountComponentAtNode=function(t){if(!Bd(t))throw Error(K(40));return t._reactRootContainer?(Js(function(){Ld(null,null,t,!1,function(){t._reactRootContainer=null,t[gn]=null})}),!0):!1};Pr.unstable_batchedUpdates=Sy;Pr.unstable_renderSubtreeIntoContainer=function(t,e,r,i){if(!Bd(r))throw Error(K(200));if(t==null||t._reactInternals===void 0)throw Error(K(38));return Ld(t,e,r,!1,i)};Pr.version="18.3.1-next-f1338f8080-20240426";function SE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(SE)}catch(t){console.error(t)}}SE(),Sb.exports=Pr;var zI=Sb.exports,EE,Qx=zI;EE=Qx.createRoot,Qx.hydrateRoot;var no=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(no||{}),TE=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(TE||{}),Ig=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(Ig||{}),ve=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(ve||{}),ui=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(ui||{}),J=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(J||{}),aa=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(aa||{}),ge=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(ge||{}),ae=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(ae||{}),zi=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(zi||{}),fn=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(fn||{}),Xi=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(Xi||{}),fr=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(fr||{}),Bi=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(Bi||{}),ky=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(ky||{}),Vr=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(Vr||{}),bt=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(bt||{}),vt=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(vt||{}),Vi=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(Vi||{});const GI={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},oe={ADAPTER:GI,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var Wp=/iPhone/i,Kx=/iPod/i,Zx=/iPad/i,qx=/\biOS-universal(?:.+)Mac\b/i,Xp=/\bAndroid(?:.+)Mobile\b/i,Jx=/Android/i,To=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Ph=/Silk/i,tn=/Windows Phone/i,e_=/\bWindows(?:.+)ARM\b/i,t_=/BlackBerry/i,r_=/BB10/i,i_=/Opera Mini/i,n_=/\b(CriOS|Chrome)(?:.+)Mobile/i,s_=/Mobile(?:.+)Firefox\b/i,o_=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function jI(t){return function(e){return e.test(t)}}function a_(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,i=r.split("[FBAN");typeof i[1]<"u"&&(r=i[0]),i=r.split("Twitter"),typeof i[1]<"u"&&(r=i[0]);var n=jI(r),s={apple:{phone:n(Wp)&&!n(tn),ipod:n(Kx),tablet:!n(Wp)&&(n(Zx)||o_(e))&&!n(tn),universal:n(qx),device:(n(Wp)||n(Kx)||n(Zx)||n(qx)||o_(e))&&!n(tn)},amazon:{phone:n(To),tablet:!n(To)&&n(Ph),device:n(To)||n(Ph)},android:{phone:!n(tn)&&n(To)||!n(tn)&&n(Xp),tablet:!n(tn)&&!n(To)&&!n(Xp)&&(n(Ph)||n(Jx)),device:!n(tn)&&(n(To)||n(Ph)||n(Xp)||n(Jx))||n(/\bokhttp\b/i)},windows:{phone:n(tn),tablet:n(e_),device:n(tn)||n(e_)},other:{blackberry:n(t_),blackberry10:n(r_),opera:n(i_),firefox:n(s_),chrome:n(n_),device:n(t_)||n(r_)||n(i_)||n(s_)||n(n_)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const HI=a_.default??a_,hn=HI(globalThis.navigator);oe.RETINA_PREFIX=/@([0-9\.]+)x/;oe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var AE={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1));function n(h,c,f){this.fn=h,this.context=c,this.once=f||!1}function s(h,c,f,m,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new n(f,m||h,p),x=r?r+c:c;return h._events[x]?h._events[x].fn?h._events[x]=[h._events[x],v]:h._events[x].push(v):(h._events[x]=v,h._eventsCount++),h}function o(h,c){--h._eventsCount===0?h._events=new i:delete h._events[c]}function l(){this._events=new i,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],f,m;if(this._eventsCount===0)return c;for(m in f=this._events)e.call(f,m)&&c.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},l.prototype.listeners=function(c){var f=r?r+c:c,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var p=0,v=m.length,x=new Array(v);p<v;p++)x[p]=m[p].fn;return x},l.prototype.listenerCount=function(c){var f=r?r+c:c,m=this._events[f];return m?m.fn?1:m.length:0},l.prototype.emit=function(c,f,m,p,v,x){var b=r?r+c:c;if(!this._events[b])return!1;var A=this._events[b],S=arguments.length,E,w;if(A.fn){switch(A.once&&this.removeListener(c,A.fn,void 0,!0),S){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,f),!0;case 3:return A.fn.call(A.context,f,m),!0;case 4:return A.fn.call(A.context,f,m,p),!0;case 5:return A.fn.call(A.context,f,m,p,v),!0;case 6:return A.fn.call(A.context,f,m,p,v,x),!0}for(w=1,E=new Array(S-1);w<S;w++)E[w-1]=arguments[w];A.fn.apply(A.context,E)}else{var T=A.length,R;for(w=0;w<T;w++)switch(A[w].once&&this.removeListener(c,A[w].fn,void 0,!0),S){case 1:A[w].fn.call(A[w].context);break;case 2:A[w].fn.call(A[w].context,f);break;case 3:A[w].fn.call(A[w].context,f,m);break;case 4:A[w].fn.call(A[w].context,f,m,p);break;default:if(!E)for(R=1,E=new Array(S-1);R<S;R++)E[R-1]=arguments[R];A[w].fn.apply(A[w].context,E)}}return!0},l.prototype.on=function(c,f,m){return s(this,c,f,m,!1)},l.prototype.once=function(c,f,m){return s(this,c,f,m,!0)},l.prototype.removeListener=function(c,f,m,p){var v=r?r+c:c;if(!this._events[v])return this;if(!f)return o(this,v),this;var x=this._events[v];if(x.fn)x.fn===f&&(!p||x.once)&&(!m||x.context===m)&&o(this,v);else{for(var b=0,A=[],S=x.length;b<S;b++)(x[b].fn!==f||p&&!x[b].once||m&&x[b].context!==m)&&A.push(x[b]);A.length?this._events[v]=A.length===1?A[0]:A:o(this,v)}return this},l.prototype.removeAllListeners=function(c){var f;return c?(f=r?r+c:c,this._events[f]&&o(this,f)):(this._events=new i,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(AE);var VI=AE.exports;const yu=bd(VI);var My={exports:{}};My.exports=Ud;My.exports.default=Ud;function Ud(t,e,r){r=r||2;var i=e&&e.length,n=i?e[0]*r:t.length,s=CE(t,0,n,r,!0),o=[];if(!s||s.next===s.prev)return o;var l,h,c,f,m,p,v;if(i&&(s=QI(t,e,s,r)),t.length>80*r){l=c=t[0],h=f=t[1];for(var x=r;x<n;x+=r)m=t[x],p=t[x+1],m<l&&(l=m),p<h&&(h=p),m>c&&(c=m),p>f&&(f=p);v=Math.max(c-l,f-h),v=v!==0?32767/v:0}return nu(s,o,r,l,h,v,0),o}function CE(t,e,r,i,n){var s,o;if(n===Mg(t,e,r,i)>0)for(s=e;s<r;s+=i)o=l_(s,t[s],t[s+1],o);else for(s=r-i;s>=e;s-=i)o=l_(s,t[s],t[s+1],o);return o&&zd(o,o.next)&&(ou(o),o=o.next),o}function eo(t,e){if(!t)return t;e||(e=t);var r=t,i;do if(i=!1,!r.steiner&&(zd(r,r.next)||st(r.prev,r,r.next)===0)){if(ou(r),r=e=r.prev,r===r.next)break;i=!0}else r=r.next;while(i||r!==e);return e}function nu(t,e,r,i,n,s,o){if(t){!o&&s&&eR(t,i,n,s);for(var l=t,h,c;t.prev!==t.next;){if(h=t.prev,c=t.next,s?XI(t,i,n,s):WI(t)){e.push(h.i/r|0),e.push(t.i/r|0),e.push(c.i/r|0),ou(t),t=c.next,l=c.next;continue}if(t=c,t===l){o?o===1?(t=$I(eo(t),e,r),nu(t,e,r,i,n,s,2)):o===2&&YI(t,e,r,i,n,s):nu(eo(t),e,r,i,n,s,1);break}}}}function WI(t){var e=t.prev,r=t,i=t.next;if(st(e,r,i)>=0)return!1;for(var n=e.x,s=r.x,o=i.x,l=e.y,h=r.y,c=i.y,f=n<s?n<o?n:o:s<o?s:o,m=l<h?l<c?l:c:h<c?h:c,p=n>s?n>o?n:o:s>o?s:o,v=l>h?l>c?l:c:h>c?h:c,x=i.next;x!==e;){if(x.x>=f&&x.x<=p&&x.y>=m&&x.y<=v&&qo(n,l,s,h,o,c,x.x,x.y)&&st(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function XI(t,e,r,i){var n=t.prev,s=t,o=t.next;if(st(n,s,o)>=0)return!1;for(var l=n.x,h=s.x,c=o.x,f=n.y,m=s.y,p=o.y,v=l<h?l<c?l:c:h<c?h:c,x=f<m?f<p?f:p:m<p?m:p,b=l>h?l>c?l:c:h>c?h:c,A=f>m?f>p?f:p:m>p?m:p,S=Rg(v,x,e,r,i),E=Rg(b,A,e,r,i),w=t.prevZ,T=t.nextZ;w&&w.z>=S&&T&&T.z<=E;){if(w.x>=v&&w.x<=b&&w.y>=x&&w.y<=A&&w!==n&&w!==o&&qo(l,f,h,m,c,p,w.x,w.y)&&st(w.prev,w,w.next)>=0||(w=w.prevZ,T.x>=v&&T.x<=b&&T.y>=x&&T.y<=A&&T!==n&&T!==o&&qo(l,f,h,m,c,p,T.x,T.y)&&st(T.prev,T,T.next)>=0))return!1;T=T.nextZ}for(;w&&w.z>=S;){if(w.x>=v&&w.x<=b&&w.y>=x&&w.y<=A&&w!==n&&w!==o&&qo(l,f,h,m,c,p,w.x,w.y)&&st(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;T&&T.z<=E;){if(T.x>=v&&T.x<=b&&T.y>=x&&T.y<=A&&T!==n&&T!==o&&qo(l,f,h,m,c,p,T.x,T.y)&&st(T.prev,T,T.next)>=0)return!1;T=T.nextZ}return!0}function $I(t,e,r){var i=t;do{var n=i.prev,s=i.next.next;!zd(n,s)&&PE(n,i,i.next,s)&&su(n,s)&&su(s,n)&&(e.push(n.i/r|0),e.push(i.i/r|0),e.push(s.i/r|0),ou(i),ou(i.next),i=t=s),i=i.next}while(i!==t);return eo(i)}function YI(t,e,r,i,n,s){var o=t;do{for(var l=o.next.next;l!==o.prev;){if(o.i!==l.i&&iR(o,l)){var h=IE(o,l);o=eo(o,o.next),h=eo(h,h.next),nu(o,e,r,i,n,s,0),nu(h,e,r,i,n,s,0);return}l=l.next}o=o.next}while(o!==t)}function QI(t,e,r,i){var n=[],s,o,l,h,c;for(s=0,o=e.length;s<o;s++)l=e[s]*i,h=s<o-1?e[s+1]*i:t.length,c=CE(t,l,h,i,!1),c===c.next&&(c.steiner=!0),n.push(rR(c));for(n.sort(KI),s=0;s<n.length;s++)r=ZI(n[s],r);return r}function KI(t,e){return t.x-e.x}function ZI(t,e){var r=qI(t,e);if(!r)return e;var i=IE(r,t);return eo(i,i.next),eo(r,r.next)}function qI(t,e){var r=e,i=t.x,n=t.y,s=-1/0,o;do{if(n<=r.y&&n>=r.next.y&&r.next.y!==r.y){var l=r.x+(n-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(l<=i&&l>s&&(s=l,o=r.x<r.next.x?r:r.next,l===i))return o}r=r.next}while(r!==e);if(!o)return null;var h=o,c=o.x,f=o.y,m=1/0,p;r=o;do i>=r.x&&r.x>=c&&i!==r.x&&qo(n<f?i:s,n,c,f,n<f?s:i,n,r.x,r.y)&&(p=Math.abs(n-r.y)/(i-r.x),su(r,t)&&(p<m||p===m&&(r.x>o.x||r.x===o.x&&JI(o,r)))&&(o=r,m=p)),r=r.next;while(r!==h);return o}function JI(t,e){return st(t.prev,t,e.prev)<0&&st(e.next,t,t.next)<0}function eR(t,e,r,i){var n=t;do n.z===0&&(n.z=Rg(n.x,n.y,e,r,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next;while(n!==t);n.prevZ.nextZ=null,n.prevZ=null,tR(n)}function tR(t){var e,r,i,n,s,o,l,h,c=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,i=r,l=0,e=0;e<c&&(l++,i=i.nextZ,!!i);e++);for(h=c;l>0||h>0&&i;)l!==0&&(h===0||!i||r.z<=i.z)?(n=r,r=r.nextZ,l--):(n=i,i=i.nextZ,h--),s?s.nextZ=n:t=n,n.prevZ=s,s=n;r=i}s.nextZ=null,c*=2}while(o>1);return t}function Rg(t,e,r,i,n){return t=(t-r)*n|0,e=(e-i)*n|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function rR(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function qo(t,e,r,i,n,s,o,l){return(n-o)*(e-l)>=(t-o)*(s-l)&&(t-o)*(i-l)>=(r-o)*(e-l)&&(r-o)*(s-l)>=(n-o)*(i-l)}function iR(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!nR(t,e)&&(su(t,e)&&su(e,t)&&sR(t,e)&&(st(t.prev,t,e.prev)||st(t,e.prev,e))||zd(t,e)&&st(t.prev,t,t.next)>0&&st(e.prev,e,e.next)>0)}function st(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function zd(t,e){return t.x===e.x&&t.y===e.y}function PE(t,e,r,i){var n=Rh(st(t,e,r)),s=Rh(st(t,e,i)),o=Rh(st(r,i,t)),l=Rh(st(r,i,e));return!!(n!==s&&o!==l||n===0&&Ih(t,r,e)||s===0&&Ih(t,i,e)||o===0&&Ih(r,t,i)||l===0&&Ih(r,e,i))}function Ih(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function Rh(t){return t>0?1:t<0?-1:0}function nR(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&PE(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function su(t,e){return st(t.prev,t,t.next)<0?st(t,e,t.next)>=0&&st(t,t.prev,e)>=0:st(t,e,t.prev)<0||st(t,t.next,e)<0}function sR(t,e){var r=t,i=!1,n=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&n<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next;while(r!==t);return i}function IE(t,e){var r=new kg(t.i,t.x,t.y),i=new kg(e.i,e.x,e.y),n=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=n,n.prev=r,i.next=r,r.prev=i,s.next=i,i.prev=s,i}function l_(t,e,r,i){var n=new kg(t,e,r);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function ou(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function kg(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Ud.deviation=function(t,e,r,i){var n=e&&e.length,s=n?e[0]*r:t.length,o=Math.abs(Mg(t,0,s,r));if(n)for(var l=0,h=e.length;l<h;l++){var c=e[l]*r,f=l<h-1?e[l+1]*r:t.length;o-=Math.abs(Mg(t,c,f,r))}var m=0;for(l=0;l<i.length;l+=3){var p=i[l]*r,v=i[l+1]*r,x=i[l+2]*r;m+=Math.abs((t[p]-t[x])*(t[v+1]-t[p+1])-(t[p]-t[v])*(t[x+1]-t[p+1]))}return o===0&&m===0?0:Math.abs((m-o)/o)};function Mg(t,e,r,i){for(var n=0,s=e,o=r-i;s<r;s+=i)n+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return n}Ud.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},i=0,n=0;n<t.length;n++){for(var s=0;s<t[n].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[n][s][o]);n>0&&(i+=t[n-1].length,r.holes.push(i))}return r};var oR=My.exports;const aR=bd(oR);var Jc={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */Jc.exports;(function(t,e){(function(r){var i=e&&!e.nodeType&&e,n=t&&!t.nodeType&&t,s=typeof an=="object"&&an;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,l=2147483647,h=36,c=1,f=26,m=38,p=700,v=72,x=128,b="-",A=/^xn--/,S=/[^\x20-\x7E]/,E=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},T=h-c,R=Math.floor,N=String.fromCharCode,D;function M(k){throw new RangeError(w[k])}function V(k,U){for(var re=k.length,be=[];re--;)be[re]=U(k[re]);return be}function W(k,U){var re=k.split("@"),be="";re.length>1&&(be=re[0]+"@",k=re[1]),k=k.replace(E,".");var xe=k.split("."),Le=V(xe,U).join(".");return be+Le}function te(k){for(var U=[],re=0,be=k.length,xe,Le;re<be;)xe=k.charCodeAt(re++),xe>=55296&&xe<=56319&&re<be?(Le=k.charCodeAt(re++),(Le&64512)==56320?U.push(((xe&1023)<<10)+(Le&1023)+65536):(U.push(xe),re--)):U.push(xe);return U}function Z(k){return V(k,function(U){var re="";return U>65535&&(U-=65536,re+=N(U>>>10&1023|55296),U=56320|U&1023),re+=N(U),re}).join("")}function O(k){return k-48<10?k-22:k-65<26?k-65:k-97<26?k-97:h}function G(k,U){return k+22+75*(k<26)-((U!=0)<<5)}function ee(k,U,re){var be=0;for(k=re?R(k/p):k>>1,k+=R(k/U);k>T*f>>1;be+=h)k=R(k/T);return R(be+(T+1)*k/(k+m))}function he(k){var U=[],re=k.length,be,xe=0,Le=x,Ae=v,Be,Tt,Nt,lt,Ce,We,Fe,Rr,kr;for(Be=k.lastIndexOf(b),Be<0&&(Be=0),Tt=0;Tt<Be;++Tt)k.charCodeAt(Tt)>=128&&M("not-basic"),U.push(k.charCodeAt(Tt));for(Nt=Be>0?Be+1:0;Nt<re;){for(lt=xe,Ce=1,We=h;Nt>=re&&M("invalid-input"),Fe=O(k.charCodeAt(Nt++)),(Fe>=h||Fe>R((l-xe)/Ce))&&M("overflow"),xe+=Fe*Ce,Rr=We<=Ae?c:We>=Ae+f?f:We-Ae,!(Fe<Rr);We+=h)kr=h-Rr,Ce>R(l/kr)&&M("overflow"),Ce*=kr;be=U.length+1,Ae=ee(xe-lt,be,lt==0),R(xe/be)>l-Le&&M("overflow"),Le+=R(xe/be),xe%=be,U.splice(xe++,0,Le)}return Z(U)}function H(k){var U,re,be,xe,Le,Ae,Be,Tt,Nt,lt,Ce,We=[],Fe,Rr,kr,ys;for(k=te(k),Fe=k.length,U=x,re=0,Le=v,Ae=0;Ae<Fe;++Ae)Ce=k[Ae],Ce<128&&We.push(N(Ce));for(be=xe=We.length,xe&&We.push(b);be<Fe;){for(Be=l,Ae=0;Ae<Fe;++Ae)Ce=k[Ae],Ce>=U&&Ce<Be&&(Be=Ce);for(Rr=be+1,Be-U>R((l-re)/Rr)&&M("overflow"),re+=(Be-U)*Rr,U=Be,Ae=0;Ae<Fe;++Ae)if(Ce=k[Ae],Ce<U&&++re>l&&M("overflow"),Ce==U){for(Tt=re,Nt=h;lt=Nt<=Le?c:Nt>=Le+f?f:Nt-Le,!(Tt<lt);Nt+=h)ys=Tt-lt,kr=h-lt,We.push(N(G(lt+ys%kr,0))),Tt=R(ys/kr);We.push(N(G(Tt,0))),Le=ee(re,Rr,be==xe),re=0,++be}++re,++U}return We.join("")}function P(k){return W(k,function(U){return A.test(U)?he(U.slice(4).toLowerCase()):U})}function L(k){return W(k,function(U){return S.test(U)?"xn--"+H(U):U})}if(o={version:"1.4.1",ucs2:{decode:te,encode:Z},decode:he,encode:H,toASCII:L,toUnicode:P},i&&n)if(t.exports==i)n.exports=o;else for(D in o)o.hasOwnProperty(D)&&(i[D]=o[D]);else r.punycode=o})(an)})(Jc,Jc.exports);var lR=Jc.exports,uR=Error,hR=EvalError,cR=RangeError,dR=ReferenceError,RE=SyntaxError,vu=TypeError,fR=URIError,pR=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),i=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(i)!=="[object Symbol]")return!1;var n=42;e[r]=n;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==n||o.enumerable!==!0)return!1}return!0},u_=typeof Symbol<"u"&&Symbol,mR=pR,gR=function(){return typeof u_!="function"||typeof Symbol!="function"||typeof u_("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:mR()},$p={__proto__:null,foo:{}},yR=Object,vR=function(){return{__proto__:$p}.foo===$p.foo&&!($p instanceof yR)},xR="Function.prototype.bind called on incompatible ",_R=Object.prototype.toString,wR=Math.max,bR="[object Function]",h_=function(e,r){for(var i=[],n=0;n<e.length;n+=1)i[n]=e[n];for(var s=0;s<r.length;s+=1)i[s+e.length]=r[s];return i},SR=function(e,r){for(var i=[],n=r,s=0;n<e.length;n+=1,s+=1)i[s]=e[n];return i},ER=function(t,e){for(var r="",i=0;i<t.length;i+=1)r+=t[i],i+1<t.length&&(r+=e);return r},TR=function(e){var r=this;if(typeof r!="function"||_R.apply(r)!==bR)throw new TypeError(xR+r);for(var i=SR(arguments,1),n,s=function(){if(this instanceof n){var f=r.apply(this,h_(i,arguments));return Object(f)===f?f:this}return r.apply(e,h_(i,arguments))},o=wR(0,r.length-i.length),l=[],h=0;h<o;h++)l[h]="$"+h;if(n=Function("binder","return function ("+ER(l,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var c=function(){};c.prototype=r.prototype,n.prototype=new c,c.prototype=null}return n},AR=TR,Dy=Function.prototype.bind||AR,CR=Function.prototype.call,PR=Object.prototype.hasOwnProperty,IR=Dy,RR=IR.call(CR,PR),Re,kR=uR,MR=hR,DR=cR,FR=dR,ba=RE,la=vu,OR=fR,kE=Function,Yp=function(t){try{return kE('"use strict"; return ('+t+").constructor;")()}catch{}},Ws=Object.getOwnPropertyDescriptor;if(Ws)try{Ws({},"")}catch{Ws=null}var Qp=function(){throw new la},NR=Ws?function(){try{return arguments.callee,Qp}catch{try{return Ws(arguments,"callee").get}catch{return Qp}}}():Qp,Ao=gR(),BR=vR(),Rt=Object.getPrototypeOf||(BR?function(t){return t.__proto__}:null),Do={},LR=typeof Uint8Array>"u"||!Rt?Re:Rt(Uint8Array),Xs={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Re:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Re:ArrayBuffer,"%ArrayIteratorPrototype%":Ao&&Rt?Rt([][Symbol.iterator]()):Re,"%AsyncFromSyncIteratorPrototype%":Re,"%AsyncFunction%":Do,"%AsyncGenerator%":Do,"%AsyncGeneratorFunction%":Do,"%AsyncIteratorPrototype%":Do,"%Atomics%":typeof Atomics>"u"?Re:Atomics,"%BigInt%":typeof BigInt>"u"?Re:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Re:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Re:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Re:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":kR,"%eval%":eval,"%EvalError%":MR,"%Float32Array%":typeof Float32Array>"u"?Re:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Re:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Re:FinalizationRegistry,"%Function%":kE,"%GeneratorFunction%":Do,"%Int8Array%":typeof Int8Array>"u"?Re:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Re:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Re:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ao&&Rt?Rt(Rt([][Symbol.iterator]())):Re,"%JSON%":typeof JSON=="object"?JSON:Re,"%Map%":typeof Map>"u"?Re:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Ao||!Rt?Re:Rt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Re:Promise,"%Proxy%":typeof Proxy>"u"?Re:Proxy,"%RangeError%":DR,"%ReferenceError%":FR,"%Reflect%":typeof Reflect>"u"?Re:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Re:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Ao||!Rt?Re:Rt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Re:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ao&&Rt?Rt(""[Symbol.iterator]()):Re,"%Symbol%":Ao?Symbol:Re,"%SyntaxError%":ba,"%ThrowTypeError%":NR,"%TypedArray%":LR,"%TypeError%":la,"%Uint8Array%":typeof Uint8Array>"u"?Re:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Re:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Re:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Re:Uint32Array,"%URIError%":OR,"%WeakMap%":typeof WeakMap>"u"?Re:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Re:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Re:WeakSet};if(Rt)try{null.error}catch(t){var UR=Rt(Rt(t));Xs["%Error.prototype%"]=UR}var zR=function t(e){var r;if(e==="%AsyncFunction%")r=Yp("async function () {}");else if(e==="%GeneratorFunction%")r=Yp("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Yp("async function* () {}");else if(e==="%AsyncGenerator%"){var i=t("%AsyncGeneratorFunction%");i&&(r=i.prototype)}else if(e==="%AsyncIteratorPrototype%"){var n=t("%AsyncGenerator%");n&&Rt&&(r=Rt(n.prototype))}return Xs[e]=r,r},c_={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},xu=Dy,ed=RR,GR=xu.call(Function.call,Array.prototype.concat),jR=xu.call(Function.apply,Array.prototype.splice),d_=xu.call(Function.call,String.prototype.replace),td=xu.call(Function.call,String.prototype.slice),HR=xu.call(Function.call,RegExp.prototype.exec),VR=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,WR=/\\(\\)?/g,XR=function(e){var r=td(e,0,1),i=td(e,-1);if(r==="%"&&i!=="%")throw new ba("invalid intrinsic syntax, expected closing `%`");if(i==="%"&&r!=="%")throw new ba("invalid intrinsic syntax, expected opening `%`");var n=[];return d_(e,VR,function(s,o,l,h){n[n.length]=l?d_(h,WR,"$1"):o||s}),n},$R=function(e,r){var i=e,n;if(ed(c_,i)&&(n=c_[i],i="%"+n[0]+"%"),ed(Xs,i)){var s=Xs[i];if(s===Do&&(s=zR(i)),typeof s>"u"&&!r)throw new la("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:i,value:s}}throw new ba("intrinsic "+e+" does not exist!")},Ia=function(e,r){if(typeof e!="string"||e.length===0)throw new la("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new la('"allowMissing" argument must be a boolean');if(HR(/^%?[^%]*%?$/,e)===null)throw new ba("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var i=XR(e),n=i.length>0?i[0]:"",s=$R("%"+n+"%",r),o=s.name,l=s.value,h=!1,c=s.alias;c&&(n=c[0],jR(i,GR([0,1],c)));for(var f=1,m=!0;f<i.length;f+=1){var p=i[f],v=td(p,0,1),x=td(p,-1);if((v==='"'||v==="'"||v==="`"||x==='"'||x==="'"||x==="`")&&v!==x)throw new ba("property names with quotes must have matching quotes");if((p==="constructor"||!m)&&(h=!0),n+="."+p,o="%"+n+"%",ed(Xs,o))l=Xs[o];else if(l!=null){if(!(p in l)){if(!r)throw new la("base intrinsic for "+e+" exists, but the property is not available.");return}if(Ws&&f+1>=i.length){var b=Ws(l,p);m=!!b,m&&"get"in b&&!("originalValue"in b.get)?l=b.get:l=l[p]}else m=ed(l,p),l=l[p];m&&!h&&(Xs[o]=l)}}return l},ME={exports:{}},Kp,f_;function Fy(){if(f_)return Kp;f_=1;var t=Ia,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return Kp=e,Kp}var YR=Ia,vc=YR("%Object.getOwnPropertyDescriptor%",!0);if(vc)try{vc([],"length")}catch{vc=null}var DE=vc,p_=Fy(),QR=RE,Co=vu,m_=DE,KR=function(e,r,i){if(!e||typeof e!="object"&&typeof e!="function")throw new Co("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Co("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Co("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Co("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Co("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Co("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,h=!!m_&&m_(e,r);if(p_)p_(e,r,{configurable:o===null&&h?h.configurable:!o,enumerable:n===null&&h?h.enumerable:!n,value:i,writable:s===null&&h?h.writable:!s});else if(l||!n&&!s&&!o)e[r]=i;else throw new QR("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Dg=Fy(),FE=function(){return!!Dg};FE.hasArrayLengthDefineBug=function(){if(!Dg)return null;try{return Dg([],"length",{value:1}).length!==1}catch{return!0}};var ZR=FE,qR=Ia,g_=KR,JR=ZR(),y_=DE,v_=vu,e3=qR("%Math.floor%"),t3=function(e,r){if(typeof e!="function")throw new v_("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||e3(r)!==r)throw new v_("`length` must be a positive 32-bit integer");var i=arguments.length>2&&!!arguments[2],n=!0,s=!0;if("length"in e&&y_){var o=y_(e,"length");o&&!o.configurable&&(n=!1),o&&!o.writable&&(s=!1)}return(n||s||!i)&&(JR?g_(e,"length",r,!0,!0):g_(e,"length",r)),e};(function(t){var e=Dy,r=Ia,i=t3,n=vu,s=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),l=r("%Reflect.apply%",!0)||e.call(o,s),h=Fy(),c=r("%Math.max%");t.exports=function(p){if(typeof p!="function")throw new n("a function is required");var v=l(e,o,arguments);return i(v,1+c(0,p.length-(arguments.length-1)),!0)};var f=function(){return l(e,s,arguments)};h?h(t.exports,"apply",{value:f}):t.exports.apply=f})(ME);var r3=ME.exports,OE=Ia,NE=r3,i3=NE(OE("String.prototype.indexOf")),n3=function(e,r){var i=OE(e,!!r);return typeof i=="function"&&i3(e,".prototype.")>-1?NE(i):i};const s3={},o3=Object.freeze(Object.defineProperty({__proto__:null,default:s3},Symbol.toStringTag,{value:"Module"})),a3=cb(o3);var Oy=typeof Map=="function"&&Map.prototype,Zp=Object.getOwnPropertyDescriptor&&Oy?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,rd=Oy&&Zp&&typeof Zp.get=="function"?Zp.get:null,x_=Oy&&Map.prototype.forEach,Ny=typeof Set=="function"&&Set.prototype,qp=Object.getOwnPropertyDescriptor&&Ny?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,id=Ny&&qp&&typeof qp.get=="function"?qp.get:null,__=Ny&&Set.prototype.forEach,l3=typeof WeakMap=="function"&&WeakMap.prototype,Ol=l3?WeakMap.prototype.has:null,u3=typeof WeakSet=="function"&&WeakSet.prototype,Nl=u3?WeakSet.prototype.has:null,h3=typeof WeakRef=="function"&&WeakRef.prototype,w_=h3?WeakRef.prototype.deref:null,c3=Boolean.prototype.valueOf,d3=Object.prototype.toString,f3=Function.prototype.toString,p3=String.prototype.match,By=String.prototype.slice,Yn=String.prototype.replace,m3=String.prototype.toUpperCase,b_=String.prototype.toLowerCase,BE=RegExp.prototype.test,S_=Array.prototype.concat,Li=Array.prototype.join,g3=Array.prototype.slice,E_=Math.floor,Fg=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Jp=Object.getOwnPropertySymbols,Og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Sa=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Jt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Sa||!0)?Symbol.toStringTag:null,LE=Object.prototype.propertyIsEnumerable,T_=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function A_(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||BE.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var i=t<0?-E_(-t):E_(t);if(i!==t){var n=String(i),s=By.call(e,n.length+1);return Yn.call(n,r,"$&_")+"."+Yn.call(Yn.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Yn.call(e,r,"$&_")}var Ng=a3,C_=Ng.custom,P_=zE(C_)?C_:null,y3=function t(e,r,i,n){var s=r||{};if(Gn(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Gn(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Gn(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Gn(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Gn(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return jE(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var h=String(e);return l?A_(e,h):h}if(typeof e=="bigint"){var c=String(e)+"n";return l?A_(e,c):c}var f=typeof s.depth>"u"?5:s.depth;if(typeof i>"u"&&(i=0),i>=f&&f>0&&typeof e=="object")return Bg(e)?"[Array]":"[Object]";var m=O3(s,i);if(typeof n>"u")n=[];else if(GE(n,e)>=0)return"[Circular]";function p(O,G,ee){if(G&&(n=g3.call(n),n.push(G)),ee){var he={depth:s.depth};return Gn(s,"quoteStyle")&&(he.quoteStyle=s.quoteStyle),t(O,he,i+1,n)}return t(O,s,i+1,n)}if(typeof e=="function"&&!I_(e)){var v=A3(e),x=kh(e,p);return"[Function"+(v?": "+v:" (anonymous)")+"]"+(x.length>0?" { "+Li.call(x,", ")+" }":"")}if(zE(e)){var b=Sa?Yn.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Og.call(e);return typeof e=="object"&&!Sa?al(b):b}if(M3(e)){for(var A="<"+b_.call(String(e.nodeName)),S=e.attributes||[],E=0;E<S.length;E++)A+=" "+S[E].name+"="+UE(v3(S[E].value),"double",s);return A+=">",e.childNodes&&e.childNodes.length&&(A+="..."),A+="</"+b_.call(String(e.nodeName))+">",A}if(Bg(e)){if(e.length===0)return"[]";var w=kh(e,p);return m&&!F3(w)?"["+Lg(w,m)+"]":"[ "+Li.call(w,", ")+" ]"}if(_3(e)){var T=kh(e,p);return!("cause"in Error.prototype)&&"cause"in e&&!LE.call(e,"cause")?"{ ["+String(e)+"] "+Li.call(S_.call("[cause]: "+p(e.cause),T),", ")+" }":T.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Li.call(T,", ")+" }"}if(typeof e=="object"&&o){if(P_&&typeof e[P_]=="function"&&Ng)return Ng(e,{depth:f-i});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(C3(e)){var R=[];return x_&&x_.call(e,function(O,G){R.push(p(G,e,!0)+" => "+p(O,e))}),R_("Map",rd.call(e),R,m)}if(R3(e)){var N=[];return __&&__.call(e,function(O){N.push(p(O,e))}),R_("Set",id.call(e),N,m)}if(P3(e))return em("WeakMap");if(k3(e))return em("WeakSet");if(I3(e))return em("WeakRef");if(b3(e))return al(p(Number(e)));if(E3(e))return al(p(Fg.call(e)));if(S3(e))return al(c3.call(e));if(w3(e))return al(p(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof an<"u"&&e===an)return"{ [object globalThis] }";if(!x3(e)&&!I_(e)){var D=kh(e,p),M=T_?T_(e)===Object.prototype:e instanceof Object||e.constructor===Object,V=e instanceof Object?"":"null prototype",W=!M&&Jt&&Object(e)===e&&Jt in e?By.call(ps(e),8,-1):V?"Object":"",te=M||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",Z=te+(W||V?"["+Li.call(S_.call([],W||[],V||[]),": ")+"] ":"");return D.length===0?Z+"{}":m?Z+"{"+Lg(D,m)+"}":Z+"{ "+Li.call(D,", ")+" }"}return String(e)};function UE(t,e,r){var i=(r.quoteStyle||e)==="double"?'"':"'";return i+t+i}function v3(t){return Yn.call(String(t),/"/g,"&quot;")}function Bg(t){return ps(t)==="[object Array]"&&(!Jt||!(typeof t=="object"&&Jt in t))}function x3(t){return ps(t)==="[object Date]"&&(!Jt||!(typeof t=="object"&&Jt in t))}function I_(t){return ps(t)==="[object RegExp]"&&(!Jt||!(typeof t=="object"&&Jt in t))}function _3(t){return ps(t)==="[object Error]"&&(!Jt||!(typeof t=="object"&&Jt in t))}function w3(t){return ps(t)==="[object String]"&&(!Jt||!(typeof t=="object"&&Jt in t))}function b3(t){return ps(t)==="[object Number]"&&(!Jt||!(typeof t=="object"&&Jt in t))}function S3(t){return ps(t)==="[object Boolean]"&&(!Jt||!(typeof t=="object"&&Jt in t))}function zE(t){if(Sa)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Og)return!1;try{return Og.call(t),!0}catch{}return!1}function E3(t){if(!t||typeof t!="object"||!Fg)return!1;try{return Fg.call(t),!0}catch{}return!1}var T3=Object.prototype.hasOwnProperty||function(t){return t in this};function Gn(t,e){return T3.call(t,e)}function ps(t){return d3.call(t)}function A3(t){if(t.name)return t.name;var e=p3.call(f3.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function GE(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,i=t.length;r<i;r++)if(t[r]===e)return r;return-1}function C3(t){if(!rd||!t||typeof t!="object")return!1;try{rd.call(t);try{id.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function P3(t){if(!Ol||!t||typeof t!="object")return!1;try{Ol.call(t,Ol);try{Nl.call(t,Nl)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function I3(t){if(!w_||!t||typeof t!="object")return!1;try{return w_.call(t),!0}catch{}return!1}function R3(t){if(!id||!t||typeof t!="object")return!1;try{id.call(t);try{rd.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function k3(t){if(!Nl||!t||typeof t!="object")return!1;try{Nl.call(t,Nl);try{Ol.call(t,Ol)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function M3(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function jE(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,i="... "+r+" more character"+(r>1?"s":"");return jE(By.call(t,0,e.maxStringLength),e)+i}var n=Yn.call(Yn.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,D3);return UE(n,"single",e)}function D3(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+m3.call(e.toString(16))}function al(t){return"Object("+t+")"}function em(t){return t+" { ? }"}function R_(t,e,r,i){var n=i?Lg(r,i):Li.call(r,", ");return t+" ("+e+") {"+n+"}"}function F3(t){for(var e=0;e<t.length;e++)if(GE(t[e],`
`)>=0)return!1;return!0}function O3(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Li.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Li.call(Array(e+1),r)}}function Lg(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Li.call(t,","+r)+`
`+e.prev}function kh(t,e){var r=Bg(t),i=[];if(r){i.length=t.length;for(var n=0;n<t.length;n++)i[n]=Gn(t,n)?e(t[n],t):""}var s=typeof Jp=="function"?Jp(t):[],o;if(Sa){o={};for(var l=0;l<s.length;l++)o["$"+s[l]]=s[l]}for(var h in t)Gn(t,h)&&(r&&String(Number(h))===h&&h<t.length||Sa&&o["$"+h]instanceof Symbol||(BE.call(/[^\w$]/,h)?i.push(e(h,t)+": "+e(t[h],t)):i.push(h+": "+e(t[h],t))));if(typeof Jp=="function")for(var c=0;c<s.length;c++)LE.call(t,s[c])&&i.push("["+e(s[c])+"]: "+e(t[s[c]],t));return i}var HE=Ia,Ra=n3,N3=y3,B3=vu,Mh=HE("%WeakMap%",!0),Dh=HE("%Map%",!0),L3=Ra("WeakMap.prototype.get",!0),U3=Ra("WeakMap.prototype.set",!0),z3=Ra("WeakMap.prototype.has",!0),G3=Ra("Map.prototype.get",!0),j3=Ra("Map.prototype.set",!0),H3=Ra("Map.prototype.has",!0),Ly=function(t,e){for(var r=t,i;(i=r.next)!==null;r=i)if(i.key===e)return r.next=i.next,i.next=t.next,t.next=i,i},V3=function(t,e){var r=Ly(t,e);return r&&r.value},W3=function(t,e,r){var i=Ly(t,e);i?i.value=r:t.next={key:e,next:t.next,value:r}},X3=function(t,e){return!!Ly(t,e)},$3=function(){var e,r,i,n={assert:function(s){if(!n.has(s))throw new B3("Side channel does not contain "+N3(s))},get:function(s){if(Mh&&s&&(typeof s=="object"||typeof s=="function")){if(e)return L3(e,s)}else if(Dh){if(r)return G3(r,s)}else if(i)return V3(i,s)},has:function(s){if(Mh&&s&&(typeof s=="object"||typeof s=="function")){if(e)return z3(e,s)}else if(Dh){if(r)return H3(r,s)}else if(i)return X3(i,s);return!1},set:function(s,o){Mh&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Mh),U3(e,s,o)):Dh?(r||(r=new Dh),j3(r,s,o)):(i||(i={key:{},next:null}),W3(i,s,o))}};return n},Y3=String.prototype.replace,Q3=/%20/g,tm={RFC1738:"RFC1738",RFC3986:"RFC3986"},Uy={default:tm.RFC3986,formatters:{RFC1738:function(t){return Y3.call(t,Q3,"+")},RFC3986:function(t){return String(t)}},RFC1738:tm.RFC1738,RFC3986:tm.RFC3986},K3=Uy,rm=Object.prototype.hasOwnProperty,Ls=Array.isArray,Ii=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Z3=function(e){for(;e.length>1;){var r=e.pop(),i=r.obj[r.prop];if(Ls(i)){for(var n=[],s=0;s<i.length;++s)typeof i[s]<"u"&&n.push(i[s]);r.obj[r.prop]=n}}},VE=function(e,r){for(var i=r&&r.plainObjects?Object.create(null):{},n=0;n<e.length;++n)typeof e[n]<"u"&&(i[n]=e[n]);return i},q3=function t(e,r,i){if(!r)return e;if(typeof r!="object"){if(Ls(e))e.push(r);else if(e&&typeof e=="object")(i&&(i.plainObjects||i.allowPrototypes)||!rm.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var n=e;return Ls(e)&&!Ls(r)&&(n=VE(e,i)),Ls(e)&&Ls(r)?(r.forEach(function(s,o){if(rm.call(e,o)){var l=e[o];l&&typeof l=="object"&&s&&typeof s=="object"?e[o]=t(l,s,i):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var l=r[o];return rm.call(s,o)?s[o]=t(s[o],l,i):s[o]=l,s},n)},J3=function(e,r){return Object.keys(r).reduce(function(i,n){return i[n]=r[n],i},e)},ek=function(t,e,r){var i=t.replace(/\+/g," ");if(r==="iso-8859-1")return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch{return i}},im=1024,tk=function(e,r,i,n,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),i==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(v){return"%26%23"+parseInt(v.slice(2),16)+"%3B"});for(var l="",h=0;h<o.length;h+=im){for(var c=o.length>=im?o.slice(h,h+im):o,f=[],m=0;m<c.length;++m){var p=c.charCodeAt(m);if(p===45||p===46||p===95||p===126||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122||s===K3.RFC1738&&(p===40||p===41)){f[f.length]=c.charAt(m);continue}if(p<128){f[f.length]=Ii[p];continue}if(p<2048){f[f.length]=Ii[192|p>>6]+Ii[128|p&63];continue}if(p<55296||p>=57344){f[f.length]=Ii[224|p>>12]+Ii[128|p>>6&63]+Ii[128|p&63];continue}m+=1,p=65536+((p&1023)<<10|c.charCodeAt(m)&1023),f[f.length]=Ii[240|p>>18]+Ii[128|p>>12&63]+Ii[128|p>>6&63]+Ii[128|p&63]}l+=f.join("")}return l},rk=function(e){for(var r=[{obj:{o:e},prop:"o"}],i=[],n=0;n<r.length;++n)for(var s=r[n],o=s.obj[s.prop],l=Object.keys(o),h=0;h<l.length;++h){var c=l[h],f=o[c];typeof f=="object"&&f!==null&&i.indexOf(f)===-1&&(r.push({obj:o,prop:c}),i.push(f))}return Z3(r),e},ik=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},nk=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},sk=function(e,r){return[].concat(e,r)},ok=function(e,r){if(Ls(e)){for(var i=[],n=0;n<e.length;n+=1)i.push(r(e[n]));return i}return r(e)},WE={arrayToObject:VE,assign:J3,combine:sk,compact:rk,decode:ek,encode:tk,isBuffer:nk,isRegExp:ik,maybeMap:ok,merge:q3},XE=$3,xc=WE,Bl=Uy,ak=Object.prototype.hasOwnProperty,$E={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Ni=Array.isArray,lk=Array.prototype.push,YE=function(t,e){lk.apply(t,Ni(e)?e:[e])},uk=Date.prototype.toISOString,k_=Bl.default,wt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:xc.encode,encodeValuesOnly:!1,format:k_,formatter:Bl.formatters[k_],indices:!1,serializeDate:function(e){return uk.call(e)},skipNulls:!1,strictNullHandling:!1},hk=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},nm={},ck=function t(e,r,i,n,s,o,l,h,c,f,m,p,v,x,b,A,S,E){for(var w=e,T=E,R=0,N=!1;(T=T.get(nm))!==void 0&&!N;){var D=T.get(e);if(R+=1,typeof D<"u"){if(D===R)throw new RangeError("Cyclic object value");N=!0}typeof T.get(nm)>"u"&&(R=0)}if(typeof f=="function"?w=f(r,w):w instanceof Date?w=v(w):i==="comma"&&Ni(w)&&(w=xc.maybeMap(w,function(k){return k instanceof Date?v(k):k})),w===null){if(o)return c&&!A?c(r,wt.encoder,S,"key",x):r;w=""}if(hk(w)||xc.isBuffer(w)){if(c){var M=A?r:c(r,wt.encoder,S,"key",x);return[b(M)+"="+b(c(w,wt.encoder,S,"value",x))]}return[b(r)+"="+b(String(w))]}var V=[];if(typeof w>"u")return V;var W;if(i==="comma"&&Ni(w))A&&c&&(w=xc.maybeMap(w,c)),W=[{value:w.length>0?w.join(",")||null:void 0}];else if(Ni(f))W=f;else{var te=Object.keys(w);W=m?te.sort(m):te}var Z=h?r.replace(/\./g,"%2E"):r,O=n&&Ni(w)&&w.length===1?Z+"[]":Z;if(s&&Ni(w)&&w.length===0)return O+"[]";for(var G=0;G<W.length;++G){var ee=W[G],he=typeof ee=="object"&&typeof ee.value<"u"?ee.value:w[ee];if(!(l&&he===null)){var H=p&&h?ee.replace(/\./g,"%2E"):ee,P=Ni(w)?typeof i=="function"?i(O,H):O:O+(p?"."+H:"["+H+"]");E.set(e,R);var L=XE();L.set(nm,E),YE(V,t(he,P,i,n,s,o,l,h,i==="comma"&&A&&Ni(w)?null:c,f,m,p,v,x,b,A,S,L))}}return V},dk=function(e){if(!e)return wt;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||wt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var i=Bl.default;if(typeof e.format<"u"){if(!ak.call(Bl.formatters,e.format))throw new TypeError("Unknown format option provided.");i=e.format}var n=Bl.formatters[i],s=wt.filter;(typeof e.filter=="function"||Ni(e.filter))&&(s=e.filter);var o;if(e.arrayFormat in $E?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=wt.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:wt.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:wt.addQueryPrefix,allowDots:l,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:wt.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:wt.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?wt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:wt.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:wt.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:wt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:wt.encodeValuesOnly,filter:s,format:i,formatter:n,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:wt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:wt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:wt.strictNullHandling}},fk=function(t,e){var r=t,i=dk(e),n,s;typeof i.filter=="function"?(s=i.filter,r=s("",r)):Ni(i.filter)&&(s=i.filter,n=s);var o=[];if(typeof r!="object"||r===null)return"";var l=$E[i.arrayFormat],h=l==="comma"&&i.commaRoundTrip;n||(n=Object.keys(r)),i.sort&&n.sort(i.sort);for(var c=XE(),f=0;f<n.length;++f){var m=n[f];i.skipNulls&&r[m]===null||YE(o,ck(r[m],m,l,h,i.allowEmptyArrays,i.strictNullHandling,i.skipNulls,i.encodeDotInKeys,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,c))}var p=o.join(i.delimiter),v=i.addQueryPrefix===!0?"?":"";return i.charsetSentinel&&(i.charset==="iso-8859-1"?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),p.length>0?v+p:""},Ea=WE,Ug=Object.prototype.hasOwnProperty,pk=Array.isArray,ht={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:Ea.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},mk=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},QE=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},gk="utf8=%26%2310003%3B",yk="utf8=%E2%9C%93",vk=function(e,r){var i={__proto__:null},n=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;n=n.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=n.split(r.delimiter,s),l=-1,h,c=r.charset;if(r.charsetSentinel)for(h=0;h<o.length;++h)o[h].indexOf("utf8=")===0&&(o[h]===yk?c="utf-8":o[h]===gk&&(c="iso-8859-1"),l=h,h=o.length);for(h=0;h<o.length;++h)if(h!==l){var f=o[h],m=f.indexOf("]="),p=m===-1?f.indexOf("="):m+1,v,x;p===-1?(v=r.decoder(f,ht.decoder,c,"key"),x=r.strictNullHandling?null:""):(v=r.decoder(f.slice(0,p),ht.decoder,c,"key"),x=Ea.maybeMap(QE(f.slice(p+1),r),function(A){return r.decoder(A,ht.decoder,c,"value")})),x&&r.interpretNumericEntities&&c==="iso-8859-1"&&(x=mk(x)),f.indexOf("[]=")>-1&&(x=pk(x)?[x]:x);var b=Ug.call(i,v);b&&r.duplicates==="combine"?i[v]=Ea.combine(i[v],x):(!b||r.duplicates==="last")&&(i[v]=x)}return i},xk=function(t,e,r,i){for(var n=i?e:QE(e,r),s=t.length-1;s>=0;--s){var o,l=t[s];if(l==="[]"&&r.parseArrays)o=r.allowEmptyArrays&&(n===""||r.strictNullHandling&&n===null)?[]:[].concat(n);else{o=r.plainObjects?Object.create(null):{};var h=l.charAt(0)==="["&&l.charAt(l.length-1)==="]"?l.slice(1,-1):l,c=r.decodeDotInKeys?h.replace(/%2E/g,"."):h,f=parseInt(c,10);!r.parseArrays&&c===""?o={0:n}:!isNaN(f)&&l!==c&&String(f)===c&&f>=0&&r.parseArrays&&f<=r.arrayLimit?(o=[],o[f]=n):c!=="__proto__"&&(o[c]=n)}n=o}return n},_k=function(e,r,i,n){if(e){var s=i.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,l=/(\[[^[\]]*])/g,h=i.depth>0&&o.exec(s),c=h?s.slice(0,h.index):s,f=[];if(c){if(!i.plainObjects&&Ug.call(Object.prototype,c)&&!i.allowPrototypes)return;f.push(c)}for(var m=0;i.depth>0&&(h=l.exec(s))!==null&&m<i.depth;){if(m+=1,!i.plainObjects&&Ug.call(Object.prototype,h[1].slice(1,-1))&&!i.allowPrototypes)return;f.push(h[1])}if(h){if(i.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+i.depth+" and strictDepth is true");f.push("["+s.slice(h.index)+"]")}return xk(f,r,i,n)}},wk=function(e){if(!e)return ht;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?ht.charset:e.charset,i=typeof e.duplicates>"u"?ht.duplicates:e.duplicates;if(i!=="combine"&&i!=="first"&&i!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var n=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:ht.allowDots:!!e.allowDots;return{allowDots:n,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:ht.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:ht.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:ht.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:ht.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ht.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:ht.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:ht.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:ht.decoder,delimiter:typeof e.delimiter=="string"||Ea.isRegExp(e.delimiter)?e.delimiter:ht.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:ht.depth,duplicates:i,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:ht.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:ht.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:ht.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:ht.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ht.strictNullHandling}},bk=function(t,e){var r=wk(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var i=typeof t=="string"?vk(t,r):t,n=r.plainObjects?Object.create(null):{},s=Object.keys(i),o=0;o<s.length;++o){var l=s[o],h=_k(l,i[l],r,typeof t=="string");n=Ea.merge(n,h,r)}return r.allowSparse===!0?n:Ea.compact(n)},Sk=fk,Ek=bk,Tk=Uy,Ak={formats:Tk,parse:Ek,stringify:Sk},Ck=lR;function pn(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Pk=/^([a-z0-9.+-]+:)/i,Ik=/:[0-9]*$/,Rk=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,kk=["<",">",'"',"`"," ","\r",`
`,"	"],Mk=["{","}","|","\\","^","`"].concat(kk),zg=["'"].concat(Mk),M_=["%","/","?",";","#"].concat(zg),D_=["/","?","#"],Dk=255,F_=/^[+a-z0-9A-Z_-]{0,63}$/,Fk=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,Ok={javascript:!0,"javascript:":!0},Gg={javascript:!0,"javascript:":!0},ua={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},jg=Ak;function Nk(t,e,r){if(t&&typeof t=="object"&&t instanceof pn)return t;var i=new pn;return i.parse(t,e,r),i}pn.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var i=t.indexOf("?"),n=i!==-1&&i<t.indexOf("#")?"?":"#",s=t.split(n),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(n);var l=t;if(l=l.trim(),!r&&t.split("#").length===1){var h=Rk.exec(l);if(h)return this.path=l,this.href=l,this.pathname=h[1],h[2]?(this.search=h[2],e?this.query=jg.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var c=Pk.exec(l);if(c){c=c[0];var f=c.toLowerCase();this.protocol=f,l=l.substr(c.length)}if(r||c||l.match(/^\/\/[^@/]+@[^@/]+/)){var m=l.substr(0,2)==="//";m&&!(c&&Gg[c])&&(l=l.substr(2),this.slashes=!0)}if(!Gg[c]&&(m||c&&!ua[c])){for(var p=-1,v=0;v<D_.length;v++){var x=l.indexOf(D_[v]);x!==-1&&(p===-1||x<p)&&(p=x)}var b,A;p===-1?A=l.lastIndexOf("@"):A=l.lastIndexOf("@",p),A!==-1&&(b=l.slice(0,A),l=l.slice(A+1),this.auth=decodeURIComponent(b)),p=-1;for(var v=0;v<M_.length;v++){var x=l.indexOf(M_[v]);x!==-1&&(p===-1||x<p)&&(p=x)}p===-1&&(p=l.length),this.host=l.slice(0,p),l=l.slice(p),this.parseHost(),this.hostname=this.hostname||"";var S=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!S)for(var E=this.hostname.split(/\./),v=0,w=E.length;v<w;v++){var T=E[v];if(T&&!T.match(F_)){for(var R="",N=0,D=T.length;N<D;N++)T.charCodeAt(N)>127?R+="x":R+=T[N];if(!R.match(F_)){var M=E.slice(0,v),V=E.slice(v+1),W=T.match(Fk);W&&(M.push(W[1]),V.unshift(W[2])),V.length&&(l="/"+V.join(".")+l),this.hostname=M.join(".");break}}}this.hostname.length>Dk?this.hostname="":this.hostname=this.hostname.toLowerCase(),S||(this.hostname=Ck.toASCII(this.hostname));var te=this.port?":"+this.port:"",Z=this.hostname||"";this.host=Z+te,this.href+=this.host,S&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),l[0]!=="/"&&(l="/"+l))}if(!Ok[f])for(var v=0,w=zg.length;v<w;v++){var O=zg[v];if(l.indexOf(O)!==-1){var G=encodeURIComponent(O);G===O&&(G=escape(O)),l=l.split(O).join(G)}}var ee=l.indexOf("#");ee!==-1&&(this.hash=l.substr(ee),l=l.slice(0,ee));var he=l.indexOf("?");if(he!==-1?(this.search=l.substr(he),this.query=l.substr(he+1),e&&(this.query=jg.parse(this.query)),l=l.slice(0,he)):e&&(this.search="",this.query={}),l&&(this.pathname=l),ua[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var te=this.pathname||"",H=this.search||"";this.path=te+H}return this.href=this.format(),this};pn.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",i=this.hash||"",n=!1,s="";this.host?n=t+this.host:this.hostname&&(n=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=jg.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||ua[e])&&n!==!1?(n="//"+(n||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):n||(n=""),i&&i.charAt(0)!=="#"&&(i="#"+i),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(l){return encodeURIComponent(l)}),o=o.replace("#","%23"),e+n+r+o+i};pn.prototype.resolve=function(t){return this.resolveObject(Nk(t,!1,!0)).format()};pn.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new pn;e.parse(t,!1,!0),t=e}for(var r=new pn,i=Object.keys(this),n=0;n<i.length;n++){var s=i[n];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),l=0;l<o.length;l++){var h=o[l];h!=="protocol"&&(r[h]=t[h])}return ua[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!ua[t.protocol]){for(var c=Object.keys(t),f=0;f<c.length;f++){var m=c[f];r[m]=t[m]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!Gg[t.protocol]){for(var w=(t.pathname||"").split("/");w.length&&!(t.host=w.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),w[0]!==""&&w.unshift(""),w.length<2&&w.unshift(""),r.pathname=w.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var p=r.pathname||"",v=r.search||"";r.path=p+v}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var x=r.pathname&&r.pathname.charAt(0)==="/",b=t.host||t.pathname&&t.pathname.charAt(0)==="/",A=b||x||r.host&&t.pathname,S=A,E=r.pathname&&r.pathname.split("/")||[],w=t.pathname&&t.pathname.split("/")||[],T=r.protocol&&!ua[r.protocol];if(T&&(r.hostname="",r.port=null,r.host&&(E[0]===""?E[0]=r.host:E.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(w[0]===""?w[0]=t.host:w.unshift(t.host)),t.host=null),A=A&&(w[0]===""||E[0]==="")),b)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,E=w;else if(w.length)E||(E=[]),E.pop(),E=E.concat(w),r.search=t.search,r.query=t.query;else if(t.search!=null){if(T){r.host=E.shift(),r.hostname=r.host;var R=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;R&&(r.auth=R.shift(),r.hostname=R.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!E.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var N=E.slice(-1)[0],D=(r.host||t.host||E.length>1)&&(N==="."||N==="..")||N==="",M=0,V=E.length;V>=0;V--)N=E[V],N==="."?E.splice(V,1):N===".."?(E.splice(V,1),M++):M&&(E.splice(V,1),M--);if(!A&&!S)for(;M--;M)E.unshift("..");A&&E[0]!==""&&(!E[0]||E[0].charAt(0)!=="/")&&E.unshift(""),D&&E.join("/").substr(-1)!=="/"&&E.push("");var W=E[0]===""||E[0]&&E[0].charAt(0)==="/";if(T){r.hostname=W?"":E.length?E.shift():"",r.host=r.hostname;var R=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;R&&(r.auth=R.shift(),r.hostname=R.shift(),r.host=r.hostname)}return A=A||r.host&&E.length,A&&!W&&E.unshift(""),E.length>0?r.pathname=E.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};pn.prototype.parseHost=function(){var t=this.host,e=Ik.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const O_={};function Ee(t,e,r=3){if(O_[e])return;let i=new Error().stack;typeof i>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(i=i.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(i))),O_[e]=!0}function ti(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function ll(t){return t.split("?")[0].split("#")[0]}function Bk(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Lk(t,e,r){return t.replace(new RegExp(Bk(e),"g"),r)}function Uk(t,e){let r="",i=0,n=-1,s=0,o=-1;for(let l=0;l<=t.length;++l){if(l<t.length)o=t.charCodeAt(l);else{if(o===47)break;o=47}if(o===47){if(!(n===l-1||s===1))if(n!==l-1&&s===2){if(r.length<2||i!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const h=r.lastIndexOf("/");if(h!==r.length-1){h===-1?(r="",i=0):(r=r.slice(0,h),i=r.length-1-r.lastIndexOf("/")),n=l,s=0;continue}}else if(r.length===2||r.length===1){r="",i=0,n=l,s=0;continue}}}else r.length>0?r+=`/${t.slice(n+1,l)}`:r=t.slice(n+1,l),i=l-n-1;n=l,s=0}else o===46&&s!==-1?++s:s=-1}return r}const Ot={toPosix(t){return Lk(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){ti(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute(t,e,r){if(ti(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const i=ll(this.toPosix(e??oe.ADAPTER.getBaseUrl())),n=ll(this.toPosix(r??this.rootname(i)));return t=this.toPosix(t),t.startsWith("/")?Ot.join(n,t.slice(1)):this.isAbsolute(t)?t:this.join(i,t)},normalize(t){if(ti(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const i=t.endsWith("/");return t=Uk(t),t.length>0&&i&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return ti(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const i=t[r];if(ti(i),i.length>0)if(e===void 0)e=i;else{const n=t[r-1]??"";this.joinExtensions.includes(this.extname(n).toLowerCase())?e+=`/../${i}`:e+=`/${i}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(ti(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let i=-1,n=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let l=t.length-1;l>=1;--l)if(e=t.charCodeAt(l),e===47){if(!n){i=l;break}}else n=!1;return i===-1?r?"/":this.isUrl(o)?s+t:s:r&&i===1?"//":s+t.slice(0,i)},rootname(t){ti(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){ti(t),e&&ti(e),t=ll(this.toPosix(t));let r=0,i=-1,n=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,l=-1;for(s=t.length-1;s>=0;--s){const h=t.charCodeAt(s);if(h===47){if(!n){r=s+1;break}}else l===-1&&(n=!1,l=s+1),o>=0&&(h===e.charCodeAt(o)?--o===-1&&(i=s):(o=-1,i=l))}return r===i?i=l:i===-1&&(i=t.length),t.slice(r,i)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!n){r=s+1;break}}else i===-1&&(n=!1,i=s+1);return i===-1?"":t.slice(r,i)},extname(t){ti(t),t=ll(this.toPosix(t));let e=-1,r=0,i=-1,n=!0,s=0;for(let o=t.length-1;o>=0;--o){const l=t.charCodeAt(o);if(l===47){if(!n){r=o+1;break}continue}i===-1&&(n=!1,i=o+1),l===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||i===-1||s===0||s===1&&e===i-1&&e===r+1?"":t.slice(e,i)},parse(t){ti(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=ll(this.toPosix(t));let r=t.charCodeAt(0);const i=this.isAbsolute(t);let n;e.root=this.rootname(t),i||this.hasProtocol(t)?n=1:n=0;let s=-1,o=0,l=-1,h=!0,c=t.length-1,f=0;for(;c>=n;--c){if(r=t.charCodeAt(c),r===47){if(!h){o=c+1;break}continue}l===-1&&(h=!1,l=c+1),r===46?s===-1?s=c:f!==1&&(f=1):s!==-1&&(f=-1)}return s===-1||l===-1||f===0||f===1&&s===l-1&&s===o+1?l!==-1&&(o===0&&i?e.base=e.name=t.slice(1,l):e.base=e.name=t.slice(o,l)):(o===0&&i?(e.name=t.slice(1,s),e.base=t.slice(1,l)):(e.name=t.slice(o,s),e.base=t.slice(o,l)),e.ext=t.slice(s,l)),e.dir=this.dirname(t),e},sep:"/",delimiter:":",joinExtensions:[".html"]};let sm;async function zk(){return sm??(sm=(async()=>{var s;const t=document.createElement("canvas").getContext("webgl");if(!t)return fr.UNPACK;const e=await new Promise(o=>{const l=document.createElement("video");l.onloadeddata=()=>o(l),l.onerror=()=>o(null),l.autoplay=!1,l.crossOrigin="anonymous",l.preload="auto",l.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",l.load()});if(!e)return fr.UNPACK;const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const i=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,i),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e);const n=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,n),t.deleteFramebuffer(i),t.deleteTexture(r),(s=t.getExtension("WEBGL_lose_context"))==null||s.loseContext(),n[0]<=n[3]?fr.PMA:fr.UNPACK})()),sm}let om;function Gk(){return typeof om>"u"&&(om=function(){var e;const t={stencil:!0,failIfMajorPerformanceCaveat:oe.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!oe.ADAPTER.getWebGLRenderingContext())return!1;const r=oe.ADAPTER.createCanvas();let i=r.getContext("webgl",t)||r.getContext("experimental-webgl",t);const n=!!((e=i==null?void 0:i.getContextAttributes())!=null&&e.stencil);if(i){const s=i.getExtension("WEBGL_lose_context");s&&s.loseContext()}return i=null,n}catch{return!1}}()),om}var jk={grad:.9,turn:360,rad:360/(2*Math.PI)},rn=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Mt=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},Wr=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},KE=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},N_=function(t){return{r:Wr(t.r,0,255),g:Wr(t.g,0,255),b:Wr(t.b,0,255),a:Wr(t.a)}},am=function(t){return{r:Mt(t.r),g:Mt(t.g),b:Mt(t.b),a:Mt(t.a,3)}},Hk=/^#([0-9a-f]{3,8})$/i,Fh=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},ZE=function(t){var e=t.r,r=t.g,i=t.b,n=t.a,s=Math.max(e,r,i),o=s-Math.min(e,r,i),l=o?s===e?(r-i)/o:s===r?2+(i-e)/o:4+(e-r)/o:0;return{h:60*(l<0?l+6:l),s:s?o/s*100:0,v:s/255*100,a:n}},qE=function(t){var e=t.h,r=t.s,i=t.v,n=t.a;e=e/360*6,r/=100,i/=100;var s=Math.floor(e),o=i*(1-r),l=i*(1-(e-s)*r),h=i*(1-(1-e+s)*r),c=s%6;return{r:255*[i,l,o,o,h,i][c],g:255*[h,i,i,l,o,o][c],b:255*[o,o,h,i,i,l][c],a:n}},B_=function(t){return{h:KE(t.h),s:Wr(t.s,0,100),l:Wr(t.l,0,100),a:Wr(t.a)}},L_=function(t){return{h:Mt(t.h),s:Mt(t.s),l:Mt(t.l),a:Mt(t.a,3)}},U_=function(t){return qE((r=(e=t).s,{h:e.h,s:(r*=((i=e.l)<50?i:100-i)/100)>0?2*r/(i+r)*100:0,v:i+r,a:e.a}));var e,r,i},Ll=function(t){return{h:(e=ZE(t)).h,s:(n=(200-(r=e.s))*(i=e.v)/100)>0&&n<200?r*i/100/(n<=100?n:200-n)*100:0,l:n/2,a:e.a};var e,r,i,n},Vk=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Wk=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Xk=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,$k=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Hg={string:[[function(t){var e=Hk.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Mt(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Mt(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=Xk.exec(t)||$k.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:N_({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=Vk.exec(t)||Wk.exec(t);if(!e)return null;var r,i,n=B_({h:(r=e[1],i=e[2],i===void 0&&(i="deg"),Number(r)*(jk[i]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return U_(n)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,i=t.b,n=t.a,s=n===void 0?1:n;return rn(e)&&rn(r)&&rn(i)?N_({r:Number(e),g:Number(r),b:Number(i),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,i=t.l,n=t.a,s=n===void 0?1:n;if(!rn(e)||!rn(r)||!rn(i))return null;var o=B_({h:Number(e),s:Number(r),l:Number(i),a:Number(s)});return U_(o)},"hsl"],[function(t){var e=t.h,r=t.s,i=t.v,n=t.a,s=n===void 0?1:n;if(!rn(e)||!rn(r)||!rn(i))return null;var o=function(l){return{h:KE(l.h),s:Wr(l.s,0,100),v:Wr(l.v,0,100),a:Wr(l.a)}}({h:Number(e),s:Number(r),v:Number(i),a:Number(s)});return qE(o)},"hsv"]]},z_=function(t,e){for(var r=0;r<e.length;r++){var i=e[r][0](t);if(i)return[i,e[r][1]]}return[null,void 0]},Yk=function(t){return typeof t=="string"?z_(t.trim(),Hg.string):typeof t=="object"&&t!==null?z_(t,Hg.object):[null,void 0]},lm=function(t,e){var r=Ll(t);return{h:r.h,s:Wr(r.s+100*e,0,100),l:r.l,a:r.a}},um=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},G_=function(t,e){var r=Ll(t);return{h:r.h,s:r.s,l:Wr(r.l+100*e,0,100),a:r.a}},Vg=function(){function t(e){this.parsed=Yk(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Mt(um(this.rgba),2)},t.prototype.isDark=function(){return um(this.rgba)<.5},t.prototype.isLight=function(){return um(this.rgba)>=.5},t.prototype.toHex=function(){return e=am(this.rgba),r=e.r,i=e.g,n=e.b,o=(s=e.a)<1?Fh(Mt(255*s)):"","#"+Fh(r)+Fh(i)+Fh(n)+o;var e,r,i,n,s,o},t.prototype.toRgb=function(){return am(this.rgba)},t.prototype.toRgbString=function(){return e=am(this.rgba),r=e.r,i=e.g,n=e.b,(s=e.a)<1?"rgba("+r+", "+i+", "+n+", "+s+")":"rgb("+r+", "+i+", "+n+")";var e,r,i,n,s},t.prototype.toHsl=function(){return L_(Ll(this.rgba))},t.prototype.toHslString=function(){return e=L_(Ll(this.rgba)),r=e.h,i=e.s,n=e.l,(s=e.a)<1?"hsla("+r+", "+i+"%, "+n+"%, "+s+")":"hsl("+r+", "+i+"%, "+n+"%)";var e,r,i,n,s},t.prototype.toHsv=function(){return e=ZE(this.rgba),{h:Mt(e.h),s:Mt(e.s),v:Mt(e.v),a:Mt(e.a,3)};var e},t.prototype.invert=function(){return Ri({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),Ri(lm(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),Ri(lm(this.rgba,-e))},t.prototype.grayscale=function(){return Ri(lm(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),Ri(G_(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),Ri(G_(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?Ri({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):Mt(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=Ll(this.rgba);return typeof e=="number"?Ri({h:e,s:r.s,l:r.l,a:r.a}):Mt(r.h)},t.prototype.isEqual=function(e){return this.toHex()===Ri(e).toHex()},t}(),Ri=function(t){return t instanceof Vg?t:new Vg(t)},j_=[],Qk=function(t){t.forEach(function(e){j_.indexOf(e)<0&&(e(Vg,Hg),j_.push(e))})};function Kk(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},i={};for(var n in r)i[r[n]]=n;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var l,h,c=i[this.toHex()];if(c)return c;if(o!=null&&o.closest){var f=this.toRgb(),m=1/0,p="black";if(!s.length)for(var v in r)s[v]=new t(r[v]).toRgb();for(var x in r){var b=(l=f,h=s[x],Math.pow(l.r-h.r,2)+Math.pow(l.g-h.g,2)+Math.pow(l.b-h.b,2));b<m&&(m=b,p=x)}return p}},e.string.push([function(o){var l=o.toLowerCase(),h=l==="transparent"?"#0000":r[l];return h?new t(h).toRgb():null},"name"])}Qk([Kk]);const Fo=class _c{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof _c)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,r){const i=typeof e;if(i!==typeof r)return!1;if(i==="number"||i==="string"||e instanceof Number)return e===r;if(Array.isArray(e)&&Array.isArray(r)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(r))return e.length!==r.length?!1:e.every((n,s)=>n===r[s]);if(e!==null&&r!==null){const n=Object.keys(e),s=Object.keys(r);return n.length!==s.length?!1:n.every(o=>e[o]===r[o])}return e===r}toRgba(){const[e,r,i,n]=this._components;return{r:e,g:r,b:i,a:n}}toRgb(){const[e,r,i]=this._components;return{r:e,g:r,b:i}}toRgbaString(){const[e,r,i]=this.toUint8RgbArray();return`rgba(${e},${r},${i},${this.alpha})`}toUint8RgbArray(e){const[r,i,n]=this._components;return e=e??[],e[0]=Math.round(r*255),e[1]=Math.round(i*255),e[2]=Math.round(n*255),e}toRgbArray(e){e=e??[];const[r,i,n]=this._components;return e[0]=r,e[1]=i,e[2]=n,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[r,i,n,s]=_c.temp.setValue(e)._components;return this._components[0]*=r,this._components[1]*=i,this._components[2]*=n,this._components[3]*=s,this.refreshInt(),this._value=null,this}premultiply(e,r=!0){return r&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,r=!0){if(e===1)return(255<<24)+this._int;if(e===0)return r?0:this._int;let i=this._int>>16&255,n=this._int>>8&255,s=this._int&255;return r&&(i=i*e+.5|0,n=n*e+.5|0,s=s*e+.5|0),(e*255<<24)+(i<<16)+(n<<8)+s}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[r,i,n]=this._components;return this._components[0]=Math.round(r*e)/e,this._components[1]=Math.round(i*e)/e,this._components[2]=Math.round(n*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[r,i,n,s]=this._components;return e[0]=r,e[1]=i,e[2]=n,e[3]=s,e}normalize(e){let r,i,n,s;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const o=e;r=(o>>16&255)/255,i=(o>>8&255)/255,n=(o&255)/255,s=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[r,i,n,s=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[r,i,n,s=255]=e,r/=255,i/=255,n/=255,s/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const l=_c.HEX_PATTERN.exec(e);l&&(e=`#${l[2]}`)}const o=Ri(e);o.isValid()&&({r,g:i,b:n,a:s}=o.rgba,r/=255,i/=255,n/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=i,this._components[2]=n,this._components[3]=s,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,r,i]=this._components;this._int=(e*255<<16)+(r*255<<8)+(i*255|0)}_clamp(e,r=0,i=1){return typeof e=="number"?Math.min(Math.max(e,r),i):(e.forEach((n,s)=>{e[s]=Math.min(Math.max(n,r),i)}),e)}};Fo.shared=new Fo,Fo.temp=new Fo,Fo.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let je=Fo;function Gd(t,e=[]){return Ee("7.2.0","utils.hex2rgb is deprecated, use Color#toRgbArray instead"),je.shared.setValue(t).toRgbArray(e)}function Zk(t){return Ee("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),je.shared.setValue(t).toHex()}function jd(t){return Ee("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),je.shared.setValue(t).toNumber()}function qk(){const t=[],e=[];for(let i=0;i<32;i++)t[i]=i,e[i]=i;t[ve.NORMAL_NPM]=ve.NORMAL,t[ve.ADD_NPM]=ve.ADD,t[ve.SCREEN_NPM]=ve.SCREEN,e[ve.NORMAL]=ve.NORMAL_NPM,e[ve.ADD]=ve.ADD_NPM,e[ve.SCREEN]=ve.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const JE=qk();function eT(t,e){return JE[e?1:0][t]}function Jk(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let i=0,n=0;i<r;i+=6,n+=4)e[i+0]=n+0,e[i+1]=n+1,e[i+2]=n+2,e[i+3]=n+0,e[i+4]=n+2,e[i+5]=n+3;return e}function tT(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function nd(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function H_(t){return!(t&t-1)&&!!t}function V_(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function ha(t,e,r){const i=t.length;let n;if(e>=i||r===0)return;r=e+r>i?i-e:r;const s=i-r;for(n=e;n<s;++n)t[n]=t[n+r];t.length=s}function Qn(t){return t===0?0:t<0?-1:1}let eM=0;function to(){return++eM}const Wg=class{constructor(t,e,r,i){this.left=t,this.top=e,this.right=r,this.bottom=i}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};Wg.EMPTY=new Wg(0,0,0,0);let W_=Wg;const X_={},ki=Object.create(null),On=Object.create(null);class tM{constructor(e,r,i){this._canvas=oe.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=i||oe.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function $_(t,e,r){for(let i=0,n=4*r*e;i<e;++i,n+=4)if(t[n+3]!==0)return!1;return!0}function Y_(t,e,r,i,n){const s=4*e;for(let o=i,l=i*s+4*r;o<=n;++o,l+=s)if(t[l+3]!==0)return!1;return!0}function rM(t){const{width:e,height:r}=t,i=t.getContext("2d",{willReadFrequently:!0});if(i===null)throw new TypeError("Failed to get canvas 2D context");const n=i.getImageData(0,0,e,r).data;let s=0,o=0,l=e-1,h=r-1;for(;o<r&&$_(n,e,o);)++o;if(o===r)return W_.EMPTY;for(;$_(n,e,h);)--h;for(;Y_(n,e,s,o,h);)++s;for(;Y_(n,e,l,o,h);)--l;return++l,++h,new W_(s,o,l,h)}function iM(t){const e=rM(t),{width:r,height:i}=e;let n=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");n=s.getImageData(e.left,e.top,r,i)}return{width:r,height:i,data:n}}function nM(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location;const r=new URL(t,document.baseURI);return r.hostname!==e.hostname||r.port!==e.port||r.protocol!==e.protocol?"anonymous":""}function xn(t,e=1){var i;const r=(i=oe.RETINA_PREFIX)==null?void 0:i.exec(t);return r?parseFloat(r[1]):e}var se=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(se||{});const Xg=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},Q_=(t,e)=>Xg(t).priority??e,fe={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(Xg).forEach(e=>{e.type.forEach(r=>{var i,n;return(n=(i=this._removeHandlers)[r])==null?void 0:n.call(i,e)})}),this},add(...t){return t.map(Xg).forEach(e=>{e.type.forEach(r=>{var s,o;const i=this._addHandlers,n=this._queue;i[r]?(s=i[r])==null||s.call(i,e):(n[r]=n[r]||[],(o=n[r])==null||o.push(e))})}),this},handle(t,e,r){var o;const i=this._addHandlers,n=this._removeHandlers;if(i[t]||n[t])throw new Error(`Extension type ${t} already has a handler`);i[t]=e,n[t]=r;const s=this._queue;return s[t]&&((o=s[t])==null||o.forEach(l=>e(l)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{r.name&&(e[r.name]=r.ref)},r=>{r.name&&delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,i=>{e.includes(i.ref)||(e.push(i.ref),e.sort((n,s)=>Q_(s,r)-Q_(n,r)))},i=>{const n=e.indexOf(i.ref);n!==-1&&e.splice(n,1)})}};class $g{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const sM=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function oM(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function aM(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const i=sM.replace(/%forloop%/gi,oM(t));if(e.shaderSource(r,i),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const hm=0,cm=1,dm=2,fm=3,pm=4,mm=5;class Qi{constructor(){this.data=0,this.blendMode=ve.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<hm)}set blend(e){!!(this.data&1<<hm)!==e&&(this.data^=1<<hm)}get offsets(){return!!(this.data&1<<cm)}set offsets(e){!!(this.data&1<<cm)!==e&&(this.data^=1<<cm)}get culling(){return!!(this.data&1<<dm)}set culling(e){!!(this.data&1<<dm)!==e&&(this.data^=1<<dm)}get depthTest(){return!!(this.data&1<<fm)}set depthTest(e){!!(this.data&1<<fm)!==e&&(this.data^=1<<fm)}get depthMask(){return!!(this.data&1<<mm)}set depthMask(e){!!(this.data&1<<mm)!==e&&(this.data^=1<<mm)}get clockwiseFrontFace(){return!!(this.data&1<<pm)}set clockwiseFrontFace(e){!!(this.data&1<<pm)!==e&&(this.data^=1<<pm)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==ve.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new Qi;return e.depthTest=!1,e.blend=!0,e}}Qi.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const Yg=[];function rT(t,e){if(!t)return null;let r="";if(typeof t=="string"){const i=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);i&&(r=i[1].toLowerCase())}for(let i=Yg.length-1;i>=0;--i){const n=Yg[i];if(n.test&&n.test(t,r))return new n(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class pi{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,i,n,s,o,l,h){if(arguments.length>8)throw new Error("max arguments reached");const{name:c,items:f}=this;this._aliasCount++;for(let m=0,p=f.length;m<p;m++)f[m][c](e,r,i,n,s,o,l,h);return f===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(pi.prototype,{dispatch:{value:pi.prototype.emit},run:{value:pi.prototype.emit}});class au{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new pi("setRealSize"),this.onUpdate=new pi("update"),this.onError=new pi("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,i){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class Hd extends au{constructor(e,r){const{width:i,height:n}=r||{};if(!i||!n)throw new Error("BufferResource width or height invalid");super(i,n),this.data=e,this.unpackAlignment=r.unpackAlignment??4}upload(e,r,i){const n=e.gl;n.pixelStorei(n.UNPACK_ALIGNMENT,this.unpackAlignment),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===fr.UNPACK);const s=r.realWidth,o=r.realHeight;return i.width===s&&i.height===o?n.texSubImage2D(r.target,0,0,0,s,o,r.format,i.type,this.data):(i.width=s,i.height=o,n.texImage2D(r.target,0,i.internalFormat,s,o,0,r.format,i.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const lM={scaleMode:zi.NEAREST,alphaMode:fr.NPM},Qg=class Oo extends yu{constructor(e=null,r=null){super(),r=Object.assign({},Oo.defaultOptions,r);const{alphaMode:i,mipmap:n,anisotropicLevel:s,scaleMode:o,width:l,height:h,wrapMode:c,format:f,type:m,target:p,resolution:v,resourceOptions:x}=r;e&&!(e instanceof au)&&(e=rT(e,x),e.internal=!0),this.resolution=v||oe.RESOLUTION,this.width=Math.round((l||0)*this.resolution)/this.resolution,this.height=Math.round((h||0)*this.resolution)/this.resolution,this._mipmap=n,this.anisotropicLevel=s,this._wrapMode=c,this._scaleMode=o,this.format=f,this.type=m,this.target=p,this.alphaMode=i,this.uid=to(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=l>0&&h>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,r){let i;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,i=!0),r!==void 0&&r!==this.mipmap&&(this.mipmap=r,i=!0),i&&this.dirtyStyleId++,this}setSize(e,r,i){return i=i||this.resolution,this.setRealSize(e*i,r*i,i)}setRealSize(e,r,i){return this.resolution=i||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(r)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=H_(this.realWidth)&&H_(this.realHeight)}setResolution(e){const r=this.resolution;return r===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*r)/e,this.height=Math.round(this.height*r)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete On[this.cacheId],delete ki[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),Oo.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,r,i=oe.STRICT_TEXTURE_CACHE){const n=typeof e=="string";let s=null;if(n)s=e;else{if(!e._pixiId){const l=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${l}_${to()}`}s=e._pixiId}let o=On[s];if(n&&i&&!o)throw new Error(`The cacheId "${s}" does not exist in BaseTextureCache.`);return o||(o=new Oo(e,r),o.cacheId=s,Oo.addToCache(o,s)),o}static fromBuffer(e,r,i,n){e=e||new Float32Array(r*i*4);const s=new Hd(e,{width:r,height:i,...n==null?void 0:n.resourceOptions});let o,l;return e instanceof Float32Array?(o=J.RGBA,l=ge.FLOAT):e instanceof Int32Array?(o=J.RGBA_INTEGER,l=ge.INT):e instanceof Uint32Array?(o=J.RGBA_INTEGER,l=ge.UNSIGNED_INT):e instanceof Int16Array?(o=J.RGBA_INTEGER,l=ge.SHORT):e instanceof Uint16Array?(o=J.RGBA_INTEGER,l=ge.UNSIGNED_SHORT):e instanceof Int8Array?(o=J.RGBA,l=ge.BYTE):(o=J.RGBA,l=ge.UNSIGNED_BYTE),s.internal=!0,new Oo(s,Object.assign({},lM,{type:l,format:o},n))}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),On[r]&&On[r]!==e&&console.warn(`BaseTexture added to the cache with an id [${r}] that already had an entry`),On[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=On[e];if(r){const i=r.textureCacheIds.indexOf(e);return i>-1&&r.textureCacheIds.splice(i,1),delete On[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)delete On[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}};Qg.defaultOptions={mipmap:Xi.POW2,anisotropicLevel:0,scaleMode:zi.LINEAR,wrapMode:fn.CLAMP,alphaMode:fr.UNPACK,target:aa.TEXTURE_2D,format:J.RGBA,type:ge.UNSIGNED_BYTE},Qg._globalBatch=0;let _e=Qg;class Kg{constructor(){this.texArray=null,this.blend=0,this.type=ui.TRIANGLES,this.start=0,this.size=0,this.data=null}}let uM=0;class mt{constructor(e,r=!0,i=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=i,this.static=r,this.id=uM++,this.disposeRunner=new pi("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?Vi.ELEMENT_ARRAY_BUFFER:Vi.ARRAY_BUFFER}get index(){return this.type===Vi.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new mt(e)}}class sd{constructor(e,r=0,i=!1,n=ge.FLOAT,s,o,l,h=1){this.buffer=e,this.size=r,this.normalized=i,this.type=n,this.stride=s,this.start=o,this.instance=l,this.divisor=h}destroy(){this.buffer=null}static from(e,r,i,n,s){return new sd(e,r,i,n,s)}}const hM={Float32Array,Uint32Array,Int32Array,Uint8Array};function cM(t,e){let r=0,i=0;const n={};for(let h=0;h<t.length;h++)i+=e[h],r+=t[h].length;const s=new ArrayBuffer(r*4);let o=null,l=0;for(let h=0;h<t.length;h++){const c=e[h],f=t[h],m=tT(f);n[m]||(n[m]=new hM[m](s)),o=n[m];for(let p=0;p<f.length;p++){const v=(p/c|0)*i+l,x=p%c;o[v+x]=f[p]}l+=c}return new Float32Array(s)}const K_={5126:4,5123:2,5121:1};let dM=0;const fM={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class ls{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=dM++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new pi("disposeGeometry"),this.refCount=0}addAttribute(e,r,i=0,n=!1,s,o,l,h=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof mt||(r instanceof Array&&(r=new Float32Array(r)),r=new mt(r));const c=e.split("|");if(c.length>1){for(let m=0;m<c.length;m++)this.addAttribute(c[m],r,i,n,s);return this}let f=this.buffers.indexOf(r);return f===-1&&(this.buffers.push(r),f=this.buffers.length-1),this.attributes[e]=new sd(f,i,n,s,o,l,h),this.instanced=this.instanced||h,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof mt||(e instanceof Array&&(e=new Uint16Array(e)),e=new mt(e)),e.type=Vi.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],i=new mt;let n;for(n in this.attributes){const s=this.attributes[n],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*K_[s.type]/4),s.buffer=0}for(i.data=cM(e,r),n=0;n<this.buffers.length;n++)this.buffers[n]!==this.indexBuffer&&this.buffers[n].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new ls;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new mt(this.buffers[r].data.slice(0));for(const r in this.attributes){const i=this.attributes[r];e.attributes[r]=new sd(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Vi.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new ls,i=[],n=[],s=[];let o;for(let l=0;l<e.length;l++){o=e[l];for(let h=0;h<o.buffers.length;h++)n[h]=n[h]||0,n[h]+=o.buffers[h].data.length,s[h]=0}for(let l=0;l<o.buffers.length;l++)i[l]=new fM[tT(o.buffers[l].data)](n[l]),r.buffers[l]=new mt(i[l]);for(let l=0;l<e.length;l++){o=e[l];for(let h=0;h<o.buffers.length;h++)i[h].set(o.buffers[h].data,s[h]),s[h]+=o.buffers[h].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=Vi.ELEMENT_ARRAY_BUFFER;let l=0,h=0,c=0,f=0;for(let m=0;m<o.buffers.length;m++)if(o.buffers[m]!==o.indexBuffer){f=m;break}for(const m in o.attributes){const p=o.attributes[m];(p.buffer|0)===f&&(h+=p.size*K_[p.type]/4)}for(let m=0;m<e.length;m++){const p=e[m].indexBuffer.data;for(let v=0;v<p.length;v++)r.indexBuffer.data[v+c]+=l;l+=e[m].buffers[f].data.length/h,c+=p.length}}return r}}class iT extends ls{constructor(e=!1){super(),this._buffer=new mt(null,e,!1),this._indexBuffer=new mt(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,ge.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,ge.FLOAT).addAttribute("aColor",this._buffer,4,!0,ge.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,ge.FLOAT).addIndex(this._indexBuffer)}}const od=Math.PI*2,pM=180/Math.PI,lu=Math.PI/180;var Gt=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(Gt||{});class we{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new we(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}}we.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const Oh=[new we,new we,new we,new we];class Se{constructor(e=0,r=0,i=0,n=0){this.x=Number(e),this.y=Number(r),this.width=Number(i),this.height=Number(n),this.type=Gt.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Se(0,0,0,0)}clone(){return new Se(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const M=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=M)return!1;const V=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>V}const i=this.left,n=this.right,s=this.top,o=this.bottom;if(n<=i||o<=s)return!1;const l=Oh[0].set(e.left,e.top),h=Oh[1].set(e.left,e.bottom),c=Oh[2].set(e.right,e.top),f=Oh[3].set(e.right,e.bottom);if(c.x<=l.x||h.y<=l.y)return!1;const m=Math.sign(r.a*r.d-r.b*r.c);if(m===0||(r.apply(l,l),r.apply(h,h),r.apply(c,c),r.apply(f,f),Math.max(l.x,h.x,c.x,f.x)<=i||Math.min(l.x,h.x,c.x,f.x)>=n||Math.max(l.y,h.y,c.y,f.y)<=s||Math.min(l.y,h.y,c.y,f.y)>=o))return!1;const p=m*(h.y-l.y),v=m*(l.x-h.x),x=p*i+v*s,b=p*n+v*s,A=p*i+v*o,S=p*n+v*o;if(Math.max(x,b,A,S)<=p*l.x+v*l.y||Math.min(x,b,A,S)>=p*f.x+v*f.y)return!1;const E=m*(l.y-c.y),w=m*(c.x-l.x),T=E*i+w*s,R=E*n+w*s,N=E*i+w*o,D=E*n+w*o;return!(Math.max(T,R,N,D)<=E*l.x+w*l.y||Math.min(T,R,N,D)>=E*f.x+w*f.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),i=Math.min(this.x+this.width,e.x+e.width),n=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(i-r,0),this.y=n,this.height=Math.max(s-n,0),this}ceil(e=1,r=.001){const i=Math.ceil((this.x+this.width-r)*e)/e,n=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=i-this.x,this.height=n-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),i=Math.max(this.x+this.width,e.x+e.width),n=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=i-r,this.y=n,this.height=s-n,this}}Se.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Vd{constructor(e=0,r=0,i=0){this.x=e,this.y=r,this.radius=i,this.type=Gt.CIRC}clone(){return new Vd(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const i=this.radius*this.radius;let n=this.x-e,s=this.y-r;return n*=n,s*=s,n+s<=i}getBounds(){return new Se(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}Vd.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class Wd{constructor(e=0,r=0,i=0,n=0){this.x=e,this.y=r,this.width=i,this.height=n,this.type=Gt.ELIP}clone(){return new Wd(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let i=(e-this.x)/this.width,n=(r-this.y)/this.height;return i*=i,n*=n,i+n<=1}getBounds(){return new Se(this.x-this.width,this.y-this.height,this.width,this.height)}}Wd.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class $s{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const i=[];for(let n=0,s=r.length;n<s;n++)i.push(r[n].x,r[n].y);r=i}this.points=r,this.type=Gt.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new $s(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let i=!1;const n=this.points.length/2;for(let s=0,o=n-1;s<n;o=s++){const l=this.points[s*2],h=this.points[s*2+1],c=this.points[o*2],f=this.points[o*2+1];h>r!=f>r&&e<(c-l)*((r-h)/(f-h))+l&&(i=!i)}return i}}$s.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((t,e)=>`${t}, ${e}`,"")}]`};class Xd{constructor(e=0,r=0,i=0,n=0,s=20){this.x=e,this.y=r,this.width=i,this.height=n,this.radius=s,this.type=Gt.RREC}clone(){return new Xd(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const i=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+i&&r<=this.y+this.height-i||e>=this.x+i&&e<=this.x+this.width-i)return!0;let n=e-(this.x+i),s=r-(this.y+i);const o=i*i;if(n*n+s*s<=o||(n=e-(this.x+this.width-i),n*n+s*s<=o)||(s=r-(this.y+this.height-i),n*n+s*s<=o)||(n=e-(this.x+i),n*n+s*s<=o))return!0}return!1}}Xd.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class Ke{constructor(e=1,r=0,i=0,n=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=i,this.d=n,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,i,n,s,o){return this.a=e,this.b=r,this.c=i,this.d=n,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const i=r||this.array;return e?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i}apply(e,r){r=r||new we;const i=e.x,n=e.y;return r.x=this.a*i+this.c*n+this.tx,r.y=this.b*i+this.d*n+this.ty,r}applyInverse(e,r){r=r||new we;const i=1/(this.a*this.d+this.c*-this.b),n=e.x,s=e.y;return r.x=this.d*i*n+-this.c*i*s+(this.ty*this.c-this.tx*this.d)*i,r.y=this.a*i*s+-this.b*i*n+(-this.ty*this.a+this.tx*this.b)*i,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),i=Math.sin(e),n=this.a,s=this.c,o=this.tx;return this.a=n*r-this.b*i,this.b=n*i+this.b*r,this.c=s*r-this.d*i,this.d=s*i+this.d*r,this.tx=o*r-this.ty*i,this.ty=o*i+this.ty*r,this}append(e){const r=this.a,i=this.b,n=this.c,s=this.d;return this.a=e.a*r+e.b*n,this.b=e.a*i+e.b*s,this.c=e.c*r+e.d*n,this.d=e.c*i+e.d*s,this.tx=e.tx*r+e.ty*n+this.tx,this.ty=e.tx*i+e.ty*s+this.ty,this}setTransform(e,r,i,n,s,o,l,h,c){return this.a=Math.cos(l+c)*s,this.b=Math.sin(l+c)*s,this.c=-Math.sin(l-h)*o,this.d=Math.cos(l-h)*o,this.tx=e-(i*this.a+n*this.c),this.ty=r-(i*this.b+n*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const i=this.a,n=this.c;this.a=i*e.a+this.b*e.c,this.b=i*e.b+this.b*e.d,this.c=n*e.a+this.d*e.c,this.d=n*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,i=this.b,n=this.c,s=this.d,o=e.pivot,l=-Math.atan2(-n,s),h=Math.atan2(i,r),c=Math.abs(l+h);return c<1e-5||Math.abs(od-c)<1e-5?(e.rotation=h,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=l,e.skew.y=h),e.scale.x=Math.sqrt(r*r+i*i),e.scale.y=Math.sqrt(n*n+s*s),e.position.x=this.tx+(o.x*r+o.y*n),e.position.y=this.ty+(o.x*i+o.y*s),e}invert(){const e=this.a,r=this.b,i=this.c,n=this.d,s=this.tx,o=e*n-r*i;return this.a=n/o,this.b=-r/o,this.c=-i/o,this.d=e/o,this.tx=(i*this.ty-n*s)/o,this.ty=-(e*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Ke;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new Ke}static get TEMP_MATRIX(){return new Ke}}Ke.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const Ms=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Ds=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Fs=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Os=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Zg=[],nT=[],Nh=Math.sign;function mM(){for(let t=0;t<16;t++){const e=[];Zg.push(e);for(let r=0;r<16;r++){const i=Nh(Ms[t]*Ms[r]+Fs[t]*Ds[r]),n=Nh(Ds[t]*Ms[r]+Os[t]*Ds[r]),s=Nh(Ms[t]*Fs[r]+Fs[t]*Os[r]),o=Nh(Ds[t]*Fs[r]+Os[t]*Os[r]);for(let l=0;l<16;l++)if(Ms[l]===i&&Ds[l]===n&&Fs[l]===s&&Os[l]===o){e.push(l);break}}}for(let t=0;t<16;t++){const e=new Ke;e.set(Ms[t],Ds[t],Fs[t],Os[t],0,0),nT.push(e)}}mM();const it={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Ms[t],uY:t=>Ds[t],vX:t=>Fs[t],vY:t=>Os[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>Zg[t][e],sub:(t,e)=>Zg[t][it.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?it.S:it.N:Math.abs(e)*2<=Math.abs(t)?t>0?it.E:it.W:e>0?t>0?it.SE:it.SW:t>0?it.NE:it.NW,matrixAppendRotationInv:(t,e,r=0,i=0)=>{const n=nT[it.inv(e)];n.tx=r,n.ty=i,t.append(n)}};class hi{constructor(e,r,i=0,n=0){this._x=i,this._y=n,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new hi(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}hi.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const qg=class{constructor(){this.worldTransform=new Ke,this.localTransform=new Ke,this.position=new hi(this.onChange,this,0,0),this.scale=new hi(this.onChange,this,1,1),this.pivot=new hi(this.onChange,this,0,0),this.skew=new hi(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,i=this.worldTransform;i.a=e.a*r.a+e.b*r.c,i.b=e.a*r.b+e.b*r.d,i.c=e.c*r.a+e.d*r.c,i.d=e.c*r.b+e.d*r.d,i.tx=e.tx*r.a+e.ty*r.c+r.tx,i.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};qg.IDENTITY=new qg;let $d=qg;$d.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var gM=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,yM=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function Z_(t,e,r){const i=t.createShader(e);return t.shaderSource(i,r),t.compileShader(i),i}function gm(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function sT(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return gm(2*e);case"bvec3":return gm(3*e);case"bvec4":return gm(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const ca=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],vM={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},xM={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function _M(t,e){var i;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const n in t.uniforms){const s=e[n];if(!s){((i=t.uniforms[n])==null?void 0:i.group)===!0&&(t.uniforms[n].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${n}, '${n}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${n}, syncData);
                    `));continue}const o=t.uniforms[n];let l=!1;for(let h=0;h<ca.length;h++)if(ca[h].test(s,o)){r.push(ca[h].code(n,o)),l=!0;break}if(!l){const h=(s.size===1&&!s.isArray?vM:xM)[s.type].replace("location",`ud["${n}"].location`);r.push(`
            cu = ud["${n}"];
            cv = cu.value;
            v = uv["${n}"];
            ${h};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const oT={};let Po=oT;function wM(){if(Po===oT||Po!=null&&Po.isContextLost()){const t=oe.ADAPTER.createCanvas();let e;oe.PREFER_ENV>=no.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Po=e}return Po}let Bh;function bM(){if(!Bh){Bh=Vr.MEDIUM;const t=wM();if(t&&t.getShaderPrecisionFormat){const e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);e&&(Bh=e.precision?Vr.HIGH:Vr.MEDIUM)}}return Bh}function q_(t,e){const r=t.getShaderSource(e).split(`
`).map((c,f)=>`${f}: ${c}`),i=t.getShaderInfoLog(e),n=i.split(`
`),s={},o=n.map(c=>parseFloat(c.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(c=>c&&!s[c]?(s[c]=!0,!0):!1),l=[""];o.forEach(c=>{r[c-1]=`%c${r[c-1]}%c`,l.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const h=r.join(`
`);l[0]=h,console.error(i),console.groupCollapsed("click to view full shader code"),console.warn(...l),console.groupEnd()}function SM(t,e,r,i){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||q_(t,r),t.getShaderParameter(i,t.COMPILE_STATUS)||q_(t,i),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const EM={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function aT(t){return EM[t]}let Lh=null;const J_={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function lT(t,e){if(!Lh){const r=Object.keys(J_);Lh={};for(let i=0;i<r.length;++i){const n=r[i];Lh[t[n]]=J_[n]}}return Lh[e]}function ew(t,e,r){if(t.substring(0,9)!=="precision"){let i=e;return e===Vr.HIGH&&r!==Vr.HIGH&&(i=Vr.MEDIUM),`precision ${i} float;
${t}`}else if(r!==Vr.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let ul;function TM(){if(typeof ul=="boolean")return ul;try{ul=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{ul=!1}return ul}let AM=0;const Uh={},Jg=class No{constructor(e,r,i="pixi-shader",n={}){this.extra={},this.id=AM++,this.vertexSrc=e||No.defaultVertexSrc,this.fragmentSrc=r||No.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=n,this.vertexSrc.substring(0,8)!=="#version"&&(i=i.replace(/\s+/g,"-"),Uh[i]?(Uh[i]++,i+=`-${Uh[i]}`):Uh[i]=1,this.vertexSrc=`#define SHADER_NAME ${i}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${i}
${this.fragmentSrc}`,this.vertexSrc=ew(this.vertexSrc,No.defaultVertexPrecision,Vr.HIGH),this.fragmentSrc=ew(this.fragmentSrc,No.defaultFragmentPrecision,bM())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return yM}static get defaultFragmentSrc(){return gM}static from(e,r,i){const n=e+r;let s=X_[n];return s||(X_[n]=s=new No(e,r,i)),s}};Jg.defaultVertexPrecision=Vr.HIGH,Jg.defaultFragmentPrecision=hn.apple.device?Vr.HIGH:Vr.MEDIUM;let cn=Jg,CM=0;class mi{constructor(e,r,i){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=CM++,this.static=!!r,this.ubo=!!i,e instanceof mt?(this.buffer=e,this.buffer.type=Vi.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new mt(new Float32Array(1)),this.buffer.type=Vi.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,i){if(!this.ubo)this.uniforms[e]=new mi(r,i);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,i){return new mi(e,r,i)}static uboFrom(e,r){return new mi(e,r??!0,!0)}}class Wi{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof mi?this.uniformGroup=r:this.uniformGroup=new mi(r):this.uniformGroup=new mi({}),this.disposeRunner=new pi("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const i in r.uniforms){const n=r.uniforms[i];if(n.group===!0&&this.checkUniformExists(e,n))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,i){const n=cn.from(e,r);return new Wi(n,i)}}class PM{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const i=new Int32Array(e);for(let s=0;s<e;s++)i[s]=s;this.defaultGroupCache[e]=mi.from({uSamplers:i},!0);let n=this.fragTemplate;n=n.replace(/%count%/gi,`${e}`),n=n.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new cn(this.vertexSrc,n)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ke,default:this.defaultGroupCache[e]};return new Wi(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let i=0;i<e;i++)i>0&&(r+=`
else `),i<e-1&&(r+=`if(vTextureId < ${i}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${i}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class e0{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function IM(){return!hn.apple.device}function RM(t){let e=!0;const r=oe.ADAPTER.getNavigator();if(hn.tablet||hn.phone){if(hn.apple.device){const i=r.userAgent.match(/OS (\d+)_(\d+)?/);i&&parseInt(i[1],10)<11&&(e=!1)}if(hn.android.device){const i=r.userAgent.match(/Android\s([0-9.]*)/);i&&parseInt(i[1],10)<7&&(e=!1)}}return e?t:4}class Yd{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var kM=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,MM=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const yl=class ii extends Yd{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=iT,this.vertexSize=6,this.state=Qi.for2d(),this.size=ii.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??RM(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??IM(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return Ee("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return MM}static get defaultFragmentTemplate(){return kM}setShaderGenerator({vertex:e=ii.defaultVertexSrc,fragment:r=ii.defaultFragmentTemplate}={}){this.shaderGenerator=new PM(e,r)}contextChange(){const e=this.renderer.gl;oe.PREFER_ENV===no.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),ii.defaultMaxTextures),this.maxTextures=aM(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:r}=ii,i=this.size/4,n=Math.floor(i/this.maxTextures)+1;for(;e.length<i;)e.push(new Kg);for(;r.length<n;)r.push(new e0);for(let s=0;s<this.maxTextures;s++)this._tempBoundTextures[s]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:r}=this,i=ii._textureArrayPool,n=this.renderer.batch,s=this._tempBoundTextures,o=this.renderer.textureGC.count;let l=++_e._globalBatch,h=0,c=i[0],f=0;n.copyBoundTextures(s,r);for(let m=0;m<this._bufferSize;++m){const p=e[m];e[m]=null,p._batchEnabled!==l&&(c.count>=r&&(n.boundArray(c,s,l,r),this.buildDrawCalls(c,f,m),f=m,c=i[++h],++l),p._batchEnabled=l,p.touched=o,c.elements[c.count++]=p)}c.count>0&&(n.boundArray(c,s,l,r),this.buildDrawCalls(c,f,this._bufferSize),++h,++l);for(let m=0;m<s.length;m++)s[m]=null;_e._globalBatch=l}buildDrawCalls(e,r,i){const{_bufferedElements:n,_attributeBuffer:s,_indexBuffer:o,vertexSize:l}=this,h=ii._drawCallPool;let c=this._dcIndex,f=this._aIndex,m=this._iIndex,p=h[c];p.start=this._iIndex,p.texArray=e;for(let v=r;v<i;++v){const x=n[v],b=x._texture.baseTexture,A=JE[b.alphaMode?1:0][x.blendMode];n[v]=null,r<v&&p.blend!==A&&(p.size=m-p.start,r=v,p=h[++c],p.texArray=e,p.start=m),this.packInterleavedGeometry(x,s,o,f,m),f+=x.vertexData.length/2*l,m+=x.indices.length,p.blend=A}r<i&&(p.size=m-p.start,++c),this._dcIndex=c,this._aIndex=f,this._iIndex=m}bindAndClearTexArray(e){const r=this.renderer.texture;for(let i=0;i<e.count;i++)r.bind(e.elements[i],e.ids[i]),e.elements[i]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:r,_indexBuffer:i}=this;ii.canUploadSameBuffer?(e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(i),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(i),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:r,state:i}=this.renderer,n=ii._drawCallPool;let s=null;for(let o=0;o<e;o++){const{texArray:l,type:h,size:c,start:f,blend:m}=n[o];s!==l&&(s=l,this.bindAndClearTexArray(l)),this.state.blendMode=m,i.set(this.state),r.drawElements(h,c,r.UNSIGNED_SHORT,f*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),ii.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const r=nd(Math.ceil(e/8)),i=V_(r),n=r*8;this._aBuffers.length<=i&&(this._iBuffers.length=i+1);let s=this._aBuffers[n];return s||(this._aBuffers[n]=s=new $g(n*this.vertexSize*4)),s}getIndexBuffer(e){const r=nd(Math.ceil(e/12)),i=V_(r),n=r*12;this._iBuffers.length<=i&&(this._iBuffers.length=i+1);let s=this._iBuffers[i];return s||(this._iBuffers[i]=s=new Uint16Array(n)),s}packInterleavedGeometry(e,r,i,n,s){const{uint32View:o,float32View:l}=r,h=n/this.vertexSize,c=e.uvs,f=e.indices,m=e.vertexData,p=e._texture.baseTexture._batchLocation,v=Math.min(e.worldAlpha,1),x=je.shared.setValue(e._tintRGB).toPremultiplied(v,e._texture.baseTexture.alphaMode>0);for(let b=0;b<m.length;b+=2)l[n++]=m[b],l[n++]=m[b+1],l[n++]=c[b],l[n++]=c[b+1],o[n++]=x,l[n++]=p;for(let b=0;b<f.length;b++)i[s++]=h+f[b]}};yl.defaultBatchSize=4096,yl.extension={name:"batch",type:se.RendererPlugin},yl._drawCallPool=[],yl._textureArrayPool=[];let Ns=yl;fe.add(Ns);var DM=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,FM=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const t0=class vl extends Wi{constructor(e,r,i){const n=cn.from(e||vl.defaultVertexSrc,r||vl.defaultFragmentSrc);super(n,i),this.padding=0,this.resolution=vl.defaultResolution,this.multisample=vl.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Qi}apply(e,r,i,n,s){e.applyFilter(this,r,i,n)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return FM}static get defaultFragmentSrc(){return DM}};t0.defaultResolution=1,t0.defaultMultisample=vt.NONE;let Me=t0;class ad{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new je(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:i,backgroundAlpha:n}=e,s=i??r;s!==void 0&&(this.color=s),this.alpha=n}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}ad.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},ad.extension={type:[se.RendererSystem,se.CanvasRendererSystem],name:"background"};fe.add(ad);class uT{constructor(e){this.renderer=e,this.emptyRenderer=new Yd(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:i}=this.renderer.texture;for(let n=r-1;n>=0;--n)e[n]=i[n]||null,e[n]&&(e[n]._batchLocation=n)}boundArray(e,r,i,n){const{elements:s,ids:o,count:l}=e;let h=0;for(let c=0;c<l;c++){const f=s[c],m=f._batchLocation;if(m>=0&&m<n&&r[m]===f){o[c]=m;continue}for(;h<n;){const p=r[h];if(p&&p._batchEnabled===i&&p._batchLocation===h){h++;continue}o[c]=h,f._batchLocation=h,r[h]=f;break}}}destroy(){this.renderer=null}}uT.extension={type:se.RendererSystem,name:"batch"};fe.add(uT);let tw=0;class ld{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=tw++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,i=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:i,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=tw++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let i;if(oe.PREFER_ENV>=no.WEBGL2&&(i=e.getContext("webgl2",r)),i)this.webGLVersion=2;else if(this.webGLVersion=1,i=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!i)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=i,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),i="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;i&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const n=i||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=n,n||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}ld.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},ld.extension={type:se.RendererSystem,name:"context"};fe.add(ld);class r0{constructor(e,r){if(this.width=Math.round(e),this.height=Math.round(r),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new pi("disposeFramebuffer"),this.multisample=vt.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new _e(null,{scaleMode:zi.NEAREST,resolution:1,mipmap:Xi.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new _e(null,{scaleMode:zi.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:Xi.OFF,format:J.DEPTH_COMPONENT,type:ge.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!e||!r)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let i=0;i<this.colorTextures.length;i++){const n=this.colorTextures[i],s=n.resolution;n.setSize(e/s,r/s)}if(this.depthTexture){const i=this.depthTexture.resolution;this.depthTexture.setSize(e/i,r/i)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class hT extends _e{constructor(e={}){if(typeof e=="number"){const r=arguments[0],i=arguments[1],n=arguments[2],s=arguments[3];e={width:r,height:i,scaleMode:n,resolution:s}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=vt.NONE),super(null,e),this.mipmap=Xi.OFF,this.valid=!0,this._clear=new je([0,0,0,0]),this.framebuffer=new r0(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class _n extends au{constructor(e){const r=e,i=r.naturalWidth||r.videoWidth||r.displayWidth||r.width,n=r.naturalHeight||r.videoHeight||r.displayHeight||r.height;super(i,n),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,i){i===void 0&&!r.startsWith("data:")?e.crossOrigin=nM(r):i!==!1&&(e.crossOrigin=typeof i=="string"?i:"anonymous")}upload(e,r,i,n){const s=e.gl,o=r.realWidth,l=r.realHeight;if(n=n||this.source,typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement){if(!n.complete||n.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement&&n.readyState<=1)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===fr.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&i.width===o&&i.height===l?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,i.type,n):(i.width=o,i.height=l,s.texImage2D(r.target,0,i.internalFormat,r.format,i.type,n)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,i=e.naturalHeight||e.videoHeight||e.height;this.resize(r,i),super.update()}dispose(){this.source=null}}class cT extends _n{constructor(e,r){if(r=r||{},typeof e=="string"){const i=new Image;_n.crossOrigin(i,e,r.crossorigin),i.src=e,e=i}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??oe.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,i)=>{const n=this.source;this.url=n.src;const s=()=>{this.destroyed||(n.onload=null,n.onerror=null,this.update(),this._load=null,this.createBitmap?r(this.process()):r(this))};n.complete&&n.src?s():(n.onload=s,n.onerror=o=>{i(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,i=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:i?"cors":"no-cors"}).then(n=>n.blob()).then(n=>r(n,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===fr.UNPACK?"premultiply":"none"})).then(n=>this.destroyed?Promise.reject():(this.bitmap=n,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,i){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,i,this.bitmap),!this.preserveBitmap){let n=!0;const s=r._glTextures;for(const o in s){const l=s[o];if(l!==i&&l.dirtyId!==r.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class zy{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,i){const n=r.width,s=r.height;if(i){const o=e.width/2/n,l=e.height/2/s,h=e.x/n+o,c=e.y/s+l;i=it.add(i,it.NW),this.x0=h+o*it.uX(i),this.y0=c+l*it.uY(i),i=it.add(i,2),this.x1=h+o*it.uX(i),this.y1=c+l*it.uY(i),i=it.add(i,2),this.x2=h+o*it.uX(i),this.y2=c+l*it.uY(i),i=it.add(i,2),this.x3=h+o*it.uX(i),this.y3=c+l*it.uY(i)}else this.x0=e.x/n,this.y0=e.y/s,this.x1=(e.x+e.width)/n,this.y1=e.y/s,this.x2=(e.x+e.width)/n,this.y2=(e.y+e.height)/s,this.x3=e.x/n,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}zy.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const rw=new zy;function zh(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class ie extends yu{constructor(e,r,i,n,s,o,l){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new Se(0,0,1,1)),e instanceof ie&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=n,this.valid=!1,this.destroyed=!1,this._uvs=rw,this.uvMatrix=null,this.orig=i||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new we(o.x,o.y):new we(0,0),this.defaultBorders=l,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&ki[r.url]&&ie.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,ie.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var n;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),i=new ie(this.baseTexture,!this.noFrame&&e,r,(n=this.trim)==null?void 0:n.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(i._frame=e),i}updateUvs(){this._uvs===rw&&(this._uvs=new zy),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},i=oe.STRICT_TEXTURE_CACHE){const n=typeof e=="string";let s=null;if(n)s=e;else if(e instanceof _e){if(!e.cacheId){const l=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${l}-${to()}`,_e.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const l=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${l}_${to()}`}s=e._pixiId}let o=ki[s];if(n&&i&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof _e)?(r.resolution||(r.resolution=xn(e)),o=new ie(new _e(e,r)),o.baseTexture.cacheId=s,_e.addToCache(o.baseTexture,s),ie.addToCache(o,s)):!o&&e instanceof _e&&(o=new ie(e),ie.addToCache(o,s)),o}static fromURL(e,r){const i=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),n=ie.from(e,Object.assign({resourceOptions:i},r),!1),s=n.baseTexture.resource;return n.baseTexture.valid?Promise.resolve(n):s.load().then(()=>Promise.resolve(n))}static fromBuffer(e,r,i,n){return new ie(_e.fromBuffer(e,r,i,n))}static fromLoader(e,r,i,n){const s=new _e(e,Object.assign({scaleMode:_e.defaultOptions.scaleMode,resolution:xn(r)},n)),{resource:o}=s;o instanceof cT&&(o.url=r);const l=new ie(s);return i||(i=r),_e.addToCache(l.baseTexture,i),ie.addToCache(l,i),i!==r&&(_e.addToCache(l.baseTexture,r),ie.addToCache(l,r)),l.baseTexture.valid?Promise.resolve(l):new Promise(h=>{l.baseTexture.once("loaded",()=>h(l))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),ki[r]&&ki[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),ki[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=ki[e];if(r){const i=r.textureCacheIds.indexOf(e);return i>-1&&r.textureCacheIds.splice(i,1),delete ki[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)ki[e.textureCacheIds[r]]===e&&delete ki[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:i,width:n,height:s}=e,o=r+n>this.baseTexture.width,l=i+s>this.baseTexture.height;if(o||l){const h=o&&l?"and":"or",c=`X: ${r} + ${n} = ${r+n} > ${this.baseTexture.width}`,f=`Y: ${i} + ${s} = ${i+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${c} ${h} ${f}`)}this.valid=n&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return ie._EMPTY||(ie._EMPTY=new ie(new _e),zh(ie._EMPTY),zh(ie._EMPTY.baseTexture)),ie._EMPTY}static get WHITE(){if(!ie._WHITE){const e=oe.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),ie._WHITE=new ie(_e.from(e)),zh(ie._WHITE),zh(ie._WHITE.baseTexture)}return ie._WHITE}}class so extends ie{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,i=!0){const n=this.baseTexture.resolution,s=Math.round(e*n)/n,o=Math.round(r*n)/n;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,i&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new so(new hT(e))}}class dT{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,i=vt.NONE){const n=new hT(Object.assign({width:e,height:r,resolution:1,multisample:i},this.textureOptions));return new so(n)}getOptimalTexture(e,r,i=1,n=vt.NONE){let s;e=Math.max(Math.ceil(e*i-1e-6),1),r=Math.max(Math.ceil(r*i-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=nd(e),r=nd(r),s=((e&65535)<<16|r&65535)>>>0,n>1&&(s+=n*4294967296)):s=n>1?-n:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,n)),o.filterPoolKey=s,o.setResolution(i),o}getFilterTexture(e,r,i){const n=this.getOptimalTexture(e.width,e.height,r||e.resolution,i||vt.NONE);return n.filterFrame=e.filterFrame,n}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const i=this.texturePool[r];if(i)for(let n=0;n<i.length;n++)i[n].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const i=this.texturePool[r];if(i)for(let n=0;n<i.length;n++)i[n].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}dT.SCREEN_KEY=-1;class OM extends ls{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class fT extends ls{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new mt(this.vertices),this.uvBuffer=new mt(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let i=0,n=0;return this.uvs[0]=i,this.uvs[1]=n,this.uvs[2]=i+r.width/e.width,this.uvs[3]=n,this.uvs[4]=i+r.width/e.width,this.uvs[5]=n+r.height/e.height,this.uvs[6]=i,this.uvs[7]=n+r.height/e.height,i=r.x,n=r.y,this.vertices[0]=i,this.vertices[1]=n,this.vertices[2]=i+r.width,this.vertices[3]=n,this.vertices[4]=i+r.width,this.vertices[5]=n+r.height,this.vertices[6]=i,this.vertices[7]=n+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class NM{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=vt.NONE,this.sourceFrame=new Se,this.destinationFrame=new Se,this.bindingSourceFrame=new Se,this.bindingDestinationFrame=new Se,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Gh=[new we,new we,new we,new we],ym=new Ke;class pT{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new dT,this.statePool=[],this.quad=new OM,this.quadUv=new fT,this.tempRect=new Se,this.activeState={},this.globalUniforms=new mi({outputFrame:new Se,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const i=this.renderer,n=this.defaultFilterStack,s=this.statePool.pop()||new NM,o=i.renderTexture;let l,h;if(o.current){const A=o.current;l=A.resolution,h=A.multisample}else l=i.resolution,h=i.multisample;let c=r[0].resolution||l,f=r[0].multisample??h,m=r[0].padding,p=r[0].autoFit,v=r[0].legacy??!0;for(let A=1;A<r.length;A++){const S=r[A];c=Math.min(c,S.resolution||l),f=Math.min(f,S.multisample??h),m=this.useMaxPadding?Math.max(m,S.padding):m+S.padding,p=p&&S.autoFit,v=v||(S.legacy??!0)}n.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),n.push(s),s.resolution=c,s.multisample=f,s.legacy=v,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(m);const x=this.tempRect.copyFrom(o.sourceFrame);i.projection.transform&&this.transformAABB(ym.copyFrom(i.projection.transform).invert(),x),p?(s.sourceFrame.fit(x),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(x)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:i.resolution,o.sourceFrame,o.destinationFrame,i.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,c,f),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const b=this.tempRect;b.x=0,b.y=0,b.width=s.sourceFrame.width,b.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=i.projection.transform,i.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,b),i.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),i=r.filters;this.activeState=r;const n=this.globalUniforms.uniforms;n.outputFrame=r.sourceFrame,n.resolution=r.resolution;const s=n.inputSize,o=n.inputPixel,l=n.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],l[0]=.5*o[2],l[1]=.5*o[3],l[2]=r.sourceFrame.width*s[2]-.5*o[2],l[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const c=n.filterArea;c[0]=r.destinationFrame.width,c[1]=r.destinationFrame.height,c[2]=r.sourceFrame.x,c[3]=r.sourceFrame.y,n.filterClamp=n.inputClamp}this.globalUniforms.update();const h=e[e.length-1];if(this.renderer.framebuffer.blit(),i.length===1)i[0].apply(this,r.renderTexture,h.renderTexture,Bi.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let c=r.renderTexture,f=this.getOptimalFilterTexture(c.width,c.height,r.resolution);f.filterFrame=c.filterFrame;let m=0;for(m=0;m<i.length-1;++m){m===1&&r.multisample>1&&(f=this.getOptimalFilterTexture(c.width,c.height,r.resolution),f.filterFrame=c.filterFrame),i[m].apply(this,c,f,Bi.CLEAR,r);const p=c;c=f,f=p}i[m].apply(this,c,h.renderTexture,Bi.BLEND,r),m>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(c),this.returnFilterTexture(f)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=Bi.CLEAR){const{renderTexture:i,state:n}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,i.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=n.stateId&1||this.forceClear;(r===Bi.CLEAR||r===Bi.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,i,n){const s=this.renderer;s.state.set(e.state),this.bindAndClear(i,n),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(ui.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(ui.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:i,destinationFrame:n}=this.activeState,{orig:s}=r._texture,o=e.set(n.width,0,0,n.height,i.x,i.y),l=r.worldTransform.copyTo(Ke.TEMP_MATRIX);return l.invert(),o.prepend(l),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,i=1,n=vt.NONE){return this.texturePool.getOptimalTexture(e,r,i,n)}getFilterTexture(e,r,i){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const n=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,i||vt.NONE);return n.filterFrame=e.filterFrame,n}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const i=Gh[0],n=Gh[1],s=Gh[2],o=Gh[3];i.set(r.left,r.top),n.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(i,i),e.apply(n,n),e.apply(s,s),e.apply(o,o);const l=Math.min(i.x,n.x,s.x,o.x),h=Math.min(i.y,n.y,s.y,o.y),c=Math.max(i.x,n.x,s.x,o.x),f=Math.max(i.y,n.y,s.y,o.y);r.x=l,r.y=h,r.width=c-l,r.height=f-h}roundFrame(e,r,i,n,s){if(!(e.width<=0||e.height<=0||i.width<=0||i.height<=0)){if(s){const{a:o,b:l,c:h,d:c}=s;if((Math.abs(l)>1e-4||Math.abs(h)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(c)>1e-4))return}s=s?ym.copyFrom(s):ym.identity(),s.translate(-i.x,-i.y).scale(n.width/i.width,n.height/i.height).translate(n.x,n.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}pT.extension={type:se.RendererSystem,name:"filter"};fe.add(pT);class BM{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=vt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const LM=new Se;class mT{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new r0(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Se,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,i=this.renderer.context.extensions.depthTexture;oe.PREFER_ENV===no.WEBGL_LEGACY&&(r=null,i=null),r?e.drawBuffers=n=>r.drawBuffersWEBGL(n):(this.hasMRT=!1,e.drawBuffers=()=>{}),i||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,i=0){const{gl:n}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,n.bindFramebuffer(n.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==i&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=i),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,i)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const l=e.colorTextures[o];this.renderer.texture.unbind(l.parentTextureArray||l)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const o=r.width>>i,l=r.height>>i,h=o/r.width;this.setViewport(r.x*h,r.y*h,o,l)}else{const o=e.width>>i,l=e.height>>i;this.setViewport(0,0,o,l)}}else this.current&&(this.current=null,n.bindFramebuffer(n.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,i,n){const s=this.viewport;e=Math.round(e),r=Math.round(r),i=Math.round(i),n=Math.round(n),(s.width!==i||s.height!==n||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=i,s.height=n,this.gl.viewport(e,r,i,n))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,i,n,s=Ig.COLOR|Ig.DEPTH){const{gl:o}=this;o.clearColor(e,r,i,n),o.clear(s)}initFramebuffer(e){const{gl:r}=this,i=new BM(r.createFramebuffer());return i.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=i,this.managedFramebuffers.push(e),e.disposeRunner.add(this),i}resizeFramebuffer(e){const{gl:r}=this,i=e.glFramebuffers[this.CONTEXT_UID];if(i.stencil){r.bindRenderbuffer(r.RENDERBUFFER,i.stencil);let o;this.renderer.context.webGLVersion===1?o=r.DEPTH_STENCIL:e.depth&&e.stencil?o=r.DEPTH24_STENCIL8:e.depth?o=r.DEPTH_COMPONENT24:o=r.STENCIL_INDEX8,i.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,o,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,o,e.width,e.height)}const n=e.colorTextures;let s=n.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const l=n[o],h=l.parentTextureArray||l;this.renderer.texture.bind(h,0),o===0&&i.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,i.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,h._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:i}=this,n=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;i.drawBuffers||(o=Math.min(o,1)),n.multisample>1&&this.canMultisampleFramebuffer(e)?n.msaaBuffer=n.msaaBuffer||i.createRenderbuffer():n.msaaBuffer&&(i.deleteRenderbuffer(n.msaaBuffer),n.msaaBuffer=null,n.blitFramebuffer&&(n.blitFramebuffer.dispose(),n.blitFramebuffer=null));const l=[];for(let h=0;h<o;h++){const c=s[h],f=c.parentTextureArray||c;this.renderer.texture.bind(f,0),h===0&&n.msaaBuffer?(i.bindRenderbuffer(i.RENDERBUFFER,n.msaaBuffer),i.renderbufferStorageMultisample(i.RENDERBUFFER,n.multisample,f._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,n.msaaBuffer)):(i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0+h,c.target,f._glTextures[this.CONTEXT_UID].texture,r),l.push(i.COLOR_ATTACHMENT0+h))}if(l.length>1&&i.drawBuffers(l),e.depthTexture&&this.writeDepthTexture){const h=e.depthTexture;this.renderer.texture.bind(h,0),i.framebufferTexture2D(i.FRAMEBUFFER,i.DEPTH_ATTACHMENT,i.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,r)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){n.stencil=n.stencil||i.createRenderbuffer();let h,c;this.renderer.context.webGLVersion===1?(h=i.DEPTH_STENCIL_ATTACHMENT,c=i.DEPTH_STENCIL):e.depth&&e.stencil?(h=i.DEPTH_STENCIL_ATTACHMENT,c=i.DEPTH24_STENCIL8):e.depth?(h=i.DEPTH_ATTACHMENT,c=i.DEPTH_COMPONENT24):(h=i.STENCIL_ATTACHMENT,c=i.STENCIL_INDEX8),i.bindRenderbuffer(i.RENDERBUFFER,n.stencil),n.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,n.multisample,c,e.width,e.height):i.renderbufferStorage(i.RENDERBUFFER,c,e.width,e.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,h,i.RENDERBUFFER,n.stencil)}else n.stencil&&(i.deleteRenderbuffer(n.stencil),n.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let i=vt.NONE;if(e<=1||r===null)return i;for(let n=0;n<r.length;n++)if(r[n]<=e){i=r[n];break}return i===1&&(i=vt.NONE),i}blit(e,r,i){const{current:n,renderer:s,gl:o,CONTEXT_UID:l}=this;if(s.context.webGLVersion!==2||!n)return;const h=n.glFramebuffers[l];if(!h)return;if(!e){if(!h.msaaBuffer)return;const f=n.colorTextures[0];if(!f)return;h.blitFramebuffer||(h.blitFramebuffer=new r0(n.width,n.height),h.blitFramebuffer.addColorTexture(0,f)),e=h.blitFramebuffer,e.colorTextures[0]!==f&&(e.colorTextures[0]=f,e.dirtyId++,e.dirtyFormat++),(e.width!==n.width||e.height!==n.height)&&(e.width=n.width,e.height=n.height,e.dirtyId++,e.dirtySize++)}r||(r=LM,r.width=n.width,r.height=n.height),i||(i=r);const c=r.width===i.width&&r.height===i.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,h.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,i.left,i.top,i.right,i.bottom,o.COLOR_BUFFER_BIT,c?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const i=e.glFramebuffers[this.CONTEXT_UID],n=this.gl;if(!i)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(n.deleteFramebuffer(i.framebuffer),i.msaaBuffer&&n.deleteRenderbuffer(i.msaaBuffer),i.stencil&&n.deleteRenderbuffer(i.stencil)),i.blitFramebuffer&&this.disposeFramebuffer(i.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let i=0;i<r.length;i++)this.disposeFramebuffer(r[i],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil&&e.stencil)return;e.stencil=!0;const i=e.width,n=e.height,s=this.gl,o=r.stencil=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o);let l,h;this.renderer.context.webGLVersion===1?(l=s.DEPTH_STENCIL_ATTACHMENT,h=s.DEPTH_STENCIL):e.depth?(l=s.DEPTH_STENCIL_ATTACHMENT,h=s.DEPTH24_STENCIL8):(l=s.STENCIL_ATTACHMENT,h=s.STENCIL_INDEX8),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,h,i,n):s.renderbufferStorage(s.RENDERBUFFER,h,i,n),s.framebufferRenderbuffer(s.FRAMEBUFFER,l,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Se}destroy(){this.renderer=null}}mT.extension={type:se.RendererSystem,name:"framebuffer"};fe.add(mT);const vm={5126:4,5123:2,5121:1};class gT{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let i=this.renderer.context.extensions.vertexArrayObject;oe.PREFER_ENV===no.WEBGL_LEGACY&&(i=null),i?(e.createVertexArray=()=>i.createVertexArrayOES(),e.bindVertexArray=n=>i.bindVertexArrayOES(n),e.deleteVertexArray=n=>i.deleteVertexArrayOES(n)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const i=e.getExtension("ANGLE_instanced_arrays");i?(e.vertexAttribDivisor=(n,s)=>i.vertexAttribDivisorANGLE(n,s),e.drawElementsInstanced=(n,s,o,l,h)=>i.drawElementsInstancedANGLE(n,s,o,l,h),e.drawArraysInstanced=(n,s,o,l)=>i.drawArraysInstancedANGLE(n,s,o,l)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:i}=this;let n=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;n||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=n={},s=!0);const o=n[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?i.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let i=0;i<e.buffers.length;i++){const n=e.buffers[i];r.update(n)}}checkCompatibility(e,r){const i=e.attributes,n=r.attributeData;for(const s in n)if(!i[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const i=e.attributes,n=r.attributeData,s=["g",e.id];for(const o in i)n[o]&&s.push(o,n[o].location);return s.join("-")}initGeometryVao(e,r,i=!0){const n=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,l=r.program;l.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,l);const h=this.getSignature(e,l),c=e.glVertexArrayObjects[this.CONTEXT_UID];let f=c[h];if(f)return c[l.id]=f,f;const m=e.buffers,p=e.attributes,v={},x={};for(const b in m)v[b]=0,x[b]=0;for(const b in p)!p[b].size&&l.attributeData[b]?p[b].size=l.attributeData[b].size:p[b].size||console.warn(`PIXI Geometry attribute '${b}' size cannot be determined (likely the bound shader does not have the attribute)`),v[p[b].buffer]+=p[b].size*vm[p[b].type];for(const b in p){const A=p[b],S=A.size;A.stride===void 0&&(v[A.buffer]===S*vm[A.type]?A.stride=0:A.stride=v[A.buffer]),A.start===void 0&&(A.start=x[A.buffer],x[A.buffer]+=S*vm[A.type])}f=n.createVertexArray(),n.bindVertexArray(f);for(let b=0;b<m.length;b++){const A=m[b];o.bind(A),i&&A._glBuffers[s].refCount++}return this.activateVao(e,l),c[l.id]=f,c[h]=f,n.bindVertexArray(null),o.unbind(Vi.ARRAY_BUFFER),f}disposeGeometry(e,r){var l;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const i=e.glVertexArrayObjects[this.CONTEXT_UID],n=this.gl,s=e.buffers,o=(l=this.renderer)==null?void 0:l.buffer;if(e.disposeRunner.remove(this),!!i){if(o)for(let h=0;h<s.length;h++){const c=s[h]._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!r&&o.dispose(s[h],r))}if(!r){for(const h in i)if(h[0]==="g"){const c=i[h];this._activeVao===c&&this.unbind(),n.deleteVertexArray(c)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let i=0;i<r.length;i++)this.disposeGeometry(this.managedGeometries[r[i]],e)}activateVao(e,r){const i=this.gl,n=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,l=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let h=null;for(const c in l){const f=l[c],m=o[f.buffer],p=m._glBuffers[n];if(r.attributeData[c]){h!==p&&(s.bind(m),h=p);const v=r.attributeData[c].location;if(i.enableVertexAttribArray(v),i.vertexAttribPointer(v,f.size,f.type||i.FLOAT,f.normalized,f.stride,f.start),f.instance)if(this.hasInstance)i.vertexAttribDivisor(v,f.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,i,n){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const l=o.indexBuffer.data.BYTES_PER_ELEMENT,h=l===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;l===2||l===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,h,(i||0)*l,n||1):s.drawElements(e,r||o.indexBuffer.data.length,h,(i||0)*l):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,i,r||o.getSize(),n||1):s.drawArrays(e,i,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}gT.extension={type:se.RendererSystem,name:"geometry"};fe.add(gT);const iw=new Ke;class Gy{constructor(e,r){this._texture=e,this.mapCoord=new Ke,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const i=this.mapCoord;for(let n=0;n<e.length;n+=2){const s=e[n],o=e[n+1];r[n]=s*i.a+o*i.c+i.tx,r[n+1]=s*i.b+o*i.d+i.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const i=r._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);const n=r.orig,s=r.trim;s&&(iw.set(n.width/s.width,0,0,n.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(iw));const o=r.baseTexture,l=this.uClampFrame,h=this.clampMargin/o.resolution,c=this.clampOffset;return l[0]=(r._frame.x+h+c)/o.width,l[1]=(r._frame.y+h+c)/o.height,l[2]=(r._frame.x+r._frame.width-h+c)/o.width,l[3]=(r._frame.y+r._frame.height-h+c)/o.height,this.uClampOffset[0]=c/o.realWidth,this.uClampOffset[1]=c/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}var UM=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,zM=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class GM extends Me{constructor(e,r,i){let n=null;typeof e!="string"&&r===void 0&&i===void 0&&(n=e,e=void 0,r=void 0,i=void 0),super(e||zM,r||UM,i),this.maskSprite=n,this.maskMatrix=new Ke}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,i,n){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new Gy(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,r,i,n))}}class jM{constructor(e=null){this.type=bt.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Me.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=bt.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class yT{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let i=r;if(!i.isMaskData){const s=this.maskDataPool.pop()||new jM;s.pooled=!0,s.maskObject=r,i=s}const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(i.copyCountersOrReset(n),i._colorMask=n?n._colorMask:15,i.autoDetect&&this.detect(i),i._target=e,i.type!==bt.SPRITE&&this.maskStack.push(i),i.enabled)switch(i.type){case bt.SCISSOR:this.renderer.scissor.push(i);break;case bt.STENCIL:this.renderer.stencil.push(i);break;case bt.SPRITE:i.copyCountersOrReset(null),this.pushSpriteMask(i);break;case bt.COLOR:this.pushColorMask(i);break}i.type===bt.SPRITE&&this.maskStack.push(i)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case bt.SCISSOR:this.renderer.scissor.pop(r);break;case bt.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case bt.SPRITE:this.popSpriteMask(r);break;case bt.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const i=this.maskStack[this.maskStack.length-1];i.type===bt.SPRITE&&i._filters&&(i._filters[0].maskSprite=i.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=bt.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=bt.SCISSOR:e.type=bt.STENCIL:e.type=bt.COLOR}pushSpriteMask(e){const{maskObject:r}=e,i=e._target;let n=e._filters;n||(n=this.alphaMaskPool[this.alphaMaskIndex],n||(n=this.alphaMaskPool[this.alphaMaskIndex]=[new GM])),n[0].resolution=e.resolution,n[0].multisample=e.multisample,n[0].maskSprite=r;const s=i.filterArea;i.filterArea=r.getBounds(!0),this.renderer.filter.push(i,n),i.filterArea=s,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,i=e._colorMask=r&e.colorMask;i!==r&&this.renderer.gl.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)}popColorMask(e){const r=e._colorMask,i=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;i!==r&&this.renderer.gl.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)}destroy(){this.renderer=null}}yT.extension={type:se.RendererSystem,name:"mask"};fe.add(yT);class vT{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,i=this.getStackLength();this.maskStack=e;const n=this.getStackLength();n!==i&&(n===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const nw=new Ke,sw=[],xT=class wc extends vT{constructor(e){super(e),this.glConst=oe.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const r=e._scissorRect,{maskObject:i}=e,{renderer:n}=this,s=n.renderTexture,o=i.getBounds(!0,sw.pop()??new Se);this.roundFrameToPixels(o,s.current?s.current.resolution:n.resolution,s.sourceFrame,s.destinationFrame,n.projection.transform),r&&o.fit(r),e._scissorRectLocal=o}static isMatrixRotated(e){if(!e)return!1;const{a:r,b:i,c:n,d:s}=e;return(Math.abs(i)>1e-4||Math.abs(n)>1e-4)&&(Math.abs(r)>1e-4||Math.abs(s)>1e-4)}testScissor(e){const{maskObject:r}=e;if(!r.isFastRect||!r.isFastRect()||wc.isMatrixRotated(r.worldTransform)||wc.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const i=e._scissorRectLocal;return i.width>0&&i.height>0}roundFrameToPixels(e,r,i,n,s){wc.isMatrixRotated(s)||(s=s?nw.copyFrom(s):nw.identity(),s.translate(-i.x,-i.y).scale(n.width/i.width,n.height/i.height).translate(n.x,n.y),this.renderer.filter.transformAABB(s,e),e.fit(n),e.x=Math.round(e.x*r),e.y=Math.round(e.y*r),e.width=Math.round(e.width*r),e.height=Math.round(e.height*r))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:r}=this.renderer;e._scissorRect||r.enable(r.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:r}=this.renderer;e&&sw.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let r;this.renderer.renderTexture.current?r=e.y:r=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,r,e.width,e.height)}};xT.extension={type:se.RendererSystem,name:"scissor"};let HM=xT;fe.add(HM);class _T extends vT{constructor(e){super(e),this.glConst=oe.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:i}=this.renderer,n=e._stencilCounter;n===0&&(this.renderer.framebuffer.forceStencil(),i.clearStencil(0),i.clear(i.STENCIL_BUFFER_BIT),i.enable(i.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,i.colorMask(!1,!1,!1,!1)),i.stencilFunc(i.EQUAL,n,4294967295),i.stencilOp(i.KEEP,i.KEEP,i.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,i.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,n=i?i._colorMask:15;n!==0&&(i._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,n!==0&&(i._colorMask=n,r.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}_T.extension={type:se.RendererSystem,name:"stencil"};fe.add(_T);class wT{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Ee("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return Ee("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return Ee("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}wT.extension={type:[se.RendererSystem,se.CanvasRendererSystem],name:"_plugin"};fe.add(wT);class bT{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Ke,this.transform=null}update(e,r,i,n){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,i,n),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,i,n){const s=this.projectionMatrix,o=n?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}bT.extension={type:se.RendererSystem,name:"projection"};fe.add(bT);const VM=new $d,ow=new Se;class ST{constructor(e){this.renderer=e,this._tempMatrix=new Ke}generateTexture(e,r){const{region:i,...n}=r||{},s=(i==null?void 0:i.copyTo(ow))||e.getLocalBounds(ow,!0),o=n.resolution||this.renderer.resolution;s.width=Math.max(s.width,1/o),s.height=Math.max(s.height,1/o),n.width=s.width,n.height=s.height,n.resolution=o,n.multisample??(n.multisample=this.renderer.multisample);const l=so.create(n);this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const h=e.transform;return e.transform=VM,this.renderer.render(e,{renderTexture:l,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=h,l}destroy(){}}ST.extension={type:[se.RendererSystem,se.CanvasRendererSystem],name:"textureGenerator"};fe.add(ST);const Cs=new Se,hl=new Se;class ET{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Se,this.destinationFrame=new Se,this.viewportFrame=new Se}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,i){const n=this.renderer;this.current=e;let s,o,l;e?(s=e.baseTexture,l=s.resolution,r||(Cs.width=e.frame.width,Cs.height=e.frame.height,r=Cs),i||(hl.x=e.frame.x,hl.y=e.frame.y,hl.width=r.width,hl.height=r.height,i=hl),o=s.framebuffer):(l=n.resolution,r||(Cs.width=n._view.screen.width,Cs.height=n._view.screen.height,r=Cs),i||(i=Cs,i.width=r.width,i.height=r.height));const h=this.viewportFrame;h.x=i.x*l,h.y=i.y*l,h.width=i.width*l,h.height=i.height*l,e||(h.y=n.view.height-(h.y+h.height)),h.ceil(),this.renderer.framebuffer.bind(o,h),this.renderer.projection.update(i,r,l,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(i)}clear(e,r){const i=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,n=je.shared.setValue(e||i);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&n.premultiply(n.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,l=s.width!==o.width||s.height!==o.height;if(l){let{x:h,y:c,width:f,height:m}=this.viewportFrame;h=Math.round(h),c=Math.round(c),f=Math.round(f),m=Math.round(m),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(h,c,f,m)}this.renderer.framebuffer.clear(n.red,n.green,n.blue,n.alpha,r),l&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}ET.extension={type:se.RendererSystem,name:"renderTexture"};fe.add(ET);class WM{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function XM(t,e){const r={},i=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let n=0;n<i;n++){const s=e.getActiveAttrib(t,n);if(s.name.startsWith("gl_"))continue;const o=lT(e,s.type),l={type:o,name:s.name,size:aT(o),location:e.getAttribLocation(t,s.name)};r[s.name]=l}return r}function $M(t,e){const r={},i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let n=0;n<i;n++){const s=e.getActiveUniform(t,n),o=s.name.replace(/\[.*?\]$/,""),l=!!s.name.match(/\[.*?\]$/),h=lT(e,s.type);r[o]={name:o,index:n,type:h,size:s.size,isArray:l,value:sT(h,s.size)}}return r}function YM(t,e){var l;const r=Z_(t,t.VERTEX_SHADER,e.vertexSrc),i=Z_(t,t.FRAGMENT_SHADER,e.fragmentSrc),n=t.createProgram();t.attachShader(n,r),t.attachShader(n,i);const s=(l=e.extra)==null?void 0:l.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(n,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(n),t.getProgramParameter(n,t.LINK_STATUS)||SM(t,n,r,i),e.attributeData=XM(n,t),e.uniformData=$M(n,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const h=Object.keys(e.attributeData);h.sort((c,f)=>c>f?1:-1);for(let c=0;c<h.length;c++)e.attributeData[h[c]].location=c,t.bindAttribLocation(n,c,h[c]);t.linkProgram(n)}t.deleteShader(r),t.deleteShader(i);const o={};for(const h in e.uniformData){const c=e.uniformData[h];o[h]={location:t.getUniformLocation(n,h),value:sT(c.type,c.size)}}return new WM(n,o)}function QM(t,e,r,i,n){r.buffer.update(n)}const KM={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},TT={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function ZM(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,i=0,n=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=TT[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,i%r!==0&&i<16){const l=i%r%16;i+=l,n+=l}i+r>16?(n=Math.ceil(n/16)*16,o.offset=n,n+=r,i=r):(o.offset=n,i+=r,n+=r)}return n=Math.ceil(n/16)*16,{uboElements:e,size:n}}function qM(t,e){const r=[];for(const i in t)e[i]&&r.push(e[i]);return r.sort((i,n)=>i.index-n.index),r}function JM(t,e){if(!t.autoManage)return{size:0,syncFunc:QM};const r=qM(t.uniforms,e),{uboElements:i,size:n}=ZM(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<i.length;o++){const l=i[o],h=t.uniforms[l.data.name],c=l.data.name;let f=!1;for(let m=0;m<ca.length;m++){const p=ca[m];if(p.codeUbo&&p.test(l.data,h)){s.push(`offset = ${l.offset/4};`,ca[m].codeUbo(l.data.name,h)),f=!0;break}}if(!f)if(l.data.size>1){const m=aT(l.data.type),p=Math.max(TT[l.data.type]/16,1),v=m/p,x=(4-v%4)%4;s.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${l.offset/4};

                t = 0;

                for(var i=0; i < ${l.data.size*p}; i++)
                {
                    for(var j = 0; j < ${v}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${x};
                }

                `)}else{const m=KM[l.data.type];s.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${l.offset/4};
                ${m};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:n,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let eD=0;const jh={textureCount:0,uboCount:0};class AT{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=eD++}systemCheck(){if(!TM())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const i=e.program,n=i.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==i&&(this.program=i,this.gl.useProgram(n.program)),r||(jh.textureCount=0,jh.uboCount=0,this.syncUniformGroup(e.uniformGroup,jh)),n}setUniforms(e){const r=this.shader.program,i=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(i.uniformData,e,this.renderer)}syncUniformGroup(e,r){const i=this.getGlProgram();(!e.static||e.dirtyId!==i.uniformDirtyGroups[e.id])&&(i.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,i,r))}syncUniforms(e,r,i){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,i)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=_M(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const i=this.getGlProgram();if(!e.static||e.dirtyId!==0||!i.uniformGroups[e.id]){e.dirtyId=0;const n=i.uniformGroups[e.id]||this.createSyncBufferGroup(e,i,r);e.buffer.update(),n(i.uniformData,e.uniforms,this.renderer,jh,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,i.uniformBufferBindings[r])}createSyncBufferGroup(e,r,i){const{gl:n}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,i);r.uniformBufferBindings[i]=this.shader.uniformBindCount,n.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let l=this._uboCache[o];if(l||(l=this._uboCache[o]=JM(e,this.shader.program.uniformData)),e.autoManage){const h=new Float32Array(l.size/4);e.buffer.update(h)}return r.uniformGroups[e.id]=l.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,i){const n=e.uniforms,s=[`${i}-`];for(const o in n)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,i=e.program,n=YM(r,i);return i.glPrograms[this.renderer.CONTEXT_UID]=n,n}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}AT.extension={type:se.RendererSystem,name:"shader"};fe.add(AT);class ud{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log(`PixiJS 7.4.2 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}ud.defaultOptions={hello:!1},ud.extension={type:[se.RendererSystem,se.CanvasRendererSystem],name:"startup"};fe.add(ud);function tD(t,e=[]){return e[ve.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.ADD]=[t.ONE,t.ONE],e[ve.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.NONE]=[0,0],e[ve.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[ve.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[ve.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[ve.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ve.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[ve.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[ve.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[ve.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[ve.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ve.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const rD=0,iD=1,nD=2,sD=3,oD=4,aD=5,CT=class i0{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=ve.NONE,this._blendEq=!1,this.map=[],this.map[rD]=this.setBlend,this.map[iD]=this.setOffset,this.map[nD]=this.setCullFace,this.map[sD]=this.setDepthTest,this.map[oD]=this.setFrontFace,this.map[aD]=this.setDepthMask,this.checks=[],this.defaultState=new Qi,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=tD(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let r=this.stateId^e.data,i=0;for(;r;)r&1&&this.map[i].call(this,!!(e.data&1<<i)),r=r>>1,i++;this.stateId=e.data}for(let r=0;r<this.checks.length;r++)this.checks[r](this,e)}forceState(e){e=e||this.defaultState;for(let r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(let r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(i0.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(i0.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const r=this.blendModes[e],i=this.gl;r.length===2?i.blendFunc(r[0],r[1]):i.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,i.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,i.blendEquationSeparate(i.FUNC_ADD,i.FUNC_ADD))}setPolygonOffset(e,r){this.gl.polygonOffset(e,r)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,r){const i=this.checks.indexOf(e);r&&i===-1?this.checks.push(e):!r&&i!==-1&&this.checks.splice(i,1)}static checkBlendMode(e,r){e.setBlendMode(r.blendMode)}static checkPolygonOffset(e,r){e.setPolygonOffset(1,r.polygonOffset)}destroy(){this.gl=null}};CT.extension={type:se.RendererSystem,name:"state"};let lD=CT;fe.add(lD);class uD extends yu{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(n=>e.systems[n]),i=[...r,...Object.keys(e.systems).filter(n=>!r.includes(n))];for(const n of i)this.addSystem(e.systems[n],n)}addRunners(...e){e.forEach(r=>{this.runners[r]=new pi(r)})}addSystem(e,r){const i=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=i,this._systemsHash[r]=i;for(const n in this.runners)this.runners[n].add(i);return this}emitWithCustomOptions(e,r){const i=Object.keys(this._systemsHash);e.items.forEach(n=>{const s=i.find(o=>this._systemsHash[o]===n);n[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const xl=class bc{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=bc.defaultMaxIdle,this.checkCountMax=bc.defaultCheckCountMax,this.mode=bc.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==ky.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,r=e.managedTextures;let i=!1;for(let n=0;n<r.length;n++){const s=r[n];s.resource&&this.count-s.touched>this.maxIdle&&(e.destroyTexture(s,!0),r[n]=null,i=!0)}if(i){let n=0;for(let s=0;s<r.length;s++)r[s]!==null&&(r[n++]=r[s]);r.length=n}}unload(e){const r=this.renderer.texture,i=e._texture;i&&!i.framebuffer&&r.destroyTexture(i);for(let n=e.children.length-1;n>=0;n--)this.unload(e.children[n])}destroy(){this.renderer=null}};xl.defaultMode=ky.AUTO,xl.defaultMaxIdle=60*60,xl.defaultCheckCountMax=60*10,xl.extension={type:se.RendererSystem,name:"textureGC"};let Bs=xl;fe.add(Bs);class xm{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=ge.UNSIGNED_BYTE,this.internalFormat=J.RGBA,this.samplerType=0}}function hD(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[t.RGB]:ae.FLOAT,[t.RGBA]:ae.FLOAT,[t.ALPHA]:ae.FLOAT,[t.LUMINANCE]:ae.FLOAT,[t.LUMINANCE_ALPHA]:ae.FLOAT,[t.R8]:ae.FLOAT,[t.R8_SNORM]:ae.FLOAT,[t.RG8]:ae.FLOAT,[t.RG8_SNORM]:ae.FLOAT,[t.RGB8]:ae.FLOAT,[t.RGB8_SNORM]:ae.FLOAT,[t.RGB565]:ae.FLOAT,[t.RGBA4]:ae.FLOAT,[t.RGB5_A1]:ae.FLOAT,[t.RGBA8]:ae.FLOAT,[t.RGBA8_SNORM]:ae.FLOAT,[t.RGB10_A2]:ae.FLOAT,[t.RGB10_A2UI]:ae.FLOAT,[t.SRGB8]:ae.FLOAT,[t.SRGB8_ALPHA8]:ae.FLOAT,[t.R16F]:ae.FLOAT,[t.RG16F]:ae.FLOAT,[t.RGB16F]:ae.FLOAT,[t.RGBA16F]:ae.FLOAT,[t.R32F]:ae.FLOAT,[t.RG32F]:ae.FLOAT,[t.RGB32F]:ae.FLOAT,[t.RGBA32F]:ae.FLOAT,[t.R11F_G11F_B10F]:ae.FLOAT,[t.RGB9_E5]:ae.FLOAT,[t.R8I]:ae.INT,[t.R8UI]:ae.UINT,[t.R16I]:ae.INT,[t.R16UI]:ae.UINT,[t.R32I]:ae.INT,[t.R32UI]:ae.UINT,[t.RG8I]:ae.INT,[t.RG8UI]:ae.UINT,[t.RG16I]:ae.INT,[t.RG16UI]:ae.UINT,[t.RG32I]:ae.INT,[t.RG32UI]:ae.UINT,[t.RGB8I]:ae.INT,[t.RGB8UI]:ae.UINT,[t.RGB16I]:ae.INT,[t.RGB16UI]:ae.UINT,[t.RGB32I]:ae.INT,[t.RGB32UI]:ae.UINT,[t.RGBA8I]:ae.INT,[t.RGBA8UI]:ae.UINT,[t.RGBA16I]:ae.INT,[t.RGBA16UI]:ae.UINT,[t.RGBA32I]:ae.INT,[t.RGBA32UI]:ae.UINT,[t.DEPTH_COMPONENT16]:ae.FLOAT,[t.DEPTH_COMPONENT24]:ae.FLOAT,[t.DEPTH_COMPONENT32F]:ae.FLOAT,[t.DEPTH_STENCIL]:ae.FLOAT,[t.DEPTH24_STENCIL8]:ae.FLOAT,[t.DEPTH32F_STENCIL8]:ae.FLOAT}:e={[t.RGB]:ae.FLOAT,[t.RGBA]:ae.FLOAT,[t.ALPHA]:ae.FLOAT,[t.LUMINANCE]:ae.FLOAT,[t.LUMINANCE_ALPHA]:ae.FLOAT,[t.DEPTH_STENCIL]:ae.FLOAT},e}function cD(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[ge.UNSIGNED_BYTE]:{[J.RGBA]:t.RGBA8,[J.RGB]:t.RGB8,[J.RG]:t.RG8,[J.RED]:t.R8,[J.RGBA_INTEGER]:t.RGBA8UI,[J.RGB_INTEGER]:t.RGB8UI,[J.RG_INTEGER]:t.RG8UI,[J.RED_INTEGER]:t.R8UI,[J.ALPHA]:t.ALPHA,[J.LUMINANCE]:t.LUMINANCE,[J.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ge.BYTE]:{[J.RGBA]:t.RGBA8_SNORM,[J.RGB]:t.RGB8_SNORM,[J.RG]:t.RG8_SNORM,[J.RED]:t.R8_SNORM,[J.RGBA_INTEGER]:t.RGBA8I,[J.RGB_INTEGER]:t.RGB8I,[J.RG_INTEGER]:t.RG8I,[J.RED_INTEGER]:t.R8I},[ge.UNSIGNED_SHORT]:{[J.RGBA_INTEGER]:t.RGBA16UI,[J.RGB_INTEGER]:t.RGB16UI,[J.RG_INTEGER]:t.RG16UI,[J.RED_INTEGER]:t.R16UI,[J.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[ge.SHORT]:{[J.RGBA_INTEGER]:t.RGBA16I,[J.RGB_INTEGER]:t.RGB16I,[J.RG_INTEGER]:t.RG16I,[J.RED_INTEGER]:t.R16I},[ge.UNSIGNED_INT]:{[J.RGBA_INTEGER]:t.RGBA32UI,[J.RGB_INTEGER]:t.RGB32UI,[J.RG_INTEGER]:t.RG32UI,[J.RED_INTEGER]:t.R32UI,[J.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[ge.INT]:{[J.RGBA_INTEGER]:t.RGBA32I,[J.RGB_INTEGER]:t.RGB32I,[J.RG_INTEGER]:t.RG32I,[J.RED_INTEGER]:t.R32I},[ge.FLOAT]:{[J.RGBA]:t.RGBA32F,[J.RGB]:t.RGB32F,[J.RG]:t.RG32F,[J.RED]:t.R32F,[J.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[ge.HALF_FLOAT]:{[J.RGBA]:t.RGBA16F,[J.RGB]:t.RGB16F,[J.RG]:t.RG16F,[J.RED]:t.R16F},[ge.UNSIGNED_SHORT_5_6_5]:{[J.RGB]:t.RGB565},[ge.UNSIGNED_SHORT_4_4_4_4]:{[J.RGBA]:t.RGBA4},[ge.UNSIGNED_SHORT_5_5_5_1]:{[J.RGBA]:t.RGB5_A1},[ge.UNSIGNED_INT_2_10_10_10_REV]:{[J.RGBA]:t.RGB10_A2,[J.RGBA_INTEGER]:t.RGB10_A2UI},[ge.UNSIGNED_INT_10F_11F_11F_REV]:{[J.RGB]:t.R11F_G11F_B10F},[ge.UNSIGNED_INT_5_9_9_9_REV]:{[J.RGB]:t.RGB9_E5},[ge.UNSIGNED_INT_24_8]:{[J.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[ge.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[J.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[ge.UNSIGNED_BYTE]:{[J.RGBA]:t.RGBA,[J.RGB]:t.RGB,[J.ALPHA]:t.ALPHA,[J.LUMINANCE]:t.LUMINANCE,[J.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ge.UNSIGNED_SHORT_5_6_5]:{[J.RGB]:t.RGB},[ge.UNSIGNED_SHORT_4_4_4_4]:{[J.RGBA]:t.RGBA},[ge.UNSIGNED_SHORT_5_5_5_1]:{[J.RGBA]:t.RGBA}},e}class PT{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new _e,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=cD(e),this.samplerTypes=hD(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let n=0;n<r;n++)this.boundTextures[n]=null;this.emptyTextures={};const i=new xm(e.createTexture());e.bindTexture(e.TEXTURE_2D,i.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=i,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new xm(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let n=0;n<6;n++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+n,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let n=0;n<this.boundTextures.length;n++)this.bind(null,n)}bind(e,r=0){const{gl:i}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const n=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,i.activeTexture(i.TEXTURE0+r)),i.bindTexture(e.target,n.texture)),n.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,i.activeTexture(i.TEXTURE0+r)),this.updateTexture(e)):n.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,i.activeTexture(i.TEXTURE0+r)),i.bindTexture(i.TEXTURE_2D,this.emptyTextures[i.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:i}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let n=0;n<i.length;n++)i[n]===this.unknownTexture&&this.bind(null,n)}for(let n=0;n<i.length;n++)i[n]===e&&(this.currentLocation!==n&&(r.activeTexture(r.TEXTURE0+n),this.currentLocation=n),r.bindTexture(e.target,this.emptyTextures[e.target].texture),i[n]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:i,CONTEXT_UID:n}=this;if(i)for(let s=e-1;s>=0;--s){const o=r[s];o&&o._glTextures[n].samplerType!==ae.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const r=new xm(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var i;r.internalFormat=((i=this.internalFormats[e.type])==null?void 0:i[e.format])??e.format,r.samplerType=this.samplerTypes[r.internalFormat]??ae.FLOAT,this.webGLVersion===2&&e.type===ge.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var n;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const i=this.renderer;if(this.initTextureType(e,r),(n=e.resource)==null?void 0:n.upload(i,e,r))r.samplerType!==ae.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,l=i.gl;(r.width!==s||r.height!==o||r.dirtyId<0)&&(r.width=s,r.height=o,l.texImage2D(e.target,0,r.internalFormat,s,o,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:i}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),i.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const n=this.managedTextures.indexOf(e);n!==-1&&ha(this.managedTextures,n,1)}}updateTextureStyle(e){var i;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===Xi.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=fn.CLAMP:r.wrapMode=e.wrapMode,(i=e.resource)!=null&&i.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const i=this.gl;if(r.mipmap&&e.mipmap!==Xi.ON_MANUAL&&i.generateMipmap(e.target),i.texParameteri(e.target,i.TEXTURE_WRAP_S,r.wrapMode),i.texParameteri(e.target,i.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,e.scaleMode===zi.LINEAR?i.LINEAR_MIPMAP_LINEAR:i.NEAREST_MIPMAP_NEAREST);const n=this.renderer.context.extensions.anisotropicFiltering;if(n&&e.anisotropicLevel>0&&e.scaleMode===zi.LINEAR){const s=Math.min(e.anisotropicLevel,i.getParameter(n.MAX_TEXTURE_MAX_ANISOTROPY_EXT));i.texParameterf(e.target,n.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else i.texParameteri(e.target,i.TEXTURE_MIN_FILTER,e.scaleMode===zi.LINEAR?i.LINEAR:i.NEAREST);i.texParameteri(e.target,i.TEXTURE_MAG_FILTER,e.scaleMode===zi.LINEAR?i.LINEAR:i.NEAREST)}destroy(){this.renderer=null}}PT.extension={type:se.RendererSystem,name:"texture"};fe.add(PT);class IT{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:i}=this,n=e._glTransformFeedbacks[i]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,n)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:i,renderer:n}=this;r&&n.shader.bind(r),i.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:i,CONTEXT_UID:n}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[n]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const l=e.buffers[o];l&&(i.buffer.update(l),l._glBuffers[n].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,l._glBuffers[n].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const i=e._glTransformFeedbacks[this.CONTEXT_UID],n=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const l=e.buffers[o];if(!l)continue;const h=l._glBuffers[this.CONTEXT_UID];h&&(h.refCount--,h.refCount===0&&!r&&s.dispose(l,r))}i&&(r||n.deleteTransformFeedback(i),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}IT.extension={type:se.RendererSystem,name:"transformFeedback"};fe.add(IT);class hd{constructor(e){this.renderer=e}init(e){this.screen=new Se(0,0,e.width,e.height),this.element=e.view||oe.ADAPTER.createCanvas(),this.resolution=e.resolution||oe.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const i=this.element.width/this.resolution,n=this.element.height/this.resolution;this.screen.width=i,this.screen.height=n,this.autoDensity&&(this.element.style.width=`${i}px`,this.element.style.height=`${n}px`),this.renderer.emit("resize",i,n),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}hd.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},hd.extension={type:[se.RendererSystem,se.CanvasRendererSystem],name:"_view"};fe.add(hd);oe.PREFER_ENV=no.WEBGL2;oe.STRICT_TEXTURE_CACHE=!1;oe.RENDER_OPTIONS={...ld.defaultOptions,...ad.defaultOptions,...hd.defaultOptions,...ud.defaultOptions};Object.defineProperties(oe,{WRAP_MODE:{get(){return _e.defaultOptions.wrapMode},set(t){Ee("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),_e.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return _e.defaultOptions.scaleMode},set(t){Ee("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),_e.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return _e.defaultOptions.mipmap},set(t){Ee("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),_e.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return _e.defaultOptions.anisotropicLevel},set(t){Ee("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),_e.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return Ee("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),Me.defaultResolution},set(t){Me.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return Ee("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),Me.defaultMultisample},set(t){Me.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return Ns.defaultMaxTextures},set(t){Ee("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Ns.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return Ns.defaultBatchSize},set(t){Ee("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Ns.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return Ns.canUploadSameBuffer},set(t){Ee("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Ns.canUploadSameBuffer=t}},GC_MODE:{get(){return Bs.defaultMode},set(t){Ee("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Bs.defaultMode=t}},GC_MAX_IDLE:{get(){return Bs.defaultMaxIdle},set(t){Ee("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Bs.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return Bs.defaultCheckCountMax},set(t){Ee("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Bs.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return cn.defaultVertexPrecision},set(t){Ee("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),cn.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return cn.defaultFragmentPrecision},set(t){Ee("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),cn.defaultFragmentPrecision=t}}});var us=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(us||{});class _m{constructor(e,r=null,i=0,n=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=i,this.once=n}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const RT=class br{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new _m(null,null,1/0),this.deltaMS=1/br.targetFPMS,this.elapsedMS=1/br.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,i=us.NORMAL){return this._addListener(new _m(e,r,i))}addOnce(e,r,i=us.NORMAL){return this._addListener(new _m(e,r,i,!0))}_addListener(e){let r=this._head.next,i=this._head;if(!r)e.connect(i);else{for(;r;){if(e.priority>r.priority){e.connect(i);break}i=r,r=r.next}e.previous||e.connect(i)}return this._startIfPossible(),this}remove(e,r){let i=this._head.next;for(;i;)i.match(e,r)?i=i.destroy():i=i.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const s=e-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=e-s%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*br.targetFPMS;const i=this._head;let n=i.next;for(;n;)n=n.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),i=Math.min(Math.max(0,r)/1e3,br.targetFPMS);this._maxElapsedMS=1/i}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!br._shared){const e=br._shared=new br;e.autoStart=!0,e._protected=!0}return br._shared}static get system(){if(!br._system){const e=br._system=new br;e.autoStart=!0,e._protected=!0}return br._system}};RT.targetFPMS=.06;let Dt=RT;Object.defineProperties(oe,{TARGET_FPMS:{get(){return Dt.targetFPMS},set(t){Ee("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),Dt.targetFPMS=t}}});class kT{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,us.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Dt.shared:new Dt,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}kT.extension=se.Application;fe.add(kT);const MT=[];fe.handleByList(se.Renderer,MT);function dD(t){for(const e of MT)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var fD=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,pD=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const mD=fD,DT=pD;class FT{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const i=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,i)}else{const i=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,i)}r>=vt.HIGH?this.multisample=vt.HIGH:r>=vt.MEDIUM?this.multisample=vt.MEDIUM:r>=vt.LOW?this.multisample=vt.LOW:this.multisample=vt.NONE}destroy(){}}FT.extension={type:se.RendererSystem,name:"_multisample"};fe.add(FT);class gD{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class OT{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:i}=this,n=e._glBuffers[i]||this.createGLBuffer(e);r.bindBuffer(e.type,n.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:i,CONTEXT_UID:n}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[n]||this.createGLBuffer(e);this.boundBufferBases[r]=e,i.bindBufferBase(i.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,i){const{gl:n,CONTEXT_UID:s}=this;i=i||0;const o=e._glBuffers[s]||this.createGLBuffer(e);n.bindBufferRange(n.UNIFORM_BUFFER,r||0,o.buffer,i*256,256)}update(e){const{gl:r,CONTEXT_UID:i}=this,n=e._glBuffers[i]||this.createGLBuffer(e);if(e._updateID!==n.updateID)if(n.updateID=e._updateID,r.bindBuffer(e.type,n.buffer),n.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;n.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const i=e._glBuffers[this.CONTEXT_UID],n=this.gl;e.disposeRunner.remove(this),i&&(r||n.deleteBuffer(i.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let i=0;i<r.length;i++)this.dispose(this.managedBuffers[r[i]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:i}=this;return e._glBuffers[r]=new gD(i.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}OT.extension={type:se.RendererSystem,name:"buffer"};fe.add(OT);class NT{constructor(e){this.renderer=e}render(e,r){const i=this.renderer;let n,s,o,l;if(r&&(n=r.renderTexture,s=r.clear,o=r.transform,l=r.skipUpdateTransform),this.renderingToScreen=!n,i.runners.prerender.emit(),i.emit("prerender"),i.projection.transform=o,!i.context.isLost){if(n||(this.lastObjectRendered=e),!l){const h=e.enableTempParent();e.updateTransform(),e.disableTempParent(h)}i.renderTexture.bind(n),i.batch.currentRenderer.start(),(s??i.background.clearBeforeRender)&&i.renderTexture.clear(),e.render(i),i.batch.currentRenderer.flush(),n&&(r.blit&&i.framebuffer.blit(),n.baseTexture.update()),i.runners.postrender.emit(),i.projection.transform=null,i.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}NT.extension={type:se.RendererSystem,name:"objectRenderer"};fe.add(NT);const Sc=class n0 extends uD{constructor(e){super(),this.type=TE.WEBGL,e=Object.assign({},oe.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new mi({projectionMatrix:new Ke},!0);const r={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:n0.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(r),"useContextAlpha"in e&&(Ee("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=n0.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:Gk()}render(e,r){this.objectRenderer.render(e,r)}resize(e,r){this._view.resizeView(e,r)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Ee("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Ee("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Ee("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Ee("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){Ee("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return Ee("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){Ee("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return Ee("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,r){return this.textureGenerator.generateTexture(e,r)}};Sc.extension={type:se.Renderer,priority:1},Sc.__plugins={},Sc.__systems={};let jy=Sc;fe.handleByMap(se.RendererPlugin,jy.__plugins);fe.handleByMap(se.RendererSystem,jy.__systems);fe.add(jy);class BT extends au{constructor(e,r){const{width:i,height:n}=r||{};super(i,n),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new _e;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let i=0;i<this.length;i++)e[i]&&(e[i].castToBaseTexture?this.addBaseTextureAt(e[i].castToBaseTexture(),i):e[i]instanceof au?this.addResourceAt(e[i],i):this.addResourceAt(rT(e[i],r),i))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(e).then(()=>{const{realWidth:r,realHeight:i}=this.items[0];return this.resize(r,i),this.update(),Promise.resolve(this)}),this._load}}class yD extends BT{constructor(e,r){const{width:i,height:n}=r||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:i,height:n}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=aa.TEXTURE_2D_ARRAY}upload(e,r,i){const{length:n,itemDirtyIds:s,items:o}=this,{gl:l}=e;i.dirtyId<0&&l.texImage3D(l.TEXTURE_2D_ARRAY,0,i.internalFormat,this._width,this._height,n,0,r.format,i.type,null);for(let h=0;h<n;h++){const c=o[h];s[h]<c.dirtyId&&(s[h]=c.dirtyId,c.valid&&l.texSubImage3D(l.TEXTURE_2D_ARRAY,0,0,0,h,c.resource.width,c.resource.height,1,r.format,i.type,c.resource.source))}return!0}}class vD extends _n{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const LT=class _l extends BT{constructor(e,r){const{width:i,height:n,autoLoad:s,linkBaseTexture:o}=r||{};if(e&&e.length!==_l.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:i,height:n});for(let l=0;l<_l.SIDES;l++)this.items[l].target=aa.TEXTURE_CUBE_MAP_POSITIVE_X+l;this.linkBaseTexture=o!==!1,e&&this.initFromArray(e,r),s!==!1&&this.load()}bind(e){super.bind(e),e.target=aa.TEXTURE_CUBE_MAP}addBaseTextureAt(e,r,i){if(i===void 0&&(i=this.linkBaseTexture),!this.items[r])throw new Error(`Index ${r} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=aa.TEXTURE_CUBE_MAP_POSITIVE_X+r,e.parentTextureArray=this.baseTexture,this.items[r]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[r]=e,this}upload(e,r,i){const n=this.itemDirtyIds;for(let s=0;s<_l.SIDES;s++){const o=this.items[s];(n[s]<o.dirtyId||i.dirtyId<r.dirtyId)&&(o.valid&&o.resource?(o.resource.upload(e,o,i),n[s]=o.dirtyId):n[s]<-1&&(e.gl.texImage2D(o.target,0,i.internalFormat,r.realWidth,r.realHeight,0,r.format,i.type,null),n[s]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===_l.SIDES}};LT.SIDES=6;let xD=LT;class Jo extends _n{constructor(e,r){r=r||{};let i,n,s;typeof e=="string"?(i=Jo.EMPTY,n=e,s=!0):(i=e,n=null,s=!1),super(i),this.url=n,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.ownsImageBitmap=r.ownsImageBitmap??s,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const i=await oe.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const n=await i.blob();if(this.destroyed)return;const s=await createImageBitmap(n,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===fr.UNPACK?"premultiply":"none"});if(this.destroyed){s.close();return}this.source=s,this.update(),e(this)}catch(i){if(this.destroyed)return;r(i),this.onError.emit(i)}}),this._load)}upload(e,r,i){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,i)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return Jo._EMPTY=Jo._EMPTY??oe.ADAPTER.createCanvas(0,0),Jo._EMPTY}}const s0=class Ec extends _n{constructor(e,r){r=r||{},super(oe.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=r.scale||1,this._overrideWidth=r.width,this._overrideHeight=r.height,this._resolve=null,this._crossorigin=r.crossorigin,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},Ec.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;_n.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=r=>{this._resolve&&(e.onerror=null,this.onError.emit(r))},e.onload=()=>{if(!this._resolve)return;const r=e.width,i=e.height;if(!r||!i)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let n=r*this.scale,s=i*this.scale;(this._overrideWidth||this._overrideHeight)&&(n=this._overrideWidth||this._overrideHeight/i*r,s=this._overrideHeight||this._overrideWidth/r*i),n=Math.round(n),s=Math.round(s);const o=this.source;o.width=n,o.height=s,o._pixiId=`canvas_${to()}`,o.getContext("2d").drawImage(e,0,0,r,i,0,0,n,s),this._resolve(),this._resolve=null}}static getSize(e){const r=Ec.SVG_SIZE.exec(e),i={};return r&&(i[r[1]]=Math.round(parseFloat(r[3])),i[r[5]]=Math.round(parseFloat(r[7]))),i}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,r){return r==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&Ec.SVG_XML.test(e)}};s0.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,s0.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let o0=s0;class _D extends _n{constructor(e){super(e)}static test(e){return!!globalThis.VideoFrame&&e instanceof globalThis.VideoFrame}}const a0=class l0 extends _n{constructor(e,r){if(r=r||{},!(e instanceof HTMLVideoElement)){const i=document.createElement("video");r.autoLoad!==!1&&i.setAttribute("preload","auto"),r.playsinline!==!1&&(i.setAttribute("webkit-playsinline",""),i.setAttribute("playsinline","")),r.muted===!0&&(i.setAttribute("muted",""),i.muted=!0),r.loop===!0&&i.setAttribute("loop",""),r.autoPlay!==!1&&i.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const n=e[0].src||e[0];_n.crossOrigin(i,n,r.crossorigin);for(let s=0;s<e.length;++s){const o=document.createElement("source");let{src:l,mime:h}=e[s];if(l=l||e[s],l.startsWith("data:"))h=l.slice(5,l.indexOf(";"));else if(!l.startsWith("blob:")){const c=l.split("?").shift().toLowerCase(),f=c.slice(c.lastIndexOf(".")+1);h=h||l0.MIME_TYPES[f]||`video/${f}`}o.src=l,h&&(o.type=h),i.appendChild(o)}e=i}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=r.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),r.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const r=Dt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((r,i)=>{this.valid?r(this):(this._resolve=r,this._reject=i,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const r=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!r&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(Dt.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Dt.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Dt.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,r){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||l0.TYPES.includes(r)}};a0.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],a0.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let UT=a0;Yg.push(Jo,cT,vD,UT,_D,o0,Hd,xD,yD);class wD{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(Dt.system.add(this.tickerUpdate,this,us.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(Dt.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const Wn=new wD;class _u{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=_u.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new we,this.page=new we,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,i){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,i,n,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class cd extends _u{constructor(){super(...arguments),this.client=new we,this.movement=new we,this.offset=new we,this.global=new we,this.screen=new we}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,i){return e.worldTransform.applyInverse(i||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,i,n,s,o,l,h,c,f,m,p,v,x,b){throw new Error("Method not implemented.")}}class ni extends cd{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class da extends cd{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}da.DOM_DELTA_PIXEL=0,da.DOM_DELTA_LINE=1,da.DOM_DELTA_PAGE=2;const bD=2048,SD=new we,wm=new we;class ED{constructor(e){this.dispatch=new yu,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((i,n)=>i.priority-n.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let i=0,n=r.length;i<n;i++)r[i].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){Wn.pauseUpdate=!0;const i=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",n=this[i](this.rootTarget,this.rootTarget.eventMode,SD.set(e,r),this.hitTestFn,this.hitPruneFn);return n&&n[0]}propagate(e,r){if(!e.target)return;const i=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let n=0,s=i.length-1;n<s;n++)if(e.currentTarget=i[n],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let n=i.length-2;n>=0;n--)if(e.currentTarget=i[n],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,i=this._allInteractiveElements){if(i.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const n=Array.isArray(r)?r:[r];for(let s=i.length-1;s>=0;s--)n.forEach(o=>{e.currentTarget=i[s],this.notifyTarget(e,o)})}propagationPath(e){const r=[e];for(let i=0;i<bD&&e!==this.rootTarget;i++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,i,n,s,o=!1){let l=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Wn.pauseUpdate=!1),e.interactiveChildren&&e.children){const f=e.children;for(let m=f.length-1;m>=0;m--){const p=f[m],v=this.hitTestMoveRecursive(p,this._isInteractive(r)?r:p.eventMode,i,n,s,o||s(e,i));if(v){if(v.length>0&&!v[v.length-1].parent)continue;const x=e.isInteractive();(v.length>0||x)&&(x&&this._allInteractiveElements.push(e),v.push(e)),this._hitElements.length===0&&(this._hitElements=v),l=!0}}}const h=this._isInteractive(r),c=e.isInteractive();return h&&c&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:l?this._hitElements:h&&!s(e,i)&&n(e,i)?c?[e]:[]:null}hitTestRecursive(e,r,i,n,s){if(this._interactivePrune(e)||s(e,i))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Wn.pauseUpdate=!1),e.interactiveChildren&&e.children){const h=e.children;for(let c=h.length-1;c>=0;c--){const f=h[c],m=this.hitTestRecursive(f,this._isInteractive(r)?r:f.eventMode,i,n,s);if(m){if(m.length>0&&!m[m.length-1].parent)continue;const p=e.isInteractive();return(m.length>0||p)&&m.push(e),m}}}const o=this._isInteractive(r),l=e.isInteractive();return o&&n(e,i)?l?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,r){var i;if(e.hitArea&&(e.worldTransform.applyInverse(r,wm),!e.hitArea.contains(wm.x,wm.y)))return!0;if(e._mask){const n=e._mask.isMaskData?e._mask.maskObject:e._mask;if(n&&!((i=n.containsPoint)!=null&&i.call(n,r)))return!0}return!1}hitTestFn(e,r){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){var s,o;r=r??e.type;const i=`on${r}`;(o=(s=e.currentTarget)[i])==null||o.call(s,e);const n=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r;this.notifyListeners(e,n),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof ni)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const n=r.button===2;this.dispatchEvent(r,n?"rightdown":"mousedown")}const i=this.trackingData(e.pointerId);i.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var h,c;if(!(e instanceof ni)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const i=r.pointerType==="mouse"||r.pointerType==="pen",n=this.trackingData(e.pointerId),s=this.findMountedTarget(n.overTargets);if(((h=n.overTargets)==null?void 0:h.length)>0&&s!==r.target){const f=e.type==="mousemove"?"mouseout":"pointerout",m=this.createPointerEvent(e,f,s);if(this.dispatchEvent(m,"pointerout"),i&&this.dispatchEvent(m,"mouseout"),!r.composedPath().includes(s)){const p=this.createPointerEvent(e,"pointerleave",s);for(p.eventPhase=p.AT_TARGET;p.target&&!r.composedPath().includes(p.target);)p.currentTarget=p.target,this.notifyTarget(p),i&&this.notifyTarget(p,"mouseleave"),p.target=p.target.parent;this.freeEvent(p)}this.freeEvent(m)}if(s!==r.target){const f=e.type==="mousemove"?"mouseover":"pointerover",m=this.clonePointerEvent(r,f);this.dispatchEvent(m,"pointerover"),i&&this.dispatchEvent(m,"mouseover");let p=s==null?void 0:s.parent;for(;p&&p!==this.rootTarget.parent&&p!==r.target;)p=p.parent;if(!p||p===this.rootTarget.parent){const v=this.clonePointerEvent(r,"pointerenter");for(v.eventPhase=v.AT_TARGET;v.target&&v.target!==s&&v.target!==this.rootTarget.parent;)v.currentTarget=v.target,this.notifyTarget(v),i&&this.notifyTarget(v,"mouseenter"),v.target=v.target.parent;this.freeEvent(v)}this.freeEvent(m)}const o=[],l=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(r,"pointermove"),l&&o.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),l&&o.push("globaltouchmove")),i&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),l&&o.push("globalmousemove"),this.cursor=(c=r.target)==null?void 0:c.cursor),o.length>0&&this.all(r,o),this._allInteractiveElements.length=0,this._hitElements.length=0,n.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var o;if(!(e instanceof ni)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),i=this.createPointerEvent(e),n=i.pointerType==="mouse"||i.pointerType==="pen";this.dispatchEvent(i,"pointerover"),n&&this.dispatchEvent(i,"mouseover"),i.pointerType==="mouse"&&(this.cursor=(o=i.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(i,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),n&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=i.composedPath(),this.freeEvent(i),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof ni)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const i=e.pointerType==="mouse"||e.pointerType==="pen",n=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(e,"pointerout",n);this.dispatchEvent(s),i&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",n);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),i&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof ni)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),i=this.createPointerEvent(e);if(this.dispatchEvent(i,"pointerup"),i.pointerType==="touch")this.dispatchEvent(i,"touchend");else if(i.pointerType==="mouse"||i.pointerType==="pen"){const l=i.button===2;this.dispatchEvent(i,l?"rightup":"mouseup")}const n=this.trackingData(e.pointerId),s=this.findMountedTarget(n.pressTargetsByButton[e.button]);let o=s;if(s&&!i.composedPath().includes(s)){let l=s;for(;l&&!i.composedPath().includes(l);){if(i.currentTarget=l,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch")this.notifyTarget(i,"touchendoutside");else if(i.pointerType==="mouse"||i.pointerType==="pen"){const h=i.button===2;this.notifyTarget(i,h?"rightupoutside":"mouseupoutside")}l=l.parent}delete n.pressTargetsByButton[e.button],o=l}if(o){const l=this.clonePointerEvent(i,"click");l.target=o,l.path=null,n.clicksByButton[e.button]||(n.clicksByButton[e.button]={clickCount:0,target:l.target,timeStamp:r});const h=n.clicksByButton[e.button];if(h.target===l.target&&r-h.timeStamp<200?++h.clickCount:h.clickCount=1,h.target=l.target,h.timeStamp=r,l.detail=h.clickCount,l.pointerType==="mouse"){const c=l.button===2;this.dispatchEvent(l,c?"rightclick":"click")}else l.pointerType==="touch"&&this.dispatchEvent(l,"tap");this.dispatchEvent(l,"pointertap"),this.freeEvent(l)}this.freeEvent(i)}mapPointerUpOutside(e){if(!(e instanceof ni)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),i=this.findMountedTarget(r.pressTargetsByButton[e.button]),n=this.createPointerEvent(e);if(i){let s=i;for(;s;)n.currentTarget=s,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch"?this.notifyTarget(n,"touchendoutside"):(n.pointerType==="mouse"||n.pointerType==="pen")&&this.notifyTarget(n,n.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(n)}mapWheel(e){if(!(e instanceof da)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let i=1;i<e.length&&e[i].parent===r;i++)r=e[i];return r}createPointerEvent(e,r,i){const n=this.allocateEvent(ni);return this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.nativeEvent=e.nativeEvent,n.originalEvent=e,n.target=i??this.hitTest(n.global.x,n.global.y)??this._hitElements[0],typeof r=="string"&&(n.type=r),n}createWheelEvent(e){const r=this.allocateEvent(da);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const i=this.allocateEvent(ni);return i.nativeEvent=e.nativeEvent,i.originalEvent=e.originalEvent,this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.target=e.target,i.path=e.composedPath().slice(),i.type=r??i.type,i}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof ni&&r instanceof ni&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof cd&&r instanceof cd&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const i=e.currentTarget._events[r];if(i&&e.currentTarget.isInteractive())if("fn"in i)i.once&&e.currentTarget.removeListener(r,i.fn,void 0,!0),i.fn.call(i.context,e);else for(let n=0,s=i.length;n<s&&!e.propagationImmediatelyStopped;n++)i[n].once&&e.currentTarget.removeListener(r,i[n].fn,void 0,!0),i[n].fn.call(i[n].context,e)}}const TD=1,AD={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},u0=class h0{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new ED(null),Wn.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new ni(null),this.rootWheelEvent=new da(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...h0.defaultEventFeatures},{set:(r,i,n)=>(i==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=n),r[i]=n,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{view:r,resolution:i}=this.renderer;this.setTargetElement(r),this.resolution=i,h0._defaultEventMode=e.eventMode??"auto",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let r=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(r=!1),this.currentCursor===e)return;this.currentCursor=e;const i=this.cursorStyles[e];if(i)switch(typeof i){case"string":r&&(this.domElement.style.cursor=i);break;case"function":i(e);break;case"object":r&&Object.assign(this.domElement.style,i);break}else r&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let i=0,n=r.length;i<n;i++){const s=r[i],o=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,Wn.pointerMoved();const r=this.normalizeToPointerData(e);for(let i=0,n=r.length;i<n;i++){const s=this.bootstrapEvent(this.rootPointerEvent,r[i]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let r=e.target;e.composedPath&&e.composedPath().length>0&&(r=e.composedPath()[0]);const i=r!==this.domElement?"outside":"",n=this.normalizeToPointerData(e);for(let s=0,o=n.length;s<o;s++){const l=this.bootstrapEvent(this.rootPointerEvent,n[s]);l.type+=i,this.rootBoundary.mapEvent(l)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);for(let i=0,n=r.length;i<n;i++){const s=this.bootstrapEvent(this.rootPointerEvent,r[i]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const r=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(r)}setTargetElement(e){this.removeEvents(),this.domElement=e,Wn.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;Wn.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;Wn.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,r,i){const n=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},s=1/this.resolution;e.x=(r-n.left)*(this.domElement.width/n.width)*s,e.y=(i-n.top)*(this.domElement.height/n.height)*s}normalizeToPointerData(e){const r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let i=0,n=e.changedTouches.length;i<n;i++){const s=e.changedTouches[i];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,r.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const i=e;typeof i.isPrimary>"u"&&(i.isPrimary=!0),typeof i.width>"u"&&(i.width=1),typeof i.height>"u"&&(i.height=1),typeof i.tiltX>"u"&&(i.tiltX=0),typeof i.tiltY>"u"&&(i.tiltY=0),typeof i.pointerType>"u"&&(i.pointerType="mouse"),typeof i.pointerId>"u"&&(i.pointerId=TD),typeof i.pressure>"u"&&(i.pressure=.5),typeof i.twist>"u"&&(i.twist=0),typeof i.tangentialPressure>"u"&&(i.tangentialPressure=0),i.isNormalized=!0,r.push(i)}else r.push(e);return r}normalizeWheelEvent(e){const r=this.rootWheelEvent;return this.transferMouseData(r,e),r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ,r.deltaMode=e.deltaMode,this.mapPositionToPoint(r.screen,e.clientX,e.clientY),r.global.copyFrom(r.screen),r.offset.copyFrom(r.screen),r.nativeEvent=e,r.type=e.type,r}bootstrapEvent(e,r){return e.originalEvent=null,e.nativeEvent=r,e.pointerId=r.pointerId,e.width=r.width,e.height=r.height,e.isPrimary=r.isPrimary,e.pointerType=r.pointerType,e.pressure=r.pressure,e.tangentialPressure=r.tangentialPressure,e.tiltX=r.tiltX,e.tiltY=r.tiltY,e.twist=r.twist,this.transferMouseData(e,r),this.mapPositionToPoint(e.screen,r.clientX,r.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=r.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=AD[e.type]||e.type),e}transferMouseData(e,r){e.isTrusted=r.isTrusted,e.srcElement=r.srcElement,e.timeStamp=performance.now(),e.type=r.type,e.altKey=r.altKey,e.button=r.button,e.buttons=r.buttons,e.client.x=r.clientX,e.client.y=r.clientY,e.ctrlKey=r.ctrlKey,e.metaKey=r.metaKey,e.movement.x=r.movementX,e.movement.y=r.movementY,e.page.x=r.pageX,e.page.y=r.pageY,e.relatedTarget=null,e.shiftKey=r.shiftKey}};u0.extension={name:"events",type:[se.RendererSystem,se.CanvasRendererSystem]},u0.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let c0=u0;fe.add(c0);class dd{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?Se.EMPTY:(e=e||new Se(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:i,b:n,c:s,d:o,tx:l,ty:h}=e,c=i*r.x+s*r.y+l,f=n*r.x+o*r.y+h;this.minX=Math.min(this.minX,c),this.maxX=Math.max(this.maxX,c),this.minY=Math.min(this.minY,f),this.maxY=Math.max(this.maxY,f)}addQuad(e){let r=this.minX,i=this.minY,n=this.maxX,s=this.maxY,o=e[0],l=e[1];r=o<r?o:r,i=l<i?l:i,n=o>n?o:n,s=l>s?l:s,o=e[2],l=e[3],r=o<r?o:r,i=l<i?l:i,n=o>n?o:n,s=l>s?l:s,o=e[4],l=e[5],r=o<r?o:r,i=l<i?l:i,n=o>n?o:n,s=l>s?l:s,o=e[6],l=e[7],r=o<r?o:r,i=l<i?l:i,n=o>n?o:n,s=l>s?l:s,this.minX=r,this.minY=i,this.maxX=n,this.maxY=s}addFrame(e,r,i,n,s){this.addFrameMatrix(e.worldTransform,r,i,n,s)}addFrameMatrix(e,r,i,n,s){const o=e.a,l=e.b,h=e.c,c=e.d,f=e.tx,m=e.ty;let p=this.minX,v=this.minY,x=this.maxX,b=this.maxY,A=o*r+h*i+f,S=l*r+c*i+m;p=A<p?A:p,v=S<v?S:v,x=A>x?A:x,b=S>b?S:b,A=o*n+h*i+f,S=l*n+c*i+m,p=A<p?A:p,v=S<v?S:v,x=A>x?A:x,b=S>b?S:b,A=o*r+h*s+f,S=l*r+c*s+m,p=A<p?A:p,v=S<v?S:v,x=A>x?A:x,b=S>b?S:b,A=o*n+h*s+f,S=l*n+c*s+m,p=A<p?A:p,v=S<v?S:v,x=A>x?A:x,b=S>b?S:b,this.minX=p,this.minY=v,this.maxX=x,this.maxY=b}addVertexData(e,r,i){let n=this.minX,s=this.minY,o=this.maxX,l=this.maxY;for(let h=r;h<i;h+=2){const c=e[h],f=e[h+1];n=c<n?c:n,s=f<s?f:s,o=c>o?c:o,l=f>l?f:l}this.minX=n,this.minY=s,this.maxX=o,this.maxY=l}addVertices(e,r,i,n){this.addVerticesMatrix(e.worldTransform,r,i,n)}addVerticesMatrix(e,r,i,n,s=0,o=s){const l=e.a,h=e.b,c=e.c,f=e.d,m=e.tx,p=e.ty;let v=this.minX,x=this.minY,b=this.maxX,A=this.maxY;for(let S=i;S<n;S+=2){const E=r[S],w=r[S+1],T=l*E+c*w+m,R=f*w+h*E+p;v=Math.min(v,T-s),b=Math.max(b,T+s),x=Math.min(x,R-o),A=Math.max(A,R+o)}this.minX=v,this.minY=x,this.maxX=b,this.maxY=A}addBounds(e){const r=this.minX,i=this.minY,n=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<i?e.minY:i,this.maxX=e.maxX>n?e.maxX:n,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const i=e.minX>r.minX?e.minX:r.minX,n=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(i<=s&&n<=o){const l=this.minX,h=this.minY,c=this.maxX,f=this.maxY;this.minX=i<l?i:l,this.minY=n<h?n:h,this.maxX=s>c?s:c,this.maxY=o>f?o:f}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const i=e.minX>r.x?e.minX:r.x,n=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(i<=s&&n<=o){const l=this.minX,h=this.minY,c=this.maxX,f=this.maxY;this.minX=i<l?i:l,this.minY=n<h?n:h,this.maxX=s>c?s:c,this.maxY=o>f?o:f}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,i,n,s,o){e-=s,r-=o,i+=s,n+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>i?this.maxX:i,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>n?this.maxY:n}}class tt extends yu{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new $d,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new dd,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let i=0;i<r.length;++i){const n=r[i];Object.defineProperty(tt.prototype,n,Object.getOwnPropertyDescriptor(e,n))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new Se),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new Se),e=this._localBoundsRect),this._localBounds||(this._localBounds=new dd);const r=this.transform,i=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(i==null?void 0:i.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const n=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=i,this.transform=r,this._bounds=n,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,r,i=!1){return i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,i,n){return r&&(e=r.toGlobal(e,i,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,i)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,i=1,n=1,s=0,o=0,l=0,h=0,c=0){return this.position.x=e,this.position.y=r,this.scale.x=i||1,this.scale.y=n||1,this.rotation=s,this.skew.x=o,this.skew.y=l,this.pivot.x=h,this.pivot.y=c,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new CD),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*pM}set angle(e){this.transform.rotation=e*lu}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex!==e&&(this._zIndex=e,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class CD extends tt{constructor(){super(...arguments),this.sortDirty=null}}tt.prototype.displayObjectUpdateTransform=tt.prototype.updateTransform;const PD=new Ke;function ID(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const zT=class d0 extends tt{constructor(){super(),this.children=[],this.sortableChildren=d0.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.addChild(e[r]);else{const r=e[0];r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.push(r),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this)}return e[0]}addChildAt(e,r){if(r<0||r>this.children.length)throw new Error(`${e}addChildAt: The index ${r} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(r,0,e),this._boundsID++,this.onChildrenChange(r),e.emit("added",this),this.emit("childAdded",e,this,r),e}swapChildren(e,r){if(e===r)return;const i=this.getChildIndex(e),n=this.getChildIndex(r);this.children[i]=r,this.children[n]=e,this.onChildrenChange(i<n?i:n)}getChildIndex(e){const r=this.children.indexOf(e);if(r===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return r}setChildIndex(e,r){if(r<0||r>=this.children.length)throw new Error(`The index ${r} supplied is out of bounds ${this.children.length}`);const i=this.getChildIndex(e);ha(this.children,i,1),this.children.splice(r,0,e),this.onChildrenChange(r)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.removeChild(e[r]);else{const r=e[0],i=this.children.indexOf(r);if(i===-1)return null;r.parent=null,r.transform._parentID=-1,ha(this.children,i,1),this._boundsID++,this.onChildrenChange(i),r.emit("removed",this),this.emit("childRemoved",r,this,i)}return e[0]}removeChildAt(e){const r=this.getChildAt(e);return r.parent=null,r.transform._parentID=-1,ha(this.children,e,1),this._boundsID++,this.onChildrenChange(e),r.emit("removed",this),this.emit("childRemoved",r,this,e),r}removeChildren(e=0,r=this.children.length){const i=e,n=r,s=n-i;let o;if(s>0&&s<=n){o=this.children.splice(i,s);for(let l=0;l<o.length;++l)o[l].parent=null,o[l].transform&&(o[l].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let l=0;l<o.length;++l)o[l].emit("removed",this),this.emit("childRemoved",o[l],this,l);return o}else if(s===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let r=0,i=this.children.length;r<i;++r){const n=this.children[r];n._lastSortedIndex=r,!e&&n.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(ID),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,r=this.children.length;e<r;++e){const i=this.children[e];i.visible&&i.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const r=this.children[e];if(!(!r.visible||!r.renderable))if(r.calculateBounds(),r._mask){const i=r._mask.isMaskData?r._mask.maskObject:r._mask;i?(i.calculateBounds(),this._bounds.addBoundsMask(r._bounds,i._bounds)):this._bounds.addBounds(r._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,r=!1){const i=super.getLocalBounds(e);if(!r)for(let n=0,s=this.children.length;n<s;++n){const o=this.children[n];o.visible&&o.updateTransform()}return i}_calculateBounds(){}_renderWithCulling(e){const r=e.renderTexture.sourceFrame;if(!(r.width>0&&r.height>0))return;let i,n;this.cullArea?(i=this.cullArea,n=this.worldTransform):this._render!==d0.prototype._render&&(i=this.getBounds(!0));const s=e.projection.transform;if(s&&(n?(n=PD.copyFrom(n),n.prepend(s)):n=s),i&&r.intersects(i,n))this._render(e);else if(this.cullArea)return;for(let o=0,l=this.children.length;o<l;++o){const h=this.children[o],c=h.cullable;h.cullable=c||!this.cullArea,h.render(e),h.cullable=c}}render(e){var r;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(r=this.filters)!=null&&r.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let i=0,n=this.children.length;i<n;++i)this.children[i].render(e)}}renderAdvanced(e){var s,o,l;const r=this.filters,i=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let h=0;h<r.length;h++)r[h].enabled&&this._enabledFilters.push(r[h])}const n=r&&((s=this._enabledFilters)==null?void 0:s.length)||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==bt.NONE));if(n&&e.batch.flush(),r&&((o=this._enabledFilters)!=null&&o.length)&&e.filter.push(this,this._enabledFilters),i&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let h=0,c=this.children.length;h<c;++h)this.children[h].render(e)}n&&e.batch.flush(),i&&e.mask.pop(this),r&&((l=this._enabledFilters)!=null&&l.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const r=typeof e=="boolean"?e:e==null?void 0:e.children,i=this.removeChildren(0,this.children.length);if(r)for(let n=0;n<i.length;++n)i[n].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const r=this.getLocalBounds().width;r!==0?this.scale.x=e/r:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const r=this.getLocalBounds().height;r!==0?this.scale.y=e/r:this.scale.y=1,this._height=e}};zT.defaultSortableChildren=!1;let nr=zT;nr.prototype.containerUpdateTransform=nr.prototype.updateTransform;Object.defineProperties(oe,{SORTABLE_CHILDREN:{get(){return nr.defaultSortableChildren},set(t){Ee("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),nr.defaultSortableChildren=t}}});function aw(t){return t==="dynamic"||t==="static"}const RD={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??aw(c0.defaultEventMode)},set interactive(t){Ee("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??c0.defaultEventMode},set eventMode(t){this._internalInteractive=aw(t),this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const i=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,n=typeof r=="object"?r.signal:void 0,s=typeof r=="object"?r.once===!0:!1,o=typeof e=="function"?void 0:e;t=i?`${t}capture`:t;const l=typeof e=="function"?e:e.handleEvent,h=this;n&&n.addEventListener("abort",()=>{h.off(t,l,o)}),s?h.once(t,l,o):h.on(t,l,o)},removeEventListener(t,e,r){const i=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,n=typeof e=="function"?void 0:e;t=i?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,n)},dispatchEvent(t){if(!(t instanceof _u))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};tt.mixin(RD);var Qd={exports:{}},Kd=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(Kd||{});const cl=new we,kD=new Uint16Array([0,1,2,0,2,3]);class Ki extends nr{constructor(e){super(),this._anchor=new hi(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new je(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=ve.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||ie.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=kD,this.pluginName="batch",this.isSprite=!0,this._roundPixels=oe.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Qn(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Qn(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,i=r.a,n=r.b,s=r.c,o=r.d,l=r.tx,h=r.ty,c=this.vertexData,f=e.trim,m=e.orig,p=this._anchor;let v=0,x=0,b=0,A=0;if(f?(x=f.x-p._x*m.width,v=x+f.width,A=f.y-p._y*m.height,b=A+f.height):(x=-p._x*m.width,v=x+m.width,A=-p._y*m.height,b=A+m.height),c[0]=i*x+s*A+l,c[1]=o*A+n*x+h,c[2]=i*v+s*A+l,c[3]=o*A+n*v+h,c[4]=i*v+s*b+l,c[5]=o*b+n*v+h,c[6]=i*x+s*b+l,c[7]=o*b+n*x+h,this._roundPixels){const S=oe.RESOLUTION;for(let E=0;E<c.length;++E)c[E]=Math.round(c[E]*S)/S}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,i=e.orig,n=this._anchor,s=this.transform.worldTransform,o=s.a,l=s.b,h=s.c,c=s.d,f=s.tx,m=s.ty,p=-n._x*i.width,v=p+i.width,x=-n._y*i.height,b=x+i.height;if(r[0]=o*p+h*x+f,r[1]=c*x+l*p+m,r[2]=o*v+h*x+f,r[3]=c*x+l*v+m,r[4]=o*v+h*b+f,r[5]=c*b+l*v+m,r[6]=o*p+h*b+f,r[7]=c*b+l*p+m,this._roundPixels){const A=oe.RESOLUTION;for(let S=0;S<r.length;++S)r[S]=Math.round(r[S]*A)/A}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new dd),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Se),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,cl);const r=this._texture.orig.width,i=this._texture.orig.height,n=-r*this.anchor.x;let s=0;return cl.x>=n&&cl.x<n+r&&(s=-i*this.anchor.y,cl.y>=s&&cl.y<s+i)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,r){const i=e instanceof ie?e:ie.from(e,r);return new Ki(i)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=Qn(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=Qn(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||ie.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const Hh={willReadFrequently:!0},Mi=class me{static get experimentalLetterSpacingSupported(){let e=me._experimentalLetterSpacingSupported;if(e!==void 0){const r=oe.ADAPTER.getCanvasRenderingContext2D().prototype;e=me._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return e}constructor(e,r,i,n,s,o,l,h,c){this.text=e,this.style=r,this.width=i,this.height=n,this.lines=s,this.lineWidths=o,this.lineHeight=l,this.maxLineWidth=h,this.fontProperties=c}static measureText(e,r,i,n=me._canvas){i=i??r.wordWrap;const s=r.toFontString(),o=me.measureFont(s);o.fontSize===0&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);const l=n.getContext("2d",Hh);l.font=s;const h=(i?me.wordWrap(e,r,n):e).split(/(?:\r\n|\r|\n)/),c=new Array(h.length);let f=0;for(let x=0;x<h.length;x++){const b=me._measureText(h[x],r.letterSpacing,l);c[x]=b,f=Math.max(f,b)}let m=f+r.strokeThickness;r.dropShadow&&(m+=r.dropShadowDistance);const p=r.lineHeight||o.fontSize+r.strokeThickness;let v=Math.max(p,o.fontSize+r.strokeThickness*2)+r.leading+(h.length-1)*(p+r.leading);return r.dropShadow&&(v+=r.dropShadowDistance),new me(e,r,m,v,h,c,p+r.leading,f,o)}static _measureText(e,r,i){let n=!1;me.experimentalLetterSpacingSupported&&(me.experimentalLetterSpacing?(i.letterSpacing=`${r}px`,i.textLetterSpacing=`${r}px`,n=!0):(i.letterSpacing="0px",i.textLetterSpacing="0px"));let s=i.measureText(e).width;return s>0&&(n?s-=r:s+=(me.graphemeSegmenter(e).length-1)*r),s}static wordWrap(e,r,i=me._canvas){const n=i.getContext("2d",Hh);let s=0,o="",l="";const h=Object.create(null),{letterSpacing:c,whiteSpace:f}=r,m=me.collapseSpaces(f),p=me.collapseNewlines(f);let v=!m;const x=r.wordWrapWidth+c,b=me.tokenize(e);for(let A=0;A<b.length;A++){let S=b[A];if(me.isNewline(S)){if(!p){l+=me.addLine(o),v=!m,o="",s=0;continue}S=" "}if(m){const w=me.isBreakingSpace(S),T=me.isBreakingSpace(o[o.length-1]);if(w&&T)continue}const E=me.getFromCache(S,c,h,n);if(E>x)if(o!==""&&(l+=me.addLine(o),o="",s=0),me.canBreakWords(S,r.breakWords)){const w=me.wordWrapSplit(S);for(let T=0;T<w.length;T++){let R=w[T],N=R,D=1;for(;w[T+D];){const V=w[T+D];if(!me.canBreakChars(N,V,S,T,r.breakWords))R+=V;else break;N=V,D++}T+=D-1;const M=me.getFromCache(R,c,h,n);M+s>x&&(l+=me.addLine(o),v=!1,o="",s=0),o+=R,s+=M}}else{o.length>0&&(l+=me.addLine(o),o="",s=0);const w=A===b.length-1;l+=me.addLine(S,!w),v=!1,o="",s=0}else E+s>x&&(v=!1,l+=me.addLine(o),o="",s=0),(o.length>0||!me.isBreakingSpace(S)||v)&&(o+=S,s+=E)}return l+=me.addLine(o,!1),l}static addLine(e,r=!0){return e=me.trimRight(e),e=r?`${e}
`:e,e}static getFromCache(e,r,i,n){let s=i[e];return typeof s!="number"&&(s=me._measureText(e,r,n)+r,i[e]=s),s}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let r=e.length-1;r>=0;r--){const i=e[r];if(!me.isBreakingSpace(i))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:me._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,r){return typeof e!="string"?!1:me._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const r=[];let i="";if(typeof e!="string")return r;for(let n=0;n<e.length;n++){const s=e[n],o=e[n+1];if(me.isBreakingSpace(s,o)||me.isNewline(s)){i!==""&&(r.push(i),i=""),r.push(s);continue}i+=s}return i!==""&&r.push(i),r}static canBreakWords(e,r){return r}static canBreakChars(e,r,i,n,s){return!0}static wordWrapSplit(e){return me.graphemeSegmenter(e)}static measureFont(e){if(me._fonts[e])return me._fonts[e];const r={ascent:0,descent:0,fontSize:0},i=me._canvas,n=me._context;n.font=e;const s=me.METRICS_STRING+me.BASELINE_SYMBOL,o=Math.ceil(n.measureText(s).width);let l=Math.ceil(n.measureText(me.BASELINE_SYMBOL).width);const h=Math.ceil(me.HEIGHT_MULTIPLIER*l);if(l=l*me.BASELINE_MULTIPLIER|0,o===0||h===0)return me._fonts[e]=r,r;i.width=o,i.height=h,n.fillStyle="#f00",n.fillRect(0,0,o,h),n.font=e,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(s,0,l);const c=n.getImageData(0,0,o,h).data,f=c.length,m=o*4;let p=0,v=0,x=!1;for(p=0;p<l;++p){for(let b=0;b<m;b+=4)if(c[v+b]!==255){x=!0;break}if(!x)v+=m;else break}for(r.ascent=l-p,v=f-m,x=!1,p=h;p>l;--p){for(let b=0;b<m;b+=4)if(c[v+b]!==255){x=!0;break}if(!x)v-=m;else break}return r.descent=p-l,r.fontSize=r.ascent+r.descent,me._fonts[e]=r,r}static clearMetrics(e=""){e?delete me._fonts[e]:me._fonts={}}static get _canvas(){var e;if(!me.__canvas){let r;try{const i=new OffscreenCanvas(0,0);if((e=i.getContext("2d",Hh))!=null&&e.measureText)return me.__canvas=i,i;r=oe.ADAPTER.createCanvas()}catch{r=oe.ADAPTER.createCanvas()}r.width=r.height=10,me.__canvas=r}return me.__canvas}static get _context(){return me.__context||(me.__context=me._canvas.getContext("2d",Hh)),me.__context}};Mi.METRICS_STRING="|q",Mi.BASELINE_SYMBOL="M",Mi.BASELINE_MULTIPLIER=1.4,Mi.HEIGHT_MULTIPLIER=2,Mi.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})(),Mi.experimentalLetterSpacing=!1,Mi._fonts={},Mi._newlines=[10,13],Mi._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let jn=Mi;const MD=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],GT=class wl{constructor(e){this.styleID=0,this.reset(),Sm(this,e,e)}clone(){const e={};return Sm(e,this,wl.defaultStyle),new wl(e)}reset(){Sm(this,wl.defaultStyle,wl.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const r=bm(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const r=bm(e);this._fill!==r&&(this._fill=r,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){DD(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const r=bm(e);this._stroke!==r&&(this._stroke=r,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(let i=r.length-1;i>=0;i--){let n=r[i].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&!MD.includes(n)&&(n=`"${n}"`),r[i]=n}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${r.join(",")}`}};GT.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Kd.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let hs=GT;function bm(t){const e=je.shared,r=i=>{const n=e.setValue(i);return n.alpha===1?n.toHex():n.toRgbaString()};return Array.isArray(t)?t.map(r):r(t)}function DD(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function Sm(t,e,r){for(const i in r)Array.isArray(e[i])?t[i]=e[i].slice():t[i]=e[i]}const FD={texture:!0,children:!1,baseTexture:!0},jT=class f0 extends Ki{constructor(e,r,i){let n=!1;i||(i=oe.ADAPTER.createCanvas(),n=!0),i.width=3,i.height=3;const s=ie.from(i);s.orig=new Se,s.trim=new Se,super(s),this._ownCanvas=n,this.canvas=i,this.context=i.getContext("2d",{willReadFrequently:!0}),this._resolution=f0.defaultResolution??oe.RESOLUTION,this._autoResolution=f0.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=r,this.localStyleID=-1}static get experimentalLetterSpacing(){return jn.experimentalLetterSpacing}static set experimentalLetterSpacing(e){Ee("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),jn.experimentalLetterSpacing=e}updateText(e){const r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const i=this.context,n=jn.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=n.width,o=n.height,l=n.lines,h=n.lineHeight,c=n.lineWidths,f=n.maxLineWidth,m=n.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+r.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+r.padding*2)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=r.strokeThickness,i.textBaseline=r.textBaseline,i.lineJoin=r.lineJoin,i.miterLimit=r.miterLimit;let p,v;const x=r.dropShadow?2:1;for(let b=0;b<x;++b){const A=r.dropShadow&&b===0,S=A?Math.ceil(Math.max(1,o)+r.padding*2):0,E=S*this._resolution;if(A){i.fillStyle="black",i.strokeStyle="black";const T=r.dropShadowColor,R=r.dropShadowBlur*this._resolution,N=r.dropShadowDistance*this._resolution;i.shadowColor=je.shared.setValue(T).setAlpha(r.dropShadowAlpha).toRgbaString(),i.shadowBlur=R,i.shadowOffsetX=Math.cos(r.dropShadowAngle)*N,i.shadowOffsetY=Math.sin(r.dropShadowAngle)*N+E}else i.fillStyle=this._generateFillStyle(r,l,n),i.strokeStyle=r.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;let w=(h-m.fontSize)/2;h-m.fontSize<0&&(w=0);for(let T=0;T<l.length;T++)p=r.strokeThickness/2,v=r.strokeThickness/2+T*h+m.ascent+w,r.align==="right"?p+=f-c[T]:r.align==="center"&&(p+=(f-c[T])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(l[T],p+r.padding,v+r.padding-S,!0),r.fill&&this.drawLetterSpacing(l[T],p+r.padding,v+r.padding-S)}this.updateTexture()}drawLetterSpacing(e,r,i,n=!1){const s=this._style.letterSpacing;let o=!1;if(jn.experimentalLetterSpacingSupported&&(jn.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){n?this.context.strokeText(e,r,i):this.context.fillText(e,r,i);return}let l=r;const h=jn.graphemeSegmenter(e);let c=this.context.measureText(e).width,f=0;for(let m=0;m<h.length;++m){const p=h[m];n?this.context.strokeText(p,l,i):this.context.fillText(p,l,i);let v="";for(let x=m+1;x<h.length;++x)v+=h[x];f=this.context.measureText(v).width,l+=c-f+s,c=f}}updateTexture(){const e=this.canvas;if(this._style.trim){const o=iM(e);o.data&&(e.width=o.width,e.height=o.height,this.context.putImageData(o.data,0,0))}const r=this._texture,i=this._style,n=i.trim?0:i.padding,s=r.baseTexture;r.trim.width=r._frame.width=e.width/this._resolution,r.trim.height=r._frame.height=e.height/this._resolution,r.trim.x=-n,r.trim.y=-n,r.orig.width=r._frame.width-n*2,r.orig.height=r._frame.height-n*2,this._onTextureUpdate(),s.setRealSize(e.width,e.height,this._resolution),r.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,r){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,r)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,r,i){const n=e.fill;if(Array.isArray(n)){if(n.length===1)return n[0]}else return n;let s;const o=e.dropShadow?e.dropShadowDistance:0,l=e.padding||0,h=this.canvas.width/this._resolution-o-l*2,c=this.canvas.height/this._resolution-o-l*2,f=n.slice(),m=e.fillGradientStops.slice();if(!m.length){const p=f.length+1;for(let v=1;v<p;++v)m.push(v/p)}if(f.unshift(n[0]),m.unshift(0),f.push(n[n.length-1]),m.push(1),e.fillGradientType===Kd.LINEAR_VERTICAL){s=this.context.createLinearGradient(h/2,l,h/2,c+l);const p=i.fontProperties.fontSize+e.strokeThickness;for(let v=0;v<r.length;v++){const x=i.lineHeight*(v-1)+p,b=i.lineHeight*v;let A=b;v>0&&x>b&&(A=(b+x)/2);const S=b+p,E=i.lineHeight*(v+1);let w=S;v+1<r.length&&E<S&&(w=(S+E)/2);const T=(w-A)/c;for(let R=0;R<f.length;R++){let N=0;typeof m[R]=="number"?N=m[R]:N=R/f.length;let D=Math.min(1,Math.max(0,A/c+N*T));D=Number(D.toFixed(5)),s.addColorStop(D,f[R])}}}else{s=this.context.createLinearGradient(l,c/2,h+l,c/2);const p=f.length+1;let v=1;for(let x=0;x<f.length;x++){let b;typeof m[x]=="number"?b=m[x]:b=v/p,s.addColorStop(b,f[x]),v++}}return s}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},FD,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const r=Qn(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const r=Qn(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof hs?this._style=e:this._style=new hs(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};jT.defaultAutoResolution=!0;let Hy=jT;class fd{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Tc{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),i={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const o=r[s].match(/^[a-z]+/gm)[0],l=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),h={};for(const c in l){const f=l[c].split("="),m=f[0],p=f[1].replace(/"/gm,""),v=parseFloat(p),x=isNaN(v)?p:v;h[m]=x}i[o].push(h)}const n=new fd;return i.info.forEach(s=>n.info.push({face:s.face,size:parseInt(s.size,10)})),i.common.forEach(s=>n.common.push({lineHeight:parseInt(s.lineHeight,10)})),i.page.forEach(s=>n.page.push({id:parseInt(s.id,10),file:s.file})),i.char.forEach(s=>n.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),i.kerning.forEach(s=>n.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),i.distanceField.forEach(s=>n.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),n}}class p0{static test(e){const r=e;return typeof e!="string"&&"getElementsByTagName"in e&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new fd,i=e.getElementsByTagName("info"),n=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),l=e.getElementsByTagName("kerning"),h=e.getElementsByTagName("distanceField");for(let c=0;c<i.length;c++)r.info.push({face:i[c].getAttribute("face"),size:parseInt(i[c].getAttribute("size"),10)});for(let c=0;c<n.length;c++)r.common.push({lineHeight:parseInt(n[c].getAttribute("lineHeight"),10)});for(let c=0;c<s.length;c++)r.page.push({id:parseInt(s[c].getAttribute("id"),10)||0,file:s[c].getAttribute("file")});for(let c=0;c<o.length;c++){const f=o[c];r.char.push({id:parseInt(f.getAttribute("id"),10),page:parseInt(f.getAttribute("page"),10)||0,x:parseInt(f.getAttribute("x"),10),y:parseInt(f.getAttribute("y"),10),width:parseInt(f.getAttribute("width"),10),height:parseInt(f.getAttribute("height"),10),xoffset:parseInt(f.getAttribute("xoffset"),10),yoffset:parseInt(f.getAttribute("yoffset"),10),xadvance:parseInt(f.getAttribute("xadvance"),10)})}for(let c=0;c<l.length;c++)r.kerning.push({first:parseInt(l[c].getAttribute("first"),10),second:parseInt(l[c].getAttribute("second"),10),amount:parseInt(l[c].getAttribute("amount"),10)});for(let c=0;c<h.length;c++)r.distanceField.push({fieldType:h[c].getAttribute("fieldType"),distanceRange:parseInt(h[c].getAttribute("distanceRange"),10)});return r}}class m0{static test(e){return typeof e=="string"&&e.includes("<font>")?p0.test(oe.ADAPTER.parseXML(e)):!1}static parse(e){return p0.parse(oe.ADAPTER.parseXML(e))}}const Em=[Tc,p0,m0];function OD(t){for(let e=0;e<Em.length;e++)if(Em[e].test(t))return Em[e];return null}function ND(t,e,r,i,n,s){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let l;const h=r.dropShadow?r.dropShadowDistance:0,c=r.padding||0,f=t.width/i-h-c*2,m=t.height/i-h-c*2,p=o.slice(),v=r.fillGradientStops.slice();if(!v.length){const x=p.length+1;for(let b=1;b<x;++b)v.push(b/x)}if(p.unshift(o[0]),v.unshift(0),p.push(o[o.length-1]),v.push(1),r.fillGradientType===Kd.LINEAR_VERTICAL){l=e.createLinearGradient(f/2,c,f/2,m+c);let x=0;const b=(s.fontProperties.fontSize+r.strokeThickness)/m;for(let A=0;A<n.length;A++){const S=s.lineHeight*A;for(let E=0;E<p.length;E++){let w=0;typeof v[E]=="number"?w=v[E]:w=E/p.length;const T=S/m+w*b;let R=Math.max(x,T);R=Math.min(R,1),l.addColorStop(R,p[E]),x=R}}}else{l=e.createLinearGradient(c,m/2,f+c,m/2);const x=p.length+1;let b=1;for(let A=0;A<p.length;A++){let S;typeof v[A]=="number"?S=v[A]:S=b/x,l.addColorStop(S,p[A]),b++}}return l}function BD(t,e,r,i,n,s,o){const l=r.text,h=r.fontProperties;e.translate(i,n),e.scale(s,s);const c=o.strokeThickness/2,f=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=ND(t,e,o,s,[l],r),e.strokeStyle=o.stroke,o.dropShadow){const m=o.dropShadowColor,p=o.dropShadowBlur*s,v=o.dropShadowDistance*s;e.shadowColor=je.shared.setValue(m).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=p,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*v,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*v}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(l,c,f+r.lineHeight-h.descent),o.fill&&e.fillText(l,c,f+r.lineHeight-h.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Ac(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function HT(t){return Array.from?Array.from(t):t.split("")}function LD(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,i=t.length;r<i;r++){const n=t[r];if(Array.isArray(n)){if(n.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${n.length}.`);const s=n[0].charCodeAt(0),o=n[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let l=s,h=o;l<=h;l++)e.push(String.fromCharCode(l))}else e.push(...HT(n))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const Bn=class Di{constructor(e,r,i){var f;const[n]=e.info,[s]=e.common,[o]=e.page,[l]=e.distanceField,h=xn(o.file),c={};this._ownsTextures=i,this.font=n.face,this.size=n.size,this.lineHeight=s.lineHeight/h,this.chars={},this.pageTextures=c;for(let m=0;m<e.page.length;m++){const{id:p,file:v}=e.page[m];c[p]=r instanceof Array?r[m]:r[v],l!=null&&l.fieldType&&l.fieldType!=="none"&&(c[p].baseTexture.alphaMode=fr.NO_PREMULTIPLIED_ALPHA,c[p].baseTexture.mipmap=Xi.OFF)}for(let m=0;m<e.char.length;m++){const{id:p,page:v}=e.char[m];let{x,y:b,width:A,height:S,xoffset:E,yoffset:w,xadvance:T}=e.char[m];x/=h,b/=h,A/=h,S/=h,E/=h,w/=h,T/=h;const R=new Se(x+c[v].frame.x/h,b+c[v].frame.y/h,A,S);this.chars[p]={xOffset:E,yOffset:w,xAdvance:T,kerning:{},texture:new ie(c[v].baseTexture,R),page:v}}for(let m=0;m<e.kerning.length;m++){let{first:p,second:v,amount:x}=e.kerning[m];p/=h,v/=h,x/=h,this.chars[v]&&(this.chars[v].kerning[p]=x)}this.distanceFieldRange=l==null?void 0:l.distanceRange,this.distanceFieldType=((f=l==null?void 0:l.fieldType)==null?void 0:f.toLowerCase())??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,r,i){let n;if(e instanceof fd)n=e;else{const o=OD(e);if(!o)throw new Error("Unrecognized data format for font.");n=o.parse(e)}r instanceof ie&&(r=[r]);const s=new Di(n,r,i);return Di.available[s.font]=s,s}static uninstall(e){const r=Di.available[e];if(!r)throw new Error(`No font found named '${e}'`);r.destroy(),delete Di.available[e]}static from(e,r,i){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:n,padding:s,resolution:o,textureWidth:l,textureHeight:h,...c}=Object.assign({},Di.defaultOptions,i),f=LD(n),m=r instanceof hs?r:new hs(r),p=l,v=new fd;v.info[0]={face:m.fontFamily,size:m.fontSize},v.common[0]={lineHeight:m.fontSize};let x=0,b=0,A,S,E,w=0;const T=[];for(let N=0;N<f.length;N++){A||(A=oe.ADAPTER.createCanvas(),A.width=l,A.height=h,S=A.getContext("2d"),E=new _e(A,{resolution:o,...c}),T.push(new ie(E)),v.page.push({id:T.length-1,file:""}));const D=f[N],M=jn.measureText(D,m,!1,A),V=M.width,W=Math.ceil(M.height),te=Math.ceil((m.fontStyle==="italic"?2:1)*V);if(b>=h-W*o){if(b===0)throw new Error(`[BitmapFont] textureHeight ${h}px is too small (fontFamily: '${m.fontFamily}', fontSize: ${m.fontSize}px, char: '${D}')`);--N,A=null,S=null,E=null,b=0,x=0,w=0;continue}if(w=Math.max(W+M.fontProperties.descent,w),te*o+x>=p){if(x===0)throw new Error(`[BitmapFont] textureWidth ${l}px is too small (fontFamily: '${m.fontFamily}', fontSize: ${m.fontSize}px, char: '${D}')`);--N,b+=w*o,b=Math.ceil(b),x=0,w=0;continue}BD(A,S,M,x,b,o,m);const Z=Ac(M.text);v.char.push({id:Z,page:T.length-1,x:x/o,y:b/o,width:te,height:W,xoffset:0,yoffset:0,xadvance:V-(m.dropShadow?m.dropShadowDistance:0)-(m.stroke?m.strokeThickness:0)}),x+=(te+2*s)*o,x=Math.ceil(x)}if(!(i!=null&&i.skipKerning))for(let N=0,D=f.length;N<D;N++){const M=f[N];for(let V=0;V<D;V++){const W=f[V],te=S.measureText(M).width,Z=S.measureText(W).width,O=S.measureText(M+W).width-(te+Z);O&&v.kerning.push({first:Ac(M),second:Ac(W),amount:O})}}const R=new Di(v,T,!0);return Di.available[e]!==void 0&&Di.uninstall(e),Di.available[e]=R,R}};Bn.ALPHA=[["a","z"],["A","Z"]," "],Bn.NUMERIC=[["0","9"]],Bn.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],Bn.ASCII=[[" ","~"]],Bn.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:Bn.ALPHANUMERIC},Bn.available={};let Ln=Bn;class UD{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const Tm=new we,lw=new $s,VT=class WT extends nr{constructor(e,r,i,n=ui.TRIANGLES){super(),this.geometry=e,this.shader=r,this.state=i||Qi.for2d(),this.drawMode=n,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=oe.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===ui.TRIANGLES&&r.length<WT.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),e.batch.flush(),r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(r),e.state.set(this.state),e.geometry.bind(this.geometry,r),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const r=this.geometry,i=this.shader;i.uvMatrix&&(i.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=i._tintRGB,this._texture=i.texture;const n=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[n]),e.plugins[n].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,i=e._updateID;if(i===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const n=this.transform.worldTransform,s=n.a,o=n.b,l=n.c,h=n.d,c=n.tx,f=n.ty,m=this.vertexData;for(let p=0;p<m.length/2;p++){const v=r[p*2],x=r[p*2+1];m[p*2]=s*v+l*x+c,m[p*2+1]=o*v+h*x+f}if(this._roundPixels){const p=oe.RESOLUTION;for(let v=0;v<m.length;++v)m[v]=Math.round(m[v]*p)/p}this.vertexDirty=i}calculateUvs(){const e=this.geometry.buffers[1],r=this.shader;r.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new UD(e,r.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,Tm);const r=this.geometry.getBuffer("aVertexPosition").data,i=lw.points,n=this.geometry.getIndex().data,s=n.length,o=this.drawMode===4?3:1;for(let l=0;l+2<s;l+=o){const h=n[l]*2,c=n[l+1]*2,f=n[l+2]*2;if(i[0]=r[h],i[1]=r[h+1],i[2]=r[c],i[3]=r[c+1],i[4]=r[f],i[5]=r[f+1],lw.contains(Tm.x,Tm.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};VT.BATCHABLE_SIZE=100;let uu=VT;class Zd extends ls{constructor(e,r,i){super();const n=new mt(e),s=new mt(r,!0),o=new mt(i,!0,!0);this.addAttribute("aVertexPosition",n,2,!1,ge.FLOAT).addAttribute("aTextureCoord",s,2,!1,ge.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var zD=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,GD=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class hu extends Wi{constructor(e,r){const i={uSampler:e,alpha:1,uTextureMatrix:Ke.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(i,r.uniforms),super(r.program||cn.from(GD,zD),i),this._colorDirty=!1,this.uvMatrix=new Gy(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new je(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;je.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}var jD=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,HD=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const uw=[],hw=[],cw=[],XT=class $T extends nr{constructor(e,r={}){super();const{align:i,tint:n,maxWidth:s,letterSpacing:o,fontName:l,fontSize:h}=Object.assign({},$T.styleDefaults,r);if(!Ln.available[l])throw new Error(`Missing BitmapFont "${l}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=i,this._tintColor=new je(n),this._font=void 0,this._fontName=l,this._fontSize=h,this.text=e,this._maxWidth=s,this._maxLineHeight=0,this._letterSpacing=o,this._anchor=new hi(()=>{this.dirty=!0},this,0,0),this._roundPixels=oe.ROUND_PIXELS,this.dirty=!0,this._resolution=oe.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var te;const e=Ln.available[this._fontName],r=this.fontSize,i=r/e.size,n=new we,s=[],o=[],l=[],h=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",c=HT(h),f=this._maxWidth*e.size/r,m=e.distanceFieldType==="none"?uw:hw;let p=null,v=0,x=0,b=0,A=-1,S=0,E=0,w=0,T=0;for(let Z=0;Z<c.length;Z++){const O=c[Z],G=Ac(O);if(/(?:\s)/.test(O)&&(A=Z,S=v,T++),O==="\r"||O===`
`){o.push(v),l.push(-1),x=Math.max(x,v),++b,++E,n.x=0,n.y+=e.lineHeight,p=null,T=0;continue}const ee=e.chars[G];if(!ee)continue;p&&ee.kerning[p]&&(n.x+=ee.kerning[p]);const he=cw.pop()||{texture:ie.EMPTY,line:0,charCode:0,prevSpaces:0,position:new we};he.texture=ee.texture,he.line=b,he.charCode=G,he.position.x=Math.round(n.x+ee.xOffset+this._letterSpacing/2),he.position.y=Math.round(n.y+ee.yOffset),he.prevSpaces=T,s.push(he),v=he.position.x+Math.max(ee.xAdvance-ee.xOffset,ee.texture.orig.width),n.x+=ee.xAdvance+this._letterSpacing,w=Math.max(w,ee.yOffset+ee.texture.height),p=G,A!==-1&&f>0&&n.x>f&&(++E,ha(s,1+A-E,1+Z-A),Z=A,A=-1,o.push(S),l.push(s.length>0?s[s.length-1].prevSpaces:0),x=Math.max(x,S),b++,n.x=0,n.y+=e.lineHeight,p=null,T=0)}const R=c[c.length-1];R!=="\r"&&R!==`
`&&(/(?:\s)/.test(R)&&(v=S),o.push(v),x=Math.max(x,v),l.push(-1));const N=[];for(let Z=0;Z<=b;Z++){let O=0;this._align==="right"?O=x-o[Z]:this._align==="center"?O=(x-o[Z])/2:this._align==="justify"&&(O=l[Z]<0?0:(x-o[Z])/l[Z]),N.push(O)}const D=s.length,M={},V=[],W=this._activePagesMeshData;m.push(...W);for(let Z=0;Z<D;Z++){const O=s[Z].texture,G=O.baseTexture.uid;if(!M[G]){let ee=m.pop();if(!ee){const H=new Zd;let P,L;e.distanceFieldType==="none"?(P=new hu(ie.EMPTY),L=ve.NORMAL):(P=new hu(ie.EMPTY,{program:cn.from(HD,jD),uniforms:{uFWidth:0}}),L=ve.NORMAL_NPM);const k=new uu(H,P);k.blendMode=L,ee={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:k,vertices:null,uvs:null,indices:null}}ee.index=0,ee.indexCount=0,ee.vertexCount=0,ee.uvsCount=0,ee.total=0;const{_textureCache:he}=this;he[G]=he[G]||new ie(O.baseTexture),ee.mesh.texture=he[G],ee.mesh.tint=this._tintColor.value,V.push(ee),M[G]=ee}M[G].total++}for(let Z=0;Z<W.length;Z++)V.includes(W[Z])||this.removeChild(W[Z].mesh);for(let Z=0;Z<V.length;Z++)V[Z].mesh.parent!==this&&this.addChild(V[Z].mesh);this._activePagesMeshData=V;for(const Z in M){const O=M[Z],G=O.total;if(!(((te=O.indices)==null?void 0:te.length)>6*G)||O.vertices.length<uu.BATCHABLE_SIZE*2)O.vertices=new Float32Array(4*2*G),O.uvs=new Float32Array(4*2*G),O.indices=new Uint16Array(6*G);else{const ee=O.total,he=O.vertices;for(let H=ee*4*2;H<he.length;H++)he[H]=0}O.mesh.size=6*G}for(let Z=0;Z<D;Z++){const O=s[Z];let G=O.position.x+N[O.line]*(this._align==="justify"?O.prevSpaces:1);this._roundPixels&&(G=Math.round(G));const ee=G*i,he=O.position.y*i,H=O.texture,P=M[H.baseTexture.uid],L=H.frame,k=H._uvs,U=P.index++;P.indices[U*6+0]=0+U*4,P.indices[U*6+1]=1+U*4,P.indices[U*6+2]=2+U*4,P.indices[U*6+3]=0+U*4,P.indices[U*6+4]=2+U*4,P.indices[U*6+5]=3+U*4,P.vertices[U*8+0]=ee,P.vertices[U*8+1]=he,P.vertices[U*8+2]=ee+L.width*i,P.vertices[U*8+3]=he,P.vertices[U*8+4]=ee+L.width*i,P.vertices[U*8+5]=he+L.height*i,P.vertices[U*8+6]=ee,P.vertices[U*8+7]=he+L.height*i,P.uvs[U*8+0]=k.x0,P.uvs[U*8+1]=k.y0,P.uvs[U*8+2]=k.x1,P.uvs[U*8+3]=k.y1,P.uvs[U*8+4]=k.x2,P.uvs[U*8+5]=k.y2,P.uvs[U*8+6]=k.x3,P.uvs[U*8+7]=k.y3}this._textWidth=x*i,this._textHeight=(n.y+e.lineHeight)*i;for(const Z in M){const O=M[Z];if(this.anchor.x!==0||this.anchor.y!==0){let H=0;const P=this._textWidth*this.anchor.x,L=this._textHeight*this.anchor.y;for(let k=0;k<O.total;k++)O.vertices[H++]-=P,O.vertices[H++]-=L,O.vertices[H++]-=P,O.vertices[H++]-=L,O.vertices[H++]-=P,O.vertices[H++]-=L,O.vertices[H++]-=P,O.vertices[H++]-=L}this._maxLineHeight=w*i;const G=O.mesh.geometry.getBuffer("aVertexPosition"),ee=O.mesh.geometry.getBuffer("aTextureCoord"),he=O.mesh.geometry.getIndex();G.data=O.vertices,ee.data=O.uvs,he.data=O.indices,G.update(),ee.update(),he.update()}for(let Z=0;Z<s.length;Z++)cw.push(s[Z]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:r,distanceFieldType:i,size:n}=Ln.available[this._fontName];if(i!=="none"){const{a:s,b:o,c:l,d:h}=this.worldTransform,c=Math.sqrt(s*s+o*o),f=Math.sqrt(l*l+h*h),m=(Math.abs(c)+Math.abs(f))/2,p=this.fontSize/n,v=e._view.resolution;for(const x of this._activePagesMeshData)x.mesh.shader.uniforms.uFWidth=m*r*p*v}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=Ln.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!Ln.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??Ln.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:r}=this,i=Ln.available[this._fontName].distanceFieldType==="none"?uw:hw;i.push(...this._activePagesMeshData);for(const n of this._activePagesMeshData)this.removeChild(n.mesh);this._activePagesMeshData=[],i.filter(n=>r[n.mesh.texture.baseTexture.uid]).forEach(n=>{n.mesh.texture=ie.EMPTY});for(const n in r)r[n].destroy(),delete r[n];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};XT.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let VD=XT;const dw={loader:se.LoadParser,resolver:se.ResolveParser,cache:se.CacheParser,detection:se.DetectionParser};fe.handle(se.Asset,t=>{const e=t.ref;Object.entries(dw).filter(([r])=>!!e[r]).forEach(([r,i])=>fe.add(Object.assign(e[r],{extension:e[r].extension??i})))},t=>{const e=t.ref;Object.keys(dw).filter(r=>!!e[r]).forEach(r=>fe.remove(e[r]))});class WD{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let i=0;i<r;i++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function ka(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function ms(t,e){const r=t.split("?")[0],i=Ot.extname(r).toLowerCase();return Array.isArray(e)?e.includes(i):i===e}const li=(t,e,r=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(i=>typeof i=="string"||r?e(i):i):t),g0=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function YT(t,e,r,i,n){const s=e[r];for(let o=0;o<s.length;o++){const l=s[o];r<e.length-1?YT(t.replace(i[r],l),e,r+1,i,n):n.push(t.replace(i[r],l))}}function XD(t){const e=/\{(.*?)\}/g,r=t.match(e),i=[];if(r){const n=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");n.push(o)}),YT(t,n,0,r,i)}else i.push(t);return i}const pd=t=>!Array.isArray(t);class $D{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const i=li(e);let n;for(let l=0;l<this.parsers.length;l++){const h=this.parsers[l];if(h.test(r)){n=h.getCacheableAssets(i,r);break}}n||(n={},i.forEach(l=>{n[l]=r}));const s=Object.keys(n),o={cacheKeys:s,keys:i};if(i.forEach(l=>{this._cacheMap.set(l,o)}),s.forEach(l=>{this._cache.has(l)&&this._cache.get(l)!==r&&console.warn("[Cache] already has key:",l),this._cache.set(l,n[l])}),r instanceof ie){const l=r;i.forEach(h=>{l.baseTexture!==ie.EMPTY.baseTexture&&_e.addToCache(l.baseTexture,h),ie.addToCache(l,h)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(i=>{this._cache.delete(i)}),r.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const Us=new $D;class YD{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,i)=>(this._parsersValidated=!1,e[r]=i,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const i={promise:null,parser:null};return i.promise=(async()=>{var o,l;let n=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!s){for(let h=0;h<this.parsers.length;h++){const c=this.parsers[h];if(c.load&&((o=c.test)!=null&&o.call(c,e,r,this))){s=c;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}n=await s.load(e,r,this),i.parser=s;for(let h=0;h<this.parsers.length;h++){const c=this.parsers[h];c.parse&&c.parse&&await((l=c.testParse)==null?void 0:l.call(c,n,r,this))&&(n=await c.parse(n,r,this)||n,i.parser=c)}return n})(),i}async load(e,r){this._parsersValidated||this._validateParsers();let i=0;const n={},s=pd(e),o=li(e,c=>({alias:[c],src:c})),l=o.length,h=o.map(async c=>{const f=Ot.toAbsolute(c.src);if(!n[c.src])try{this.promiseCache[f]||(this.promiseCache[f]=this._getLoadPromiseAndParser(f,c)),n[c.src]=await this.promiseCache[f].promise,r&&r(++i/l)}catch(m){throw delete this.promiseCache[f],delete n[c.src],new Error(`[Loader.load] Failed to load ${f}.
${m}`)}});return await Promise.all(h),s?n[o[0].src]:n}async unload(e){const r=li(e,i=>({alias:[i],src:i})).map(async i=>{var o,l;const n=Ot.toAbsolute(i.src),s=this.promiseCache[n];if(s){const h=await s.promise;delete this.promiseCache[n],(l=(o=s.parser)==null?void 0:o.unload)==null||l.call(o,h,i,this)}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...e,[r.name]:r}),{})}}var yi=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(yi||{});const QD=".json",KD="application/json",ZD={extension:{type:se.LoadParser,priority:yi.Low},name:"loadJson",test(t){return ka(t,KD)||ms(t,QD)},async load(t){return await(await oe.ADAPTER.fetch(t)).json()}};fe.add(ZD);const qD=".txt",JD="text/plain",eF={name:"loadTxt",extension:{type:se.LoadParser,priority:yi.Low},test(t){return ka(t,JD)||ms(t,qD)},async load(t){return await(await oe.ADAPTER.fetch(t)).text()}};fe.add(eF);const tF=["normal","bold","100","200","300","400","500","600","700","800","900"],rF=[".ttf",".otf",".woff",".woff2"],iF=["font/ttf","font/otf","font/woff","font/woff2"],nF=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function sF(t){const e=Ot.extname(t),r=Ot.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1));let i=r.length>0;for(const s of r)if(!s.match(nF)){i=!1;break}let n=r.join(" ");return i||(n=`"${n.replace(/[\\"]/g,"\\$&")}"`),n}const oF=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function aF(t){return oF.test(t)?t:encodeURI(t)}const lF={extension:{type:se.LoadParser,priority:yi.Low},name:"loadWebFont",test(t){return ka(t,iF)||ms(t,rF)},async load(t,e){var i,n,s;const r=oe.ADAPTER.getFontFaceSet();if(r){const o=[],l=((i=e.data)==null?void 0:i.family)??sF(t),h=((s=(n=e.data)==null?void 0:n.weights)==null?void 0:s.filter(f=>tF.includes(f)))??["normal"],c=e.data??{};for(let f=0;f<h.length;f++){const m=h[f],p=new FontFace(l,`url(${aF(t)})`,{...c,weight:m});await p.load(),r.add(p),o.push(p)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>oe.ADAPTER.getFontFaceSet().delete(e))}};fe.add(lF);const uF=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`;let fa=null,y0=class{constructor(){fa||(fa=URL.createObjectURL(new Blob([uF],{type:"application/javascript"}))),this.worker=new Worker(fa)}};y0.revokeObjectURL=function(){fa&&(URL.revokeObjectURL(fa),fa=null)};const hF=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`;let pa=null;class QT{constructor(){pa||(pa=URL.createObjectURL(new Blob([hF],{type:"application/javascript"}))),this.worker=new Worker(pa)}}QT.revokeObjectURL=function(){pa&&(URL.revokeObjectURL(pa),pa=null)};let fw=0,Am;class cF{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:r}=new y0;r.addEventListener("message",i=>{r.terminate(),y0.revokeObjectURL(),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){Am===void 0&&(Am=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<Am&&(this._createdWorkers++,e=new QT().worker,e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const i=new Promise((n,s)=>{this.queue.push({id:e,arguments:r,resolve:n,reject:s})});return this.next(),i}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),i=r.id;this.resolveHash[fw]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:fw++,id:i})}}const pw=new cF;function wu(t,e,r){t.resource.internal=!0;const i=new ie(t),n=()=>{delete e.promiseCache[r],Us.has(r)&&Us.remove(r)};return i.baseTexture.once("destroyed",()=>{r in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),n())}),i.once("destroyed",()=>{t.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),n())}),i}const dF=[".jpeg",".jpg",".png",".webp",".avif"],fF=["image/jpeg","image/png","image/webp","image/avif"];async function pF(t){const e=await oe.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const qd={name:"loadTextures",extension:{type:se.LoadParser,priority:yi.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return ka(t,fF)||ms(t,dF)},async load(t,e,r){var l;const i=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let n;i?this.config.preferWorkers&&await pw.isImageBitmapSupported()?n=await pw.loadImageBitmap(t):n=await pF(t):n=await new Promise((h,c)=>{const f=new Image;f.crossOrigin=this.config.crossOrigin,f.src=t,f.complete?h(f):(f.onload=()=>h(f),f.onerror=m=>c(m))});const s={...e.data};s.resolution??(s.resolution=xn(t)),i&&((l=s.resourceOptions)==null?void 0:l.ownsImageBitmap)===void 0&&(s.resourceOptions={...s.resourceOptions},s.resourceOptions.ownsImageBitmap=!0);const o=new _e(n,s);return o.resource.src=t,wu(o,r,t)},unload(t){t.destroy(!0)}};fe.add(qd);const mF=".svg",gF="image/svg+xml",yF={extension:{type:se.LoadParser,priority:yi.High},name:"loadSVG",test(t){return ka(t,gF)||ms(t,mF)},async testParse(t){return o0.test(t)},async parse(t,e,r){var s;const i=new o0(t,(s=e==null?void 0:e.data)==null?void 0:s.resourceOptions);await i.load();const n=new _e(i,{resolution:xn(t),...e==null?void 0:e.data});return n.resource.src=e.src,wu(n,r,e.src)},async load(t,e){return(await oe.ADAPTER.fetch(t)).text()},unload:qd.unload};fe.add(yF);const vF=[".mp4",".m4v",".webm",".ogv"],xF=["video/mp4","video/webm","video/ogg"],_F={name:"loadVideo",extension:{type:se.LoadParser,priority:yi.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(t){return ka(t,xF)||ms(t,vF)},async load(t,e,r){var o;let i;const n=await(await oe.ADAPTER.fetch(t)).blob(),s=URL.createObjectURL(n);try{const l={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions,autoLoad:!0},h=new UT(s,l);await h.load();const c=new _e(h,{alphaMode:await zk(),resolution:xn(t),...e==null?void 0:e.data});c.resource.src=t,i=wu(c,r,t),i.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(s)})}catch(l){throw URL.revokeObjectURL(s),l}return i},unload(t){t.destroy(!0)}};fe.add(_F);class wF{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(i=>`${encodeURIComponent(i)}=${encodeURIComponent(r[i])}`).join("&")}}getAlias(e){const{alias:r,name:i,src:n,srcs:s}=e;return li(r||i||n||s,o=>typeof o=="string"?o:Array.isArray(o)?o.map(l=>(l==null?void 0:l.src)??(l==null?void 0:l.srcs)??l):o!=null&&o.src||o!=null&&o.srcs?o.src??o.srcs:o,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const i=[];Array.isArray(r)?r.forEach(n=>{const s=n.src??n.srcs,o=n.alias??n.name;let l;if(typeof o=="string"){const h=this._createBundleAssetId(e,o);i.push(h),l=[o,h]}else{const h=o.map(c=>this._createBundleAssetId(e,c));i.push(...h),l=[...o,...h]}this.add({...n,alias:l,src:s})}):Object.keys(r).forEach(n=>{const s=[n,this._createBundleAssetId(e,n)];if(typeof r[n]=="string")this.add({alias:s,src:r[n]});else if(Array.isArray(r[n]))this.add({alias:s,src:r[n]});else{const o=r[n],l=o.src??o.srcs;this.add({...o,alias:s,src:Array.isArray(l)?l:[l]})}i.push(...s)}),this._bundles[e]=i}add(e,r,i,n,s){const o=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(Ee("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),o.push({alias:e,src:r,data:i,format:n,loadParser:s})):Array.isArray(e)?o.push(...e):o.push(e);let l;l=h=>{this.hasKey(h)&&console.warn(`[Resolver] already has key: ${h} overwriting`)},li(o).forEach(h=>{const{src:c,srcs:f}=h;let{data:m,format:p,loadParser:v}=h;const x=li(c||f).map(S=>typeof S=="string"?XD(S):Array.isArray(S)?S:[S]),b=this.getAlias(h);Array.isArray(b)?b.forEach(l):l(b);const A=[];x.forEach(S=>{S.forEach(E=>{let w={};if(typeof E!="object"){w.src=E;for(let T=0;T<this._parsers.length;T++){const R=this._parsers[T];if(R.test(E)){w=R.parse(E);break}}}else m=E.data??m,p=E.format??p,v=E.loadParser??v,w={...w,...E};if(!b)throw new Error(`[Resolver] alias is undefined for this asset: ${w.src}`);w=this.buildResolvedAsset(w,{aliases:b,data:m,format:p,loadParser:v}),A.push(w)})}),b.forEach(S=>{this._assetMap[S]=A})})}resolveBundle(e){const r=pd(e);e=li(e);const i={};return e.forEach(n=>{const s=this._bundles[n];if(s){const o=this.resolve(s),l={};for(const h in o){const c=o[h];l[this._extractAssetIdFromBundle(n,h)]=c}i[n]=l}}),r?i[e[0]]:i}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const i={};for(const n in r)i[n]=r[n].src;return i}return r.src}resolve(e){const r=pd(e);e=li(e);const i={};return e.forEach(n=>{if(!this._resolverHash[n])if(this._assetMap[n]){let s=this._assetMap[n];const o=s[0],l=this._getPreferredOrder(s);l==null||l.priority.forEach(h=>{l.params[h].forEach(c=>{const f=s.filter(m=>m[h]?m[h]===c:!1);f.length&&(s=f)})}),this._resolverHash[n]=s[0]??o}else this._resolverHash[n]=this.buildResolvedAsset({alias:[n],src:n},{});i[n]=this._resolverHash[n]}),r?i[e[0]]:i}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const i=e[0],n=this._preferredOrder.find(s=>s.params.format.includes(i.format));if(n)return n}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}buildResolvedAsset(e,r){const{aliases:i,data:n,loadParser:s,format:o}=r;return(this._basePath||this._rootPath)&&(e.src=Ot.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=i??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...n||{},...e.data},e.loadParser=s??e.loadParser,e.format=o??e.format??Ot.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class bF{constructor(){this._detections=[],this._initialized=!1,this.resolver=new wF,this.loader=new YD,this.cache=Us,this._backgroundLoader=new WD(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let l=e.manifest;typeof l=="string"&&(l=await this.load(l)),this.resolver.addManifest(l)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,i=typeof r=="number"?[r]:r,n=await this._detectFormats({preferredFormats:(o=e.texturePreference)==null?void 0:o.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:n,resolution:i}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,i,n,s){this.resolver.add(e,r,i,n,s)}async load(e,r){this._initialized||await this.init();const i=pd(e),n=li(e).map(l=>{if(typeof l!="string"){const h=this.resolver.getAlias(l);return h.some(c=>!this.resolver.hasKey(c))&&this.add(l),Array.isArray(h)?h[0]:h}return this.resolver.hasKey(l)||this.add({alias:l,src:l}),l}),s=this.resolver.resolve(n),o=await this._mapLoadToResolve(s,r);return i?o[n[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let i=!1;typeof e=="string"&&(i=!0,e=[e]);const n=this.resolver.resolveBundle(e),s={},o=Object.keys(n);let l=0,h=0;const c=()=>{r==null||r(++l/h)},f=o.map(m=>{const p=n[m];return h+=Object.keys(p).length,this._mapLoadToResolve(p,c).then(v=>{s[m]=v})});return await Promise.all(f),i?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(i=>{this._backgroundLoader.add(Object.values(i))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Us.get(e);const r={};for(let i=0;i<e.length;i++)r[i]=Us.get(e[i]);return r}async _mapLoadToResolve(e,r){const i=Object.values(e),n=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(i,r);this._backgroundLoader.active=!0;const o={};return i.forEach((l,h)=>{const c=s[l.src],f=[l.src];l.alias&&f.push(...l.alias),o[n[h]]=c,Us.set(f,c)}),o}async unload(e){this._initialized||await this.init();const r=li(e).map(n=>typeof n!="string"?n.src:n),i=this.resolver.resolve(r);await this._unloadFromResolved(i)}async unloadBundle(e){this._initialized||await this.init(),e=li(e);const r=this.resolver.resolveBundle(e),i=Object.keys(r).map(n=>this._unloadFromResolved(r[n]));await Promise.all(i)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(i=>{Us.remove(i.src)}),await this.loader.unload(r)}async _detectFormats(e){let r=[];e.preferredFormats&&(r=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const i of e.detections)e.skipDetections||await i.test()?r=await i.add(r):e.skipDetections||(r=await i.remove(r));return r=r.filter((i,n)=>r.indexOf(i)===n),r}get detections(){return this._detections}get preferWorkers(){return qd.config.preferWorkers}set preferWorkers(e){Ee("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(i=>i in e).forEach(i=>{r.config[i]=e[i]})})}}const bl=new bF;fe.handleByList(se.LoadParser,bl.loader.parsers).handleByList(se.ResolveParser,bl.resolver.parsers).handleByList(se.CacheParser,bl.cache.parsers).handleByList(se.DetectionParser,bl.detections);const SF={extension:se.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof ie),getCacheableAssets:(t,e)=>{const r={};return t.forEach(i=>{e.forEach((n,s)=>{r[i+(s===0?"":s+1)]=n})}),r}};fe.add(SF);async function KT(t){if("Image"in globalThis)return new Promise(e=>{const r=new Image;r.onload=()=>{e(!0)},r.onerror=()=>{e(!1)},r.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const EF={extension:{type:se.DetectionParser,priority:1},test:async()=>KT("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};fe.add(EF);const TF={extension:{type:se.DetectionParser,priority:0},test:async()=>KT("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};fe.add(TF);const mw=["png","jpg","jpeg"],AF={extension:{type:se.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...mw],remove:async t=>t.filter(e=>!mw.includes(e))};fe.add(AF);const CF="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function Vy(t){return CF?!1:document.createElement("video").canPlayType(t)!==""}const PF={extension:{type:se.DetectionParser,priority:0},test:async()=>Vy("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")};fe.add(PF);const IF={extension:{type:se.DetectionParser,priority:0},test:async()=>Vy("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")};fe.add(IF);const RF={extension:{type:se.DetectionParser,priority:0},test:async()=>Vy("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")};fe.add(RF);const kF={extension:se.ResolveParser,test:qd.test,parse:t=>{var e;return{resolution:parseFloat(((e=oe.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:Ot.extname(t).slice(1),src:t}}};fe.add(kF);const MF=[".xml",".fnt"],DF={extension:{type:se.LoadParser,priority:yi.Normal},name:"loadBitmapFont",test(t){return MF.includes(Ot.extname(t).toLowerCase())},async testParse(t){return Tc.test(t)||m0.test(t)},async parse(t,e,r){const i=Tc.test(t)?Tc.parse(t):m0.parse(t),{src:n}=e,{page:s}=i,o=[];for(let c=0;c<s.length;++c){const f=s[c].file;let m=Ot.join(Ot.dirname(n),f);m=g0(m,n),o.push(m)}const l=await r.load(o),h=o.map(c=>l[c]);return Ln.install(i,h,!0)},async load(t,e){return(await oe.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};fe.add(DF);const md={build(t){const e=t.points;let r,i,n,s,o,l;if(t.type===Gt.CIRC){const x=t.shape;r=x.x,i=x.y,o=l=x.radius,n=s=0}else if(t.type===Gt.ELIP){const x=t.shape;r=x.x,i=x.y,o=x.width,l=x.height,n=s=0}else{const x=t.shape,b=x.width/2,A=x.height/2;r=x.x+b,i=x.y+A,o=l=Math.max(0,Math.min(x.radius,Math.min(b,A))),n=b-o,s=A-l}if(!(o>=0&&l>=0&&n>=0&&s>=0)){e.length=0;return}const h=Math.ceil(2.3*Math.sqrt(o+l)),c=h*8+(n?4:0)+(s?4:0);if(e.length=c,c===0)return;if(h===0){e.length=8,e[0]=e[6]=r+n,e[1]=e[3]=i+s,e[2]=e[4]=r-n,e[5]=e[7]=i-s;return}let f=0,m=h*4+(n?2:0)+2,p=m,v=c;{const x=n+o,b=s,A=r+x,S=r-x,E=i+b;if(e[f++]=A,e[f++]=E,e[--m]=E,e[--m]=S,s){const w=i-b;e[p++]=S,e[p++]=w,e[--v]=w,e[--v]=A}}for(let x=1;x<h;x++){const b=Math.PI/2*(x/h),A=n+Math.cos(b)*o,S=s+Math.sin(b)*l,E=r+A,w=r-A,T=i+S,R=i-S;e[f++]=E,e[f++]=T,e[--m]=T,e[--m]=w,e[p++]=w,e[p++]=R,e[--v]=R,e[--v]=E}{const x=n,b=s+l,A=r+x,S=r-x,E=i+b,w=i-b;e[f++]=A,e[f++]=E,e[--v]=w,e[--v]=A,n&&(e[f++]=S,e[f++]=E,e[--v]=w,e[--v]=S)}},triangulate(t,e){const r=t.points,i=e.points,n=e.indices;if(r.length===0)return;let s=i.length/2;const o=s;let l,h;if(t.type!==Gt.RREC){const f=t.shape;l=f.x,h=f.y}else{const f=t.shape;l=f.x+f.width/2,h=f.y+f.height/2}const c=t.matrix;i.push(t.matrix?c.a*l+c.c*h+c.tx:l,t.matrix?c.b*l+c.d*h+c.ty:h),s++,i.push(r[0],r[1]);for(let f=2;f<r.length;f+=2)i.push(r[f],r[f+1]),n.push(s++,o,s);n.push(o+1,o,s)}};function gw(t,e=!1){const r=t.length;if(r<6)return;let i=0;for(let n=0,s=t[r-2],o=t[r-1];n<r;n+=2){const l=t[n],h=t[n+1];i+=(l-s)*(h+o),s=l,o=h}if(!e&&i>0||e&&i<=0){const n=r/2;for(let s=n+n%2;s<r;s+=2){const o=r-s-2,l=r-s-1,h=s,c=s+1;[t[o],t[h]]=[t[h],t[o]],[t[l],t[c]]=[t[c],t[l]]}}}const ZT={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const i=t.holes,n=e.points,s=e.indices;if(r.length>=6){gw(r,!1);const o=[];for(let c=0;c<i.length;c++){const f=i[c];gw(f.points,!0),o.push(r.length/2),r=r.concat(f.points)}const l=aR(r,o,2);if(!l)return;const h=n.length/2;for(let c=0;c<l.length;c+=3)s.push(l[c]+h),s.push(l[c+1]+h),s.push(l[c+2]+h);for(let c=0;c<r.length;c++)n.push(r[c])}}},FF={build(t){const e=t.shape,r=e.x,i=e.y,n=e.width,s=e.height,o=t.points;o.length=0,n>=0&&s>=0&&o.push(r,i,r+n,i,r+n,i+s,r,i+s)},triangulate(t,e){const r=t.points,i=e.points;if(r.length===0)return;const n=i.length/2;i.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(n,n+1,n+2,n+1,n+2,n+3)}},OF={build(t){md.build(t)},triangulate(t,e){md.triangulate(t,e)}};var zr=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(zr||{}),Kn=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(Kn||{});const Ta={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class yw{static curveTo(e,r,i,n,s,o){const l=o[o.length-2],h=o[o.length-1]-r,c=l-e,f=n-r,m=i-e,p=Math.abs(h*m-c*f);if(p<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;const v=h*h+c*c,x=f*f+m*m,b=h*f+c*m,A=s*Math.sqrt(v)/p,S=s*Math.sqrt(x)/p,E=A*b/v,w=S*b/x,T=A*m+S*c,R=A*f+S*h,N=c*(S+E),D=h*(S+E),M=m*(A+w),V=f*(A+w),W=Math.atan2(D-R,N-T),te=Math.atan2(V-R,M-T);return{cx:T+e,cy:R+r,radius:s,startAngle:W,endAngle:te,anticlockwise:c*f>m*h}}static arc(e,r,i,n,s,o,l,h,c){const f=l-o,m=Ta._segmentsCount(Math.abs(f)*s,Math.ceil(Math.abs(f)/od)*40),p=f/(m*2),v=p*2,x=Math.cos(p),b=Math.sin(p),A=m-1,S=A%1/A;for(let E=0;E<=A;++E){const w=E+S*E,T=p+o+v*w,R=Math.cos(T),N=-Math.sin(T);c.push((x*R+b*N)*s+i,(x*-N+b*R)*s+n)}}}class NF{constructor(){this.reset()}begin(e,r,i){this.reset(),this.style=e,this.start=r,this.attribStart=i}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class Wy{static curveLength(e,r,i,n,s,o,l,h){let c=0,f=0,m=0,p=0,v=0,x=0,b=0,A=0,S=0,E=0,w=0,T=e,R=r;for(let N=1;N<=10;++N)f=N/10,m=f*f,p=m*f,v=1-f,x=v*v,b=x*v,A=b*e+3*x*f*i+3*v*m*s+p*l,S=b*r+3*x*f*n+3*v*m*o+p*h,E=T-A,w=R-S,T=A,R=S,c+=Math.sqrt(E*E+w*w);return c}static curveTo(e,r,i,n,s,o,l){const h=l[l.length-2],c=l[l.length-1];l.length-=2;const f=Ta._segmentsCount(Wy.curveLength(h,c,e,r,i,n,s,o));let m=0,p=0,v=0,x=0,b=0;l.push(h,c);for(let A=1,S=0;A<=f;++A)S=A/f,m=1-S,p=m*m,v=p*m,x=S*S,b=x*S,l.push(v*h+3*p*S*e+3*m*x*i+b*s,v*c+3*p*S*r+3*m*x*n+b*o)}}function vw(t,e,r,i,n,s,o,l){const h=t-r*n,c=e-i*n,f=t+r*s,m=e+i*s;let p,v;o?(p=i,v=-r):(p=-i,v=r);const x=h+p,b=c+v,A=f+p,S=m+v;return l.push(x,b,A,S),2}function Ps(t,e,r,i,n,s,o,l){const h=r-t,c=i-e;let f=Math.atan2(h,c),m=Math.atan2(n-t,s-e);l&&f<m?f+=Math.PI*2:!l&&f>m&&(m+=Math.PI*2);let p=f;const v=m-f,x=Math.abs(v),b=Math.sqrt(h*h+c*c),A=(15*x*Math.sqrt(b)/Math.PI>>0)+1,S=v/A;if(p+=S,l){o.push(t,e,r,i);for(let E=1,w=p;E<A;E++,w+=S)o.push(t,e,t+Math.sin(w)*b,e+Math.cos(w)*b);o.push(t,e,n,s)}else{o.push(r,i,t,e);for(let E=1,w=p;E<A;E++,w+=S)o.push(t+Math.sin(w)*b,e+Math.cos(w)*b,t,e);o.push(n,s,t,e)}return A*2}function BF(t,e){const r=t.shape;let i=t.points||r.points.slice();const n=e.closePointEps;if(i.length===0)return;const s=t.lineStyle,o=new we(i[0],i[1]),l=new we(i[i.length-2],i[i.length-1]),h=r.type!==Gt.POLY||r.closeStroke,c=Math.abs(o.x-l.x)<n&&Math.abs(o.y-l.y)<n;if(h){i=i.slice(),c&&(i.pop(),i.pop(),l.set(i[i.length-2],i[i.length-1]));const H=(o.x+l.x)*.5,P=(l.y+o.y)*.5;i.unshift(H,P),i.push(H,P)}const f=e.points,m=i.length/2;let p=i.length;const v=f.length/2,x=s.width/2,b=x*x,A=s.miterLimit*s.miterLimit;let S=i[0],E=i[1],w=i[2],T=i[3],R=0,N=0,D=-(E-T),M=S-w,V=0,W=0,te=Math.sqrt(D*D+M*M);D/=te,M/=te,D*=x,M*=x;const Z=s.alignment,O=(1-Z)*2,G=Z*2;h||(s.cap===Kn.ROUND?p+=Ps(S-D*(O-G)*.5,E-M*(O-G)*.5,S-D*O,E-M*O,S+D*G,E+M*G,f,!0)+2:s.cap===Kn.SQUARE&&(p+=vw(S,E,D,M,O,G,!0,f))),f.push(S-D*O,E-M*O,S+D*G,E+M*G);for(let H=1;H<m-1;++H){S=i[(H-1)*2],E=i[(H-1)*2+1],w=i[H*2],T=i[H*2+1],R=i[(H+1)*2],N=i[(H+1)*2+1],D=-(E-T),M=S-w,te=Math.sqrt(D*D+M*M),D/=te,M/=te,D*=x,M*=x,V=-(T-N),W=w-R,te=Math.sqrt(V*V+W*W),V/=te,W/=te,V*=x,W*=x;const P=w-S,L=E-T,k=w-R,U=N-T,re=P*k+L*U,be=L*k-U*P,xe=be<0;if(Math.abs(be)<.001*Math.abs(re)){f.push(w-D*O,T-M*O,w+D*G,T+M*G),re>=0&&(s.join===zr.ROUND?p+=Ps(w,T,w-D*O,T-M*O,w-V*O,T-W*O,f,!1)+4:p+=2,f.push(w-V*G,T-W*G,w+V*O,T+W*O));continue}const Le=(-D+S)*(-M+T)-(-D+w)*(-M+E),Ae=(-V+R)*(-W+T)-(-V+w)*(-W+N),Be=(P*Ae-k*Le)/be,Tt=(U*Le-L*Ae)/be,Nt=(Be-w)*(Be-w)+(Tt-T)*(Tt-T),lt=w+(Be-w)*O,Ce=T+(Tt-T)*O,We=w-(Be-w)*G,Fe=T-(Tt-T)*G,Rr=Math.min(P*P+L*L,k*k+U*U),kr=xe?O:G,ys=Rr+kr*kr*b,nf=Nt<=ys;let ao=s.join;if(ao===zr.MITER&&Nt/b>A&&(ao=zr.BEVEL),nf)switch(ao){case zr.MITER:{f.push(lt,Ce,We,Fe);break}case zr.BEVEL:{xe?f.push(lt,Ce,w+D*G,T+M*G,lt,Ce,w+V*G,T+W*G):f.push(w-D*O,T-M*O,We,Fe,w-V*O,T-W*O,We,Fe),p+=2;break}case zr.ROUND:{xe?(f.push(lt,Ce,w+D*G,T+M*G),p+=Ps(w,T,w+D*G,T+M*G,w+V*G,T+W*G,f,!0)+4,f.push(lt,Ce,w+V*G,T+W*G)):(f.push(w-D*O,T-M*O,We,Fe),p+=Ps(w,T,w-D*O,T-M*O,w-V*O,T-W*O,f,!1)+4,f.push(w-V*O,T-W*O,We,Fe));break}}else{switch(f.push(w-D*O,T-M*O,w+D*G,T+M*G),ao){case zr.MITER:{xe?f.push(We,Fe,We,Fe):f.push(lt,Ce,lt,Ce),p+=2;break}case zr.ROUND:{xe?p+=Ps(w,T,w+D*G,T+M*G,w+V*G,T+W*G,f,!0)+2:p+=Ps(w,T,w-D*O,T-M*O,w-V*O,T-W*O,f,!1)+2;break}}f.push(w-V*O,T-W*O,w+V*G,T+W*G),p+=2}}S=i[(m-2)*2],E=i[(m-2)*2+1],w=i[(m-1)*2],T=i[(m-1)*2+1],D=-(E-T),M=S-w,te=Math.sqrt(D*D+M*M),D/=te,M/=te,D*=x,M*=x,f.push(w-D*O,T-M*O,w+D*G,T+M*G),h||(s.cap===Kn.ROUND?p+=Ps(w-D*(O-G)*.5,T-M*(O-G)*.5,w-D*O,T-M*O,w+D*G,T+M*G,f,!1)+2:s.cap===Kn.SQUARE&&(p+=vw(w,T,D,M,O,G,!1,f)));const ee=e.indices,he=Ta.epsilon*Ta.epsilon;for(let H=v;H<p+v-2;++H)S=f[H*2],E=f[H*2+1],w=f[(H+1)*2],T=f[(H+1)*2+1],R=f[(H+2)*2],N=f[(H+2)*2+1],!(Math.abs(S*(T-N)+w*(N-E)+R*(E-T))<he)&&ee.push(H,H+1,H+2)}function LF(t,e){let r=0;const i=t.shape,n=t.points||i.points,s=i.type!==Gt.POLY||i.closeStroke;if(n.length===0)return;const o=e.points,l=e.indices,h=n.length/2,c=o.length/2;let f=c;for(o.push(n[0],n[1]),r=1;r<h;r++)o.push(n[r*2],n[r*2+1]),l.push(f,f+1),f++;s&&l.push(f,c)}function xw(t,e){t.lineStyle.native?LF(t,e):BF(t,e)}class Xy{static curveLength(e,r,i,n,s,o){const l=e-2*i+s,h=r-2*n+o,c=2*i-2*e,f=2*n-2*r,m=4*(l*l+h*h),p=4*(l*c+h*f),v=c*c+f*f,x=2*Math.sqrt(m+p+v),b=Math.sqrt(m),A=2*m*b,S=2*Math.sqrt(v),E=p/b;return(A*x+b*p*(x-S)+(4*v*m-p*p)*Math.log((2*b+E+x)/(E+S)))/(4*A)}static curveTo(e,r,i,n,s){const o=s[s.length-2],l=s[s.length-1],h=Ta._segmentsCount(Xy.curveLength(o,l,e,r,i,n));let c=0,f=0;for(let m=1;m<=h;++m){const p=m/h;c=o+(e-o)*p,f=l+(r-l)*p,s.push(c+(e+(i-e)*p-c)*p,f+(r+(n-r)*p-f)*p)}}}const Cm={[Gt.POLY]:ZT,[Gt.CIRC]:md,[Gt.ELIP]:md,[Gt.RECT]:FF,[Gt.RREC]:OF},_w=[],Vh=[];class gd{constructor(e,r=null,i=null,n=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=i,this.fillStyle=r,this.matrix=n,this.type=e.type}clone(){return new gd(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const Io=new we,qT=class JT extends iT{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new dd,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Vh.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r.reset(),_w.push(r)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,r=null,i=null,n=null){const s=new gd(e,r,i,n);return this.graphicsData.push(s),this.dirty++,this}drawHole(e,r=null){if(!this.graphicsData.length)return null;const i=new gd(e,null,null,r),n=this.graphicsData[this.graphicsData.length-1];return i.lineStyle=n.lineStyle,n.holes.push(i),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const r=this.graphicsData;for(let i=0;i<r.length;++i){const n=r[i];if(n.fillStyle.visible&&n.shape&&(n.matrix?n.matrix.applyInverse(e,Io):Io.copyFrom(e),n.shape.contains(Io.x,Io.y))){let s=!1;if(n.holes){for(let o=0;o<n.holes.length;o++)if(n.holes[o].shape.contains(Io.x,Io.y)){s=!0;break}}if(!s)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,r=this.graphicsData;let i=null,n=null;this.batches.length>0&&(i=this.batches[this.batches.length-1],n=i.style);for(let h=this.shapeIndex;h<r.length;h++){this.shapeIndex++;const c=r[h],f=c.fillStyle,m=c.lineStyle;Cm[c.type].build(c),c.matrix&&this.transformPoints(c.points,c.matrix),(f.visible||m.visible)&&this.processHoles(c.holes);for(let p=0;p<2;p++){const v=p===0?f:m;if(!v.visible)continue;const x=v.texture.baseTexture,b=this.indices.length,A=this.points.length/2;x.wrapMode=fn.REPEAT,p===0?this.processFill(c):this.processLine(c);const S=this.points.length/2-A;S!==0&&(i&&!this._compareStyles(n,v)&&(i.end(b,A),i=null),i||(i=_w.pop()||new NF,i.begin(v,b,A),this.batches.push(i),n=v),this.addUvs(this.points,e,v.texture,A,S,v.matrix))}}const s=this.indices.length,o=this.points.length/2;if(i&&i.end(s,o),this.batches.length===0){this.batchable=!0;return}const l=o>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&l===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=l?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,r){return!(!e||!r||e.texture.baseTexture!==r.texture.baseTexture||e.color+e.alpha!==r.color+r.alpha||!!e.native!=!!r.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,r=this.graphicsData.length;e<r;e++){const i=this.graphicsData[e],n=i.fillStyle,s=i.lineStyle;if(n&&!n.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let r=0,i=e.length;r<i;r++){const n=e[r];for(let s=0;s<n.size;s++){const o=n.start+s;this.indicesUint16[o]=this.indicesUint16[o]-n.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let r=0;r<e.length;r++)if(e[r].style.native)return!1;return this.points.length<JT.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++_e._globalBatch;for(let m=0;m<this.drawCalls.length;m++)this.drawCalls[m].texArray.clear(),Vh.push(this.drawCalls[m]);this.drawCalls.length=0;const r=this.colors,i=this.textureIds;let n=Vh.pop();n||(n=new Kg,n.texArray=new e0),n.texArray.count=0,n.start=0,n.size=0,n.type=ui.TRIANGLES;let s=0,o=null,l=0,h=!1,c=ui.TRIANGLES,f=0;this.drawCalls.push(n);for(let m=0;m<this.batches.length;m++){const p=this.batches[m],v=8,x=p.style,b=x.texture.baseTexture;h!==!!x.native&&(h=!!x.native,c=h?ui.LINES:ui.TRIANGLES,o=null,s=v,e++),o!==b&&(o=b,b._batchEnabled!==e&&(s===v&&(e++,s=0,n.size>0&&(n=Vh.pop(),n||(n=new Kg,n.texArray=new e0),this.drawCalls.push(n)),n.start=f,n.size=0,n.texArray.count=0,n.type=c),b.touched=1,b._batchEnabled=e,b._batchLocation=s,b.wrapMode=fn.REPEAT,n.texArray.elements[n.texArray.count++]=b,s++)),n.size+=p.size,f+=p.size,l=b._batchLocation,this.addColors(r,x.color,x.alpha,p.attribSize,p.attribStart),this.addTextureIds(i,l,p.attribSize,p.attribStart)}_e._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,r=this.uvs,i=this.colors,n=this.textureIds,s=new ArrayBuffer(e.length*3*4),o=new Float32Array(s),l=new Uint32Array(s);let h=0;for(let c=0;c<e.length/2;c++)o[h++]=e[c*2],o[h++]=e[c*2+1],o[h++]=r[c*2],o[h++]=r[c*2+1],l[h++]=i[c],o[h++]=n[c];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?ZT.triangulate(e,this):Cm[e.type].triangulate(e,this)}processLine(e){xw(e,this);for(let r=0;r<e.holes.length;r++)xw(e.holes[r],this)}processHoles(e){for(let r=0;r<e.length;r++){const i=e[r];Cm[i.type].build(i),i.matrix&&this.transformPoints(i.points,i.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,r){for(let i=0;i<e.length/2;i++){const n=e[i*2],s=e[i*2+1];e[i*2]=r.a*n+r.c*s+r.tx,e[i*2+1]=r.b*n+r.d*s+r.ty}}addColors(e,r,i,n,s=0){const o=je.shared.setValue(r).toLittleEndianNumber(),l=je.shared.setValue(o).toPremultiplied(i);e.length=Math.max(e.length,s+n);for(let h=0;h<n;h++)e[s+h]=l}addTextureIds(e,r,i,n=0){e.length=Math.max(e.length,n+i);for(let s=0;s<i;s++)e[n+s]=r}addUvs(e,r,i,n,s,o=null){let l=0;const h=r.length,c=i.frame;for(;l<s;){let m=e[(n+l)*2],p=e[(n+l)*2+1];if(o){const v=o.a*m+o.c*p+o.tx;p=o.b*m+o.d*p+o.ty,m=v}l++,r.push(m/c.width,p/c.height)}const f=i.baseTexture;(c.width<f.width||c.height<f.height)&&this.adjustUvs(r,i,h,s)}adjustUvs(e,r,i,n){const s=r.baseTexture,o=1e-6,l=i+n*2,h=r.frame,c=h.width/s.width,f=h.height/s.height;let m=h.x/h.width,p=h.y/h.height,v=Math.floor(e[i]+o),x=Math.floor(e[i+1]+o);for(let b=i+2;b<l;b+=2)v=Math.min(v,Math.floor(e[b]+o)),x=Math.min(x,Math.floor(e[b+1]+o));m-=v,p-=x;for(let b=i;b<l;b+=2)e[b]=(e[b]+m)*c,e[b+1]=(e[b+1]+p)*f}};qT.BATCHABLE_SIZE=100;let UF=qT;class Jd{constructor(){this.color=16777215,this.alpha=1,this.texture=ie.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Jd;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=ie.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class $y extends Jd{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Kn.BUTT,this.join=zr.MITER,this.miterLimit=10}clone(){const e=new $y;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=Kn.BUTT,this.join=zr.MITER,this.miterLimit=10}}const Pm={},v0=class Cc extends nr{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Jd,this._lineStyle=new $y,this._matrix=null,this._holeMode=!1,this.state=Qi.for2d(),this._geometry=e||new UF,this._geometry.refCount++,this._transformID=-1,this._tintColor=new je(16777215),this.blendMode=ve.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Cc(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,r=0,i,n=.5,s=!1){return typeof e=="number"&&(e={width:e,color:r,alpha:i,alignment:n,native:s}),this.lineTextureStyle(e)}lineTextureStyle(e){const r={width:0,texture:ie.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:Kn.BUTT,join:zr.MITER,miterLimit:10};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const i=e.width>0&&e.alpha>0;return i?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:i},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new $s,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[r-2],e[r-1]))}else this.currentPath=new $s,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,r){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=r,this}lineTo(e,r){this.currentPath||this.moveTo(0,0);const i=this.currentPath.points,n=i[i.length-2],s=i[i.length-1];return(n!==e||s!==r)&&i.push(e,r),this}_initCurve(e=0,r=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,r]):this.moveTo(e,r)}quadraticCurveTo(e,r,i,n){this._initCurve();const s=this.currentPath.points;return s.length===0&&this.moveTo(0,0),Xy.curveTo(e,r,i,n,s),this}bezierCurveTo(e,r,i,n,s,o){return this._initCurve(),Wy.curveTo(e,r,i,n,s,o,this.currentPath.points),this}arcTo(e,r,i,n,s){this._initCurve(e,r);const o=this.currentPath.points,l=yw.curveTo(e,r,i,n,s,o);if(l){const{cx:h,cy:c,radius:f,startAngle:m,endAngle:p,anticlockwise:v}=l;this.arc(h,c,f,m,p,v)}return this}arc(e,r,i,n,s,o=!1){if(n===s)return this;if(!o&&s<=n?s+=od:o&&n<=s&&(n+=od),s-n===0)return this;const l=e+Math.cos(n)*i,h=r+Math.sin(n)*i,c=this._geometry.closePointEps;let f=this.currentPath?this.currentPath.points:null;if(f){const m=Math.abs(f[f.length-2]-l),p=Math.abs(f[f.length-1]-h);m<c&&p<c||f.push(l,h)}else this.moveTo(l,h),f=this.currentPath.points;return yw.arc(l,h,e,r,i,n,s,o,f),this}beginFill(e=0,r){return this.beginTextureFill({texture:ie.WHITE,color:e,alpha:r})}normalizeColor(e){const r=je.shared.setValue(e.color??0);e.color=r.toNumber(),e.alpha??(e.alpha=r.alpha)}beginTextureFill(e){const r={texture:ie.WHITE,color:16777215,matrix:null};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const i=e.alpha>0;return i?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:i},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,r,i,n){return this.drawShape(new Se(e,r,i,n))}drawRoundedRect(e,r,i,n,s){return this.drawShape(new Xd(e,r,i,n,s))}drawCircle(e,r,i){return this.drawShape(new Vd(e,r,i))}drawEllipse(e,r,i,n){return this.drawShape(new Wd(e,r,i,n))}drawPolygon(...e){let r,i=!0;const n=e[0];n.points?(i=n.closeStroke,r=n.points):Array.isArray(e[0])?r=e[0]:r=e;const s=new $s(r);return s.closeStroke=i,this.drawShape(s),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===Gt.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const r=this._geometry;r.updateBatches(),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,r=this.blendMode,i=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=i,this.vertexData=new Float32Array(e.points);for(let n=0;n<i;n++){const s=e.batches[n],o=s.style.color,l=new Float32Array(this.vertexData.buffer,s.attribStart*4*2,s.attribSize*2),h=new Float32Array(e.uvsFloat32.buffer,s.attribStart*4*2,s.attribSize*2),c=new Uint16Array(e.indicesUint16.buffer,s.start*2,s.size),f={vertexData:l,blendMode:r,indices:c,uvs:h,_batchRGB:je.shared.setValue(o).toRgbArray(),_tintRGB:o,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[n]=f}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let r=0,i=this.batches.length;r<i;r++){const n=this.batches[r];n.worldAlpha=this.worldAlpha*n.alpha,e.plugins[this.pluginName].render(n)}}}_renderDirect(e){const r=this._resolveDirectShader(e),i=this._geometry,n=this.worldAlpha,s=r.uniforms,o=i.drawCalls;s.translationMatrix=this.transform.worldTransform,je.shared.setValue(this._tintColor).premultiply(n).toArray(s.tint),e.shader.bind(r),e.geometry.bind(i,r),e.state.set(this.state);for(let l=0,h=o.length;l<h;l++)this._renderDrawCallDirect(e,i.drawCalls[l])}_renderDrawCallDirect(e,r){const{texArray:i,type:n,size:s,start:o}=r,l=i.count;for(let h=0;h<l;h++)e.texture.bind(i.elements[h],h);e.geometry.draw(n,s,o)}_resolveDirectShader(e){let r=this.shader;const i=this.pluginName;if(!r){if(!Pm[i]){const{maxTextures:n}=e.plugins[i],s=new Int32Array(n);for(let h=0;h<n;h++)s[h]=h;const o={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ke,default:mi.from({uSamplers:s},!0)},l=e.plugins[i]._shader.program;Pm[i]=new Wi(l,o)}r=Pm[i]}return r}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:r,minY:i,maxX:n,maxY:s}=e.bounds;this._bounds.addFrame(this.transform,r,i,n,s)}containsPoint(e){return this.worldTransform.applyInverse(e,Cc._TEMP_POINT),this._geometry.containsPoint(Cc._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r._tintRGB=je.shared.setValue(this._tintColor).multiply(r._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const r=this.transform.worldTransform,i=r.a,n=r.b,s=r.c,o=r.d,l=r.tx,h=r.ty,c=this._geometry.points,f=this.vertexData;let m=0;for(let p=0;p<c.length;p+=2){const v=c[p],x=c[p+1];f[m++]=i*v+s*x+l,f[m++]=o*x+n*v+h}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};v0.curves=Ta,v0._TEMP_POINT=new we;let Ul=v0;class zF extends Zd{constructor(e=100,r=100,i=10,n=10){super(),this.segWidth=i,this.segHeight=n,this.width=e,this.height=r,this.build()}build(){const e=this.segWidth*this.segHeight,r=[],i=[],n=[],s=this.segWidth-1,o=this.segHeight-1,l=this.width/s,h=this.height/o;for(let f=0;f<e;f++){const m=f%this.segWidth,p=f/this.segWidth|0;r.push(m*l,p*h),i.push(m/s,p/o)}const c=s*o;for(let f=0;f<c;f++){const m=f%s,p=f/s|0,v=p*this.segWidth+m,x=p*this.segWidth+m+1,b=(p+1)*this.segWidth+m,A=(p+1)*this.segWidth+m+1;n.push(v,x,b,x,A,b)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(i),this.indexBuffer.data=new Uint16Array(n),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class GF extends Zd{constructor(e=200,r,i=0){super(new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6)),this.points=r,this._width=e,this.textureScale=i,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const r=this.getBuffer("aVertexPosition"),i=this.getBuffer("aTextureCoord"),n=this.getIndex();if(e.length<1)return;r.data.length/4!==e.length&&(r.data=new Float32Array(e.length*4),i.data=new Float32Array(e.length*4),n.data=new Uint16Array((e.length-1)*6));const s=i.data,o=n.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let l=0,h=e[0];const c=this._width*this.textureScale,f=e.length;for(let p=0;p<f;p++){const v=p*4;if(this.textureScale>0){const x=h.x-e[p].x,b=h.y-e[p].y,A=Math.sqrt(x*x+b*b);h=e[p],l+=A/c}else l=p/(f-1);s[v]=l,s[v+1]=0,s[v+2]=l,s[v+3]=1}let m=0;for(let p=0;p<f-1;p++){const v=p*2;o[m++]=v,o[m++]=v+1,o[m++]=v+2,o[m++]=v+2,o[m++]=v+1,o[m++]=v+3}i.update(),n.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let r=e[0],i,n=0,s=0;const o=this.buffers[0].data,l=e.length,h=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let c=0;c<l;c++){const f=e[c],m=c*4;c<e.length-1?i=e[c+1]:i=f,s=-(i.x-r.x),n=i.y-r.y;const p=Math.sqrt(n*n+s*s);p<1e-6?(n=0,s=0):(n/=p,s/=p,n*=h,s*=h),o[m]=f.x+n,o[m+1]=f.y+s,o[m+2]=f.x-n,o[m+3]=f.y-s,r=f}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class jF extends uu{constructor(e,r,i){const n=new zF(e.width,e.height,r,i),s=new hu(ie.WHITE);super(n,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:r,height:i}=this.shader.texture;this.autoResize&&(e.width!==r||e.height!==i)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const Wh=10;class HF extends jF{constructor(e,r,i,n,s){var o,l,h,c;super(ie.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=r??((o=e.defaultBorders)==null?void 0:o.left)??Wh,this._rightWidth=n??((l=e.defaultBorders)==null?void 0:l.right)??Wh,this._topHeight=i??((h=e.defaultBorders)==null?void 0:h.top)??Wh,this._bottomHeight=s??((c=e.defaultBorders)==null?void 0:c.bottom)??Wh,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,r=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,r=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e,i=this._topHeight+this._bottomHeight,n=this._height>i?1:this._height/i;return Math.min(r,n)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,r=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const i=1/this._origWidth,n=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=i*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-i*this._rightWidth,r[9]=r[11]=r[13]=r[15]=n*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-n*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class VF extends uu{constructor(e=ie.EMPTY,r,i,n,s){const o=new Zd(r,i,n);o.getBuffer("aVertexPosition").static=!1;const l=new hu(e);super(o,l,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class WF extends uu{constructor(e,r,i=0){const n=new GF(e.height,r,i),s=new hu(e);i>0&&(e.baseTexture.wrapMode=fn.REPEAT),super(n,s),this.autoUpdate=!0}_render(e){const r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),super._render(e)}}class XF extends nr{constructor(e=1500,r,i=16384,n=!1){super();const s=16384;i>s&&(i=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=i,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=ve.NORMAL,this.autoResize=n,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tintColor=new je(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const r=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class ww{constructor(e,r,i){this.geometry=new ls,this.indexBuffer=null,this.size=i,this.dynamicProperties=[],this.staticProperties=[];for(let n=0;n<e.length;++n){let s=e[n];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||ge.FLOAT,offset:s.offset},r[n]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new mt(Jk(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const l=this.dynamicProperties[o];l.offset=r,r+=l.size,this.dynamicStride+=l.size}const i=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(i),this.dynamicDataUint32=new Uint32Array(i),this.dynamicBuffer=new mt(this.dynamicData,!1,!1);let n=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const l=this.staticProperties[o];l.offset=n,n+=l.size,this.staticStride+=l.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new mt(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const l=this.dynamicProperties[o];e.addAttribute(l.attributeName,this.dynamicBuffer,0,l.type===ge.UNSIGNED_BYTE,l.type,this.dynamicStride*4,l.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const l=this.staticProperties[o];e.addAttribute(l.attributeName,this.staticBuffer,0,l.type===ge.UNSIGNED_BYTE,l.type,this.staticStride*4,l.offset*4)}}uploadDynamic(e,r,i){for(let n=0;n<this.dynamicProperties.length;n++){const s=this.dynamicProperties[n];s.uploadFunction(e,r,i,s.type===ge.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,i){for(let n=0;n<this.staticProperties.length;n++){const s=this.staticProperties[n];s.uploadFunction(e,r,i,s.type===ge.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var $F=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,YF=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class eA extends Yd{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Ke,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:ge.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Wi.from(YF,$F,{}),this.state=Qi.for2d()}render(e){const r=e.children,i=e._maxSize,n=e._batchSize,s=this.renderer;let o=r.length;if(o===0)return;o>i&&!e.autoResize&&(o=i);let l=e._buffers;l||(l=e._buffers=this.generateBuffers(e));const h=r[0]._texture.baseTexture,c=h.alphaMode>0;this.state.blendMode=eT(e.blendMode,c),s.state.set(this.state);const f=s.gl,m=e.worldTransform.copyTo(this.tempMatrix);m.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=m.toArray(!0),this.shader.uniforms.uColor=je.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,c).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=h,this.renderer.shader.bind(this.shader);let p=!1;for(let v=0,x=0;v<o;v+=n,x+=1){let b=o-v;b>n&&(b=n),x>=l.length&&l.push(this._generateOneMoreBuffer(e));const A=l[x];A.uploadDynamic(r,v,b);const S=e._bufferUpdateIDs[x]||0;p=p||A._updateID<S,p&&(A._updateID=e._updateID,A.uploadStatic(r,v,b)),s.geometry.bind(A.geometry),f.drawElements(f.TRIANGLES,b*6,f.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],i=e._maxSize,n=e._batchSize,s=e._properties;for(let o=0;o<i;o+=n)r.push(new ww(this.properties,s,n));return r}_generateOneMoreBuffer(e){const r=e._batchSize,i=e._properties;return new ww(this.properties,i,r)}uploadVertices(e,r,i,n,s,o){let l=0,h=0,c=0,f=0;for(let m=0;m<i;++m){const p=e[r+m],v=p._texture,x=p.scale.x,b=p.scale.y,A=v.trim,S=v.orig;A?(h=A.x-p.anchor.x*S.width,l=h+A.width,f=A.y-p.anchor.y*S.height,c=f+A.height):(l=S.width*(1-p.anchor.x),h=S.width*-p.anchor.x,c=S.height*(1-p.anchor.y),f=S.height*-p.anchor.y),n[o]=h*x,n[o+1]=f*b,n[o+s]=l*x,n[o+s+1]=f*b,n[o+s*2]=l*x,n[o+s*2+1]=c*b,n[o+s*3]=h*x,n[o+s*3+1]=c*b,o+=s*4}}uploadPosition(e,r,i,n,s,o){for(let l=0;l<i;l++){const h=e[r+l].position;n[o]=h.x,n[o+1]=h.y,n[o+s]=h.x,n[o+s+1]=h.y,n[o+s*2]=h.x,n[o+s*2+1]=h.y,n[o+s*3]=h.x,n[o+s*3+1]=h.y,o+=s*4}}uploadRotation(e,r,i,n,s,o){for(let l=0;l<i;l++){const h=e[r+l].rotation;n[o]=h,n[o+s]=h,n[o+s*2]=h,n[o+s*3]=h,o+=s*4}}uploadUvs(e,r,i,n,s,o){for(let l=0;l<i;++l){const h=e[r+l]._texture._uvs;h?(n[o]=h.x0,n[o+1]=h.y0,n[o+s]=h.x1,n[o+s+1]=h.y1,n[o+s*2]=h.x2,n[o+s*2+1]=h.y2,n[o+s*3]=h.x3,n[o+s*3+1]=h.y3,o+=s*4):(n[o]=0,n[o+1]=0,n[o+s]=0,n[o+s+1]=0,n[o+s*2]=0,n[o+s*2+1]=0,n[o+s*3]=0,n[o+s*3+1]=0,o+=s*4)}}uploadTint(e,r,i,n,s,o){for(let l=0;l<i;++l){const h=e[r+l],c=je.shared.setValue(h._tintRGB).toPremultiplied(h.alpha,h.texture.baseTexture.alphaMode>0);n[o]=c,n[o+s]=c,n[o+s*2]=c,n[o+s*3]=c,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}eA.extension={name:"particle",type:se.RendererPlugin};fe.add(eA);let bw=class x0 extends Ki{constructor(e,r=!0){super(e[0]instanceof ie?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Dt.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Dt.shared.add(this.update,this,us.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const r=this.animationSpeed*e,i=this.currentFrame;if(this._durations!==null){let n=this._currentTime%1*this._durations[this.currentFrame];for(n+=r/60*1e3;n<0;)this._currentTime--,n+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);n>=this._durations[this.currentFrame];)n-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=n/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i||this.animationSpeed<0&&this.currentFrame>i)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const r=[];for(let i=0;i<e.length;++i)r.push(ie.from(e[i]));return new x0(r)}static fromImages(e){const r=[];for(let i=0;i<e.length;++i)r.push(ie.from(e[i]));return new x0(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof ie)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Dt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Dt.shared.add(this.update,this),this._isConnectedToTicker=!0))}};const dl=new we;class Yy extends Ki{constructor(e,r=100,i=100){super(e),this.tileTransform=new $d,this._width=r,this._height=i,this.uvMatrix=this.texture.uvMatrix||new Gy(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,r=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),n=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,r,i,n)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Se),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,dl);const r=this._width,i=this._height,n=-r*this.anchor._x;if(dl.x>=n&&dl.x<n+r){const s=-i*this.anchor._y;if(dl.y>=s&&dl.y<s+i)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,r){const i=e instanceof ie?e:ie.from(e,r);return new Yy(i,r.width,r.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var QF=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,KF=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,ZF=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,Sw=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,qF=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const Xh=new Ke;class tA extends Yd{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new fT,this.state=Qi.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=Wi.from(Sw,qF,r),this.shader=e.context.webGLVersion>1?Wi.from(KF,QF,r):Wi.from(Sw,ZF,r)}render(e){const r=this.renderer,i=this.quad;let n=i.vertices;n[0]=n[6]=e._width*-e.anchor.x,n[1]=n[3]=e._height*-e.anchor.y,n[2]=n[4]=e._width*(1-e.anchor.x),n[5]=n[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;n=i.uvs,n[0]=n[6]=-s,n[1]=n[3]=-o,n[2]=n[4]=1-s,n[5]=n[7]=1-o,i.invalidate();const l=e._texture,h=l.baseTexture,c=h.alphaMode>0,f=e.tileTransform.localTransform,m=e.uvMatrix;let p=h.isPowerOfTwo&&l.frame.width===h.width&&l.frame.height===h.height;p&&(h._glTextures[r.CONTEXT_UID]?p=h.wrapMode!==fn.CLAMP:h.wrapMode===fn.CLAMP&&(h.wrapMode=fn.REPEAT));const v=p?this.simpleShader:this.shader,x=l.width,b=l.height,A=e._width,S=e._height;Xh.set(f.a*x/A,f.b*x/S,f.c*b/A,f.d*b/S,f.tx/A,f.ty/S),Xh.invert(),p?Xh.prepend(m.mapCoord):(v.uniforms.uMapCoord=m.mapCoord.toArray(!0),v.uniforms.uClampFrame=m.uClampFrame,v.uniforms.uClampOffset=m.uClampOffset),v.uniforms.uTransform=Xh.toArray(!0),v.uniforms.uColor=je.shared.setValue(e.tint).premultiply(e.worldAlpha,c).toArray(v.uniforms.uColor),v.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),v.uniforms.uSampler=l,r.shader.bind(v),r.geometry.bind(i),this.state.blendMode=eT(e.blendMode,c),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}tA.extension={name:"tilingSprite",type:se.RendererPlugin};fe.add(tA);const rA=class _0{constructor(e){this.stage=new nr,e=Object.assign({forceCanvas:!1},e),this.renderer=dD(e),_0._plugins.forEach(r=>{r.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,r){const i=_0._plugins.slice(0);i.reverse(),i.forEach(n=>{n.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};rA._plugins=[];let ef=rA;fe.handleByList(se.Application,ef._plugins);class iA{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,i;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,i=globalThis.innerHeight;else{const{clientWidth:n,clientHeight:s}=this._resizeTo;r=n,i=s}this.renderer.resize(r,i),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}iA.extension=se.Application;fe.add(iA);var nA={exports:{}},JF="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",e4=JF,t4=e4;function sA(){}function oA(){}oA.resetWarningCache=sA;var r4=function(){function t(i,n,s,o,l,h){if(h!==t4){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:oA,resetWarningCache:sA};return r.PropTypes=r,r};nA.exports=r4();var i4=nA.exports;const Ye=bd(i4);function Ar(t){return Ar=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ar(t)}function aA(t){var e=function(r,i){if(Ar(r)!=="object"||r===null)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var s=n.call(r,i||"default");if(Ar(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(r)}(t,"string");return Ar(e)==="symbol"?e:String(e)}function pt(t,e,r){return(e=aA(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Im(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,i=new Array(e);r<e;r++)i[r]=t[r];return i}function wn(t){return function(e){if(Array.isArray(e))return Im(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,r){if(e){if(typeof e=="string")return Im(e,r);var i=Object.prototype.toString.call(e).slice(8,-1);return i==="Object"&&e.constructor&&(i=e.constructor.name),i==="Map"||i==="Set"?Array.from(e):i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?Im(e,r):void 0}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function dt(t,e){for(var r=arguments.length,i=new Array(r>2?r-2:0),n=2;n<r;n++)i[n-2]=arguments[n]}var n4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function s4(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var o4=function(t){return t==null};function Sl(t){var e=[];if(t===void 0)return e;if(typeof t=="string")e=t.split(",");else if(typeof t=="number")e=[t];else if(Array.isArray(t))e=wn(t);else{if(t===null||Ar(t)!=="object")return e;e=[t&&(t==null?void 0:t.x)||0,t&&(t==null?void 0:t.y)||0]}return e.filter(function(r){return!o4(r)&&!isNaN(r)}).map(Number)}function Ew(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Rm(t){return t instanceof we||t instanceof hi}var yd=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function km(t,e,r){if(Rm(t[e])&&Rm(r))t[e].copyFrom(r);else if(Rm(t[e])){var i=Sl(r);dt(i!==void 0&&i.length>0&&i.length<3,"The property `%s` is a `Point` and must be set to a comma-separated string of either coordinates, an array containing coordinates, or a Point.",e,JSON.stringify(r),Ar(r)),t[e].set(i.shift(),i.shift())}else t[e]=r}var Ro,lA=function(t){var e,r=t;if(!Array.isArray(r)){if(e=t,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");r=Object.keys(t)}var i={};return r.forEach(function(n){i[n]=!0}),function(n){return i[n]!==void 0}},uA=function(t){return function(){return!t.apply(void 0,arguments)}},w0="children",a4=(pt(Ro={},w0,!0),pt(Ro,"parent",!0),pt(Ro,"worldAlpha",!0),pt(Ro,"worldTransform",!0),pt(Ro,"worldVisible",!0),Ro),b0={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},$i=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=function(l){return requestAnimationFrame(function(){var h,c;l==null||(h=l.__reactpixi)===null||h===void 0||(c=h.root)===null||c===void 0||c.emit("__REACT_PIXI_REQUEST_RENDER__")})},n=function(l,h){if(r.hasOwnProperty(l))return dt(h.typeofs.some(function(c){return Ar(r[l])===c})||h.instanceofs.some(function(c){return r[l]instanceof c}),"".concat(t," ").concat(l," prop is invalid")),r[l]};if(r.texture)return dt(r.texture instanceof ie,"".concat(t," texture needs to be typeof `Texture`")),r.texture;var s=n("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||n("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||n("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,ie]});dt(!!s,"".concat(t," could not get texture from props"));var o=ie.from(s);return o.__reactpixi={root:e},o.once("update",i),o.once("loaded",i),o.valid&&i(o),o},l4=uA(lA([].concat(wn(Object.keys(a4)),wn(yd))));function Yi(t,e,r){var i=!1;if(dt(tt.prototype.isPrototypeOf(t),"instance needs to be typeof `DisplayObject`, got `%s`",Ar(t)),!r.ignoreEvents)for(var n=typeof t.removeListener=="function",s=typeof t.on=="function",o=0;o<yd.length;o++){var l=yd[o];e[l]!==r[l]&&(i=!0,typeof e[l]=="function"&&n&&t.removeListener(l,e[l]),typeof r[l]=="function"&&s&&t.on(l,r[l]))}var h=Object.keys(r||{});if(r.overwriteProps){for(var c=0;c<h.length;c++){var f=h[c];e[f]!==r[f]&&(i=!0,km(t,f,r[f]))}return i}for(var m=h.filter(l4),p=0;p<m.length;p++){var v=m[p],x=r[v];r[v]!==e[v]&&(i=!0),x!==void 0?km(t,v,x):v in b0?(console.warn("setting default value: ".concat(v,", from: ").concat(t[v]," to: ").concat(x," for"),t),i=!0,km(t,v,b0[v])):console.warn("ignoring prop: ".concat(v,", from ").concat(t[v]," to ").concat(x," for"),t)}return i}var u4=function(t,e){var r=e.text,i=e.style;return new VD(r,i)},h4=function(){return new nr};function gs(t,e){if(t==null)return{};var r,i,n=function(o,l){if(o==null)return{};var h,c,f={},m=Object.keys(o);for(c=0;c<m.length;c++)h=m[c],l.indexOf(h)>=0||(f[h]=o[h]);return f}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}var c4=["draw","geometry"],d4=function(t,e){var r=e.geometry;dt(!r||r instanceof Ul,"Graphics geometry needs to be a `Graphics`");var i=r?new Ul(r.geometry):new Ul;return i.applyProps=function(n,s,o){var l=o.draw;o.geometry;var h=Yi(n,s,gs(o,c4));return s.draw!==l&&typeof l=="function"&&(h=!0,l.call(i,i)),h},i},f4=["image","texture"],p4=function(t,e){var r=e.leftWidth,i=r===void 0?10:r,n=e.topHeight,s=n===void 0?10:n,o=e.rightWidth,l=o===void 0?10:o,h=e.bottomHeight,c=h===void 0?10:h,f=$i("NineSlicePlane",t,e),m=new HF(f,i,s,l,c);return m.applyProps=function(p,v,x){var b=x.image,A=x.texture,S=Yi(p,v,gs(x,f4));return(b||A)&&(A!==v.texture&&(S=!0),p.texture=$i("NineSlicePlane",t,x)),S},m};function Tw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function $h(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Tw(Object(r),!0).forEach(function(i){pt(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tw(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}var m4=function(t,e){var r=e.maxSize,i=r===void 0?1500:r,n=e.batchSize,s=n===void 0?16384:n,o=e.autoResize,l=o!==void 0&&o,h=$h($h({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),c=$h($h({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),f=new XF(i,h,s,l);return f.willUnmount=function(m,p,v){m.destroy(c)},f},g4=["image","texture"],y4=function(t,e){var r=new Ki($i("Sprite",t,e));return r.applyProps=function(i,n,s){var o=s.image,l=s.texture,h=Yi(i,n,gs(s,g4));return(l&&n.texture!==s.texture||o&&n.image!==s.image)&&(n.texture!==s.texture&&(h=!0),i.texture=$i("Sprite",t,s)),h},r},v4=["textures","isPlaying","initialFrame","images"],x4=function(t,e){var r=e.textures,i=e.images,n=e.isPlaying,s=n===void 0||n,o=e.initialFrame,l=function(c){return c.map(function(f){return dt(f instanceof ie||(f==null?void 0:f.texture),"AnimationSprite texture needs to be an array of `Texture` or `{ texture: Texture, time:\n                number }`"),f})},h=i?bw.fromImages(i):new bw(l(r));return h[s?"gotoAndPlay":"gotoAndStop"](o||0),h.applyProps=function(c,f,m){var p=m.textures,v=m.isPlaying,x=m.initialFrame,b=m.images,A=Yi(c,f,gs(m,v4));if(b&&f.images!==b){for(var S=[],E=0;E<b.length;++E)S.push(ie.from(b[E]));c.textures=S,A=!0}if(p&&f.textures!==p&&(c.textures=l(p),A=!0),v!==f.isPlaying||x!==f.initialFrame){var w=typeof x=="number"?x:h.currentFrame||0;h[v?"gotoAndPlay":"gotoAndStop"](w),A=!0}return A},h},_4=function(t,e){var r=e.text,i=r===void 0?"":r,n=e.style,s=n===void 0?{}:n,o=e.isSprite,l=new Hy(i,s);return o?(l.updateText(),new Ki(l.texture)):l},w4=["tileScale","tilePosition","image","texture"],b4=function(t,e){var r=e.width,i=r===void 0?100:r,n=e.height,s=n===void 0?100:n,o=$i("TilingSprite",t,e),l=new Yy(o,i,s);return l.applyProps=function(h,c,f){var m=f.tileScale,p=f.tilePosition,v=f.image,x=f.texture,b=Yi(h,c,gs(f,w4));if(p){var A,S=Sl(p);(A=h.tilePosition).set.apply(A,wn(S)),b=!Ew(Sl(c.tilePosition),S)||b}if(m){var E,w=Sl(m);(E=h.tileScale).set.apply(E,wn(w)),b=!Ew(Sl(c.tileScale),w)||b}return(v||x)&&(x!==c.texture&&(b=!0),h.texture=$i("Sprite",t,f)),b},l},S4=["image","texture"],E4=function(t,e){var r=$i("Mesh",t,e),i=e.vertices,n=e.uvs,s=e.indices,o=e.drawMode,l=o===void 0?ui.TRIANGLES:o,h=new VF(r,i,n,s,l);return h.applyProps=function(c,f,m){var p=m.image,v=m.texture,x=Yi(c,f,gs(m,S4));return(p||v)&&(v!==f.texture&&(x=!0),c.texture=$i("Mesh",t,m)),x},h},T4=["image","texture"],A4=function(t,e){var r=$i("SimpleRope",t,e),i=e.points,n=new WF(r,i);return n.applyProps=function(s,o,l){var h=l.image,c=l.texture,f=gs(l,T4);dt(Array.isArray(l.points),"SimpleRope points needs to be %s","Array<Point>");var m=Yi(s,o,f);return(h||c)&&(c!==o.texture&&(m=!0),s.texture=$i("SimpleRope",t,l)),m},n},C4=Object.freeze({__proto__:null,BitmapText:u4,Container:h4,Graphics:d4,NineSlicePlane:p4,ParticleContainer:m4,Sprite:y4,Text:_4,TilingSprite:b4,SimpleMesh:E4,SimpleRope:A4,AnimatedSprite:x4});function Aw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function Cw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Aw(Object(r),!0).forEach(function(i){pt(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Aw(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}var yr={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},P4=Object.keys(yr).reduce(function(t,e){return Cw(Cw({},t),{},pt({},e,C4[e]))},{}),hA={};function I4(t,e){return dt(!!t,"Expect type to be defined, got `%s`",t),dt(!yr[t],"Component `%s` could not be created, already exists in default components.",t),hA[t]=e,t}var Pw,Iw,Rw,kw,S0={},E0={},R4={get exports(){return E0},set exports(t){E0=t}},Mw={};function k4(){return Iw||(Iw=1,R4.exports=(Pw||(Pw=1,function(t){function e(P,L){var k=P.length;P.push(L);e:for(;0<k;){var U=k-1>>>1,re=P[U];if(!(0<n(re,L)))break e;P[U]=L,P[k]=re,k=U}}function r(P){return P.length===0?null:P[0]}function i(P){if(P.length===0)return null;var L=P[0],k=P.pop();if(k!==L){P[0]=k;e:for(var U=0,re=P.length,be=re>>>1;U<be;){var xe=2*(U+1)-1,Le=P[xe],Ae=xe+1,Be=P[Ae];if(0>n(Le,k))Ae<re&&0>n(Be,Le)?(P[U]=Be,P[Ae]=k,U=Ae):(P[U]=Le,P[xe]=k,U=xe);else{if(!(Ae<re&&0>n(Be,k)))break e;P[U]=Be,P[Ae]=k,U=Ae}}}return L}function n(P,L){var k=P.sortIndex-L.sortIndex;return k!==0?k:P.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var h=[],c=[],f=1,m=null,p=3,v=!1,x=!1,b=!1,A=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function w(P){for(var L=r(c);L!==null;){if(L.callback===null)i(c);else{if(!(L.startTime<=P))break;i(c),L.sortIndex=L.expirationTime,e(h,L)}L=r(c)}}function T(P){if(b=!1,w(P),!x)if(r(h)!==null)x=!0,he(R);else{var L=r(c);L!==null&&H(T,L.startTime-P)}}function R(P,L){x=!1,b&&(b=!1,S(V),V=-1),v=!0;var k=p;try{for(w(L),m=r(h);m!==null&&(!(m.expirationTime>L)||P&&!Z());){var U=m.callback;if(typeof U=="function"){m.callback=null,p=m.priorityLevel;var re=U(m.expirationTime<=L);L=t.unstable_now(),typeof re=="function"?m.callback=re:m===r(h)&&i(h),w(L)}else i(h);m=r(h)}if(m!==null)var be=!0;else{var xe=r(c);xe!==null&&H(T,xe.startTime-L),be=!1}return be}finally{m=null,p=k,v=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,D=!1,M=null,V=-1,W=5,te=-1;function Z(){return!(t.unstable_now()-te<W)}function O(){if(M!==null){var P=t.unstable_now();te=P;var L=!0;try{L=M(!0,P)}finally{L?N():(D=!1,M=null)}}else D=!1}if(typeof E=="function")N=function(){E(O)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ee=G.port2;G.port1.onmessage=O,N=function(){ee.postMessage(null)}}else N=function(){A(O,0)};function he(P){M=P,D||(D=!0,N())}function H(P,L){V=A(function(){P(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,he(R))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(P){switch(p){case 1:case 2:case 3:var L=3;break;default:L=p}var k=p;p=L;try{return P()}finally{p=k}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,L){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var k=p;p=P;try{return L()}finally{p=k}},t.unstable_scheduleCallback=function(P,L,k){var U=t.unstable_now();switch(k=typeof k=="object"&&k!==null&&typeof(k=k.delay)=="number"&&0<k?U+k:U,P){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return P={id:f++,callback:L,priorityLevel:P,startTime:k,expirationTime:re=k+re,sortIndex:-1},k>U?(P.sortIndex=k,e(c,P),r(h)===null&&P===r(c)&&(b?(S(V),V=-1):b=!0,H(T,k-U))):(P.sortIndex=re,e(h,P),x||v||(x=!0,he(R))),P},t.unstable_shouldYield=Z,t.unstable_wrapCallback=function(P){var L=p;return function(){var k=p;p=L;try{return P.apply(this,arguments)}finally{p=k}}}}(Mw)),Mw)),E0}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function M4(){return kw||(kw=1,Rw=function(t){var e={},r=Zt,i=k4(),n=Object.assign;function s(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=1;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),h=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),v=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),T=Symbol.iterator;function R(a){return a===null||typeof a!="object"?null:typeof(a=T&&a[T]||a["@@iterator"])=="function"?a:null}function N(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case c:return"Fragment";case h:return"Portal";case m:return"Profiler";case f:return"StrictMode";case b:return"Suspense";case A:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case v:return(a.displayName||"Context")+".Consumer";case p:return(a._context.displayName||"Context")+".Provider";case x:var u=a.render;return(a=a.displayName)||(a=(a=u.displayName||u.name||"")!==""?"ForwardRef("+a+")":"ForwardRef"),a;case S:return(u=a.displayName||null)!==null?u:N(a.type)||"Memo";case E:u=a._payload,a=a._init;try{return N(a(u))}catch{}}return null}function D(a){var u=a.type;switch(a.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=(a=u.render).displayName||a.name||"",u.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return N(u);case 8:return u===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function M(a){var u=a,d=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do 4098&(u=a).flags&&(d=u.return),a=u.return;while(a)}return u.tag===3?d:null}function V(a){if(M(a)!==a)throw Error(s(188))}function W(a){var u=a.alternate;if(!u){if((u=M(a))===null)throw Error(s(188));return u!==a?null:a}for(var d=a,g=u;;){var y=d.return;if(y===null)break;var _=y.alternate;if(_===null){if((g=y.return)!==null){d=g;continue}break}if(y.child===_.child){for(_=y.child;_;){if(_===d)return V(y),a;if(_===g)return V(y),u;_=_.sibling}throw Error(s(188))}if(d.return!==g.return)d=y,g=_;else{for(var C=!1,I=y.child;I;){if(I===d){C=!0,d=y,g=_;break}if(I===g){C=!0,g=y,d=_;break}I=I.sibling}if(!C){for(I=_.child;I;){if(I===d){C=!0,d=_,g=y;break}if(I===g){C=!0,g=_,d=y;break}I=I.sibling}if(!C)throw Error(s(189))}}if(d.alternate!==g)throw Error(s(190))}if(d.tag!==3)throw Error(s(188));return d.stateNode.current===d?a:u}function te(a){return(a=W(a))!==null?Z(a):null}function Z(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var u=Z(a);if(u!==null)return u;a=a.sibling}return null}function O(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){if(a.tag!==4){var u=O(a);if(u!==null)return u}a=a.sibling}return null}var G,ee=Array.isArray,he=t.getPublicInstance,H=t.getRootHostContext,P=t.getChildHostContext,L=t.prepareForCommit,k=t.resetAfterCommit,U=t.createInstance,re=t.appendInitialChild,be=t.finalizeInitialChildren,xe=t.prepareUpdate,Le=t.shouldSetTextContent,Ae=t.createTextInstance,Be=t.scheduleTimeout,Tt=t.cancelTimeout,Nt=t.noTimeout,lt=t.isPrimaryRenderer,Ce=t.supportsMutation,We=t.supportsPersistence,Fe=t.supportsHydration,Rr=t.getInstanceFromNode,kr=t.preparePortalMount,ys=t.getCurrentEventPriority,nf=t.detachDeletedInstance,ao=t.supportsMicrotasks,XA=t.scheduleMicrotask,Ma=t.supportsTestSelectors,$A=t.findFiberRoot,YA=t.getBoundingRect,QA=t.getTextContent,Da=t.isHiddenSubtree,KA=t.matchAccessibilityRole,ZA=t.setFocusIfFocusable,qA=t.setupIntersectionObserver,JA=t.appendChild,e2=t.appendChildToContainer,t2=t.commitTextUpdate,r2=t.commitMount,i2=t.commitUpdate,n2=t.insertBefore,s2=t.insertInContainerBefore,o2=t.removeChild,a2=t.removeChildFromContainer,Zy=t.resetTextContent,l2=t.hideInstance,u2=t.hideTextInstance,h2=t.unhideInstance,c2=t.unhideTextInstance,d2=t.clearContainer,f2=t.cloneInstance,qy=t.createContainerChildSet,Jy=t.appendChildToContainerChildSet,p2=t.finalizeContainerChildren,sf=t.replaceContainerChildren,ev=t.cloneHiddenInstance,tv=t.cloneHiddenTextInstance,m2=t.canHydrateInstance,g2=t.canHydrateTextInstance,y2=t.canHydrateSuspenseInstance,rv=t.isSuspenseInstancePending,of=t.isSuspenseInstanceFallback,v2=t.getSuspenseInstanceFallbackErrorDetails,x2=t.registerSuspenseInstanceRetry,bu=t.getNextHydratableSibling,_2=t.getFirstHydratableChild,w2=t.getFirstHydratableChildWithinContainer,b2=t.getFirstHydratableChildWithinSuspenseInstance,S2=t.hydrateInstance,E2=t.hydrateTextInstance,T2=t.hydrateSuspenseInstance,A2=t.getNextHydratableInstanceAfterSuspenseInstance,C2=t.commitHydratedContainer,P2=t.commitHydratedSuspenseInstance,I2=t.clearSuspenseBoundary,R2=t.clearSuspenseBoundaryFromContainer,k2=t.shouldDeleteUnhydratedTailInstances,M2=t.didNotMatchHydratedContainerTextInstance,D2=t.didNotMatchHydratedTextInstance;function Fa(a){if(G===void 0)try{throw Error()}catch(d){var u=d.stack.trim().match(/\n( *(at )?)/);G=u&&u[1]||""}return`
`+G+a}var af=!1;function lf(a,u){if(!a||af)return"";af=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(j){var g=j}Reflect.construct(a,[],u)}else{try{u.call()}catch(j){g=j}a.call(u.prototype)}else{try{throw Error()}catch(j){g=j}a()}}catch(j){if(j&&g&&typeof j.stack=="string"){for(var y=j.stack.split(`
`),_=g.stack.split(`
`),C=y.length-1,I=_.length-1;1<=C&&0<=I&&y[C]!==_[I];)I--;for(;1<=C&&0<=I;C--,I--)if(y[C]!==_[I]){if(C!==1||I!==1)do if(C--,0>--I||y[C]!==_[I]){var B=`
`+y[C].replace(" at new "," at ");return a.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",a.displayName)),B}while(1<=C&&0<=I);break}}}finally{af=!1,Error.prepareStackTrace=d}return(a=a?a.displayName||a.name:"")?Fa(a):""}var F2=Object.prototype.hasOwnProperty,uf=[],lo=-1;function Sn(a){return{current:a}}function Ze(a){0>lo||(a.current=uf[lo],uf[lo]=null,lo--)}function He(a,u){lo++,uf[lo]=a.current,a.current=u}var En={},Vt=Sn(En),ar=Sn(!1),vs=En;function uo(a,u){var d=a.type.contextTypes;if(!d)return En;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===u)return g.__reactInternalMemoizedMaskedChildContext;var y,_={};for(y in d)_[y]=u[y];return g&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=_),_}function vr(a){return(a=a.childContextTypes)!=null}function hf(){Ze(ar),Ze(Vt)}function iv(a,u,d){if(Vt.current!==En)throw Error(s(168));He(Vt,u),He(ar,d)}function nv(a,u,d){var g=a.stateNode;if(u=u.childContextTypes,typeof g.getChildContext!="function")return d;for(var y in g=g.getChildContext())if(!(y in u))throw Error(s(108,D(a)||"Unknown",y));return n({},d,g)}function Su(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||En,vs=Vt.current,He(Vt,a),He(ar,ar.current),!0}function sv(a,u,d){var g=a.stateNode;if(!g)throw Error(s(169));d?(a=nv(a,u,vs),g.__reactInternalMemoizedMergedChildContext=a,Ze(ar),Ze(Vt),He(Vt,a)):Ze(ar),He(ar,d)}var Qr=Math.clz32?Math.clz32:function(a){return(a>>>=0)===0?32:31-(O2(a)/N2|0)|0},O2=Math.log,N2=Math.LN2,cf=64,df=4194304;function Oa(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&a;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&a;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Eu(a,u){var d=a.pendingLanes;if(d===0)return 0;var g=0,y=a.suspendedLanes,_=a.pingedLanes,C=268435455&d;if(C!==0){var I=C&~y;I!==0?g=Oa(I):(_&=C)!==0&&(g=Oa(_))}else(C=d&~y)!==0?g=Oa(C):_!==0&&(g=Oa(_));if(g===0)return 0;if(u!==0&&u!==g&&!(u&y)&&((y=g&-g)>=(_=u&-u)||y===16&&4194240&_))return u;if(4&g&&(g|=16&d),(u=a.entangledLanes)!==0)for(a=a.entanglements,u&=g;0<u;)y=1<<(d=31-Qr(u)),g|=a[d],u&=~y;return g}function B2(a,u){switch(a){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;default:return-1}}function ff(a){return(a=-1073741825&a.pendingLanes)!==0?a:1073741824&a?1073741824:0}function ov(){var a=cf;return!(4194240&(cf<<=1))&&(cf=64),a}function pf(a){for(var u=[],d=0;31>d;d++)u.push(a);return u}function Na(a,u,d){a.pendingLanes|=u,u!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),(a=a.eventTimes)[u=31-Qr(u)]=d}function mf(a,u){var d=a.entangledLanes|=u;for(a=a.entanglements;d;){var g=31-Qr(d),y=1<<g;y&u|a[g]&u&&(a[g]|=u),d&=~y}}var Oe=0;function av(a){return 1<(a&=-a)?4<a?268435455&a?16:536870912:4:1}var gf=i.unstable_scheduleCallback,lv=i.unstable_cancelCallback,L2=i.unstable_shouldYield,U2=i.unstable_requestPaint,At=i.unstable_now,yf=i.unstable_ImmediatePriority,z2=i.unstable_UserBlockingPriority,uv=i.unstable_NormalPriority,G2=i.unstable_IdlePriority,Tu=null,vi=null,Kr=typeof Object.is=="function"?Object.is:function(a,u){return a===u&&(a!==0||1/a==1/u)||a!=a&&u!=u},Zi=null,Au=!1,vf=!1;function hv(a){Zi===null?Zi=[a]:Zi.push(a)}function xi(){if(!vf&&Zi!==null){vf=!0;var a=0,u=Oe;try{var d=Zi;for(Oe=1;a<d.length;a++){var g=d[a];do g=g(!0);while(g!==null)}Zi=null,Au=!1}catch(y){throw Zi!==null&&(Zi=Zi.slice(a+1)),gf(yf,xi),y}finally{Oe=u,vf=!1}}return null}var ho=[],co=0,Cu=null,Pu=0,Mr=[],Dr=0,xs=null,_i=1,qi="";function _s(a,u){ho[co++]=Pu,ho[co++]=Cu,Cu=a,Pu=u}function cv(a,u,d){Mr[Dr++]=_i,Mr[Dr++]=qi,Mr[Dr++]=xs,xs=a;var g=_i;a=qi;var y=32-Qr(g)-1;g&=~(1<<y),d+=1;var _=32-Qr(u)+y;if(30<_){var C=y-y%5;_=(g&(1<<C)-1).toString(32),g>>=C,y-=C,_i=1<<32-Qr(u)+y|d<<y|g,qi=_+a}else _i=1<<_|d<<y|g,qi=a}function xf(a){a.return!==null&&(_s(a,1),cv(a,1,0))}function _f(a){for(;a===Cu;)Cu=ho[--co],ho[co]=null,Pu=ho[--co],ho[co]=null;for(;a===xs;)xs=Mr[--Dr],Mr[Dr]=null,qi=Mr[--Dr],Mr[Dr]=null,_i=Mr[--Dr],Mr[Dr]=null}var xr=null,Fr=null,qe=!1,Ba=!1,Zr=null;function dv(a,u){var d=Ur(5,null,null,0);d.elementType="DELETED",d.stateNode=u,d.return=a,(u=a.deletions)===null?(a.deletions=[d],a.flags|=16):u.push(d)}function fv(a,u){switch(a.tag){case 5:return(u=m2(u,a.type,a.pendingProps))!==null&&(a.stateNode=u,xr=a,Fr=_2(u),!0);case 6:return(u=g2(u,a.pendingProps))!==null&&(a.stateNode=u,xr=a,Fr=null,!0);case 13:if((u=y2(u))!==null){var d=xs!==null?{id:_i,overflow:qi}:null;return a.memoizedState={dehydrated:u,treeContext:d,retryLane:1073741824},(d=Ur(18,null,null,0)).stateNode=u,d.return=a,a.child=d,xr=a,Fr=null,!0}return!1;default:return!1}}function wf(a){return(1&a.mode)!=0&&(128&a.flags)==0}function bf(a){if(qe){var u=Fr;if(u){var d=u;if(!fv(a,u)){if(wf(a))throw Error(s(418));u=bu(d);var g=xr;u&&fv(a,u)?dv(g,d):(a.flags=-4097&a.flags|2,qe=!1,xr=a)}}else{if(wf(a))throw Error(s(418));a.flags=-4097&a.flags|2,qe=!1,xr=a}}}function pv(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;xr=a}function Iu(a){if(!Fe||a!==xr)return!1;if(!qe)return pv(a),qe=!0,!1;if(a.tag!==3&&(a.tag!==5||k2(a.type)&&!Le(a.type,a.memoizedProps))){var u=Fr;if(u){if(wf(a))throw mv(),Error(s(418));for(;u;)dv(a,u),u=bu(u)}}if(pv(a),a.tag===13){if(!Fe)throw Error(s(316));if(!(a=(a=a.memoizedState)!==null?a.dehydrated:null))throw Error(s(317));Fr=A2(a)}else Fr=xr?bu(a.stateNode):null;return!0}function mv(){for(var a=Fr;a;)a=bu(a)}function fo(){Fe&&(Fr=xr=null,Ba=qe=!1)}function Sf(a){Zr===null?Zr=[a]:Zr.push(a)}var j2=o.ReactCurrentBatchConfig;function Ru(a,u){if(Kr(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var d=Object.keys(a),g=Object.keys(u);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var y=d[g];if(!F2.call(u,y)||!Kr(a[y],u[y]))return!1}return!0}function H2(a){switch(a.tag){case 5:return Fa(a.type);case 16:return Fa("Lazy");case 13:return Fa("Suspense");case 19:return Fa("SuspenseList");case 0:case 2:case 15:return a=lf(a.type,!1);case 11:return a=lf(a.type.render,!1);case 1:return a=lf(a.type,!0);default:return""}}function qr(a,u){if(a&&a.defaultProps){for(var d in u=n({},u),a=a.defaultProps)u[d]===void 0&&(u[d]=a[d]);return u}return u}var ku=Sn(null),Mu=null,po=null,Ef=null;function Tf(){Ef=po=Mu=null}function gv(a,u,d){lt?(He(ku,u._currentValue),u._currentValue=d):(He(ku,u._currentValue2),u._currentValue2=d)}function Af(a){var u=ku.current;Ze(ku),lt?a._currentValue=u:a._currentValue2=u}function Cf(a,u,d){for(;a!==null;){var g=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),a===d)break;a=a.return}}function mo(a,u){Mu=a,Ef=po=null,(a=a.dependencies)!==null&&a.firstContext!==null&&(a.lanes&u&&(lr=!0),a.firstContext=null)}function Or(a){var u=lt?a._currentValue:a._currentValue2;if(Ef!==a)if(a={context:a,memoizedValue:u,next:null},po===null){if(Mu===null)throw Error(s(308));po=a,Mu.dependencies={lanes:0,firstContext:a}}else po=po.next=a;return u}var ws=null;function Pf(a){ws===null?ws=[a]:ws.push(a)}function yv(a,u,d,g){var y=u.interleaved;return y===null?(d.next=d,Pf(u)):(d.next=y.next,y.next=d),u.interleaved=d,wi(a,g)}function wi(a,u){a.lanes|=u;var d=a.alternate;for(d!==null&&(d.lanes|=u),d=a,a=a.return;a!==null;)a.childLanes|=u,(d=a.alternate)!==null&&(d.childLanes|=u),d=a,a=a.return;return d.tag===3?d.stateNode:null}var Tn=!1;function If(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vv(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function Ji(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function An(a,u,d){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(2&ke)!=0){var y=g.pending;return y===null?u.next=u:(u.next=y.next,y.next=u),g.pending=u,wi(a,d)}return(y=g.interleaved)===null?(u.next=u,Pf(g)):(u.next=y.next,y.next=u),g.interleaved=u,wi(a,d)}function Du(a,u,d){if((u=u.updateQueue)!==null&&(u=u.shared,(4194240&d)!=0)){var g=u.lanes;d|=g&=a.pendingLanes,u.lanes=d,mf(a,d)}}function xv(a,u){var d=a.updateQueue,g=a.alternate;if(g!==null&&d===(g=g.updateQueue)){var y=null,_=null;if((d=d.firstBaseUpdate)!==null){do{var C={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};_===null?y=_=C:_=_.next=C,d=d.next}while(d!==null);_===null?y=_=u:_=_.next=u}else y=_=u;return d={baseState:g.baseState,firstBaseUpdate:y,lastBaseUpdate:_,shared:g.shared,effects:g.effects},void(a.updateQueue=d)}(a=d.lastBaseUpdate)===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=u}function Fu(a,u,d,g){var y=a.updateQueue;Tn=!1;var _=y.firstBaseUpdate,C=y.lastBaseUpdate,I=y.shared.pending;if(I!==null){y.shared.pending=null;var B=I,j=B.next;B.next=null,C===null?_=j:C.next=j,C=B;var $=a.alternate;$!==null&&(I=($=$.updateQueue).lastBaseUpdate)!==C&&(I===null?$.firstBaseUpdate=j:I.next=j,$.lastBaseUpdate=B)}if(_!==null){var ne=y.baseState;for(C=0,$=j=B=null,I=_;;){var X=I.lane,q=I.eventTime;if((g&X)===X){$!==null&&($=$.next={eventTime:q,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var de=a,Te=I;switch(X=u,q=d,Te.tag){case 1:if(typeof(de=Te.payload)=="function"){ne=de.call(q,ne,X);break e}ne=de;break e;case 3:de.flags=-65537&de.flags|128;case 0:if((X=typeof(de=Te.payload)=="function"?de.call(q,ne,X):de)==null)break e;ne=n({},ne,X);break e;case 2:Tn=!0}}I.callback!==null&&I.lane!==0&&(a.flags|=64,(X=y.effects)===null?y.effects=[I]:X.push(I))}else q={eventTime:q,lane:X,tag:I.tag,payload:I.payload,callback:I.callback,next:null},$===null?(j=$=q,B=ne):$=$.next=q,C|=X;if((I=I.next)===null){if((I=y.shared.pending)===null)break;I=(X=I).next,X.next=null,y.lastBaseUpdate=X,y.shared.pending=null}}if($===null&&(B=ne),y.baseState=B,y.firstBaseUpdate=j,y.lastBaseUpdate=$,(u=y.shared.interleaved)!==null){y=u;do C|=y.lane,y=y.next;while(y!==u)}else _===null&&(y.shared.lanes=0);Ss|=C,a.lanes=C,a.memoizedState=ne}}function _v(a,u,d){if(a=u.effects,u.effects=null,a!==null)for(u=0;u<a.length;u++){var g=a[u],y=g.callback;if(y!==null){if(g.callback=null,g=d,typeof y!="function")throw Error(s(191,y));y.call(g)}}}var wv=new r.Component().refs;function Rf(a,u,d,g){d=(d=d(g,u=a.memoizedState))==null?u:n({},u,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var Ou={isMounted:function(a){return!!(a=a._reactInternals)&&M(a)===a},enqueueSetState:function(a,u,d){a=a._reactInternals;var g=$t(),y=Rn(a),_=Ji(g,y);_.payload=u,d!=null&&(_.callback=d),(u=An(a,_,y))!==null&&(Lr(u,a,y,g),Du(u,a,y))},enqueueReplaceState:function(a,u,d){a=a._reactInternals;var g=$t(),y=Rn(a),_=Ji(g,y);_.tag=1,_.payload=u,d!=null&&(_.callback=d),(u=An(a,_,y))!==null&&(Lr(u,a,y,g),Du(u,a,y))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var d=$t(),g=Rn(a),y=Ji(d,g);y.tag=2,u!=null&&(y.callback=u),(u=An(a,y,g))!==null&&(Lr(u,a,g,d),Du(u,a,g))}};function bv(a,u,d,g,y,_,C){return typeof(a=a.stateNode).shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,_,C):!u.prototype||!u.prototype.isPureReactComponent||!Ru(d,g)||!Ru(y,_)}function Sv(a,u,d){var g=!1,y=En,_=u.contextType;return typeof _=="object"&&_!==null?_=Or(_):(y=vr(u)?vs:Vt.current,_=(g=(g=u.contextTypes)!=null)?uo(a,y):En),u=new u(d,_),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Ou,a.stateNode=u,u._reactInternals=a,g&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=y,a.__reactInternalMemoizedMaskedChildContext=_),u}function Ev(a,u,d,g){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(d,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(d,g),u.state!==a&&Ou.enqueueReplaceState(u,u.state,null)}function kf(a,u,d,g){var y=a.stateNode;y.props=d,y.state=a.memoizedState,y.refs=wv,If(a);var _=u.contextType;typeof _=="object"&&_!==null?y.context=Or(_):(_=vr(u)?vs:Vt.current,y.context=uo(a,_)),y.state=a.memoizedState,typeof(_=u.getDerivedStateFromProps)=="function"&&(Rf(a,u,_,d),y.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(u=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),u!==y.state&&Ou.enqueueReplaceState(y,y.state,null),Fu(a,d,y,g),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308)}function La(a,u,d){if((a=d.ref)!==null&&typeof a!="function"&&typeof a!="object"){if(d._owner){if(d=d._owner){if(d.tag!==1)throw Error(s(309));var g=d.stateNode}if(!g)throw Error(s(147,a));var y=g,_=""+a;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===_?u.ref:(u=function(C){var I=y.refs;I===wv&&(I=y.refs={}),C===null?delete I[_]:I[_]=C},u._stringRef=_,u)}if(typeof a!="string")throw Error(s(284));if(!d._owner)throw Error(s(290,a))}return a}function Nu(a,u){throw a=Object.prototype.toString.call(u),Error(s(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a))}function Tv(a){return(0,a._init)(a._payload)}function Av(a){function u(Y,F){if(a){var z=Y.deletions;z===null?(Y.deletions=[F],Y.flags|=16):z.push(F)}}function d(Y,F){if(!a)return null;for(;F!==null;)u(Y,F),F=F.sibling;return null}function g(Y,F){for(Y=new Map;F!==null;)F.key!==null?Y.set(F.key,F):Y.set(F.index,F),F=F.sibling;return Y}function y(Y,F){return(Y=Mn(Y,F)).index=0,Y.sibling=null,Y}function _(Y,F,z){return Y.index=z,a?(z=Y.alternate)!==null?(z=z.index)<F?(Y.flags|=2,F):z:(Y.flags|=2,F):(Y.flags|=1048576,F)}function C(Y){return a&&Y.alternate===null&&(Y.flags|=2),Y}function I(Y,F,z,Q){return F===null||F.tag!==6?((F=yp(z,Y.mode,Q)).return=Y,F):((F=y(F,z)).return=Y,F)}function B(Y,F,z,Q){var ye=z.type;return ye===c?$(Y,F,z.props.children,Q,z.key):F!==null&&(F.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===E&&Tv(ye)===F.type)?((Q=y(F,z.props)).ref=La(Y,F,z),Q.return=Y,Q):((Q=lh(z.type,z.key,z.props,null,Y.mode,Q)).ref=La(Y,F,z),Q.return=Y,Q)}function j(Y,F,z,Q){return F===null||F.tag!==4||F.stateNode.containerInfo!==z.containerInfo||F.stateNode.implementation!==z.implementation?((F=vp(z,Y.mode,Q)).return=Y,F):((F=y(F,z.children||[])).return=Y,F)}function $(Y,F,z,Q,ye){return F===null||F.tag!==7?((F=As(z,Y.mode,Q,ye)).return=Y,F):((F=y(F,z)).return=Y,F)}function ne(Y,F,z){if(typeof F=="string"&&F!==""||typeof F=="number")return(F=yp(""+F,Y.mode,z)).return=Y,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case l:return(z=lh(F.type,F.key,F.props,null,Y.mode,z)).ref=La(Y,null,F),z.return=Y,z;case h:return(F=vp(F,Y.mode,z)).return=Y,F;case E:return ne(Y,(0,F._init)(F._payload),z)}if(ee(F)||R(F))return(F=As(F,Y.mode,z,null)).return=Y,F;Nu(Y,F)}return null}function X(Y,F,z,Q){var ye=F!==null?F.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return ye!==null?null:I(Y,F,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case l:return z.key===ye?B(Y,F,z,Q):null;case h:return z.key===ye?j(Y,F,z,Q):null;case E:return X(Y,F,(ye=z._init)(z._payload),Q)}if(ee(z)||R(z))return ye!==null?null:$(Y,F,z,Q,null);Nu(Y,z)}return null}function q(Y,F,z,Q,ye){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return I(F,Y=Y.get(z)||null,""+Q,ye);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case l:return B(F,Y=Y.get(Q.key===null?z:Q.key)||null,Q,ye);case h:return j(F,Y=Y.get(Q.key===null?z:Q.key)||null,Q,ye);case E:return q(Y,F,z,(0,Q._init)(Q._payload),ye)}if(ee(Q)||R(Q))return $(F,Y=Y.get(z)||null,Q,ye,null);Nu(F,Q)}return null}function de(Y,F,z,Q){for(var ye=null,Ue=null,pe=F,Ne=F=0,Lt=null;pe!==null&&Ne<z.length;Ne++){pe.index>Ne?(Lt=pe,pe=null):Lt=pe.sibling;var ze=X(Y,pe,z[Ne],Q);if(ze===null){pe===null&&(pe=Lt);break}a&&pe&&ze.alternate===null&&u(Y,pe),F=_(ze,F,Ne),Ue===null?ye=ze:Ue.sibling=ze,Ue=ze,pe=Lt}if(Ne===z.length)return d(Y,pe),qe&&_s(Y,Ne),ye;if(pe===null){for(;Ne<z.length;Ne++)(pe=ne(Y,z[Ne],Q))!==null&&(F=_(pe,F,Ne),Ue===null?ye=pe:Ue.sibling=pe,Ue=pe);return qe&&_s(Y,Ne),ye}for(pe=g(Y,pe);Ne<z.length;Ne++)(Lt=q(pe,Y,Ne,z[Ne],Q))!==null&&(a&&Lt.alternate!==null&&pe.delete(Lt.key===null?Ne:Lt.key),F=_(Lt,F,Ne),Ue===null?ye=Lt:Ue.sibling=Lt,Ue=Lt);return a&&pe.forEach(function(Dn){return u(Y,Dn)}),qe&&_s(Y,Ne),ye}function Te(Y,F,z,Q){var ye=R(z);if(typeof ye!="function")throw Error(s(150));if((z=ye.call(z))==null)throw Error(s(151));for(var Ue=ye=null,pe=F,Ne=F=0,Lt=null,ze=z.next();pe!==null&&!ze.done;Ne++,ze=z.next()){pe.index>Ne?(Lt=pe,pe=null):Lt=pe.sibling;var Dn=X(Y,pe,ze.value,Q);if(Dn===null){pe===null&&(pe=Lt);break}a&&pe&&Dn.alternate===null&&u(Y,pe),F=_(Dn,F,Ne),Ue===null?ye=Dn:Ue.sibling=Dn,Ue=Dn,pe=Lt}if(ze.done)return d(Y,pe),qe&&_s(Y,Ne),ye;if(pe===null){for(;!ze.done;Ne++,ze=z.next())(ze=ne(Y,ze.value,Q))!==null&&(F=_(ze,F,Ne),Ue===null?ye=ze:Ue.sibling=ze,Ue=ze);return qe&&_s(Y,Ne),ye}for(pe=g(Y,pe);!ze.done;Ne++,ze=z.next())(ze=q(pe,Y,Ne,ze.value,Q))!==null&&(a&&ze.alternate!==null&&pe.delete(ze.key===null?Ne:ze.key),F=_(ze,F,Ne),Ue===null?ye=ze:Ue.sibling=ze,Ue=ze);return a&&pe.forEach(function(fC){return u(Y,fC)}),qe&&_s(Y,Ne),ye}return function Y(F,z,Q,ye){if(typeof Q=="object"&&Q!==null&&Q.type===c&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case l:e:{for(var Ue=Q.key,pe=z;pe!==null;){if(pe.key===Ue){if((Ue=Q.type)===c){if(pe.tag===7){d(F,pe.sibling),(z=y(pe,Q.props.children)).return=F,F=z;break e}}else if(pe.elementType===Ue||typeof Ue=="object"&&Ue!==null&&Ue.$$typeof===E&&Tv(Ue)===pe.type){d(F,pe.sibling),(z=y(pe,Q.props)).ref=La(F,pe,Q),z.return=F,F=z;break e}d(F,pe);break}u(F,pe),pe=pe.sibling}Q.type===c?((z=As(Q.props.children,F.mode,ye,Q.key)).return=F,F=z):((ye=lh(Q.type,Q.key,Q.props,null,F.mode,ye)).ref=La(F,z,Q),ye.return=F,F=ye)}return C(F);case h:e:{for(pe=Q.key;z!==null;){if(z.key===pe){if(z.tag===4&&z.stateNode.containerInfo===Q.containerInfo&&z.stateNode.implementation===Q.implementation){d(F,z.sibling),(z=y(z,Q.children||[])).return=F,F=z;break e}d(F,z);break}u(F,z),z=z.sibling}(z=vp(Q,F.mode,ye)).return=F,F=z}return C(F);case E:return Y(F,z,(pe=Q._init)(Q._payload),ye)}if(ee(Q))return de(F,z,Q,ye);if(R(Q))return Te(F,z,Q,ye);Nu(F,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"?(Q=""+Q,z!==null&&z.tag===6?(d(F,z.sibling),(z=y(z,Q)).return=F,F=z):(d(F,z),(z=yp(Q,F.mode,ye)).return=F,F=z),C(F)):d(F,z)}}var go=Av(!0),Cv=Av(!1),Ua={},Nr=Sn(Ua),za=Sn(Ua),yo=Sn(Ua);function bi(a){if(a===Ua)throw Error(s(174));return a}function Mf(a,u){He(yo,u),He(za,a),He(Nr,Ua),a=H(u),Ze(Nr),He(Nr,a)}function vo(){Ze(Nr),Ze(za),Ze(yo)}function Pv(a){var u=bi(yo.current),d=bi(Nr.current);d!==(u=P(d,a.type,u))&&(He(za,a),He(Nr,u))}function Df(a){za.current===a&&(Ze(Nr),Ze(za))}var ut=Sn(0);function Bu(a){for(var u=a;u!==null;){if(u.tag===13){var d=u.memoizedState;if(d!==null&&((d=d.dehydrated)===null||rv(d)||of(d)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(128&u.flags)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Ff=[];function Of(){for(var a=0;a<Ff.length;a++){var u=Ff[a];lt?u._workInProgressVersionPrimary=null:u._workInProgressVersionSecondary=null}Ff.length=0}var Lu=o.ReactCurrentDispatcher,Nf=o.ReactCurrentBatchConfig,bs=0,rt=null,Ct=null,Pt=null,Uu=!1,Ga=!1,ja=0,V2=0;function Wt(){throw Error(s(321))}function Bf(a,u){if(u===null)return!1;for(var d=0;d<u.length&&d<a.length;d++)if(!Kr(a[d],u[d]))return!1;return!0}function Lf(a,u,d,g,y,_){if(bs=_,rt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Lu.current=a===null||a.memoizedState===null?Y2:Q2,a=d(g,y),Ga){_=0;do{if(Ga=!1,ja=0,25<=_)throw Error(s(301));_+=1,Pt=Ct=null,u.updateQueue=null,Lu.current=K2,a=d(g,y)}while(Ga)}if(Lu.current=ju,u=Ct!==null&&Ct.next!==null,bs=0,Pt=Ct=rt=null,Uu=!1,u)throw Error(s(300));return a}function Uf(){var a=ja!==0;return ja=0,a}function Si(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?rt.memoizedState=Pt=a:Pt=Pt.next=a,Pt}function Br(){if(Ct===null){var a=rt.alternate;a=a!==null?a.memoizedState:null}else a=Ct.next;var u=Pt===null?rt.memoizedState:Pt.next;if(u!==null)Pt=u,Ct=a;else{if(a===null)throw Error(s(310));a={memoizedState:(Ct=a).memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Pt===null?rt.memoizedState=Pt=a:Pt=Pt.next=a}return Pt}function Ha(a,u){return typeof u=="function"?u(a):u}function zf(a){var u=Br(),d=u.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=a;var g=Ct,y=g.baseQueue,_=d.pending;if(_!==null){if(y!==null){var C=y.next;y.next=_.next,_.next=C}g.baseQueue=y=_,d.pending=null}if(y!==null){_=y.next,g=g.baseState;var I=C=null,B=null,j=_;do{var $=j.lane;if((bs&$)===$)B!==null&&(B=B.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),g=j.hasEagerState?j.eagerState:a(g,j.action);else{var ne={lane:$,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};B===null?(I=B=ne,C=g):B=B.next=ne,rt.lanes|=$,Ss|=$}j=j.next}while(j!==null&&j!==_);B===null?C=g:B.next=I,Kr(g,u.memoizedState)||(lr=!0),u.memoizedState=g,u.baseState=C,u.baseQueue=B,d.lastRenderedState=g}if((a=d.interleaved)!==null){y=a;do _=y.lane,rt.lanes|=_,Ss|=_,y=y.next;while(y!==a)}else y===null&&(d.lanes=0);return[u.memoizedState,d.dispatch]}function Gf(a){var u=Br(),d=u.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=a;var g=d.dispatch,y=d.pending,_=u.memoizedState;if(y!==null){d.pending=null;var C=y=y.next;do _=a(_,C.action),C=C.next;while(C!==y);Kr(_,u.memoizedState)||(lr=!0),u.memoizedState=_,u.baseQueue===null&&(u.baseState=_),d.lastRenderedState=_}return[_,g]}function Iv(){}function Rv(a,u){var d=rt,g=Br(),y=u(),_=!Kr(g.memoizedState,y);if(_&&(g.memoizedState=y,lr=!0),g=g.queue,jf(Dv.bind(null,d,g,a),[a]),g.getSnapshot!==u||_||Pt!==null&&1&Pt.memoizedState.tag){if(d.flags|=2048,Va(9,Mv.bind(null,d,g,y,u),void 0,null),It===null)throw Error(s(349));30&bs||kv(d,u,y)}return y}function kv(a,u,d){a.flags|=16384,a={getSnapshot:u,value:d},(u=rt.updateQueue)===null?(u={lastEffect:null,stores:null},rt.updateQueue=u,u.stores=[a]):(d=u.stores)===null?u.stores=[a]:d.push(a)}function Mv(a,u,d,g){u.value=d,u.getSnapshot=g,Fv(u)&&Ov(a)}function Dv(a,u,d){return d(function(){Fv(u)&&Ov(a)})}function Fv(a){var u=a.getSnapshot;a=a.value;try{var d=u();return!Kr(a,d)}catch{return!0}}function Ov(a){var u=wi(a,1);u!==null&&Lr(u,a,1,-1)}function Nv(a){var u=Si();return typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ha,lastRenderedState:a},u.queue=a,a=a.dispatch=$2.bind(null,rt,a),[u.memoizedState,a]}function Va(a,u,d,g){return a={tag:a,create:u,destroy:d,deps:g,next:null},(u=rt.updateQueue)===null?(u={lastEffect:null,stores:null},rt.updateQueue=u,u.lastEffect=a.next=a):(d=u.lastEffect)===null?u.lastEffect=a.next=a:(g=d.next,d.next=a,a.next=g,u.lastEffect=a),a}function Bv(){return Br().memoizedState}function zu(a,u,d,g){var y=Si();rt.flags|=a,y.memoizedState=Va(1|u,d,void 0,g===void 0?null:g)}function Gu(a,u,d,g){var y=Br();g=g===void 0?null:g;var _=void 0;if(Ct!==null){var C=Ct.memoizedState;if(_=C.destroy,g!==null&&Bf(g,C.deps))return void(y.memoizedState=Va(u,d,_,g))}rt.flags|=a,y.memoizedState=Va(1|u,d,_,g)}function Lv(a,u){return zu(8390656,8,a,u)}function jf(a,u){return Gu(2048,8,a,u)}function Uv(a,u){return Gu(4,2,a,u)}function zv(a,u){return Gu(4,4,a,u)}function Gv(a,u){return typeof u=="function"?(a=a(),u(a),function(){u(null)}):u!=null?(a=a(),u.current=a,function(){u.current=null}):void 0}function jv(a,u,d){return d=d!=null?d.concat([a]):null,Gu(4,4,Gv.bind(null,u,a),d)}function Hf(){}function Hv(a,u){var d=Br();u=u===void 0?null:u;var g=d.memoizedState;return g!==null&&u!==null&&Bf(u,g[1])?g[0]:(d.memoizedState=[a,u],a)}function Vv(a,u){var d=Br();u=u===void 0?null:u;var g=d.memoizedState;return g!==null&&u!==null&&Bf(u,g[1])?g[0]:(a=a(),d.memoizedState=[a,u],a)}function Wv(a,u,d){return 21&bs?(Kr(d,u)||(d=ov(),rt.lanes|=d,Ss|=d,a.baseState=!0),u):(a.baseState&&(a.baseState=!1,lr=!0),a.memoizedState=d)}function W2(a,u){var d=Oe;Oe=d!==0&&4>d?d:4,a(!0);var g=Nf.transition;Nf.transition={};try{a(!1),u()}finally{Oe=d,Nf.transition=g}}function Xv(){return Br().memoizedState}function X2(a,u,d){var g=Rn(a);d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},$v(a)?Yv(u,d):(d=yv(a,u,d,g))!==null&&(Lr(d,a,g,$t()),Qv(d,u,g))}function $2(a,u,d){var g=Rn(a),y={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if($v(a))Yv(u,y);else{var _=a.alternate;if(a.lanes===0&&(_===null||_.lanes===0)&&(_=u.lastRenderedReducer)!==null)try{var C=u.lastRenderedState,I=_(C,d);if(y.hasEagerState=!0,y.eagerState=I,Kr(I,C)){var B=u.interleaved;return B===null?(y.next=y,Pf(u)):(y.next=B.next,B.next=y),void(u.interleaved=y)}}catch{}(d=yv(a,u,y,g))!==null&&(Lr(d,a,g,y=$t()),Qv(d,u,g))}}function $v(a){var u=a.alternate;return a===rt||u!==null&&u===rt}function Yv(a,u){Ga=Uu=!0;var d=a.pending;d===null?u.next=u:(u.next=d.next,d.next=u),a.pending=u}function Qv(a,u,d){if(4194240&d){var g=u.lanes;d|=g&=a.pendingLanes,u.lanes=d,mf(a,d)}}var ju={readContext:Or,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},Y2={readContext:Or,useCallback:function(a,u){return Si().memoizedState=[a,u===void 0?null:u],a},useContext:Or,useEffect:Lv,useImperativeHandle:function(a,u,d){return d=d!=null?d.concat([a]):null,zu(4194308,4,Gv.bind(null,u,a),d)},useLayoutEffect:function(a,u){return zu(4194308,4,a,u)},useInsertionEffect:function(a,u){return zu(4,2,a,u)},useMemo:function(a,u){var d=Si();return u=u===void 0?null:u,a=a(),d.memoizedState=[a,u],a},useReducer:function(a,u,d){var g=Si();return u=d!==void 0?d(u):u,g.memoizedState=g.baseState=u,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:u},g.queue=a,a=a.dispatch=X2.bind(null,rt,a),[g.memoizedState,a]},useRef:function(a){return a={current:a},Si().memoizedState=a},useState:Nv,useDebugValue:Hf,useDeferredValue:function(a){return Si().memoizedState=a},useTransition:function(){var a=Nv(!1),u=a[0];return a=W2.bind(null,a[1]),Si().memoizedState=a,[u,a]},useMutableSource:function(){},useSyncExternalStore:function(a,u,d){var g=rt,y=Si();if(qe){if(d===void 0)throw Error(s(407));d=d()}else{if(d=u(),It===null)throw Error(s(349));30&bs||kv(g,u,d)}y.memoizedState=d;var _={value:d,getSnapshot:u};return y.queue=_,Lv(Dv.bind(null,g,_,a),[a]),g.flags|=2048,Va(9,Mv.bind(null,g,_,d,u),void 0,null),d},useId:function(){var a=Si(),u=It.identifierPrefix;if(qe){var d=qi;u=":"+u+"R"+(d=(_i&~(1<<32-Qr(_i)-1)).toString(32)+d),0<(d=ja++)&&(u+="H"+d.toString(32)),u+=":"}else u=":"+u+"r"+(d=V2++).toString(32)+":";return a.memoizedState=u},unstable_isNewReconciler:!1},Q2={readContext:Or,useCallback:Hv,useContext:Or,useEffect:jf,useImperativeHandle:jv,useInsertionEffect:Uv,useLayoutEffect:zv,useMemo:Vv,useReducer:zf,useRef:Bv,useState:function(){return zf(Ha)},useDebugValue:Hf,useDeferredValue:function(a){return Wv(Br(),Ct.memoizedState,a)},useTransition:function(){return[zf(Ha)[0],Br().memoizedState]},useMutableSource:Iv,useSyncExternalStore:Rv,useId:Xv,unstable_isNewReconciler:!1},K2={readContext:Or,useCallback:Hv,useContext:Or,useEffect:jf,useImperativeHandle:jv,useInsertionEffect:Uv,useLayoutEffect:zv,useMemo:Vv,useReducer:Gf,useRef:Bv,useState:function(){return Gf(Ha)},useDebugValue:Hf,useDeferredValue:function(a){var u=Br();return Ct===null?u.memoizedState=a:Wv(u,Ct.memoizedState,a)},useTransition:function(){return[Gf(Ha)[0],Br().memoizedState]},useMutableSource:Iv,useSyncExternalStore:Rv,useId:Xv,unstable_isNewReconciler:!1};function xo(a,u){try{var d="",g=u;do d+=H2(g),g=g.return;while(g);var y=d}catch(_){y=`
Error generating stack: `+_.message+`
`+_.stack}return{value:a,source:u,stack:y,digest:null}}function Vf(a,u,d){return{value:a,source:null,stack:d??null,digest:u??null}}function Wf(a,u){try{console.error(u.value)}catch(d){setTimeout(function(){throw d})}}var Z2=typeof WeakMap=="function"?WeakMap:Map;function Kv(a,u,d){(d=Ji(-1,d)).tag=3,d.payload={element:null};var g=u.value;return d.callback=function(){rh||(rh=!0,hp=g),Wf(0,u)},d}function Zv(a,u,d){(d=Ji(-1,d)).tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var y=u.value;d.payload=function(){return g(y)},d.callback=function(){Wf(0,u)}}var _=a.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(d.callback=function(){Wf(0,u),typeof g!="function"&&(Pn===null?Pn=new Set([this]):Pn.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})}),d}function qv(a,u,d){var g=a.pingCache;if(g===null){g=a.pingCache=new Z2;var y=new Set;g.set(u,y)}else(y=g.get(u))===void 0&&(y=new Set,g.set(u,y));y.has(d)||(y.add(d),a=oC.bind(null,a,u,d),u.then(a,a))}function Jv(a){do{var u;if((u=a.tag===13)&&(u=(u=a.memoizedState)===null||u.dehydrated!==null),u)return a;a=a.return}while(a!==null);return null}function e1(a,u,d,g,y){return 1&a.mode?(a.flags|=65536,a.lanes=y,a):(a===u?a.flags|=65536:(a.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:((u=Ji(-1,1)).tag=2,An(d,u,1))),d.lanes|=1),a)}var q2=o.ReactCurrentOwner,lr=!1;function ur(a,u,d,g){u.child=a===null?Cv(u,null,d,g):go(u,a.child,d,g)}function t1(a,u,d,g,y){d=d.render;var _=u.ref;return mo(u,y),g=Lf(a,u,d,g,_,y),d=Uf(),a===null||lr?(qe&&d&&xf(u),u.flags|=1,ur(a,u,g,y),u.child):(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~y,en(a,u,y))}function r1(a,u,d,g,y){if(a===null){var _=d.type;return typeof _!="function"||gp(_)||_.defaultProps!==void 0||d.compare!==null||d.defaultProps!==void 0?((a=lh(d.type,null,g,u,u.mode,y)).ref=u.ref,a.return=u,u.child=a):(u.tag=15,u.type=_,i1(a,u,_,g,y))}if(_=a.child,(a.lanes&y)==0){var C=_.memoizedProps;if((d=(d=d.compare)!==null?d:Ru)(C,g)&&a.ref===u.ref)return en(a,u,y)}return u.flags|=1,(a=Mn(_,g)).ref=u.ref,a.return=u,u.child=a}function i1(a,u,d,g,y){if(a!==null){var _=a.memoizedProps;if(Ru(_,g)&&a.ref===u.ref){if(lr=!1,u.pendingProps=g=_,(a.lanes&y)==0)return u.lanes=a.lanes,en(a,u,y);131072&a.flags&&(lr=!0)}}return Xf(a,u,d,g,y)}function n1(a,u,d){var g=u.pendingProps,y=g.children,_=a!==null?a.memoizedState:null;if(g.mode==="hidden")if(!(1&u.mode))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(wo,_r),_r|=d;else{if(!(1073741824&d))return a=_!==null?_.baseLanes|d:d,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:a,cachePool:null,transitions:null},u.updateQueue=null,He(wo,_r),_r|=a,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=_!==null?_.baseLanes:d,He(wo,_r),_r|=g}else _!==null?(g=_.baseLanes|d,u.memoizedState=null):g=d,He(wo,_r),_r|=g;return ur(a,u,y,d),u.child}function s1(a,u){var d=u.ref;(a===null&&d!==null||a!==null&&a.ref!==d)&&(u.flags|=512,u.flags|=2097152)}function Xf(a,u,d,g,y){var _=vr(d)?vs:Vt.current;return _=uo(u,_),mo(u,y),d=Lf(a,u,d,g,_,y),g=Uf(),a===null||lr?(qe&&g&&xf(u),u.flags|=1,ur(a,u,d,y),u.child):(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~y,en(a,u,y))}function o1(a,u,d,g,y){if(vr(d)){var _=!0;Su(u)}else _=!1;if(mo(u,y),u.stateNode===null)Xu(a,u),Sv(u,d,g),kf(u,d,g,y),g=!0;else if(a===null){var C=u.stateNode,I=u.memoizedProps;C.props=I;var B=C.context,j=d.contextType;typeof j=="object"&&j!==null?j=Or(j):j=uo(u,j=vr(d)?vs:Vt.current);var $=d.getDerivedStateFromProps,ne=typeof $=="function"||typeof C.getSnapshotBeforeUpdate=="function";ne||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(I!==g||B!==j)&&Ev(u,C,g,j),Tn=!1;var X=u.memoizedState;C.state=X,Fu(u,g,C,y),B=u.memoizedState,I!==g||X!==B||ar.current||Tn?(typeof $=="function"&&(Rf(u,d,$,g),B=u.memoizedState),(I=Tn||bv(u,d,I,g,X,B,j))?(ne||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(u.flags|=4194308)):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=B),C.props=g,C.state=B,C.context=j,g=I):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{C=u.stateNode,vv(a,u),I=u.memoizedProps,j=u.type===u.elementType?I:qr(u.type,I),C.props=j,ne=u.pendingProps,X=C.context,typeof(B=d.contextType)=="object"&&B!==null?B=Or(B):B=uo(u,B=vr(d)?vs:Vt.current);var q=d.getDerivedStateFromProps;($=typeof q=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(I!==ne||X!==B)&&Ev(u,C,g,B),Tn=!1,X=u.memoizedState,C.state=X,Fu(u,g,C,y);var de=u.memoizedState;I!==ne||X!==de||ar.current||Tn?(typeof q=="function"&&(Rf(u,d,q,g),de=u.memoizedState),(j=Tn||bv(u,d,j,g,X,de,B)||!1)?($||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(g,de,B),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(g,de,B)),typeof C.componentDidUpdate=="function"&&(u.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof C.componentDidUpdate!="function"||I===a.memoizedProps&&X===a.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&X===a.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=de),C.props=g,C.state=de,C.context=B,g=j):(typeof C.componentDidUpdate!="function"||I===a.memoizedProps&&X===a.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&X===a.memoizedState||(u.flags|=1024),g=!1)}return $f(a,u,d,g,_,y)}function $f(a,u,d,g,y,_){s1(a,u);var C=(128&u.flags)!=0;if(!g&&!C)return y&&sv(u,d,!1),en(a,u,_);g=u.stateNode,q2.current=u;var I=C&&typeof d.getDerivedStateFromError!="function"?null:g.render();return u.flags|=1,a!==null&&C?(u.child=go(u,a.child,null,_),u.child=go(u,null,I,_)):ur(a,u,I,_),u.memoizedState=g.state,y&&sv(u,d,!0),u.child}function a1(a){var u=a.stateNode;u.pendingContext?iv(0,u.pendingContext,u.pendingContext!==u.context):u.context&&iv(0,u.context,!1),Mf(a,u.containerInfo)}function l1(a,u,d,g,y){return fo(),Sf(y),u.flags|=256,ur(a,u,d,g),u.child}var Wa,Xa,Hu,Vu,Yf={dehydrated:null,treeContext:null,retryLane:0};function Qf(a){return{baseLanes:a,cachePool:null,transitions:null}}function u1(a,u,d){var g,y=u.pendingProps,_=ut.current,C=!1,I=(128&u.flags)!=0;if((g=I)||(g=(a===null||a.memoizedState!==null)&&(2&_)!=0),g?(C=!0,u.flags&=-129):a!==null&&a.memoizedState===null||(_|=1),He(ut,1&_),a===null)return bf(u),(a=u.memoizedState)!==null&&(a=a.dehydrated)!==null?(1&u.mode?of(a)?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(I=y.children,a=y.fallback,C?(y=u.mode,C=u.child,I={mode:"hidden",children:I},!(1&y)&&C!==null?(C.childLanes=0,C.pendingProps=I):C=uh(I,y,0,null),a=As(a,y,d,null),C.return=u,a.return=u,C.sibling=a,u.child=C,u.child.memoizedState=Qf(d),u.memoizedState=Yf,a):Kf(u,I));if((_=a.memoizedState)!==null&&(g=_.dehydrated)!==null)return function(j,$,ne,X,q,de,Te){if(ne)return 256&$.flags?($.flags&=-257,Wu(j,$,Te,X=Vf(Error(s(422))))):$.memoizedState!==null?($.child=j.child,$.flags|=128,null):(de=X.fallback,q=$.mode,X=uh({mode:"visible",children:X.children},q,0,null),(de=As(de,q,Te,null)).flags|=2,X.return=$,de.return=$,X.sibling=de,$.child=X,1&$.mode&&go($,j.child,null,Te),$.child.memoizedState=Qf(Te),$.memoizedState=Yf,de);if(!(1&$.mode))return Wu(j,$,Te,null);if(of(q))return X=v2(q).digest,de=Error(s(419)),X=Vf(de,X,void 0),Wu(j,$,Te,X);if(ne=(Te&j.childLanes)!=0,lr||ne){if((X=It)!==null){switch(Te&-Te){case 4:q=2;break;case 16:q=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:q=32;break;case 536870912:q=268435456;break;default:q=0}(q=q&(X.suspendedLanes|Te)?0:q)!==0&&q!==de.retryLane&&(de.retryLane=q,wi(j,q),Lr(X,j,q,-1))}return mp(),Wu(j,$,Te,X=Vf(Error(s(421))))}return rv(q)?($.flags|=128,$.child=j.child,$=aC.bind(null,j),x2(q,$),null):(j=de.treeContext,Fe&&(Fr=b2(q),xr=$,qe=!0,Zr=null,Ba=!1,j!==null&&(Mr[Dr++]=_i,Mr[Dr++]=qi,Mr[Dr++]=xs,_i=j.id,qi=j.overflow,xs=$)),$=Kf($,X.children),$.flags|=4096,$)}(a,u,I,y,g,_,d);if(C){C=y.fallback,I=u.mode,g=(_=a.child).sibling;var B={mode:"hidden",children:y.children};return!(1&I)&&u.child!==_?((y=u.child).childLanes=0,y.pendingProps=B,u.deletions=null):(y=Mn(_,B)).subtreeFlags=14680064&_.subtreeFlags,g!==null?C=Mn(g,C):(C=As(C,I,d,null)).flags|=2,C.return=u,y.return=u,y.sibling=C,u.child=y,y=C,C=u.child,I=(I=a.child.memoizedState)===null?Qf(d):{baseLanes:I.baseLanes|d,cachePool:null,transitions:I.transitions},C.memoizedState=I,C.childLanes=a.childLanes&~d,u.memoizedState=Yf,y}return a=(C=a.child).sibling,y=Mn(C,{mode:"visible",children:y.children}),!(1&u.mode)&&(y.lanes=d),y.return=u,y.sibling=null,a!==null&&((d=u.deletions)===null?(u.deletions=[a],u.flags|=16):d.push(a)),u.child=y,u.memoizedState=null,y}function Kf(a,u){return(u=uh({mode:"visible",children:u},a.mode,0,null)).return=a,a.child=u}function Wu(a,u,d,g){return g!==null&&Sf(g),go(u,a.child,null,d),(a=Kf(u,u.pendingProps.children)).flags|=2,u.memoizedState=null,a}function h1(a,u,d){a.lanes|=u;var g=a.alternate;g!==null&&(g.lanes|=u),Cf(a.return,u,d)}function Zf(a,u,d,g,y){var _=a.memoizedState;_===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:y}:(_.isBackwards=u,_.rendering=null,_.renderingStartTime=0,_.last=g,_.tail=d,_.tailMode=y)}function c1(a,u,d){var g=u.pendingProps,y=g.revealOrder,_=g.tail;if(ur(a,u,g.children,d),(2&(g=ut.current))!=0)g=1&g|2,u.flags|=128;else{if(a!==null&&128&a.flags)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&h1(a,d,u);else if(a.tag===19)h1(a,d,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(He(ut,g),(1&u.mode)==0)u.memoizedState=null;else switch(y){case"forwards":for(d=u.child,y=null;d!==null;)(a=d.alternate)!==null&&Bu(a)===null&&(y=d),d=d.sibling;(d=y)===null?(y=u.child,u.child=null):(y=d.sibling,d.sibling=null),Zf(u,!1,y,d,_);break;case"backwards":for(d=null,y=u.child,u.child=null;y!==null;){if((a=y.alternate)!==null&&Bu(a)===null){u.child=y;break}a=y.sibling,y.sibling=d,d=y,y=a}Zf(u,!0,d,null,_);break;case"together":Zf(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Xu(a,u){!(1&u.mode)&&a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2)}function en(a,u,d){if(a!==null&&(u.dependencies=a.dependencies),Ss|=u.lanes,(d&u.childLanes)==0)return null;if(a!==null&&u.child!==a.child)throw Error(s(153));if(u.child!==null){for(d=Mn(a=u.child,a.pendingProps),u.child=d,d.return=u;a.sibling!==null;)a=a.sibling,(d=d.sibling=Mn(a,a.pendingProps)).return=u;d.sibling=null}return u.child}function Ei(a){a.flags|=4}function d1(a,u){if(a!==null&&a.child===u.child)return!0;if(16&u.flags)return!1;for(a=u.child;a!==null;){if(12854&a.flags||12854&a.subtreeFlags)return!1;a=a.sibling}return!0}if(Ce)Wa=function(a,u){for(var d=u.child;d!==null;){if(d.tag===5||d.tag===6)re(a,d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Xa=function(){},Hu=function(a,u,d,g,y){if((a=a.memoizedProps)!==g){var _=u.stateNode,C=bi(Nr.current);d=xe(_,d,a,g,y,C),(u.updateQueue=d)&&Ei(u)}},Vu=function(a,u,d,g){d!==g&&Ei(u)};else if(We){Wa=function(a,u,d,g){for(var y=u.child;y!==null;){if(y.tag===5){var _=y.stateNode;d&&g&&(_=ev(_,y.type,y.memoizedProps,y)),re(a,_)}else if(y.tag===6)_=y.stateNode,d&&g&&(_=tv(_,y.memoizedProps,y)),re(a,_);else if(y.tag!==4){if(y.tag===22&&y.memoizedState!==null)(_=y.child)!==null&&(_.return=y),Wa(a,y,!0,!0);else if(y.child!==null){y.child.return=y,y=y.child;continue}}if(y===u)break;for(;y.sibling===null;){if(y.return===null||y.return===u)return;y=y.return}y.sibling.return=y.return,y=y.sibling}};var f1=function(a,u,d,g){for(var y=u.child;y!==null;){if(y.tag===5){var _=y.stateNode;d&&g&&(_=ev(_,y.type,y.memoizedProps,y)),Jy(a,_)}else if(y.tag===6)_=y.stateNode,d&&g&&(_=tv(_,y.memoizedProps,y)),Jy(a,_);else if(y.tag!==4){if(y.tag===22&&y.memoizedState!==null)(_=y.child)!==null&&(_.return=y),f1(a,y,!0,!0);else if(y.child!==null){y.child.return=y,y=y.child;continue}}if(y===u)break;for(;y.sibling===null;){if(y.return===null||y.return===u)return;y=y.return}y.sibling.return=y.return,y=y.sibling}};Xa=function(a,u){var d=u.stateNode;if(!d1(a,u)){a=d.containerInfo;var g=qy(a);f1(g,u,!1,!1),d.pendingChildren=g,Ei(u),p2(a,g)}},Hu=function(a,u,d,g,y){var _=a.stateNode,C=a.memoizedProps;if((a=d1(a,u))&&C===g)u.stateNode=_;else{var I=u.stateNode,B=bi(Nr.current),j=null;C!==g&&(j=xe(I,d,C,g,y,B)),a&&j===null?u.stateNode=_:(_=f2(_,j,d,C,g,u,a,I),be(_,d,g,y,B)&&Ei(u),u.stateNode=_,a?Ei(u):Wa(_,u,!1,!1))}},Vu=function(a,u,d,g){d!==g?(a=bi(yo.current),d=bi(Nr.current),u.stateNode=Ae(g,a,d,u),Ei(u)):u.stateNode=a.stateNode}}else Xa=function(){},Hu=function(){},Vu=function(){};function $a(a,u){if(!qe)switch(a.tailMode){case"hidden":u=a.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function er(a){var u=a.alternate!==null&&a.alternate.child===a.child,d=0,g=0;if(u)for(var y=a.child;y!==null;)d|=y.lanes|y.childLanes,g|=14680064&y.subtreeFlags,g|=14680064&y.flags,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)d|=y.lanes|y.childLanes,g|=y.subtreeFlags,g|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=g,a.childLanes=d,u}function J2(a,u,d){var g=u.pendingProps;switch(_f(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return er(u),null;case 1:case 17:return vr(u.type)&&hf(),er(u),null;case 3:return d=u.stateNode,vo(),Ze(ar),Ze(Vt),Of(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),a!==null&&a.child!==null||(Iu(u)?Ei(u):a===null||a.memoizedState.isDehydrated&&!(256&u.flags)||(u.flags|=1024,Zr!==null&&(fp(Zr),Zr=null))),Xa(a,u),er(u),null;case 5:Df(u),d=bi(yo.current);var y=u.type;if(a!==null&&u.stateNode!=null)Hu(a,u,y,g,d),a.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!g){if(u.stateNode===null)throw Error(s(166));return er(u),null}if(a=bi(Nr.current),Iu(u)){if(!Fe)throw Error(s(175));a=S2(u.stateNode,u.type,u.memoizedProps,d,a,u,!Ba),u.updateQueue=a,a!==null&&Ei(u)}else{var _=U(y,g,d,a,u);Wa(_,u,!1,!1),u.stateNode=_,be(_,y,g,d,a)&&Ei(u)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return er(u),null;case 6:if(a&&u.stateNode!=null)Vu(a,u,a.memoizedProps,g);else{if(typeof g!="string"&&u.stateNode===null)throw Error(s(166));if(a=bi(yo.current),d=bi(Nr.current),Iu(u)){if(!Fe)throw Error(s(176));if(a=u.stateNode,d=u.memoizedProps,(g=E2(a,d,u,!Ba))&&(y=xr)!==null)switch(y.tag){case 3:M2(y.stateNode.containerInfo,a,d,(1&y.mode)!=0);break;case 5:D2(y.type,y.memoizedProps,y.stateNode,a,d,(1&y.mode)!=0)}g&&Ei(u)}else u.stateNode=Ae(g,a,d,u)}return er(u),null;case 13:if(Ze(ut),g=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(qe&&Fr!==null&&1&u.mode&&!(128&u.flags))mv(),fo(),u.flags|=98560,y=!1;else if(y=Iu(u),g!==null&&g.dehydrated!==null){if(a===null){if(!y)throw Error(s(318));if(!Fe)throw Error(s(344));if(!(y=(y=u.memoizedState)!==null?y.dehydrated:null))throw Error(s(317));T2(y,u)}else fo(),!(128&u.flags)&&(u.memoizedState=null),u.flags|=4;er(u),y=!1}else Zr!==null&&(fp(Zr),Zr=null),y=!0;if(!y)return 65536&u.flags?u:null}return 128&u.flags?(u.lanes=d,u):((d=g!==null)!=(a!==null&&a.memoizedState!==null)&&d&&(u.child.flags|=8192,1&u.mode&&(a===null||1&ut.current?_t===0&&(_t=3):mp())),u.updateQueue!==null&&(u.flags|=4),er(u),null);case 4:return vo(),Xa(a,u),a===null&&kr(u.stateNode.containerInfo),er(u),null;case 10:return Af(u.type._context),er(u),null;case 19:if(Ze(ut),(y=u.memoizedState)===null)return er(u),null;if(g=(128&u.flags)!=0,(_=y.rendering)===null)if(g)$a(y,!1);else{if(_t!==0||a!==null&&128&a.flags)for(a=u.child;a!==null;){if((_=Bu(a))!==null){for(u.flags|=128,$a(y,!1),(a=_.updateQueue)!==null&&(u.updateQueue=a,u.flags|=4),u.subtreeFlags=0,a=d,d=u.child;d!==null;)y=a,(g=d).flags&=14680066,(_=g.alternate)===null?(g.childLanes=0,g.lanes=y,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=_.childLanes,g.lanes=_.lanes,g.child=_.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=_.memoizedProps,g.memoizedState=_.memoizedState,g.updateQueue=_.updateQueue,g.type=_.type,y=_.dependencies,g.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext}),d=d.sibling;return He(ut,1&ut.current|2),u.child}a=a.sibling}y.tail!==null&&At()>up&&(u.flags|=128,g=!0,$a(y,!1),u.lanes=4194304)}else{if(!g)if((a=Bu(_))!==null){if(u.flags|=128,g=!0,(a=a.updateQueue)!==null&&(u.updateQueue=a,u.flags|=4),$a(y,!0),y.tail===null&&y.tailMode==="hidden"&&!_.alternate&&!qe)return er(u),null}else 2*At()-y.renderingStartTime>up&&d!==1073741824&&(u.flags|=128,g=!0,$a(y,!1),u.lanes=4194304);y.isBackwards?(_.sibling=u.child,u.child=_):((a=y.last)!==null?a.sibling=_:u.child=_,y.last=_)}return y.tail!==null?(u=y.tail,y.rendering=u,y.tail=u.sibling,y.renderingStartTime=At(),u.sibling=null,a=ut.current,He(ut,g?1&a|2:1&a),u):(er(u),null);case 22:case 23:return pp(),d=u.memoizedState!==null,a!==null&&a.memoizedState!==null!==d&&(u.flags|=8192),d&&1&u.mode?1073741824&_r&&(er(u),Ce&&6&u.subtreeFlags&&(u.flags|=8192)):er(u),null;case 24:case 25:return null}throw Error(s(156,u.tag))}function eC(a,u){switch(_f(u),u.tag){case 1:return vr(u.type)&&hf(),65536&(a=u.flags)?(u.flags=-65537&a|128,u):null;case 3:return vo(),Ze(ar),Ze(Vt),Of(),65536&(a=u.flags)&&!(128&a)?(u.flags=-65537&a|128,u):null;case 5:return Df(u),null;case 13:if(Ze(ut),(a=u.memoizedState)!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(s(340));fo()}return 65536&(a=u.flags)?(u.flags=-65537&a|128,u):null;case 19:return Ze(ut),null;case 4:return vo(),null;case 10:return Af(u.type._context),null;case 22:case 23:return pp(),null;default:return null}}var $u=!1,Xt=!1,tC=typeof WeakSet=="function"?WeakSet:Set,le=null;function _o(a,u){var d=a.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){Je(a,u,g)}else d.current=null}function p1(a,u,d){try{d()}catch(g){Je(a,u,g)}}var m1=!1;function Ya(a,u,d){var g=u.updateQueue;if((g=g!==null?g.lastEffect:null)!==null){var y=g=g.next;do{if((y.tag&a)===a){var _=y.destroy;y.destroy=void 0,_!==void 0&&p1(u,d,_)}y=y.next}while(y!==g)}}function Yu(a,u){if((u=(u=u.updateQueue)!==null?u.lastEffect:null)!==null){var d=u=u.next;do{if((d.tag&a)===a){var g=d.create;d.destroy=g()}d=d.next}while(d!==u)}}function qf(a){var u=a.ref;if(u!==null){var d=a.stateNode;a.tag===5?a=he(d):a=d,typeof u=="function"?u(a):u.current=a}}function g1(a){var u=a.alternate;u!==null&&(a.alternate=null,g1(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode)!==null&&nf(u),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function y1(a){return a.tag===5||a.tag===3||a.tag===4}function v1(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||y1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(2&a.flags||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(2&a.flags))return a.stateNode}}function Jf(a,u,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,u?s2(d,a,u):e2(d,a);else if(g!==4&&(a=a.child)!==null)for(Jf(a,u,d),a=a.sibling;a!==null;)Jf(a,u,d),a=a.sibling}function ep(a,u,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,u?n2(d,a,u):JA(d,a);else if(g!==4&&(a=a.child)!==null)for(ep(a,u,d),a=a.sibling;a!==null;)ep(a,u,d),a=a.sibling}var tr=null,Ti=!1;function Ai(a,u,d){for(d=d.child;d!==null;)tp(a,u,d),d=d.sibling}function tp(a,u,d){if(vi&&typeof vi.onCommitFiberUnmount=="function")try{vi.onCommitFiberUnmount(Tu,d)}catch{}switch(d.tag){case 5:Xt||_o(d,u);case 6:if(Ce){var g=tr,y=Ti;tr=null,Ai(a,u,d),Ti=y,(tr=g)!==null&&(Ti?a2(tr,d.stateNode):o2(tr,d.stateNode))}else Ai(a,u,d);break;case 18:Ce&&tr!==null&&(Ti?R2(tr,d.stateNode):I2(tr,d.stateNode));break;case 4:Ce?(g=tr,y=Ti,tr=d.stateNode.containerInfo,Ti=!0,Ai(a,u,d),tr=g,Ti=y):(We&&(g=d.stateNode.containerInfo,y=qy(g),sf(g,y)),Ai(a,u,d));break;case 0:case 11:case 14:case 15:if(!Xt&&(g=d.updateQueue)!==null&&(g=g.lastEffect)!==null){y=g=g.next;do{var _=y,C=_.destroy;_=_.tag,C!==void 0&&(2&_||4&_)&&p1(d,u,C),y=y.next}while(y!==g)}Ai(a,u,d);break;case 1:if(!Xt&&(_o(d,u),typeof(g=d.stateNode).componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(I){Je(d,u,I)}Ai(a,u,d);break;case 21:Ai(a,u,d);break;case 22:1&d.mode?(Xt=(g=Xt)||d.memoizedState!==null,Ai(a,u,d),Xt=g):Ai(a,u,d);break;default:Ai(a,u,d)}}function x1(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var d=a.stateNode;d===null&&(d=a.stateNode=new tC),u.forEach(function(g){var y=lC.bind(null,a,g);d.has(g)||(d.add(g),g.then(y,y))})}}function Jr(a,u){var d=u.deletions;if(d!==null)for(var g=0;g<d.length;g++){var y=d[g];try{var _=a,C=u;if(Ce){var I=C;e:for(;I!==null;){switch(I.tag){case 5:tr=I.stateNode,Ti=!1;break e;case 3:case 4:tr=I.stateNode.containerInfo,Ti=!0;break e}I=I.return}if(tr===null)throw Error(s(160));tp(_,C,y),tr=null,Ti=!1}else tp(_,C,y);var B=y.alternate;B!==null&&(B.return=null),y.return=null}catch(j){Je(y,u,j)}}if(12854&u.subtreeFlags)for(u=u.child;u!==null;)_1(u,a),u=u.sibling}function _1(a,u){var d=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Jr(u,a),Ci(a),4&g){try{Ya(3,a,a.return),Yu(3,a)}catch(X){Je(a,a.return,X)}try{Ya(5,a,a.return)}catch(X){Je(a,a.return,X)}}break;case 1:Jr(u,a),Ci(a),512&g&&d!==null&&_o(d,d.return);break;case 5:if(Jr(u,a),Ci(a),512&g&&d!==null&&_o(d,d.return),Ce){if(32&a.flags){var y=a.stateNode;try{Zy(y)}catch(X){Je(a,a.return,X)}}if(4&g&&(y=a.stateNode)!=null){var _=a.memoizedProps;if(d=d!==null?d.memoizedProps:_,g=a.type,u=a.updateQueue,a.updateQueue=null,u!==null)try{i2(y,u,g,d,_,a)}catch(X){Je(a,a.return,X)}}}break;case 6:if(Jr(u,a),Ci(a),4&g&&Ce){if(a.stateNode===null)throw Error(s(162));y=a.stateNode,_=a.memoizedProps,d=d!==null?d.memoizedProps:_;try{t2(y,d,_)}catch(X){Je(a,a.return,X)}}break;case 3:if(Jr(u,a),Ci(a),4&g){if(Ce&&Fe&&d!==null&&d.memoizedState.isDehydrated)try{C2(u.containerInfo)}catch(X){Je(a,a.return,X)}if(We){y=u.containerInfo,_=u.pendingChildren;try{sf(y,_)}catch(X){Je(a,a.return,X)}}}break;case 4:if(Jr(u,a),Ci(a),4&g&&We){y=(_=a.stateNode).containerInfo,_=_.pendingChildren;try{sf(y,_)}catch(X){Je(a,a.return,X)}}break;case 13:Jr(u,a),Ci(a),8192&(y=a.child).flags&&(_=y.memoizedState!==null,y.stateNode.isHidden=_,!_||y.alternate!==null&&y.alternate.memoizedState!==null||(lp=At())),4&g&&x1(a);break;case 22:var C=d!==null&&d.memoizedState!==null;if(1&a.mode?(Xt=(d=Xt)||C,Jr(u,a),Xt=d):Jr(u,a),Ci(a),8192&g){if(d=a.memoizedState!==null,(a.stateNode.isHidden=d)&&!C&&(1&a.mode)!=0)for(le=a,g=a.child;g!==null;){for(u=le=g;le!==null;){var I=(C=le).child;switch(C.tag){case 0:case 11:case 14:case 15:Ya(4,C,C.return);break;case 1:_o(C,C.return);var B=C.stateNode;if(typeof B.componentWillUnmount=="function"){var j=C,$=C.return;try{var ne=j;B.props=ne.memoizedProps,B.state=ne.memoizedState,B.componentWillUnmount()}catch(X){Je(j,$,X)}}break;case 5:_o(C,C.return);break;case 22:if(C.memoizedState!==null){S1(u);continue}}I!==null?(I.return=C,le=I):S1(u)}g=g.sibling}if(Ce){e:if(g=null,Ce)for(u=a;;){if(u.tag===5){if(g===null){g=u;try{y=u.stateNode,d?l2(y):h2(u.stateNode,u.memoizedProps)}catch(X){Je(a,a.return,X)}}}else if(u.tag===6){if(g===null)try{_=u.stateNode,d?u2(_):c2(_,u.memoizedProps)}catch(X){Je(a,a.return,X)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===a)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break e;for(;u.sibling===null;){if(u.return===null||u.return===a)break e;g===u&&(g=null),u=u.return}g===u&&(g=null),u.sibling.return=u.return,u=u.sibling}}}break;case 19:Jr(u,a),Ci(a),4&g&&x1(a);break;case 21:break;default:Jr(u,a),Ci(a)}}function Ci(a){var u=a.flags;if(2&u){try{if(Ce){e:{for(var d=a.return;d!==null;){if(y1(d)){var g=d;break e}d=d.return}throw Error(s(160))}switch(g.tag){case 5:var y=g.stateNode;32&g.flags&&(Zy(y),g.flags&=-33),ep(a,v1(a),y);break;case 3:case 4:var _=g.stateNode.containerInfo;Jf(a,v1(a),_);break;default:throw Error(s(161))}}}catch(C){Je(a,a.return,C)}a.flags&=-3}4096&u&&(a.flags&=-4097)}function rC(a,u,d){le=a,w1(a)}function w1(a,u,d){for(var g=(1&a.mode)!=0;le!==null;){var y=le,_=y.child;if(y.tag===22&&g){var C=y.memoizedState!==null||$u;if(!C){var I=y.alternate,B=I!==null&&I.memoizedState!==null||Xt;I=$u;var j=Xt;if($u=C,(Xt=B)&&!j)for(le=y;le!==null;)B=(C=le).child,C.tag===22&&C.memoizedState!==null?E1(y):B!==null?(B.return=C,le=B):E1(y);for(;_!==null;)le=_,w1(_),_=_.sibling;le=y,$u=I,Xt=j}b1(a)}else 8772&y.subtreeFlags&&_!==null?(_.return=y,le=_):b1(a)}}function b1(a){for(;le!==null;){var u=le;if(8772&u.flags){var d=u.alternate;try{if(8772&u.flags)switch(u.tag){case 0:case 11:case 15:Xt||Yu(5,u);break;case 1:var g=u.stateNode;if(4&u.flags&&!Xt)if(d===null)g.componentDidMount();else{var y=u.elementType===u.type?d.memoizedProps:qr(u.type,d.memoizedProps);g.componentDidUpdate(y,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var _=u.updateQueue;_!==null&&_v(u,_,g);break;case 3:var C=u.updateQueue;if(C!==null){if(d=null,u.child!==null)switch(u.child.tag){case 5:d=he(u.child.stateNode);break;case 1:d=u.child.stateNode}_v(u,C,d)}break;case 5:var I=u.stateNode;d===null&&4&u.flags&&r2(I,u.type,u.memoizedProps,u);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(Fe&&u.memoizedState===null){var B=u.alternate;if(B!==null){var j=B.memoizedState;if(j!==null){var $=j.dehydrated;$!==null&&P2($)}}}break;default:throw Error(s(163))}Xt||512&u.flags&&qf(u)}catch(ne){Je(u,u.return,ne)}}if(u===a){le=null;break}if((d=u.sibling)!==null){d.return=u.return,le=d;break}le=u.return}}function S1(a){for(;le!==null;){var u=le;if(u===a){le=null;break}var d=u.sibling;if(d!==null){d.return=u.return,le=d;break}le=u.return}}function E1(a){for(;le!==null;){var u=le;try{switch(u.tag){case 0:case 11:case 15:var d=u.return;try{Yu(4,u)}catch(B){Je(u,d,B)}break;case 1:var g=u.stateNode;if(typeof g.componentDidMount=="function"){var y=u.return;try{g.componentDidMount()}catch(B){Je(u,y,B)}}var _=u.return;try{qf(u)}catch(B){Je(u,_,B)}break;case 5:var C=u.return;try{qf(u)}catch(B){Je(u,C,B)}}}catch(B){Je(u,u.return,B)}if(u===a){le=null;break}var I=u.sibling;if(I!==null){I.return=u.return,le=I;break}le=u.return}}var Qu=0,Ku=1,Zu=2,qu=3,Ju=4;if(typeof Symbol=="function"&&Symbol.for){var Qa=Symbol.for;Qu=Qa("selector.component"),Ku=Qa("selector.has_pseudo_class"),Zu=Qa("selector.role"),qu=Qa("selector.test_id"),Ju=Qa("selector.text")}function rp(a){var u=Rr(a);if(u!=null){if(typeof u.memoizedProps["data-testname"]!="string")throw Error(s(364));return u}if((a=$A(a))===null)throw Error(s(362));return a.stateNode.current}function ip(a,u){switch(u.$$typeof){case Qu:if(a.type===u.value)return!0;break;case Ku:e:{u=u.value,a=[a,0];for(var d=0;d<a.length;){var g=a[d++],y=a[d++],_=u[y];if(g.tag!==5||!Da(g)){for(;_!=null&&ip(g,_);)_=u[++y];if(y===u.length){u=!0;break e}for(g=g.child;g!==null;)a.push(g,y),g=g.sibling}}u=!1}return u;case Zu:if(a.tag===5&&KA(a.stateNode,u.value))return!0;break;case Ju:if((a.tag===5||a.tag===6)&&(a=QA(a))!==null&&0<=a.indexOf(u.value))return!0;break;case qu:if(a.tag===5&&typeof(a=a.memoizedProps["data-testname"])=="string"&&a.toLowerCase()===u.value.toLowerCase())return!0;break;default:throw Error(s(365))}return!1}function np(a){switch(a.$$typeof){case Qu:return"<"+(N(a.value)||"Unknown")+">";case Ku:return":has("+(np(a)||"")+")";case Zu:return'[role="'+a.value+'"]';case Ju:return'"'+a.value+'"';case qu:return'[data-testname="'+a.value+'"]';default:throw Error(s(365))}}function T1(a,u){var d=[];a=[a,0];for(var g=0;g<a.length;){var y=a[g++],_=a[g++],C=u[_];if(y.tag!==5||!Da(y)){for(;C!=null&&ip(y,C);)C=u[++_];if(_===u.length)d.push(y);else for(y=y.child;y!==null;)a.push(y,_),y=y.sibling}}return d}function sp(a,u){if(!Ma)throw Error(s(363));a=T1(a=rp(a),u),u=[],a=Array.from(a);for(var d=0;d<a.length;){var g=a[d++];if(g.tag===5)Da(g)||u.push(g.stateNode);else for(g=g.child;g!==null;)a.push(g),g=g.sibling}return u}var iC=Math.ceil,eh=o.ReactCurrentDispatcher,op=o.ReactCurrentOwner,ft=o.ReactCurrentBatchConfig,ke=0,It=null,yt=null,Bt=0,_r=0,wo=Sn(0),_t=0,Ka=null,Ss=0,th=0,ap=0,Za=null,wr=null,lp=0,up=1/0,Cn=null;function bo(){up=At()+500}var A1,rh=!1,hp=null,Pn=null,ih=!1,In=null,nh=0,qa=0,cp=null,sh=-1,oh=0;function $t(){return 6&ke?At():sh!==-1?sh:sh=At()}function Rn(a){return 1&a.mode?2&ke&&Bt!==0?Bt&-Bt:j2.transition!==null?(oh===0&&(oh=ov()),oh):(a=Oe)!==0?a:ys():1}function Lr(a,u,d,g){if(50<qa)throw qa=0,cp=null,Error(s(185));Na(a,d,g),2&ke&&a===It||(a===It&&(!(2&ke)&&(th|=d),_t===4&&kn(a,Bt)),hr(a,g),d===1&&ke===0&&!(1&u.mode)&&(bo(),Au&&xi()))}function hr(a,u){var d=a.callbackNode;(function(y,_){for(var C=y.suspendedLanes,I=y.pingedLanes,B=y.expirationTimes,j=y.pendingLanes;0<j;){var $=31-Qr(j),ne=1<<$,X=B[$];X===-1?ne&C&&!(ne&I)||(B[$]=B2(ne,_)):X<=_&&(y.expiredLanes|=ne),j&=~ne}})(a,u);var g=Eu(a,a===It?Bt:0);if(g===0)d!==null&&lv(d),a.callbackNode=null,a.callbackPriority=0;else if(u=g&-g,a.callbackPriority!==u){if(d!=null&&lv(d),u===1)a.tag===0?function(y){Au=!0,hv(y)}(P1.bind(null,a)):hv(P1.bind(null,a)),ao?XA(function(){!(6&ke)&&xi()}):gf(yf,xi),d=null;else{switch(av(g)){case 1:d=yf;break;case 4:d=z2;break;case 16:default:d=uv;break;case 536870912:d=G2}d=N1(d,C1.bind(null,a))}a.callbackPriority=u,a.callbackNode=d}}function C1(a,u){if(sh=-1,oh=0,(6&ke)!=0)throw Error(s(327));var d=a.callbackNode;if(Ts()&&a.callbackNode!==d)return null;var g=Eu(a,a===It?Bt:0);if(g===0)return null;if(30&g||g&a.expiredLanes||u)u=ah(a,g);else{u=g;var y=ke;ke|=2;var _=k1();for(It===a&&Bt===u||(Cn=null,bo(),Es(a,u));;)try{sC();break}catch(I){R1(a,I)}Tf(),eh.current=_,ke=y,yt!==null?u=0:(It=null,Bt=0,u=_t)}if(u!==0){if(u===2&&(y=ff(a))!==0&&(g=y,u=dp(a,y)),u===1)throw d=Ka,Es(a,0),kn(a,g),hr(a,At()),d;if(u===6)kn(a,g);else{if(y=a.current.alternate,(30&g)==0&&!function(I){for(var B=I;;){if(16384&B.flags){var j=B.updateQueue;if(j!==null&&(j=j.stores)!==null)for(var $=0;$<j.length;$++){var ne=j[$],X=ne.getSnapshot;ne=ne.value;try{if(!Kr(X(),ne))return!1}catch{return!1}}}if(j=B.child,16384&B.subtreeFlags&&j!==null)j.return=B,B=j;else{if(B===I)break;for(;B.sibling===null;){if(B.return===null||B.return===I)return!0;B=B.return}B.sibling.return=B.return,B=B.sibling}}return!0}(y)&&((u=ah(a,g))===2&&(_=ff(a))!==0&&(g=_,u=dp(a,_)),u===1))throw d=Ka,Es(a,0),kn(a,g),hr(a,At()),d;switch(a.finishedWork=y,a.finishedLanes=g,u){case 0:case 1:throw Error(s(345));case 2:case 5:So(a,wr,Cn);break;case 3:if(kn(a,g),(130023424&g)===g&&10<(u=lp+500-At())){if(Eu(a,0)!==0)break;if(((y=a.suspendedLanes)&g)!==g){$t(),a.pingedLanes|=a.suspendedLanes&y;break}a.timeoutHandle=Be(So.bind(null,a,wr,Cn),u);break}So(a,wr,Cn);break;case 4:if(kn(a,g),(4194240&g)===g)break;for(u=a.eventTimes,y=-1;0<g;){var C=31-Qr(g);_=1<<C,(C=u[C])>y&&(y=C),g&=~_}if(g=y,10<(g=(120>(g=At()-g)?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*iC(g/1960))-g)){a.timeoutHandle=Be(So.bind(null,a,wr,Cn),g);break}So(a,wr,Cn);break;default:throw Error(s(329))}}}return hr(a,At()),a.callbackNode===d?C1.bind(null,a):null}function dp(a,u){var d=Za;return a.current.memoizedState.isDehydrated&&(Es(a,u).flags|=256),(a=ah(a,u))!==2&&(u=wr,wr=d,u!==null&&fp(u)),a}function fp(a){wr===null?wr=a:wr.push.apply(wr,a)}function kn(a,u){for(u&=~ap,u&=~th,a.suspendedLanes|=u,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var d=31-Qr(u),g=1<<d;a[d]=-1,u&=~g}}function P1(a){if(6&ke)throw Error(s(327));Ts();var u=Eu(a,0);if(!(1&u))return hr(a,At()),null;var d=ah(a,u);if(a.tag!==0&&d===2){var g=ff(a);g!==0&&(u=g,d=dp(a,g))}if(d===1)throw d=Ka,Es(a,0),kn(a,u),hr(a,At()),d;if(d===6)throw Error(s(345));return a.finishedWork=a.current.alternate,a.finishedLanes=u,So(a,wr,Cn),hr(a,At()),null}function I1(a){In!==null&&In.tag===0&&!(6&ke)&&Ts();var u=ke;ke|=1;var d=ft.transition,g=Oe;try{if(ft.transition=null,Oe=1,a)return a()}finally{Oe=g,ft.transition=d,!(6&(ke=u))&&xi()}}function pp(){_r=wo.current,Ze(wo)}function Es(a,u){a.finishedWork=null,a.finishedLanes=0;var d=a.timeoutHandle;if(d!==Nt&&(a.timeoutHandle=Nt,Tt(d)),yt!==null)for(d=yt.return;d!==null;){var g=d;switch(_f(g),g.tag){case 1:(g=g.type.childContextTypes)!=null&&hf();break;case 3:vo(),Ze(ar),Ze(Vt),Of();break;case 5:Df(g);break;case 4:vo();break;case 13:case 19:Ze(ut);break;case 10:Af(g.type._context);break;case 22:case 23:pp()}d=d.return}if(It=a,yt=a=Mn(a.current,null),Bt=_r=u,_t=0,Ka=null,ap=th=Ss=0,wr=Za=null,ws!==null){for(u=0;u<ws.length;u++)if((g=(d=ws[u]).interleaved)!==null){d.interleaved=null;var y=g.next,_=d.pending;if(_!==null){var C=_.next;_.next=y,g.next=C}d.pending=g}ws=null}return a}function R1(a,u){for(;;){var d=yt;try{if(Tf(),Lu.current=ju,Uu){for(var g=rt.memoizedState;g!==null;){var y=g.queue;y!==null&&(y.pending=null),g=g.next}Uu=!1}if(bs=0,Pt=Ct=rt=null,Ga=!1,ja=0,op.current=null,d===null||d.return===null){_t=1,Ka=u,yt=null;break}e:{var _=a,C=d.return,I=d,B=u;if(u=Bt,I.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var j=B,$=I,ne=$.tag;if(!(1&$.mode)&&(ne===0||ne===11||ne===15)){var X=$.alternate;X?($.updateQueue=X.updateQueue,$.memoizedState=X.memoizedState,$.lanes=X.lanes):($.updateQueue=null,$.memoizedState=null)}var q=Jv(C);if(q!==null){q.flags&=-257,e1(q,C,I,0,u),1&q.mode&&qv(_,j,u),B=j;var de=(u=q).updateQueue;if(de===null){var Te=new Set;Te.add(B),u.updateQueue=Te}else de.add(B);break e}if(!(1&u)){qv(_,j,u),mp();break e}B=Error(s(426))}else if(qe&&1&I.mode){var Y=Jv(C);if(Y!==null){!(65536&Y.flags)&&(Y.flags|=256),e1(Y,C,I,0,u),Sf(xo(B,I));break e}}_=B=xo(B,I),_t!==4&&(_t=2),Za===null?Za=[_]:Za.push(_),_=C;do{switch(_.tag){case 3:_.flags|=65536,u&=-u,_.lanes|=u,xv(_,Kv(0,B,u));break e;case 1:I=B;var F=_.type,z=_.stateNode;if(!(128&_.flags)&&(typeof F.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(Pn===null||!Pn.has(z)))){_.flags|=65536,u&=-u,_.lanes|=u,xv(_,Zv(_,I,u));break e}}_=_.return}while(_!==null)}D1(d)}catch(Q){u=Q,yt===d&&d!==null&&(yt=d=d.return);continue}break}}function k1(){var a=eh.current;return eh.current=ju,a===null?ju:a}function mp(){_t!==0&&_t!==3&&_t!==2||(_t=4),It===null||!(268435455&Ss)&&!(268435455&th)||kn(It,Bt)}function ah(a,u){var d=ke;ke|=2;var g=k1();for(It===a&&Bt===u||(Cn=null,Es(a,u));;)try{nC();break}catch(y){R1(a,y)}if(Tf(),ke=d,eh.current=g,yt!==null)throw Error(s(261));return It=null,Bt=0,_t}function nC(){for(;yt!==null;)M1(yt)}function sC(){for(;yt!==null&&!L2();)M1(yt)}function M1(a){var u=A1(a.alternate,a,_r);a.memoizedProps=a.pendingProps,u===null?D1(a):yt=u,op.current=null}function D1(a){var u=a;do{var d=u.alternate;if(a=u.return,(32768&u.flags)==0){if((d=J2(d,u,_r))!==null)return void(yt=d)}else{if((d=eC(d,u))!==null)return d.flags&=32767,void(yt=d);if(a===null)return _t=6,void(yt=null);a.flags|=32768,a.subtreeFlags=0,a.deletions=null}if((u=u.sibling)!==null)return void(yt=u);yt=u=a}while(u!==null);_t===0&&(_t=5)}function So(a,u,d){var g=Oe,y=ft.transition;try{ft.transition=null,Oe=1,function(_,C,I,B){do Ts();while(In!==null);if(6&ke)throw Error(s(327));I=_.finishedWork;var j=_.finishedLanes;if(I===null)return null;if(_.finishedWork=null,_.finishedLanes=0,I===_.current)throw Error(s(177));_.callbackNode=null,_.callbackPriority=0;var $=I.lanes|I.childLanes;if(function(q,de){var Te=q.pendingLanes&~de;q.pendingLanes=de,q.suspendedLanes=0,q.pingedLanes=0,q.expiredLanes&=de,q.mutableReadLanes&=de,q.entangledLanes&=de,de=q.entanglements;var Y=q.eventTimes;for(q=q.expirationTimes;0<Te;){var F=31-Qr(Te),z=1<<F;de[F]=0,Y[F]=-1,q[F]=-1,Te&=~z}}(_,$),_===It&&(yt=It=null,Bt=0),!(2064&I.subtreeFlags)&&!(2064&I.flags)||ih||(ih=!0,N1(uv,function(){return Ts(),null})),$=(15990&I.flags)!=0,(15990&I.subtreeFlags)!=0||$){$=ft.transition,ft.transition=null;var ne=Oe;Oe=1;var X=ke;ke|=4,op.current=null,function(q,de){for(L(q.containerInfo),le=de;le!==null;)if(de=(q=le).child,(1028&q.subtreeFlags)!=0&&de!==null)de.return=q,le=de;else for(;le!==null;){q=le;try{var Te=q.alternate;if(1024&q.flags)switch(q.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(Te!==null){var Y=Te.memoizedProps,F=Te.memoizedState,z=q.stateNode,Q=z.getSnapshotBeforeUpdate(q.elementType===q.type?Y:qr(q.type,Y),F);z.__reactInternalSnapshotBeforeUpdate=Q}break;case 3:Ce&&d2(q.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(ye){Je(q,q.return,ye)}if((de=q.sibling)!==null){de.return=q.return,le=de;break}le=q.return}Te=m1,m1=!1}(_,I),_1(I,_),k(_.containerInfo),_.current=I,rC(I),U2(),ke=X,Oe=ne,ft.transition=$}else _.current=I;if(ih&&(ih=!1,In=_,nh=j),$=_.pendingLanes,$===0&&(Pn=null),function(q){if(vi&&typeof vi.onCommitFiberRoot=="function")try{vi.onCommitFiberRoot(Tu,q,void 0,(128&q.current.flags)==128)}catch{}}(I.stateNode),hr(_,At()),C!==null)for(B=_.onRecoverableError,I=0;I<C.length;I++)j=C[I],B(j.value,{componentStack:j.stack,digest:j.digest});if(rh)throw rh=!1,_=hp,hp=null,_;1&nh&&_.tag!==0&&Ts(),$=_.pendingLanes,1&$?_===cp?qa++:(qa=0,cp=_):qa=0,xi()}(a,u,d,g)}finally{ft.transition=y,Oe=g}return null}function Ts(){if(In!==null){var a=av(nh),u=ft.transition,d=Oe;try{if(ft.transition=null,Oe=16>a?16:a,In===null)var g=!1;else{if(a=In,In=null,nh=0,(6&ke)!=0)throw Error(s(331));var y=ke;for(ke|=4,le=a.current;le!==null;){var _=le,C=_.child;if(16&le.flags){var I=_.deletions;if(I!==null){for(var B=0;B<I.length;B++){var j=I[B];for(le=j;le!==null;){var $=le;switch($.tag){case 0:case 11:case 15:Ya(8,$,_)}var ne=$.child;if(ne!==null)ne.return=$,le=ne;else for(;le!==null;){var X=($=le).sibling,q=$.return;if(g1($),$===j){le=null;break}if(X!==null){X.return=q,le=X;break}le=q}}}var de=_.alternate;if(de!==null){var Te=de.child;if(Te!==null){de.child=null;do{var Y=Te.sibling;Te.sibling=null,Te=Y}while(Te!==null)}}le=_}}if(2064&_.subtreeFlags&&C!==null)C.return=_,le=C;else e:for(;le!==null;){if(2048&(_=le).flags)switch(_.tag){case 0:case 11:case 15:Ya(9,_,_.return)}var F=_.sibling;if(F!==null){F.return=_.return,le=F;break e}le=_.return}}var z=a.current;for(le=z;le!==null;){var Q=(C=le).child;if(2064&C.subtreeFlags&&Q!==null)Q.return=C,le=Q;else e:for(C=z;le!==null;){if(2048&(I=le).flags)try{switch(I.tag){case 0:case 11:case 15:Yu(9,I)}}catch(Ue){Je(I,I.return,Ue)}if(I===C){le=null;break e}var ye=I.sibling;if(ye!==null){ye.return=I.return,le=ye;break e}le=I.return}}if(ke=y,xi(),vi&&typeof vi.onPostCommitFiberRoot=="function")try{vi.onPostCommitFiberRoot(Tu,a)}catch{}g=!0}return g}finally{Oe=d,ft.transition=u}}return!1}function F1(a,u,d){a=An(a,u=Kv(0,u=xo(d,u),1),1),u=$t(),a!==null&&(Na(a,1,u),hr(a,u))}function Je(a,u,d){if(a.tag===3)F1(a,a,d);else for(;u!==null;){if(u.tag===3){F1(u,a,d);break}if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Pn===null||!Pn.has(g))){u=An(u,a=Zv(u,a=xo(d,a),1),1),a=$t(),u!==null&&(Na(u,1,a),hr(u,a));break}}u=u.return}}function oC(a,u,d){var g=a.pingCache;g!==null&&g.delete(u),u=$t(),a.pingedLanes|=a.suspendedLanes&d,It===a&&(Bt&d)===d&&(_t===4||_t===3&&(130023424&Bt)===Bt&&500>At()-lp?Es(a,0):ap|=d),hr(a,u)}function O1(a,u){u===0&&(1&a.mode?(u=df,!(130023424&(df<<=1))&&(df=4194304)):u=1);var d=$t();(a=wi(a,u))!==null&&(Na(a,u,d),hr(a,d))}function aC(a){var u=a.memoizedState,d=0;u!==null&&(d=u.retryLane),O1(a,d)}function lC(a,u){var d=0;switch(a.tag){case 13:var g=a.stateNode,y=a.memoizedState;y!==null&&(d=y.retryLane);break;case 19:g=a.stateNode;break;default:throw Error(s(314))}g!==null&&g.delete(u),O1(a,d)}function N1(a,u){return gf(a,u)}function uC(a,u,d,g){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(a,u,d,g){return new uC(a,u,d,g)}function gp(a){return!(!(a=a.prototype)||!a.isReactComponent)}function Mn(a,u){var d=a.alternate;return d===null?((d=Ur(a.tag,u,a.key,a.mode)).elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=u,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=14680064&a.flags,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,u=a.dependencies,d.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d}function lh(a,u,d,g,y,_){var C=2;if(g=a,typeof a=="function")gp(a)&&(C=1);else if(typeof a=="string")C=5;else e:switch(a){case c:return As(d.children,y,_,u);case f:C=8,y|=8;break;case m:return(a=Ur(12,d,u,2|y)).elementType=m,a.lanes=_,a;case b:return(a=Ur(13,d,u,y)).elementType=b,a.lanes=_,a;case A:return(a=Ur(19,d,u,y)).elementType=A,a.lanes=_,a;case w:return uh(d,y,_,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case p:C=10;break e;case v:C=9;break e;case x:C=11;break e;case S:C=14;break e;case E:C=16,g=null;break e}throw Error(s(130,a==null?a:typeof a,""))}return(u=Ur(C,d,u,y)).elementType=a,u.type=g,u.lanes=_,u}function As(a,u,d,g){return(a=Ur(7,a,g,u)).lanes=d,a}function uh(a,u,d,g){return(a=Ur(22,a,g,u)).elementType=w,a.lanes=d,a.stateNode={isHidden:!1},a}function yp(a,u,d){return(a=Ur(6,a,null,u)).lanes=d,a}function vp(a,u,d){return(u=Ur(4,a.children!==null?a.children:[],a.key,u)).lanes=d,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function hC(a,u,d,g,y){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Nt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pf(0),this.expirationTimes=pf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pf(0),this.identifierPrefix=g,this.onRecoverableError=y,Fe&&(this.mutableSourceEagerHydrationData=null)}function B1(a,u,d,g,y,_,C,I,B){return a=new hC(a,u,d,I,B),u===1?(u=1,_===!0&&(u|=8)):u=0,_=Ur(3,null,null,u),a.current=_,_.stateNode=a,_.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},If(_),a}function L1(a){if(!a)return En;e:{if(M(a=a._reactInternals)!==a||a.tag!==1)throw Error(s(170));var u=a;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(vr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(s(171))}if(a.tag===1){var d=a.type;if(vr(d))return nv(a,d,u)}return u}function U1(a){var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(s(188)):(a=Object.keys(a).join(","),Error(s(268,a)));return(a=te(u))===null?null:a.stateNode}function z1(a,u){if((a=a.memoizedState)!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<u?d:u}}function hh(a,u){z1(a,u),(a=a.alternate)&&z1(a,u)}function cC(a){return(a=te(a))===null?null:a.stateNode}function dC(){return null}return A1=function(a,u,d){if(a!==null)if(a.memoizedProps!==u.pendingProps||ar.current)lr=!0;else{if(!(a.lanes&d)&&!(128&u.flags))return lr=!1,function(ne,X,q){switch(X.tag){case 3:a1(X),fo();break;case 5:Pv(X);break;case 1:vr(X.type)&&Su(X);break;case 4:Mf(X,X.stateNode.containerInfo);break;case 10:gv(0,X.type._context,X.memoizedProps.value);break;case 13:var de=X.memoizedState;if(de!==null)return de.dehydrated!==null?(He(ut,1&ut.current),X.flags|=128,null):q&X.child.childLanes?u1(ne,X,q):(He(ut,1&ut.current),(ne=en(ne,X,q))!==null?ne.sibling:null);He(ut,1&ut.current);break;case 19:if(de=(q&X.childLanes)!=0,(128&ne.flags)!=0){if(de)return c1(ne,X,q);X.flags|=128}var Te=X.memoizedState;if(Te!==null&&(Te.rendering=null,Te.tail=null,Te.lastEffect=null),He(ut,ut.current),de)break;return null;case 22:case 23:return X.lanes=0,n1(ne,X,q)}return en(ne,X,q)}(a,u,d);lr=(131072&a.flags)!=0}else lr=!1,qe&&1048576&u.flags&&cv(u,Pu,u.index);switch(u.lanes=0,u.tag){case 2:var g=u.type;Xu(a,u),a=u.pendingProps;var y=uo(u,Vt.current);mo(u,d),y=Lf(null,u,g,a,y,d);var _=Uf();return u.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,vr(g)?(_=!0,Su(u)):_=!1,u.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,If(u),y.updater=Ou,u.stateNode=y,y._reactInternals=u,kf(u,g,a,d),u=$f(null,u,g,!0,_,d)):(u.tag=0,qe&&_&&xf(u),ur(null,u,y,d),u=u.child),u;case 16:g=u.elementType;e:{switch(Xu(a,u),a=u.pendingProps,g=(y=g._init)(g._payload),u.type=g,y=u.tag=function(ne){if(typeof ne=="function")return gp(ne)?1:0;if(ne!=null){if((ne=ne.$$typeof)===x)return 11;if(ne===S)return 14}return 2}(g),a=qr(g,a),y){case 0:u=Xf(null,u,g,a,d);break e;case 1:u=o1(null,u,g,a,d);break e;case 11:u=t1(null,u,g,a,d);break e;case 14:u=r1(null,u,g,qr(g.type,a),d);break e}throw Error(s(306,g,""))}return u;case 0:return g=u.type,y=u.pendingProps,Xf(a,u,g,y=u.elementType===g?y:qr(g,y),d);case 1:return g=u.type,y=u.pendingProps,o1(a,u,g,y=u.elementType===g?y:qr(g,y),d);case 3:e:{if(a1(u),a===null)throw Error(s(387));g=u.pendingProps,y=(_=u.memoizedState).element,vv(a,u),Fu(u,g,null,d);var C=u.memoizedState;if(g=C.element,Fe&&_.isDehydrated){if(_={element:g,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},u.updateQueue.baseState=_,u.memoizedState=_,256&u.flags){u=l1(a,u,g,d,y=xo(Error(s(423)),u));break e}if(g!==y){u=l1(a,u,g,d,y=xo(Error(s(424)),u));break e}for(Fe&&(Fr=w2(u.stateNode.containerInfo),xr=u,qe=!0,Zr=null,Ba=!1),d=Cv(u,null,g,d),u.child=d;d;)d.flags=-3&d.flags|4096,d=d.sibling}else{if(fo(),g===y){u=en(a,u,d);break e}ur(a,u,g,d)}u=u.child}return u;case 5:return Pv(u),a===null&&bf(u),g=u.type,y=u.pendingProps,_=a!==null?a.memoizedProps:null,C=y.children,Le(g,y)?C=null:_!==null&&Le(g,_)&&(u.flags|=32),s1(a,u),ur(a,u,C,d),u.child;case 6:return a===null&&bf(u),null;case 13:return u1(a,u,d);case 4:return Mf(u,u.stateNode.containerInfo),g=u.pendingProps,a===null?u.child=go(u,null,g,d):ur(a,u,g,d),u.child;case 11:return g=u.type,y=u.pendingProps,t1(a,u,g,y=u.elementType===g?y:qr(g,y),d);case 7:return ur(a,u,u.pendingProps,d),u.child;case 8:case 12:return ur(a,u,u.pendingProps.children,d),u.child;case 10:e:{if(g=u.type._context,y=u.pendingProps,_=u.memoizedProps,gv(0,g,C=y.value),_!==null)if(Kr(_.value,C)){if(_.children===y.children&&!ar.current){u=en(a,u,d);break e}}else for((_=u.child)!==null&&(_.return=u);_!==null;){var I=_.dependencies;if(I!==null){C=_.child;for(var B=I.firstContext;B!==null;){if(B.context===g){if(_.tag===1){(B=Ji(-1,d&-d)).tag=2;var j=_.updateQueue;if(j!==null){var $=(j=j.shared).pending;$===null?B.next=B:(B.next=$.next,$.next=B),j.pending=B}}_.lanes|=d,(B=_.alternate)!==null&&(B.lanes|=d),Cf(_.return,d,u),I.lanes|=d;break}B=B.next}}else if(_.tag===10)C=_.type===u.type?null:_.child;else if(_.tag===18){if((C=_.return)===null)throw Error(s(341));C.lanes|=d,(I=C.alternate)!==null&&(I.lanes|=d),Cf(C,d,u),C=_.sibling}else C=_.child;if(C!==null)C.return=_;else for(C=_;C!==null;){if(C===u){C=null;break}if((_=C.sibling)!==null){_.return=C.return,C=_;break}C=C.return}_=C}ur(a,u,y.children,d),u=u.child}return u;case 9:return y=u.type,g=u.pendingProps.children,mo(u,d),g=g(y=Or(y)),u.flags|=1,ur(a,u,g,d),u.child;case 14:return y=qr(g=u.type,u.pendingProps),r1(a,u,g,y=qr(g.type,y),d);case 15:return i1(a,u,u.type,u.pendingProps,d);case 17:return g=u.type,y=u.pendingProps,y=u.elementType===g?y:qr(g,y),Xu(a,u),u.tag=1,vr(g)?(a=!0,Su(u)):a=!1,mo(u,d),Sv(u,g,y),kf(u,g,y,d),$f(null,u,g,!0,a,d);case 19:return c1(a,u,d);case 22:return n1(a,u,d)}throw Error(s(156,u.tag))},e.attemptContinuousHydration=function(a){if(a.tag===13){var u=wi(a,134217728);u!==null&&Lr(u,a,134217728,$t()),hh(a,134217728)}},e.attemptDiscreteHydration=function(a){if(a.tag===13){var u=wi(a,1);u!==null&&Lr(u,a,1,$t()),hh(a,1)}},e.attemptHydrationAtCurrentPriority=function(a){if(a.tag===13){var u=Rn(a),d=wi(a,u);d!==null&&Lr(d,a,u,$t()),hh(a,u)}},e.attemptSynchronousHydration=function(a){switch(a.tag){case 3:var u=a.stateNode;if(u.current.memoizedState.isDehydrated){var d=Oa(u.pendingLanes);d!==0&&(mf(u,1|d),hr(u,At()),!(6&ke)&&(bo(),xi()))}break;case 13:I1(function(){var g=wi(a,1);if(g!==null){var y=$t();Lr(g,a,1,y)}}),hh(a,1)}},e.batchedUpdates=function(a,u){var d=ke;ke|=1;try{return a(u)}finally{(ke=d)===0&&(bo(),Au&&xi())}},e.createComponentSelector=function(a){return{$$typeof:Qu,value:a}},e.createContainer=function(a,u,d,g,y,_,C){return B1(a,u,!1,null,0,g,0,_,C)},e.createHasPseudoClassSelector=function(a){return{$$typeof:Ku,value:a}},e.createHydrationContainer=function(a,u,d,g,y,_,C,I,B){return(a=B1(d,g,!0,a,0,_,0,I,B)).context=L1(null),d=a.current,(_=Ji(g=$t(),y=Rn(d))).callback=u??null,An(d,_,y),a.current.lanes=y,Na(a,y,g),hr(a,g),a},e.createPortal=function(a,u,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:g==null?null:""+g,children:a,containerInfo:u,implementation:d}},e.createRoleSelector=function(a){return{$$typeof:Zu,value:a}},e.createTestNameSelector=function(a){return{$$typeof:qu,value:a}},e.createTextSelector=function(a){return{$$typeof:Ju,value:a}},e.deferredUpdates=function(a){var u=Oe,d=ft.transition;try{return ft.transition=null,Oe=16,a()}finally{Oe=u,ft.transition=d}},e.discreteUpdates=function(a,u,d,g,y){var _=Oe,C=ft.transition;try{return ft.transition=null,Oe=1,a(u,d,g,y)}finally{Oe=_,ft.transition=C,ke===0&&bo()}},e.findAllNodes=sp,e.findBoundingRects=function(a,u){if(!Ma)throw Error(s(363));u=sp(a,u),a=[];for(var d=0;d<u.length;d++)a.push(YA(u[d]));for(u=a.length-1;0<u;u--)for(var g=(d=a[u]).x,y=g+d.width,_=d.y,C=_+d.height,I=u-1;0<=I;I--)if(u!==I){var B=a[I],j=B.x,$=j+B.width,ne=B.y,X=ne+B.height;if(g>=j&&_>=ne&&y<=$&&C<=X){a.splice(u,1);break}if(!(g!==j||d.width!==B.width||X<_||ne>C)){ne>_&&(B.height+=ne-_,B.y=_),X<C&&(B.height=C-ne),a.splice(u,1);break}if(!(_!==ne||d.height!==B.height||$<g||j>y)){j>g&&(B.width+=j-g,B.x=g),$<y&&(B.width=y-j),a.splice(u,1);break}}return a},e.findHostInstance=U1,e.findHostInstanceWithNoPortals=function(a){return(a=(a=W(a))!==null?O(a):null)===null?null:a.stateNode},e.findHostInstanceWithWarning=function(a){return U1(a)},e.flushControlled=function(a){var u=ke;ke|=1;var d=ft.transition,g=Oe;try{ft.transition=null,Oe=1,a()}finally{Oe=g,ft.transition=d,(ke=u)===0&&(bo(),xi())}},e.flushPassiveEffects=Ts,e.flushSync=I1,e.focusWithin=function(a,u){if(!Ma)throw Error(s(363));for(u=T1(a=rp(a),u),u=Array.from(u),a=0;a<u.length;){var d=u[a++];if(!Da(d)){if(d.tag===5&&ZA(d.stateNode))return!0;for(d=d.child;d!==null;)u.push(d),d=d.sibling}}return!1},e.getCurrentUpdatePriority=function(){return Oe},e.getFindAllNodesFailureDescription=function(a,u){if(!Ma)throw Error(s(363));var d=0,g=[];a=[rp(a),0];for(var y=0;y<a.length;){var _=a[y++],C=a[y++],I=u[C];if((_.tag!==5||!Da(_))&&(ip(_,I)&&(g.push(np(I)),++C>d&&(d=C)),C<u.length))for(_=_.child;_!==null;)a.push(_,C),_=_.sibling}if(d<u.length){for(a=[];d<u.length;d++)a.push(np(u[d]));return`findAllNodes was able to match part of the selector:
  `+g.join(" > ")+`

No matching component was found for:
  `+a.join(" > ")}return null},e.getPublicRootInstance=function(a){return(a=a.current).child?a.child.tag===5?he(a.child.stateNode):a.child.stateNode:null},e.injectIntoDevTools=function(a){if(a={bundleType:a.bundleType,version:a.version,rendererPackageName:a.rendererPackageName,rendererConfig:a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:cC,findFiberByHostInstance:a.findFiberByHostInstance||dC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")a=!1;else{var u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(u.isDisabled||!u.supportsFiber)a=!0;else{try{Tu=u.inject(a),vi=u}catch{}a=!!u.checkDCE}}return a},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(a,u,d,g){if(!Ma)throw Error(s(363));a=sp(a,u);var y=qA(a,d,g).disconnect;return{disconnect:function(){y()}}},e.registerMutableSourceForHydration=function(a,u){var d=u._getVersion;d=d(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,d]:a.mutableSourceEagerHydrationData.push(u,d)},e.runWithPriority=function(a,u){var d=Oe;try{return Oe=a,u()}finally{Oe=d}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(a,u,d,g){var y=u.current,_=$t(),C=Rn(y);return d=L1(d),u.context===null?u.context=d:u.pendingContext=d,(u=Ji(_,C)).payload={element:a},(g=g===void 0?null:g)!==null&&(u.callback=g),(a=An(y,u,C))!==null&&(Lr(a,y,C,_),Du(a,y,C)),C},e}),Rw}({get exports(){return S0},set exports(t){S0=t}}).exports=M4();var D4=s4(S0),cA={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:ci":"nx run-many --target=test:ci --all --parallel","test:ci:force":"nx run-many --target=test:ci --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},T0={},Yh={get exports(){return T0},set exports(t){T0=t}};(function(){var t,e,r,i,n,s;typeof performance<"u"&&performance!==null&&performance.now?Yh.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Yh.exports=function(){return(t()-n)/1e6},e=process.hrtime,i=(t=function(){var o;return 1e9*(o=e())[0]+o[1]})(),s=1e9*process.uptime(),n=i-s):Date.now?(Yh.exports=function(){return Date.now()-r},r=Date.now()):(Yh.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(n4);var Dw,ea={},Is={};({get exports(){return ea},set exports(t){ea=t}}).exports=(Dw||(Dw=1,Is.ConcurrentRoot=1,Is.ContinuousEventPriority=4,Is.DefaultEventPriority=16,Is.DiscreteEventPriority=1,Is.IdleEventPriority=536870912,Is.LegacyRoot=0),Is);var F4={};function Mm(t,e){t.addChild&&(t.addChild(e),typeof e.didMount=="function"&&e.didMount(e,t))}function dA(t,e){var r,i,n;(r=t.willUnmount)===null||r===void 0||r.call(t,t,e),((i=t.config)===null||i===void 0?void 0:i.destroyChildren)!==!1&&(n=t.children)!==null&&n!==void 0&&n.length&&wn(t.children).forEach(function(s){dA(s,t)})}function Fw(t,e){var r;dA(e,t),t.removeChild(e);var i=(r=e.config)!==null&&r!==void 0?r:{},n=i.destroy,s=n===void 0||n,o=i.destroyChildren,l=o===void 0||o,h=i.destroyTexture,c=h!==void 0&&h,f=i.destroyBaseTexture,m=f!==void 0&&f;s&&e.destroy({children:l,texture:c,baseTexture:m})}function Ow(t,e,r){var i,n;dt(e!==r,"Cannot insert node before itself"),t.children.indexOf(e)!==-1&&t.removeChild(e);var s=t.getChildIndex(r);t.addChildAt(e,s),(i=t.__reactpixi)===null||i===void 0||(n=i.root)===null||n===void 0||n.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertBefore"})}var Nw=null,ci=D4({getRootHostContext:function(){return F4},getChildHostContext:function(t){return t},getChildHostContextForEventComponent:function(t){return t},getPublicInstance:function(t){return t},getCurrentEventPriority:function(){return function(){var t,e;if(typeof window>"u")return ea.DefaultEventPriority;switch((t=window)===null||t===void 0||(e=t.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return ea.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return ea.ContinuousEventPriority;default:return ea.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(t){var e,r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=P4[t];if(typeof s=="function"&&(e=s(n,i)),!e){var o=hA[t];o&&((e=o.create(i,{root:n})).didMount=o.didMount?o.didMount.bind(e):void 0,e.willUnmount=o.willUnmount?o.willUnmount.bind(e):void 0,e.applyProps=o.applyProps?o.applyProps.bind(e):void 0,e.config=o.config)}return e&&(e.__reactpixi={root:n},(typeof((r=e)===null||r===void 0?void 0:r.applyProps)=="function"?e.applyProps:Yi)(e,{},i)),e},hideInstance:function(t){t.visible=!1},unhideInstance:function(t,e){var r=e==null||!e.hasOwnProperty("visible")||e.visible;t.visible=r},finalizeInitialChildren:function(t,e,r){return!1},prepareUpdate:function(t,e,r,i,n,s){return Nw=function(o,l,h,c){var f=null;for(var m in h)!c.hasOwnProperty(m)&&h.hasOwnProperty(m)&&h[m]!==null&&(m===w0||(f||(f=[]),f.push(m,null)));for(var p in c){var v=c[p],x=h!==null?h[p]:void 0;!c.hasOwnProperty(p)||v===x||v===null&&x===null||p===w0||(f||(f=[]),f.push(p,v))}return f}(0,0,r,i)},shouldSetTextContent:function(t,e){return!1},shouldDeprioritizeSubtree:function(t,e){var r=e.alpha===void 0||e.alpha>0,i=e.renderable===void 0||e.renderable===!0,n=e.visible===void 0||e.visible===!0;return!(r&&i&&n)},createTextInstance:function(t,e,r){dt(!1,'Error trying to add text node "'.concat(t,'"'),"text strings as children of a Pixi component is not supported. To add some text, use &lt;Text text={string} /&gt;")},unhideTextInstance:function(t,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:T0,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var t,e,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];var s=Mm.apply(null,i);return(t=i[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var t,e,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];var s=Mm.apply(null,i);return(t=i[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var t,e,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];var s=Mm.apply(null,i);return(t=i[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var t,e,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];var s=Fw.apply(null,i);return(t=i[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var t,e,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];var s=Fw.apply(null,i);return(t=i[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:Ow,insertInContainerBefore:function(){for(var t,e,r=arguments.length,i=new Array(r),n=0;n<r;n++)i[n]=arguments[n];var s=Ow.apply(null,i);return(t=i[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(t,e,r,i,n){var s,o,l=t&&t.applyProps;typeof l!="function"&&(l=Yi),(l(t,i,n)||Nw)&&((s=t.__reactpixi)===null||s===void 0||(o=s.root)===null||o===void 0||o.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(t,e,r,i,n){},commitTextUpdate:function(t,e,r){},resetTextContent:function(t){},clearContainer:function(t){},getFundamentalComponentInstance:function(t){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(t){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},getInstanceFromNode:function(t){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(t){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(t){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(t){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(t){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(t){}}),O4=cA.dependencies["react-dom"].replace(/[^0-9.]/g,""),N4=cA.name;ci.injectIntoDevTools({bundleType:0,version:O4,rendererPackageName:N4,findHostInstanceByFiber:ci.findHostInstance});var ss=new Map;function fA(t){if(dt(nr.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `Container`."),ss.has(t)){var e=ss.get(t).pixiFiberContainer;ci.updateContainer(null,e,void 0,function(){ss.delete(t)})}}function pA(t){dt(nr.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `Container`.");var e=ss.get(t);if(dt(!e,"createRoot should only be called once"),!e){var r=ci.createContainer(t);e={pixiFiberContainer:r,reactRoot:{render:function(i){return ci.updateContainer(i,r,void 0),ci.getPublicRootInstance(r)},unmount:function(){fA(t),ss.delete(t)}}},ss.set(t,e)}return e.reactRoot}function B4(t,e,r){var i;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),r!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),ss.has(e)?i=ss.get(e).reactRoot:i=pA(e),i.render(t)}function L4(t){fA(t)}function cu(){return cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},cu.apply(this,arguments)}function U4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function z4(t,e){for(var r=0;r<e.length;r++){var i=e[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,aA(i.key),i)}}function nn(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vd(t,e){return vd=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vd(t,e)}function G4(t,e){if(e&&(Ar(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nn(t)}function xd(t){return xd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},xd(t)}var tf=Zt.createContext(null),mA=tf.Provider,gA=tf.Consumer,j4=function(t){var e=Zt.forwardRef(function(r,i){return Zt.createElement(gA,null,function(n){return Zt.createElement(t,cu({},r,{ref:i,app:n}))})});return e.displayName="withPIXIApp(".concat(t.displayName||t.name,")"),e};function H4(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,i=xd(t);if(e){var n=xd(this).constructor;r=Reflect.construct(i,arguments,n)}else r=i.apply(this,arguments);return G4(this,r)}}function Bw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function Qh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Bw(Object(r),!0).forEach(function(i){pt(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bw(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}var Lw=function(){},yA={width:Ye.number,height:Ye.number,onMount:Ye.func,onUnmount:Ye.func,raf:Ye.bool,renderOnComponentChange:Ye.bool,children:Ye.node,options:Ye.shape({autoStart:Ye.bool,width:Ye.number,height:Ye.number,useContextAlpha:Ye.bool,backgroundAlpha:Ye.number,autoDensity:Ye.bool,antialias:Ye.bool,preserveDrawingBuffer:Ye.bool,resolution:Ye.number,forceCanvas:Ye.bool,backgroundColor:Ye.number,clearBeforeRender:Ye.bool,powerPreference:Ye.string,sharedTicker:Ye.bool,sharedLoader:Ye.bool,resizeTo:function(t,e){var r=t[e];r&&dt(r===window||r instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(Ar(r),", expect `window` or an `HTMLElement`."))},view:function(t,e,r){var i=t[e];i&&dt(i instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(Ar(i),", supplied to ").concat(r,", expected `<canvas> Element`"))}})},V4={width:800,height:600,onMount:Lw,onUnmount:Lw,raf:!0,renderOnComponentChange:!0},A0=function(t){(function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),o&&vd(s,o)})(n,Zt.Component);var e,r,i=H4(n);function n(){var s;U4(this,n);for(var o=arguments.length,l=new Array(o),h=0;h<o;h++)l[h]=arguments[h];return pt(nn(s=i.call.apply(i,[this].concat(l))),"_canvas",null),pt(nn(s),"_mediaQuery",null),pt(nn(s),"_ticker",null),pt(nn(s),"_needsUpdate",!0),pt(nn(s),"app",null),pt(nn(s),"updateSize",function(){var c=s.props,f=c.width,m=c.height,p=c.options;p!=null&&p.resolution||(s.app.renderer.resolution=window.devicePixelRatio,s.resetInteractionManager()),s.app.renderer.resize(f,m)}),pt(nn(s),"needsRenderUpdate",function(){s._needsUpdate=!0}),pt(nn(s),"renderStage",function(){var c=s.props,f=c.renderOnComponentChange;!c.raf&&f&&s._needsUpdate&&(s._needsUpdate=!1,s.app.renderer.render(s.app.stage))}),s}return e=n,(r=[{key:"componentDidMount",value:function(){var s=this.props,o=s.onMount,l=s.width,h=s.height,c=s.options,f=s.raf,m=s.renderOnComponentChange;this.app=new ef(Qh(Qh({width:l,height:h,view:this._canvas},c),{},{autoDensity:(c==null?void 0:c.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[f?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=ci.createContainer(this.app.stage),ci.updateContainer(this.getChildren(),this.mountNode,this),o(this.app),c!=null&&c.autoDensity&&window.matchMedia&&(c==null?void 0:c.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),m&&!f&&(this._ticker=new Dt,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(s,o,l){var h,c=this.props,f=c.width,m=c.height,p=c.raf,v=c.renderOnComponentChange,x=c.options;(x==null?void 0:x.resolution)!==void 0&&(s==null?void 0:s.options.resolution)!==(x==null?void 0:x.resolution)&&(this.app.renderer.resolution=x.resolution,this.resetInteractionManager()),s.height===m&&s.width===f&&((h=s.options)===null||h===void 0?void 0:h.resolution)===(x==null?void 0:x.resolution)||this.updateSize(),s.raf!==p&&this.app.ticker[p?"start":"stop"](),ci.updateContainer(this.getChildren(),this.mountNode,this),s.width===f&&s.height===m&&s.raf===p&&s.renderOnComponentChange===v&&s.options===x||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var s=this.app.renderer.plugins.interaction;s!=null&&s.resolution&&(s.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var s=this.props.children;return Zt.createElement(mA,{value:this.app},s)}},{key:"componentDidCatch",value:function(s,o){console.error("Error occurred in `Stage`."),console.error(s),console.error(o)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),ci.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var s,o,l=this,h=this.props.options;return h&&h.view?(dt(h.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):Zt.createElement("canvas",cu({},(s=this.props,o=[].concat(wn(Object.keys(yA)),wn(Object.keys(b0))),Object.keys(s).filter(function(c){return!o.includes(c)}).reduce(function(c,f){return Qh(Qh({},c),{},pt({},f,s[f]))},{})),{ref:function(c){return l._canvas=c}}))}}])&&z4(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),n}();A0.propTypes=yA,A0.defaultProps=V4;var W4=A0;function vA(){var t=Pe.useContext(tf);return dt(t instanceof ef,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider"),t}function X4(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=vA();dt(typeof t=="function","`useTick` needs a callback function."),dt(r instanceof ef,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider");var i=Pe.useRef(null);Pe.useEffect(function(){i.current=t},[t]),Pe.useEffect(function(){if(e){var n=function(s){return i.current.apply(r.ticker,[s,r.ticker])};return r.ticker.add(n),function(){r.ticker&&r.ticker.remove(n)}}},[e])}function $4(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function C0(t,e,r){return C0=$4()?Reflect.construct.bind():function(i,n,s){var o=[null];o.push.apply(o,n);var l=new(Function.bind.apply(i,o));return s&&vd(l,s.prototype),l},C0.apply(null,arguments)}var Y4=["children","apply"];function Uw(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),r.push.apply(r,i)}return r}function Kh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Uw(Object(r),!0).forEach(function(i){pt(t,i,r[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Uw(Object(r)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(r,i))})}return t}var Q4=function(t,e){dt(Ar(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var r=Object.keys(e),i=function(n){var s=n.children,o=n.apply,l=gs(n,Y4),h=Pe.useRef(Pe.useMemo(function(){return r.map(function(m){var p,v=(l==null||(p=l[m])===null||p===void 0?void 0:p.construct)||[];return C0(e[m],wn(v))})},[r])),c=Pe.useMemo(function(){return r.reduce(function(m,p,v){return Kh(Kh({},m),{},pt({},p,h.current[v]))},{})},[r]),f=Pe.useMemo(function(){return Object.keys(l).filter(uA(lA(r))).reduce(function(m,p){return Kh(Kh({},m),{},pt({},p,l[p]))},{})},[l,r]);return r.forEach(function(m,p){return Object.assign(h.current[p],l[m])}),o&&function(){for(var m=arguments.length,p=new Array(m),v=0;v<m;v++)p[v]=arguments[v];return p.every(function(x){return typeof x=="function"})}(o)&&o.call(t,c),Zt.createElement(t,cu({},f,{filters:h.current}),s)};return i.displayName="FilterWrapper",i.propTypes={children:Ye.node,apply:Ye.func},i},K4=yr.BitmapText,Z4=yr.Container,q4=yr.Graphics,J4=yr.NineSlicePlane,eO=yr.ParticleContainer,tO=yr.Sprite,rO=yr.AnimatedSprite,iO=yr.Text,nO=yr.TilingSprite,sO=yr.SimpleMesh,oO=yr.SimpleRope;const aO=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:rO,AppConsumer:gA,AppContext:tf,AppProvider:mA,BitmapText:K4,Container:Z4,Graphics:q4,NineSlicePlane:J4,ParticleContainer:eO,PixiComponent:I4,PixiFiber:ci,SimpleMesh:sO,SimpleRope:oO,Sprite:tO,Stage:W4,TYPES:yr,Text:iO,TilingSprite:nO,applyDefaultProps:Yi,createRoot:pA,eventHandlers:yd,render:B4,unmountComponentAtNode:L4,useApp:vA,useTick:X4,withFilters:Q4,withPixiApp:j4},Symbol.toStringTag,{value:"Module"})),lO=cb(aO);Qd.exports=lO;var Gi=Qd.exports;const uO="/assets/Creativeans-world-Base%20layer-BWmamQwg.webp",hO="/assets/Creativeans-bridge-top-3dnkGJFY.webp",cO="/assets/Creativeans-brain-CIeGYKr9.webp",dO="/assets/Creativeans-C-building-Cv_44mFL.webp",fO="/assets/Creativeans-train-BPD1_LUi.webp",pO="/assets/Creativeans-train-platform-B9TbVGDv.webp",mO="/assets/Creativeans-building1-BYNpam_o.webp",gO="/assets/Creativeans-building3-VwJU4Mbw.webp",yO="/assets/Creativeans-building4-D5fkL18W.webp",vO="/assets/Creativeans-building6-B1uCaDxZ.webp",xO="/assets/Creativeans-building7-BI7S4Ymb.webp",zw="data:image/webp;base64,UklGRhwFAABXRUJQVlA4WAoAAAAQAAAAOQAANgAAQUxQSN0CAAABkHDb2vG4C3qCsWvbtm1jPLVtG3HyPW9c27Zt27btjr+3TL7viYgJAIlVEAwQAPQzZm3WZsqIuVM00yPrV/EnlL308I0nEj+LPJEnp/GHJzaPKUxDEdxpyT0uco9TUj+tbCSfAuJ3vubS7o4KkMen8AyeyiVOfze3rFo6BXQ/wuVMPtxMuox9ktNk4fzn0FCJMljecNnfjZEmYsJXTnGoWopxHznJ19He+TZ+yYm+q+RVlY2c7N4MXvg6vtIRR3lR/zkn/CGfZ6tTKXGtwpPiPzjpV7k8MXPiA5X/i7gj0hKPwf8jEznxxDL/UVrJpTtD/5VrPSd/MybDP3JepffS2SH4r9JJ9L7ZWKu/2ifT+zQPdUUBIPoTPT7P4O4fDNCZ0/+6zGi1VgHonEovfZkGXb38oZ1I7+c8CzoMBaBuKr23s3XIsKGy6Ht6L51GZO7Oqgy36N3TCYiOQaGwg95howXRPjKDYiS5xNVGAdE5IjtUTab2bI6GIbOPygyhR4mJZy2mv/pmABhB7OPGqQwR7R1CAAq/ICXecuoR0W5oogJQTRIpfdmiQUR0TSgDAJDlMaXzTi1DZKx7hr+gm0jny3yDgIjuKbUV/whYkk4ldb/ehIjM3iMH/DvPNSJpl9EsIFod4yuo/gNVbtK4PXcqQ0S7pXko/F/Z6i2FR3OMZkTm0nfKBB63viXKJd6aOx0RmYN1zg+e+za/LNPPC7O1JoY2u6lTTpUXAHnmv5dBfHPYrEFkVvf0yBwK8FqRdcjVn1J9ubFEpxfQbrcOrRUO0layP0tLlyDp8hbTNAFtDsfkmCJqkLyG5dLnH559e3F+oUtjdNhmm6d0KB0Oshbts/Dona+fvqS+T37+4vKxZXOnm5lthiAMjiwZqgB5FRBYJXIkulYunbvaOFdvQ8Glmdq7fbncoACSoblKV2ueEN2/S6/use1rV8mVFdRAV6GEkBC/zH6h/qAGBUgKAFZQOCAYAgAA8AwAnQEqOgA3AD55MpVHpKMiITX7nmCQDwloAKkn2n+/vn5M/ir0iXp305ZPHKqekjVraTSO4PWL+H8fBchbBks33jxZCzVapGL/rvw1MygHjRNh8Qrp8QaNI0mDFt37gi7TcUxWNyRgMf2wY/RAAAD9zS8OsatujjtZdqT/kBhEdv/sZdd+jM/zB//UEXgrU+4UUvo60fjvEam+QZwY5Xwe2GONtNL11DZ+v0B6IYMIEbagTeFY765kj+C/WbJmqL32wtTTB5A/Gv//61lCv+e0DrTn9nMMJ5sZ5jNrGPh+0pgCqMcVlrXuFZbhJ+T7Oc/DYMbKhg9utlM4tfuG6UsJwMzenu+S+0gGIwzZOFvvYY60f5NzJPM1S9+JLPQiscj+eDpiul7S6hpqllx/KmC6bSJxPrgH8FHDQUBc8NlVWg05qWGbnYNNL1Nd6IQ3CAX8iBLgyxvut+DsuSSBYMpjC66y4je4BzuOdwhe0+XToltsh5pwbIkjhiVHz+/mon7FcWI3a7S0GytlKsRDmCM5gjTuyvCDOYwPWJbJXGNUZW+iwDQBOfS1wpS2LVe5+Lxi5x+asWssAuZqnn3a4BPj8nRMsQ9s+R/aHc8IOsTEf5oLWyDHuns3Whl/Tq1Ys8XS6t901EB6AOgKhsLRizFlkaJTHIhGmfqNlLpdavOPS0aw5nEVSDqF/I8NtRajnX2EAJIAAAA=",Gw="data:image/webp;base64,UklGRtwEAABXRUJQVlA4WAoAAAAQAAAAOgAANAAAQUxQSCsDAAANoGZtmyFpeiIyysyutt1j27ZtawHagI3ftm3btmfaLCsd8bEq611BREwAfBVSjUm7vzbHgyUDlCPmbv27jq1uwX4a6f51Xi5/97NBhKntdz1lxbRsqQK6CmzREW0bD3/+3u82geTEaYOGp7BJBjAWSiZHdhqefv6Plk0eu62p0CyDSA8fuMUXj9ZaEjngkIqCvzy8zRmDd37SgtRZwzb818J7HPn1k75FrrQkWhrY/vSl231qvzSHVmu9Z4avd/0QV3gg2HVK+DY/LlEg2Xlq4bHmdt+fCAZOe+fHZlLnSVDd/qg7jSaOtUFWO6j3wcaG95Z0oJ/24nJDh+ZAmI3t9FRDJ3mUED3h3ZUGtg2DNN9ihye9zR3j0ELslMWvi5vZ3yPGh7dwf1jdxJiniEF0dPd+Wtxo62lyWjq7k/6pBfCEAnUeLfE9rB8AHtHoxY1yZte/FyE7PXIsWuX2aO9XSsYcTk15EYuprdeyIquDvMZNze3M/CPtgEaN8XrcRmhwQRZSgpqqhYIKsqeKf8ZBXVZ0RwNCISxr7YyYZ8Q0CS4EFle348RMKxxz4QUl3E/3Y7RUzcowBdga8O5OOi2vLPvqHKIsgD/KO2ukjJyu24CqS8B55sQwJZU3BqDAzVIAwHOT21ByFuP9dcZEMQ8Axn1n6YRyuaGExZiXtTbCo21HMDLmvx19DsBKy4FNyJtPHaMi56vbaBbX3PkaNv3zyxd3EVn9b6LHUZxl54Kbwf3OqTqJ8t9tWziSsfy0hgavHTsqRaD6Z2hHbvJA9S8DjdrXbHtCW8vK/9Z3Sxrg5l8l3hDsm1Kn9LZG5X8Tu8VrQVX4u4BmC3fbZ48HW+Bmf+rcPm5wtTRdho8PfHz4QWnhk6z+/98WW2vKc6b/F/D1i3uSR22bET541sK/YscBbpnL/2fht/XUlz0Hbh0RvBGlZHVhxpvcOipzpb8LAi3897V3Mvvs0i2iAabAXG5UygtVMTmZqBVnsktRtLj43ttLnVt0phMxpdyiMLXx8AhbXlvMczAQnPnhl7xQQR3pTrc3vRZdzQlPAFAUAJSXKhWD1ZEsOXGba/AXAFZQOCCKAQAA0AoAnQEqOwA1AD59LpNHsKKhoTf6rfoQD4liALs5wNiegU/XJ5txOeqAsdVczj2Xc+UJA3F5qXaAEBWyCnNiUuQmTWBse2FvaQ16stYZFnB1IxIpwcBPE+K5iu7BYAAA/uIfZBo33gUz+5/Ev6tD/6GRyH+1Xh0pAQFQ0/3W5obE1/av+TqQnfzl5F0L7wL1G50imWvm0Ekr8vKwKuPva19J5DYtJPdaKnTFbVtO3v1vXiHwo9X3U7oLyu7aPVVJTml5i0va9HKNBc6z0GbZYYtQuPGoZVz0OjMAkv5lFfVnJpF2WqKpUHRQZogqeNOgYdeRCA0jCukoRblyxcKeCDzKJp7N9pht9K9qL1JgzWyeU0T1cdM8kBW4Zt/Wqx4UAL4muiYlG+VcMTIibmtmRthWW8CpX7rzUjG0A3nctPow3EDRDW+aX2Gmvqb6b/2+PeVARs98ybmT3Y29Tvk7Vq0RozVgCMGBcgekobJ+s2VYzAS9xXd3kQe0AHj+uerfw/sapw5jFwAAAA==",_O="data:image/webp;base64,UklGRvoOAABXRUJQVlA4WAoAAAAQAAAAUgAA6wAAQUxQSPgGAAAN8L9tnyFJ/v9v6g5kZpfVGOwYi9HTtm3btm3btm2s7d2xre5hTbUKnZUZET90ISrjERETgAEzll++crSUldH0uYnDE21m4Hxwj4csjKdmmqEWQ/liJj500wHX7vHYezVmtTbzeTCUGVuyYAm77fLDDt3zdem6NuiZ8fKSNetWVn93hyNLXrN0zsAiZ/nV93xA6ze3ufDYZ9U1bHN/xYMecPJn44l79foYg2T+yiet/scVCXtbRWPAPPugJxz5YZikN+UNBi9XPYd9r5ac14wgkWzk2ZnvN5LypHUmGUDlKUM/TMjK52kkduFT679LhPfxNpLLVj9p2w1J+OA0kszv8ei/HR7cU8aQbPmQe/1kZlDLXmQShsxjc78e1PtDJH7h4w7fPJiHlJB8tu4+f5sZyPu1A0g9MPuvQdybw8klD735xADe1HZD3mPBf+xdsgSOlh+8/YS1F8+5IjYs/q+t1OOMKxi+/9ZTlu49CWflZaUbLL0gdAcj973jgpXi/YxDwSbcaeUe03CYja643coDmy4hvWnihI17RU55qys3W8iuME6hdOnmsL9Lp+H20LrZA/1taDomlhS39bcpdAyZ5bv7W69c89dOTvSTG4FzK9Jb+1k17RwrL9zVz9qGcwgWn2n2sWbOPW9RPNHHPWL35ELdR2q1cY+Vi4d7G2UgcGjJwd4ualIgK416TytbFIgiP9/TmpACWYkv9LQkpkCU4qmeFikKkJYzvQxVDAmydL6XsgcSvbHxnkIaZGWm1UNljoiCqXVji0IihtX5bmZVRIMY4+PdsDKmAfniiW5sgSJCls53Q0UTwYvTqosfGCJEOZ7skjFkVHS1Sw5Uypya6VIIqWA5M9ulTEfWv9ClSAb8fLVLng5RqHXJtcng2ZluERkiG851KtPBy7rWJSZDVHS104gig5fUVAc+rMlgOV3v4KcNHZ7X6JBjoFNkZjqkBCG8WOuQjgiR+U6ZNiE8E7bn5SlhGd2cV44I4WnTAMBGYkqyug7AjJGSj+ehoiipqBoAlteEsIw/D6RA5juUDSU8MwsgyJDC0g0AWQ+U8lTTADmQyjLxHJBtkyLSpk4Oy6s6UIpI4Sk0wMq0sJQKwcZiUnhg5oBFmhSkVQgM08LSrA6UDSnw/TqQI0amZyBSxLB0A54gSHJieNCCz0BsEOmUoSat51KaGJFWrcAQw7O6HsTEsJyupxUxPI16ihqWUS2PGqR0SA7zTCyogSeURw4PYkkO87WgxzOSnoAgBFqQwyS4pga+ISgAPdxj9DDBQa8UQpETSEkOC4Tm1CAQKU0N88UyQ48sk8N9wchBIAwjx+egVwh6mGD0QIAZchgDwRRpYxg5bU2PiZQS1CCM2z41OozDgBrTUs00Oe2okWbEoBXVsyDWhKaeYcRAqdkciDWRqWfJmVNTRWr0tDkzLKmpyjOZHDHRtKyhxEgxU2Dh7DBIjU8GDPvXMlrGJfTtD+Ck6CqAnetoUVMAjpSLpITnAdQm1nFCdE0DUFvvzQhRNQkA1zxCUDLuzdu8dISSs5g/edOTJB3xiQ7mb0+nQ51odsBti5cwKqLDolPz9y+XVLQPo+vvn1gkwjSPdJvY+WiPhmi77qZ/8mpBQ3gn64Y7ph4tKVDHz6HH6Dtv8Shob0bPtzYfId3TJ7f2Fn3lPZ577au93nDn1ld5rqm9u9Gn+vozVjHHZv8l+8HEtz7tuxVffhr9X37uxcIls+UWWIw+8+T7MofO/UXYwOnPf6roTvMnadjd/KsvBa6EP+SwbP6892PMDf29JqyHP269m7tQ/wbHAGe/m3+TA8e/WsBAJ7+de2fibvtJgAGf//HBj6xKVPMnd2Pw1csvf+GTE7T7O8NIYnz3b9PvWJiQ2k+2+Ejo0f/c8ogXFBMw9efrSkhu667r9jzy6QsHtOPKzQuR7DM7bt9buMcDLg0stTffut0bRvJPH9g3nn7JEgu1W3dUJyoluFqVBdaf2X5NKODyiir619VZOM1GZm2EnmOFOQtqirsFbizEdbhtFOf9mcgxKM76g3LNMPRvnLOqtGvMWNDOcW0BrjEGixquS20hck9ZUNoxJrQFYxyDbyxoOM580MM9ggS3YYxj3AqYcUtIGxzaLY9TpCiKrfDYLQ6bHiK3PGVDQNEDrt2S2gYHQZK36WGea8oGZOyWZ0WkmtqpILYhc+2GU6nIhsjoulO+ssEyuumUtOMjdIrBJveNY8YGAh05pTiz4boGt+GbyC0Om3kz6xZjNnJshp5ANpyy7Pt1pwyz4smWU0JbqdbhlrIxdXnRrT2zG4Z4H7r2lyYc+4X/qHsWGMDmGZjG5v8X4Pr4n3dULl05Vsl6TLWmzh7fcQYUjl91qjg2nJNMtSbPnPORUFZQOCDcBwAA8CsAnQEqUwDsAD6RPplIpaOioSzTm9iwEgliL6VYAV+BnqNfueZ77Ek/7vf7L1wc3r0nc9b6PvOq6j/0AOmD/z7CjXly8NNy1iNngKtclLVajJOirgIVRlXjuT3vzSgvDuOfrtnw8eCzcH4QmJ/Pl1iEta3ci4ky7xEQQ1WKNP4K3ad7De+cxdFQeeBjvTSnBc5QOhq3aSrBaHP7Y3BAmmzlUPsbj7U5p7/uieyRlGN/c7lTEYGPG+ZG5Z+LmWmmabFgnhPc7tgHpEDdHKBv8iQf/hxB+voawkLr4WVPJ7A0Rl/gFjLzCBZwQJv+z6Q2fAqwiqFKW7ndf7AcbebGn41yi8xg/xpFtkQHfFMddiLLGg3IMef4z5EOQExjisT/uCW+HA7BEUBT6OCma9P06XEGJIf8Oh32PdzQRmzjCH4wEyIP80ZZIoCkgPv8L3biWVpoiDlnqfIESMQZ3+bWyZtaoA/ANvQAAP705XKv/998P974f73w+jPuLeJWsZfdIj8zsgsgsuN8tgwlxKz2YeLzbpoC5+iRU48rq7CQDxzw2ralZj3NQC4D1mjCxsLE4/xFJPwUiGKBW30uFygwqHo/bae/1BPXAl5215gnwOTWnMomdSzPgD0toZTH1mYJ5bbLhQDCB+cJs4zYbzceOsFfCBVX7/5cmqvu+aUSnV4J6GT5v6PELts+udw6P6HExVMWC3RPNCksQw9tOxcS4VH+fTqR9m878T8ztdEICI9RcqE1k2Oe52lPH0DJHQFnVIGB1PBNf52Z104cYCWG383doFmxuwhr2EaOs0b3V2xfVq58IRelSvXmjAV4BJ66ranCoCz0/Hwty458lBG2ZQTu2+yR+5pRUVgz5+/851HMqWmw9da6YrEyQsPKstTkvfosWVd8S/lfT7El9h2Qq8dVGRS3zz4zJ528Av/e7JIj4iwNulpXejZ5DExgA8MidF6Z9G93q+POmp2Lk8X33w0D4XU2AqnullIHpwzpT2DQx9x5RAKCIoCib/88ghmBQqF87dadXddjAzpYXcjQtNZQkLsbovyU+nUy062cSEqqOTarEzSdDuV3sraw9PWPdMFcRdgncl0J4fQAhwHQAY2EUzJpUzzm806yoiBAOZunILtjkI3rCMvhdLeCi72jF8QbuEHAmJyfzYFF8w8CtlM4jsEOwa6eopD/ZrN5ZHX3UoSe/UDxoMwjWkNoTtUBjzfnkpcaO3KXXSELDwfTURSdlQ9c1YoY8bF3xz5B82NkgIJUzCo1J/M1uhfFKYTQNwFOBNqgArtg0boWQO6qtndkWgOZ7Vv5HdxZhZbzxz7y9suWxxzLVo195it0/TXb+Sb2EYZbFlGBLfkAb/d69vGoZKe+8jKbufQEG/VNH64B/miaf+Mf59QkCyJxg8/slmkAe/VtdP6pxCjN8MBbh3S8lTwxPaEq5sEf6zWgBk9PqAeKfsrIRA2epxxpymjzRcCnPqrt+AlGxZBxClmjjnMh9DKLk4y+qYn3KZ7jxoWIlAqzxXGjuxOnudlaOWA8IOIQ79shcH2h8kHHoXIa/WwxwyWNNnDUuMHeVo8I5Pv+Xe90GkjefZ/vEf0c3ABr6zvWERLV8M7NNylcEu6ElxoQg/1iK4yYY+RueU/ogReswPNVXEW82ubOPH3LvgR5o09x0B9R8nJGLjd6WtNCTn9v5tKncD+ay0pwT6vtvXeQoua8qEfkjXsB+L8tTjtvD5RI8Z9H07bu52siQsrMW5nNJb0sqaBazgdfRu3ven/wo6w2bV9u+sIRHDZZoiZFpXw9YQfgS2iOCFbLQ3i3FabzFsa7IJ4qXAaYzV77sUhZmSqUoXTxPhtuASKY+WJDYsjnRBdhx6A9i4gOIc8AxeFL8YBwAlQcF/vDELJ1SB++3070uxZpGJEcqgmxd4nGZ/TDS1pAzfkA1C+uuvkd8Z+iFzZfqdxqp97UuerSEdMZvxbVYXgDcSNIFDwg4EUS8AoGGMccVcZdtl0tqGAodcckRdLEr3/0rW0MwAM/JuIABbT/WcOr/VM/zG8C+ov4SeeeEXaRKkFawkNSsbA22g37Sd3Nwtv15bHVd2GDMKaIqFDN4gawMFv8fpbB4r4RjlPD9wj1TmVx1LQaxdKu8TKuUGuPiNx4MVwDAttoLyE6UUGr5pM+gzQV/WzD5ej8sJmj4Q+YUNjBLlEfsxFybxbgYVNc4rzUPi2fRfGrX13En6qD4ageE8f/kJP4bR+KolSJVpcpX3MYr98fYZx7J2RQ5DwOWJo4pTx0QkHNkFssZCGdkdWVJ9amz4JOkXeUrMBlJR+P+Rv3EZ/j+NRDPhZjGsQeMFFNMMc9u7dk2W9ylnXZlRuxzqgIS7uETOAqiuxJoCdcQ14rvWmKu6o6D1DlD5J79fajIUNhNAHOSgfugEpEJ8pN/kEoSa+594fykfyrnLlsfNqcguvZLCcMLe4OA2IlC+l1ukfj8sqNediV5U7ApTmKtnikNQwoRDpQ0aSyo6yMmpnbGmjl+Ot2ECBzGibiDt5ixGMyoXRf4n4osjYLnx750Gwvryd8/XUvQaGLCA4LYotrIO6/FzF/gFiBhwwUsKc0YPVB6g14cP31O1Lb3cXs0GOOeaxZDONE9FJVpNX7+RcsKaA72JUtEZ/hWAnRs2Rmcozs6x7s4qUwf64NUcQWU2AAAAA=",wO="/assets/Creativeans-globe-BjdyEW8x.webp",bO="/assets/Creativeans-Train-Strawberry-BUVT-GwU.webp",SO="/assets/Creativeans-Train-Chocolate-WUQ31NrS.webp",EO="/assets/Creativeans-train-hole-top-layer-DLU74pyl.webp",TO="/assets/Creativeans-yellow-fish-6BeHF0-B.webp",AO="/assets/Creativeans-pink-fish-DuScjcmZ.webp",CO="/assets/Creativeans-blue-fish-Bl9NXOoR.webp",PO="/assets/Creativeans-blue-german-fish-y0QJpD9W.webp",jw="/assets/Creativeans-angel-fish-BODy4C88.webp",IO="/assets/Creativeans-pipes-Bvp-Wk0J.webp",Zh="/assets/Creativeans-red-lollipop-top-FuU-Es6k.webp",qh="/assets/Creativeans-purple-lollipop-top-BmbPnK7E.webp",RO="/assets/Creativeans-orange-fish-B_UQ5UKW.webp",kO="/assets/Creativeans-orange-fish-partial-uPOvhRd3.webp",MO="data:image/webp;base64,UklGRugJAABXRUJQVlA4WAoAAAAQAAAASQAAUAAAQUxQSOIDAAABoHDbtrE3n9CJbdupbdu2bdu2bdu2bdsNilThG/TFg/Phfc6D+0bEBIA2K+x5c7ebDVjCsk8RMb2GtQUIuI3/P+ptAeaj2dxSVswVTzWH3e2Z2yNILHOlORRr1a2ynWrR8Q6UfKkoecqLVGr2/Rz80N1enYDRpy8tLkVYYJJ64kfw6PUE//+9kCpumxARH1aQcHslSqVESIUv0aP5TjZqDECzjyLMNcxCaV1Bibh9KD3cUQWPN6IZXG1vZqmRkFvUXPxJJPawU6GOAc1zVa0AwPa2QMgpYib6FBL5GqDiBE4Cj7sBQOgvJOoK/C/oIFKTYtXYxUsZK1gD1Muh/IwAALf1SN7lrYLVBQKucgCY8Jfyyh8AxookoZOdCjY3BEJqhBVsM1Gu+gA0SUfy6yhQ4zYF+9rBOZ5y0BOiXiF9gpMqN0gXXG0eipSVzk67kP6zMKhpfZGki3F7SRoNPY0yZjrJ8wiP8JGAwzwFOwa9JzUKeYf0lKIgN7jDisNH1w8u721mFUfamy8BiYaiKzkZUx0BwDm6fJPefZsUswWI2yfi/xPW13YGgKFGUnJ10pvef5CeGAU2ca3nnU0wInJPhvm4H0XpX7PyATTWk/TjPwmEew95mqGTc7GRF3NQemBrJF+pDfFpJLzxnZImIv1KhXFPkXx8LQ2/dXa4K5By9CJBrnDiLspcdVCkob77No6kJo9y0+pskYN5D7Qif47rcLSQdyKhYJpl+FoNABZahJ+drAAg6K4FSOgDZgvfZo2/1RAk8x3IYiplbRgQHUc8NbDzqw/IzL9FYOaprxwowk5SPllleWZuhMryfC6ystdXFgzmWNnmI68OM6u95NVnZoG7vGoGVqa7yiuXxcpYZ3mFfrIyyEFeRILISCc7eX6vGDHWt5Ln/JCRzDKg4AVGUvIpsVlg42WEEjN4Ns4HKTGYkR2+SrTk2JjrrkRpExs97ZQIzWRCrAVKOjwTWcgurgjsF1h4E6PMXJ6Fi4HKdOdY2OKtTKVcFqa6KBOeyIDYw14Z22uC9v5WAYWX8NpLigErK0U6cto7FwgK58/V3iIPpeyeiZrrbKsUrOa1pi8Divc0au1eiHKlMrW21Vs5z+eixkY5KQc7eG1x9WxU6GfSVkIEqFjqr7aO+6vh/EFbM1zVgGW8ptrYqFIvV0Omh7Ggqsf+35pJ2xMKKjt2uvLToAEh/X5X0GL9Te9SDaoIuu9nujmCRkNbr3uakqHnFBBNOalJ50aVAk3bl+m+7Oi9hJTfaRlZOp1Ol5mR+vPbu2v7pjYPBxZ98lVo3Hv87CUr16xesXDGyM51SkW6WIGKVlA4IOAFAAAwHACdASpKAFEAPpE+mEelo6KhLNQM4LASCWwnABLlDgkS9l/J38mfk7sbbAkXW3f836quW59d3mI/jH+q9Z30Pf6j0quol9ADpa/7p/1sJd/pMZff0d7Q8n+jzNZVkDVvKw/TwVIftPpoAG/KnA/GXRB1+UyrQOcoVxFDVsBG4gc2BuYo74ptnrPy8OKyL8OxgoNIZCXhVZpS5cEGYd4bhUr/CusYDxJajpWrvd25fsKzPO+YLHXFkEqyjhRxO28uXibB+RywQNJfevjJTq2ZdOfbYIdEX+rCSpFAfVxiuGM4VheddsiPtAAA130tMI3/679n2gflFxwv/7pSHb+8PuO/q49yxom46mF+oCSsNToIj4Iwu+8BKbYiCJoXwcs7ys0/z/zQ2kGNzfZkzF6IFMfGBVsvi1MwTj5dQz4QXjS7T5tWtogWoEQyJ1aCqeWpWCrI93IrrHVY3kgM6Ebd2IJteu3TuG1/E8vItI0ZI1e/L8vjvFOnxANv+EMj38+MR+pGY7/+nkzxd4+XjbusVy9XEFpBmRlfLK4yV7haFoGCnty892V+vmubGRca+kE4M3oLMwe59vi3m0Hy952Axb/pKpp9x9xzLtrg5JliB/yNyWbSd5i2Ztj9E8ZZ3qBE3olKfsT8WjJp3SsHeNZ/FKeNWh6qzjxdwe8k1SQcohtGP8L+1PZD5/xV/chxBedn0gQhxRPwKlvKVt7u1HkDV/D/6u9H8TLfIupv4+0hcfAgxfujKwxwdPZqcCYJmeSfif1M0Oc26bDK+Th/QCWxlT/prsEkm4+Hyv9Vv1Fs2awN/D1lBD8f/PZuUh7cFOI6LJs/hd0+VpHKswFL4fNN710VYcPavrPkg1DkPGb4ZZ5Et67eKPCynxAufQUKIm1T876AF0FR/ifWBvhCupoAa07301MTezx5O5QrXkT5b8eZuskyLGF5c5MIKa2wwdPYC1e9aZMhsKHeDjNlMSSqg7Iiax+nhCRHpPiPyixbs9tn3JBIgQvy+o0e38oef30jNWH5yLhsf8lw+/In+3hTaBz+3iPfJZ14esRKIG3EQbAnM178VUVUO95zcXiT8IvV8S//xGrrqprSNrEBSchQoxX9uakeRyjL/de8iyL9bpyvArux0dpLdjgVjn9SK/XFAG3r2kgAZaD82Kue/iRSIfGp4iZ1D+mpCR62KMFsFadpVqPUHzIWDPERou6NhWKO7m1sFpxZI9tN+XLvjVJydhVxGPQp9nlFviKVG75i+1X9AHO8f0VC36DQIeRVk2UaoeWl94Q7mJDEmMBmnUtbl4T15QWTcWbq+4PWxXvgLHAGWy4t+Aq+hZtdGMxEdgzkg/4ALgRV5QZ7ctj8lrpxjBni9olbreScNmqT8eW5Sc9O+tCx4LbFFg+v7bqL7km0oYtW6ubR22ceZqyCgjWffzzxS7Dk4OuytbQHGS24oRE9oCiyUHnn8IQB7lD/xuGXSXtnbWMG2jTVn5DchYkMn8JeL9m9jcVZRCAd/9+fAH/KEjP+gtl72IrvoSruBrrcd1VPcVRkoIpM266mpn+wERfLY5Jj5cubD4wI2vTfzcU+GlPvWXRUn5UAXZMsUItgWZODhbW/X9zgO32iJzt51K6jA78XMydxJZP4o2pnGl6M9GB+JxBd3yBmjQ1GqmtVvIVdHIiqYVL9nWUWZmPtgVllA8hJIBXN3oxdJWySmH/+IonauqPpW1LFFacP/oQc2k8KnWvJeDgTvpoKS7zkb2ZPyoX1kzt/GFzU+98KU4ywxZp3eNu660Uw5TLABE46O51yhY8tF4PSBA/UN4Dgab8W9QhUuKu2ugTwOYEXyZWbkCEpGg6m3y6RYql1nRdqmEvpvsYcu1p/u0c/9gQ7GVh/HlodPHqE5cGlr7bJe9K/J/2i16Dk/B/oWyNNGUf86A/OKXKGlKJ+OUtFsTU7zpERzg1bj+CmkqsV6QEsgKxPx54LAHD5LXMXa81WUFXge42J0wB32nP38AGSt8AA",DO="data:image/webp;base64,UklGRhALAABXRUJQVlA4WAoAAAAQAAAAOQAAaQAAQUxQSEIEAAABkHZr29nYE7qTtJ2OrWPbtm3btm3btm3btm2fsT3TPh+aJn3fNyImAAylols+nmtigIBS2btE9Ku9LEDhG2T7oYrEkdHdBYDrelK1LvPiRgoY9323N6TWcWr0vjw3mbcSfWsIv31kN7GrxInLRCL62hiNouxZFntyUuAFEX2oKM0hjceyc1LpHxGFdMh+S8u9wpyU+05EdGdepJb3ZTkJPmwh3X9rciJVOB+TbtUR3pQTIOuw7WffZmiKas8NgIDeSZpievKEphZNcf0VjkwzSHPicBNHAVu0pYx35ijXOW2pk+wY/BR2RZ9oS5nkouLdfVN/X2blf2pLm+ZmY54UQilzPFlVi9aWMcfDpvZPIkppoDCqn6LNutDLZlYKEdEKH0ZtLdposY1pS5rNy7yMupPOpd4AvPen26RVYtRfzwofAF57VaiDwkQeqmeljcs2tWFmJsZRelb7AjBsSFOZ7MbENE7Pej8ATpvVZntwtTUQQI7LFpWpbmzG6tkVDKB7KKkOd2YzWlcgUO6hVa2DwkQZqmevq0vvp6SeWglMpf56vh86F0V2H+Rig556tE91Y9SRweMiYNw8w2HPq8is6iQ5KHFXGTCvGumIlN+HmwWCffkfehJCX+0fWCYTeCzxSsePSTUKBjmBz4K3ddwpDH5znNLxtAhHQTt0vC3NRYCrjcdiHR/KcGBsdXV5MABlnI7P5TjIft6StN4IoJeO71XYybW+Ef1sAqBphrY/tdgZ2oYSWU56ANUjdNRlZ2wfTkTfGgDlPmr724Cd0uI/EaWtlJDzrI6aAMpVc2Eh1fhCRHQ/r3+zW9oS1jfN0epJfFsWyP7AJvnb15BkbZQY9j08g55MaJjZMZKcrduBWBvHZyRG/b05q4JR0iF7dz0TkZRBHKYmPhiXRdFgzDnvl4X4tf6ZHiSrSEHjQ4j3N63MAJTi10hAy3hXyNV/kZDW8W7B70nQf40GkaiRCw4IE7NquzD/R3XKEOVHW6/3wrRUDovytZF5vyifqps3i/KurGmxKE8LmaaIciubYZAoZ32VDqLscZHrC2JZbZTKCpIyzYQ8SWLE9zUg4I8YUU1keD8TI6SEDPeTYnzzB1xWifHICJhGCmE9ZgDk1kKkrzAAKGsRIXm4DCB7qAjxTSQAAXdEiCoMAB7rRfjiaWMaLMINJxu5lgDWrU6QAOT5z1/6CINK4Bn+kmvIsHWbwV9IIFSVFvzddFZD8WjerEud7GS9zht1UOy4L+QtuQDsGjrw9tHTnlQhjrMDLvaQ6xpng40a3BfwZS0jaTB05euHPzRKFf5wdcVDC/z3c9XfqMnQPo2fkIFe0O5Way8vuys5Qa/iV3NtKLuUw/X9JDhQcc/dYdcvFkk3xhTzUeBog1tQleFbr31O0GMJe3p8Uft8XiYJTCWjyeyZq0KLfuNnL1u9dtXiacO71C8W6GI2KdANVlA4IKgGAAAwHQCdASo6AGoAPpE+mEkloyIhK3ZriLASCWwAnTKz+8+v/jp+VXyd1j/K7FUdf6dvB+uzlovV9+y/qF/Zz1v/Qn/nfSA6k30APLh9mv+6f9e2hc+fDnyzhlrrfq55C/ExRkTY4p/7TYMtIrEb5JUODgdI6yvcJsrz7Vyt6JxG9GaRva4NVwLoUUwWmJ2d0LQoj1W9x63sNbaYtA7m+AvaM8ylncewp7qg0cLBJhf8Qx+TM2m/7ySl211XWxNvlVbM6tVeEnjpAyKC+KM5kPyAwEElaSRXOBMcH+JCT4eVso23OFGSA/DnP9xTYuAZac9gAAD9s8KJ0+Y1T/6X7u68On7Jw/+SaBL/+WGENbZRWC1IJjpKpPudGWKdiTZFE3Uw/8JXvy8r/M1/CDyq7B1VBeVyREaAcMZtkwriYpVWUXlAdgiN71QHbrRhUry/vPwQ5/RPJ9DMIzSCH2nEN5QnkSCux2LPhb9S3CwNelBluWP5mTG22yUdKVZBZf75FWk54PrXT432W+pO/mry28UCAEBqj7SDLu1rt0KSclPLroECU8V1/gcja8Fyzu0wN6iZ7g3/cTNFM0Vru7FQ9znmB8hnJOln2LEMJMWWPYQsbC9VujUFLGZqqzQ00O6zXMrvjF9724ZjMiG8UMGaC1eFBM87/vj9rINsDbI+ZBpbiz/+JQ8w0nV4f6zJ7MdPLjHOvPn1z5reQTGnzLNSECGd+1IaaV9TbG8NLtZvHmSfXaOGeRk4kNYW6O0ABEvWU0juEvNkZqgDQ1+GeF0p52Okb9sqCD2nFArGLo5SjUfBwqp2LxNh4nHisKLQtkVoO1ZOwILwStoJqUYzepZKYVziDqlLtdvrL1z3OhxGXrueuONBKqX5Tb6DZdFE9ykiJ/BtJeltping7ZXxkD5N/IyuZRPikxz8mjDyOO+3U9aOmOWCUVRUPcuV1pFvg1v23s9adMT+JO4hAJ1+wyKx/ffQB2zwd1Y9mlc3N3NMa30VqaDSqiFqXnQRaedzcPmQNcx75tAmM0TWV5dB+YHW4FMhuo3mh9pj/LYRBswlRWkUjrVTzJmJpP3aH6UsKKy2XhsXpx+v1Ne7rUwynoyOiz1N0MauBnoNLKl57U/t+34HlCEQK66rfkbRzkmbQpnp3hp+rVTfJvVJlb4AeJ1lr/ShxeTUj8E+h2plUVGxLnLR+5RoBwAARVA86gSkecd7inDUFMUA8zZTsFrYGIhwRYS1Nzjeu8F4EWzaAOW9NybnJP31SKT4FuTAfcTxVY27ztq3e+t2ngWc/evlmZo/Nd7nqQFUFZxavarsnCz2Lbzo4CTehZU/TLDy7aIG5jNy/imppnP4o2RMFW2LCvqebo32ddO0VNCmjyo39CJQRXOUxksi91vkR35FAWf7M6+f7Zwokp1uBhMLeyfKW0B5APhqcqoOACNudPMAy6wbmNtR6j2WXyyf27OYT+5ZRRCtg77nfewnx6nRuR5SNcDMCmaQ5gEikgzfnMyL1dDGhkEqm38a0aFv6hEA4xfsg/2t3AnwkAXVUhsNyz9E+N5Iof4ii/X+BCu4c3qDrRe9+sk3Q4N9c8VQxDKklu6DAxgy219Q2bSdqjEhfa+edrPmhvc/08PXzYUaBAK2qQyNw830cE+2nJZV9vAEldr+/UfDYvH7MRTnWwXCgReMbHUoKZgaupkT+l1alMWeO/Yax8KMDiFnByizPSY+amOsdTtClVLLLE9dEC+DTQqmyPUVDekDEVL0Q3x6KeKLEuoHuxRup8oxXvW++watki4jLZfuFtfxXt0i+V5KzYf4FajDmditfMex/kWaewTdvyqHEB28h8CJfuJfFea9jJwur67vLTucaUhw6rh1aJDSEW8HWlL2U6wMt13jBPfyb3fytgSShw66XmBwkzE86Jwd/qBlfEVAYRvFf797LBxhekdHfz8aK19IYkZMOesmf55npegJ1qr9UnV8x6djEr7+/+WAJqTTHmZU1vFuqwszfpaZQUpOx+jpKNqmEdjyL5jcpodYbZq2YGFr/CbY1qCk+tf7XpHuY5ALI31HvSwxGKtdIeNdSN0ijlvBf55WtW50WNqq2vCSrt2KGjwouCYoWcLA8DokHKmY2Ihs8wQnnM7VRMgjDDNXaZQu6zdrw2+aobzmsAGzW/yOQCtnr12mNPnTDzmBPeoI0gAe1btiwFtiiZZaQ9Clnw7q+lzZ0wC8hRqAvG5H/jHrc5sRypr/mIN7U1uYJXG3jxAD+1WQ0BHj7tf8GgmUVAfDGAA=",FO="data:image/webp;base64,UklGRioLAABXRUJQVlA4WAoAAAAQAAAAOQAAUgAAQUxQSI4EAAABkHZb2/HGE7qC2ra7xm3HNoqxbdu2bdu2bdu27RrJ9SFv3rx5n4iYAChuN/BAdz2E1Cz7vSR5uCX+ZZo3irGzXgljImY91siqsO4DSV6sZbUpd9Dr2UnI9FxE8srMgesM7Gyt00tRdFmM54TN/b1M8t/g1xml7AGUeZVRwkq3RgKwO0EDz7gCsW+4OALS5bhPKX1s04Qw4NYwAPW41HcPGyLoZXozyDyUHqaIfZdrOeTvfSVPzwAwI61GlfKcrjvzpzLk9mUjJcLP8d+cCrU3MfnXegCjef958L8Vk7MrApry7WvaSySytwJBd7k1CgDaG3hZB0Rf+zrY4fWPzPZA9BGSZwNNarC/Ajs4TwfJcUyNAeAUCL9vXAfkesftvY9wjskAdrasDA/DrONNzoJkjOFfNOwv/SkPrOYtk52sJK/54/XeszOjc/ftXtIEtYyvvSXqcArQmXVQ4zp5AkDw/3cusiLe3vmQ+Hp/8R9kRgUT/VnGm2j2/w+Dzb1z8PhF5tQHMIVTILtKVoXYbRy7jCTnmaAul5oU5DogJr0zdAMfHqsNoELGl1B5rgdfPvrNCRWffpr36YCE3dN3zgCmshIQ/784AE8ACH3C0bDQIb5aeR6Fi7d/yikJTGMlwPX1HR1Q61sIpB2OMy23JQBsnxvaA+N4WiqJ/YEkjgRQ7k8JKZuV5H17bbyfJejN7I2bDJwl5f9rBzDDWAqA98e1EgEbePvkbgzlOoscNpPkWT8pnH/npLn0wRUAWnOtJ2LGfeKl0CXr0OvkLYtg02zjnkFOMDuTpX3ST0Oyb/rXh9n8ONIRKw7D4/V4y6QLJFUO1QBowT7lOVsKcbOPrG0RAKBZdp9bDzyVqXEyh/y/v7EWpblqBLubkWk788GOcCjaPoc579+nk+cqef05v58NLQPcoWzuv9xRwdOneO+7NI688uUFSymh9EQOBOwBOPX7x3SD8Veoei48Azo/OVISQPFXJG9p1XPqrR4byD8N4uITFpB80rFV07rVSuR2VsEETml0hGR2cpYhi9KGrNS/z05umtS8dKROKbvcrde+plUNX64urOGnQLFRZ9Koyo8bGjjIcqh/IJkqvtHW0Vy9y1T7xUoSHouNVH9KNwA+JymksT10Oyjo59B4gyjsNo3CTp4vTp9uwhiq+r0QJa0UtonyvwjWi/IzH5aK8iUSc0R5H4QJorz0xABR7tuhrShngERRtgCxWYIsBEJ/CDIe8H0pSGfA5aYg8YD2kBhZBQAsFuNbMICRYtxyAdBejB0aAGUyhZgKACF/hOhlYvdQhJwaJlgnQnIeiUEifPCQqGkU4KxGIvq7AEsALQCH2wIMADQAsFJ9GWUh3Ut9b/zMFMpU3SmNGZeHqpsKs5oNqmtuDr3Ulp5bRpl0lT12leH2TmWrIHe3yrrLGq6u9NKyymep6qO7LIcbqjqukYUparoTC/m+c3+qJW2uNyzOO+OtGpI3l4Ki3m0PfLfS7UkxUFwT3mjhhU+ZiiS/PDi8tBusHV6u5bStp24+e/fp8+fPH988unp0/ci6xTxhOVZQOCB2BgAAUBsAnQEqOgBTAD6RMpZHpaKiITFYnRCwEglsAKwyy8ZPtn4zfkd8rNofyn4l4gIz1gf1W/mDe0eZb9gP1g9570Of6P0gOom9ADpVf8F/2MFA2+/LOIetn4VzGEAHVBalioJ9f52POp9Z+wX0pk8194Ag3Rt1oT9Q7i7K/HSez2PKcz2SPipT0i+TysrmdFsF/+UCehfJ8CVPiuFo+JVWBjmbk7AAhrjT6CzlE715//7daXuhR1RXQ3pbz3vxua8Q53qwsp2NEH4XYoDtxowr6keDGqzPAuo96PryM3EqitsxRAAA+eunuPo1nvn2ozaGUbXllZsPONaqFivo4NB5H/rdzdYKr6/+PWf4yZ76EfAMH+hDWn/iSSUmP3z2XDmYodWyIWnE5vaVnuImnS09A0bKvwAFWhhOnw4OV3/ViuhkGxcY91jBU8XVrahGf1jlK+6VmCmK+S9Rr135STDv/f1oruM76/JGRj48Jo9H4zOnkDbhgsxyqZPnSdd++3QIhLtGU5Z3UXpPSUmmAhTrD9IqAk1zgE/Bx0300PxzgCoqG9ORuX9fYAxFpLZJynS0bcCX/i8TgX0nHSA2g0hOS5zAx7lGBeItbwiFHv/Ro4fOe9PTxo8fVETZa/sn0B0ynsnnQ1hJYxwLaDN7+rUj2hO/2LKCk6ZlRgUmfOfB1139dGVlBmcSdBOAtl9W/UBjUX3Mp6ZVsZzPwfs1fC59TuE7k9mEEBLnJx1wrIzaxH+oF/utMEbr3JTyUVYGi5Wq/nKj0D0sTS0er0bLe2Y1d6Wd3OdL9Nrka78Jy7eLnxwAniB846hl9uKetFFwMWwgdOZfcgSwNR4JybL0gb7QJXZftCAzXQKUehu4I6aJbOC65m+tpXpDXSlceFsZxBbklgV2MINxsRJHO5O928kYhJUtVekrFuVvdbO+fX8cilj12eVrQHMFs4942yVXOBNc/+JrFDTun4jXlMvH0/y+Nf8BsEZ7x+imxEErEwQnsqglFSDr/bg3WFW9JoBWWOkDRs4fZTEFiNHjMH8NV8JX+Dn+QeebqXIulwq6CZVuMZBv1Y81mH7rfzzqT62zg/l8Qa32YlxcovlR8BryTf+XL3g4ux+ak2U9rxPQaY1bvA+QGOMU4FKSsAqau7suy/Y1JBmTM/YtYFjuS3QwwAodTrGy78uSdIG03rVxWcEoALKkPkqC5Kcnhuu9CwEz4WPAL5hsNE8StGCQx/AweAp0pwuwwGWroxOc6fdg/5+wczo89xkGm2TZxtK4r5Q981zVvZ+l1bpP9KYsarchlCIKF4+HV2DneQMajHXYNVet50OemK6ncSzvQzCfOsFKF8Vn49V2wnrDXQm+0zOQ/fR9i4zEQzn7rDfFq1cukIgBptSJK0sisBMMcn8cn1QH7Gu/X2YnaNZnq1hzzDfi4NhsIkk4kXavrmwy3xb+POfMYtCVc8WjUG5X7pMJZ0NLE25/Nt9On+Kv9raCcBHdhRZa4spa6Egkm+6iHptNCf4pUw5k5/5qJSj6zw+OAZ78S0hZ2nThrPgF7tLMn8wHYGpRIYxn9OKCcCUSLp/YzwOJErN+hzKbjx30mIh2a1ntx3xT6ebtOS/AzL8TCmPAHRoz6dEZyx/izdNzLX0kh3Xpb24fyNKuh3JI6y2GpH5qj1zFXiPtDjZvxgx1f62e1yMXOKggm43bNlq6zB2FZxxU6y/4fMtZiWKymp9wqN+B53nV2Lv0A8ZcWiSFtS/xFPGPJb67SbRU72Df0RnBR6yDj07nAEwEQ1GD9WjwMKbQTe7QbzVAPX33DwheH0BW9xlk1T9dpvLM/LHIfTjG5aLo9ifNFpKkhwtjWSsl1YXMgEz/HMyOLppfuDu6R18K4aa1cJi2HjoV0BHPQj0/2CGcN9fg0AXfGZK2Uy6eLIt9mRvviZwv8TfPKuP+EdRVIdh+xkwifyBMrNJFCjKaIKlM1PhyGK6TKiA+otY7K97TcyJQGa0Vpe/JK6vstrVGU2yVKmpu/EaxNxC+TMLrt2c9U6kSZ9hnyXHhurw3wmDYEMVkdpF5HZs4qZDHAOZC54YAWh5ht9DJU2BOrEj2sU6A/9tRYxBOWADHYXsdO6XtLcqQN1d2wFZCeTXuzjOPyBNIk8lbDRoZmhzgz1yuKdfqILY5b78TcFvUuTsiKkfCTEGUybBwPDwcrK/C9j7Li7C4rC1lTlzgAA==",Hw="data:image/webp;base64,UklGRhgKAABXRUJQVlA4WAoAAAAQAAAAZwAAQAAAQUxQSEUGAAABkLZt2yG3U7pnd2O7jWrbDGvbtm3btm3btpLGThrVQW08H2bed2bzbkRMANTaNF1xLSY1OfTUrHq2MOGGwdHEGTfN2WQVv04qo8qYqErppDra2SQVTCMN+wln0EJ3kbQcbaMXq2XUocbqWpCW//zsPXVCBRDR8cIqpBta/Bhs6+7iKhS2E9HLBnwV/mhwrBZsXW1dLYVyeEhE35pxzSTVWa0A6J0tzZyFQoGXRPSxCof0QNX/npDbSbDSC4W+RESRNqzCX1V98lRAsR4SxLZKJCKaxWpJqj96KbTZfq67YFgly3JnjFX3t6rCMfp51Vew/jLqxlihjqbKvHOJThsEG6iwg7FVgwwXACOIaD5gIdQMhRCZE7BTA9oJ4DYRjUGDvg3KCnRI4TWA9ef12KIFzUCxn0R//WrHJz8fK45FgsJ7YFlqWWCJJjR0BRHlHP1FREPFqfmPUf9jKQDDtOG9UVqc9aT4Rno0GQAaGemQAcL65ipFV8l0khX4YpRbthB3Cymfm3UGct0TI/w7ogd0tu7FKtX0CwquU87XUTOXLjvuDlRT5zdj0dnJClhghF87V+059zjp/fc//4mIfn9Kv7Eg2FaLcRlEX/ua89mGE7Pl87ZK1f5pp3H8/OKqlhMR/U/pybeBmFluKUGyVr66B3mMKHd9MaBQu5G9SygsJcVHRbm6EfsgMgJlcW3RPc8R5a44+ZGIvl6Z3KzdCZLnpGa24wn6zFEfKS1kZyfBKjrvaXi3oJ2dxFE3i9gPdQgdJpt1FehsAgLA3TSbOJsBBzbLauR6Q7oqXKiea+gv4jwNoPdjmT5iBlD6k2gdwZl/L/HmFgVQMLMgAPTItAYGCbYcbLN+qcTdF/JbC2T68IkAdgr0N2EAmB79nxH/Zij6DXQEgIbZnoDNdXE+L6tVyMXWybfusMOvSeUVKyW4hpcHgKPHAbg/E4aIvqYnpH4k9Q9dwN60Q5bvXWcAXs8F0viRO5Td9zkYPGXo+KEIgPx3TcsVVzCtkrqDuS7GDoDjMVOyzRrmDIwKkRi6S3csAEiz/5uKryMBs1PVGHapnRiwvn/VBgBavDANT2sBkB4MYGBQsiUDdjdD8wGA5y4T8GOBVanjAA5PYulD5rJgtj+xMuStwkU7WxWYdBvAmVEsVPtUiQUsvaSXwXpshkh3WwHA9YmA9LQtBxZFW3LADahfHwDcp6eJcqudAQAKvykKeKYW4TGP2M0DYEjWzkIA4D7yuQDvtvtBefNJAP2f6nhQ/PMIPpQ89mpbFQCwaLr/fZ76fGmAJ5gNP5UF8HQU+IO/t+IDqu5LvT2uogGAV49jr/JI5tF+RcEMroXjYwG0yHRQgW5fa6sA3AdfS5sARbfmy+5nGynr7uKmLuA0Sx4KewCGmDFQPSanopqKReHsqST3qT9+9/30Hxp8T7u3c0ywF1Sue2YB+cxIc3WY+b6SzLkaY/TbU00seOSSYwn/TsNnrdy+//DRw/u2rZg5rINfMQcwrQL291Oa/qkY5P5fq0PLmW8KASifM0engOJLo+N2d/blMqpPp53RCTsryvRr39WCvHjWSGjbwBUAaoTfKaMAWDVaF5LyYNuwoCL2kjEqNRq4/m5KyIZmjpCXuxdWAvLqb5dB8y3NAFivz51spgBAKtFz3dXY5Fi/QSuHWWuk2xF/c0v/UjooOi/MXmMFxUGzof3Qj+0BoGVyZDuGomWRmo6jjuy0R7uJDct725tJgGThYnAKGDVMAnRmYBecl3w7AHmyY+4cALBbmP20qzUHZ8cr4QmJseGhIc9CIhMbjky+OUECb8FjGVdbIq9Wjb9cEAAKLs9MWFxZHaB3L1ktoFHLVo39Ktla20Jl4dlVkIcd975qB7ljlzOpT5c1ya/GpDarqQDAu9eBqKSHR/sCTiMa+troGHprtxKBPiZApUXFXssmS3A9FpUc+/T21UsXLl27GxKTmBTZ1tRwWhX1a9tn2Jhxo4f0bOVf2scG/HZOAlXb3cCKz5iWfquTpgnktTkhdntrV6O5VR2yLybpYEs7gQD7ppsjky9OCXRX1+n6tlKN2vYYu+rk44SEO6uaOkF8i5qTLyamPju2sHdgeTeO4qNW1jodeu/ctmkdKzrBdNpX6jr34O2olP06lqAAVlA4IKwDAABQFACdASpoAEEAPpE8mkiloyKhK/J8uLASCUAZ65AZWxiHwtvzz6DwY+1//BoJjlXc9r8B6IAyTExsg5Mf4sZtsTtIwpXNTRKJjFZ9zZj2lQJ9xD9OXk4a12ZmBEJTKZwehmioTWFx8E4VeML4UWilypw/uOxFfaXzbCjXOiIvxcs5kqTzup4joYosLfqllIavVXhtmkGWPi/rxYl0k4TVZz9moWEBXWEti4AA/uRcjnEUCwhLjJr7er45k4OLLTbgA3K8vbiEofkdXVygsS9ypL1nOBTnIIPUdVK6b+UyjQt0cR/hVpzTkN/WdTTJVdCQbfBJa4Uo6PwSzUWzJ/FET4dM2l5HOnWQtrU/oQSFydHx0VP+CYcAjGXjE/yUH8GJpEhmXT7Rvjf0w5YP2m+ueURQDfSJpARkyQgCFsuVrii/FxHHn/BSLAR7j10X0YE505lvj7mDNa9AzCSSydUlY9bsM7/Kn6AfrW7d7N1zu9Ywmzsp6WO6/Wp1MWn29rpu5ICEO6eqHRh9c9ZDugE9KHvv0HGuwwOxLoDlVAT2ReWUrkMbFJLooc+l8Au19E3KKczQwNF1Qn4rj77BCm/L0KoicNJIyu29eqaZug/ENdeQXkU1LNBFeR6AhzW6Rzzt3rEIva3ef3oM8kaVyjeZdPSrM0ysXLoR2KFFRM+XABGR//tmgO19gjKtuydm3BVd9OGzolwmXKIks9bzffYgLls3UbOj0H38k2wGsmz8vicjA/GNzQoVwTSDOtUWsKr/iJ/gy2oo7DNKgwhPxs3A6yPSbrXOeNa7U54RWw8Ej169z3h8gdyrfJB/7NZOWRqvAJgwcsNZ5/RfJVDC2YaLAunFbyPt2XrDsji0+F+jZWvyvMBpwSyzClD4vdziFd0AqYOZpnU7whmsBlT4gFq0imfl0MuDTx0K2iT1x4BGDkE14G3aBXpkPAcP+XZZydN6XIbxUz0FfM+/dMYBjPIrVMO2vFmdM+EkLI8K9bvZ0FsZP7xKpU9YaUwzx5pRwNgmdHrsj6/zFpymSFVj+KA0rJGg8skwWKNFx2aPfR+nXpyxBHXg4/cjP5G/cMbIBNSJiBZN3R7LTpxkY2Er3b95zHoZY9fbsO0dskPgsASQD1y9Tn0ITkWDdJTQtmqWasncG8WufKROm1t/ytxt6Ez/VViWU+43VsrxthDDUlSfdvk33wEl9n+/mP9AJR7qYcl43B9BgUPQ6dWDESUoqsHyVuDAXDggAAAAAAAA",OO="data:image/webp;base64,UklGRiYNAABXRUJQVlA4WAoAAAAQAAAAqAAAhwAAQUxQSDQHAAAB8IZt29q2trbdDo+kzMzM3HowMzN68pzuYA8eo8wMGdOJpXCZmZmZGcOcmXIbsKX7/GHF1nUr0qQ/ETEBzNrWrNu2bgizqBEdn3dOWbbt6In0nJvl0LyXd/HQliUOK9HGmbo7W4XOOwYyqxj1/MxLCPxeYNfeZBaxnnPdAwR7YXwgd7+PYNaw0eS7ANID4th3Wa2qcERDZg2bz3oAKDcRKAcUcGgf/yyCWcOmcRVAOvS//DSziLY/3wLSEbxahW9yFLOIbbfyynQEzjW41tn+zCKGfHMf/ObNIFRAhTb/ZySziE12gd8E4c03mVV8JA8+6MK1itswq/iVl4NUeYpZxJgF4Aica6gB/MQsYtuz8CFIVYNXNd9mERpew03Q7ohg1jD6MALnGmpAZ2szaxi6BkGqGjyQmy2YRYwH+S/MIv6C4FXwwAqiq50wmzEeVXTgCHIos4Y100FeGG4RkkA/k1nD16HJSfpbg5BcLZXiXyHW4HEA4KBdzKpBW1hkVHRMjTr1GjZu0rRZ8+bNmjZpWK9WTPRDkeGhNlFmAeAg/rvRQsKjarbu/+w7n/7Z+bXrh59//W3YiBHDh/36k+vLvznee+nhHs1qRoWLYMsFuErVw1Ah4THtHn3v81/HTJnt9shBS3Gx0yeM+umLD8de/YBuAMBVUDc0ji2kZqcnP/x2skyduFNF+cIoqs/huwNqn80otsgG3d/4OV4m96wpBYDKnf2IEgFOVsiMGRLZaMg/YmV6aWEmtPmaCJpjEPCcIWwhLd8Z9Xu8TJ9yXEHVyrc0FSLkG8Bma/X+8FmSTJ+w6wEC3hxBAhErDdD85e9jZRFXlyBI5U9GQ23RYvoPjZVkAeekI/hlhusgVkij16d4ZAETjyrQUXnMaD3FaveVW5LpE3bchb4eMxnys1sWcGUR9F5tHlEvjY6X6Rdcgv5H65pFrTemSTJ5wmEvCB+8aBJ13p4uk8dvuQPaYeYQ/c4MmXx5HqhHE/Dq5M2ZMvXc0xyUit/zBGo18vREmTj5UCVI997wsxMo1Uf3ERKNtOYOSLO2A8DtikEG6yNEg2/jZdJFuSC9uf06AFwH2hnsXRGi34iVKdPOcVAqHP5XAeONEaH3ZJkwcVcZKFUVuIaK69BsQuATYoUAjf7sIVh/A6QK/FVU2ZigUojLJGEaz06RdJuXDlIfgq5tMOUhinC/hl94ZJ2TzqigVKBjtMHQn8Lm9+gESZ+EPWWg9CnQM9xoDgrNd3+XdV1TDNLiTfk3UBkco+RCjKOK+Gu8HvOugjR3VwZ09ZF4hZhHVcflCS7lhALKggPwL9ShiKRCiANULX6VgonbfR+Utw5DswQ6ZpOwShHyqbqODEJaVQTSowr8c6DrLpoKVQDehGjQ2MAWXQLppWvQvAl9N9GwCk6H74keHx9I8j4fKAsOQ7MYeq8iYl6F7lI0zbMTAthwF5QlhxRoZkF3NxXz+siwJpTk+Yla8YvyQJl5Etrl5dA/lowxL6fCVJIXJ/l5Ui9yEGZfQZU5IMwTgXl9VPiG4tXJkiwnHKwEYeUZVJkL0p1MTK9KhNQY/Z6fLMWtvQHKC2XQzgFxmiCMeTkNLvXQrd/EJdmgVI5BOwfUW93CMJ9XJcGDP+v15BEOykuZ0CwA+dZYJrRXoQCW1NVnTgkIi49BMwf0W2OZ6F6FEyDnKV3C5JO63ToE7WLQL4tlBvT5VP2gTqmjA2PSOp2OlkHzNuhLk9zMoD6F6wXclxvpwObMydPhcja0c0G/yc2M7FO4TkCsHowlbwqm4hC0s0F/UJKY0X0+levyoIEuLFk6END5dGjmg9y3ye1m1aSiKIqqcn9VVTnnqjpGH8aSkw+Uad3dBM1bPlBnL3Mzk/5h2qY8KAf2QDMXxLd3JrmZmf/w55PQfADa23vT3Mz0s3JvlCsoBuH9o6uSJGYV7yLn6IUiHcrPnFw1X3IzK3kkeQFjSZrzl63STEuSJIn9P3GLQK1Mi072YXNQddm6pUvHv/ee3f60xWjR6dWZudB5qdPe2zK06OTYAdp1r/a2Ar17Ow5CwFKn3ex628dD1DKn3czsvcdD4JPthzxtWvb3IPSzjDXvalK9x0PoLcy/dk8z6r0DQqu9NEy592mIncZMu7cHYqstTcvuhOBnmGk/DdHjTKt3rnAfmZXdBeFbmhaEz2Jm7RJvgWldEW+oaZWKN9CsnjZAT9OC+H2t06P/gXrRrF41wCv/8XivzDKx/+pdEc9hWh7xppjWTPHWm5ZHvEzTmiPagbgRNot0uSUz7WGiIaONaTmFQ3YHs3KNFw4FXU2KOecIh+Iok2KOdcKhqVkxx1LhupoWc3hEe9i8mNMl2CsmxlyOpUJ9amaMOZ07BPrI3BhzOOeIUbrU8w+zY8zpcK2jurLU42EW0eFweg7qlbvD4/Ewa+l0uoYNW7du3brTZUDp6YMHTx/0+DMr63ING8YMCVZQOCDMBQAA8CMAnQEqqQCIAD6RQpxJpaQioSaUC9iwEglN28lAEpKXv87/IDv6Q0+c/Kr8Vesp6UmTvQ7dTzI+cB6Vf/B6dHUq7yz+2mEzf4Dty/zm3G4JxjdpDfpiD8YFit3zvjXZxNVfLlS/ykx57G+jwJ658Nu6lot8E66ZNPUGBt5oGNi6wYmGxp1nuJDWMOhrW2DuvijtI/2Ryaa9hQ9hBnyDbl2oJxyIIHRaioNPvm5a79juBBcp12uVAldrASbmSPL9IfU1SNtY7S/pJp4AXwbvP//XRMc8kjDuSpddY6H8combdsQ9qib4vM2u4dvE2Z/j4LLlAuuNdZFpa2qJr0CtkF6COkqvCaz4Tw97SNUj0UdAz2cKN/Ug9bw48XMSplzmYaeujGhJR1AA/vshgAC55uWQvlDZG0SDGKcNJrMroEuc9FSrNJM138HPjIhMN+871DEe33nxjyOL0h3XPph87/q2iikOloojnzbcLiMSSt78gezNN2MnZ8bN4mP3WTEQCv0Pf/3Wc7e8sXehpb5u+OUuJXzxpIWKnuQyBhmM2d4QKBa5ieNHEDj++7qwTJShJQfaiT0Ww7s3s1A5+V2f3/f/3/IdTnSMUMQv7Ju6EW/1MU/8euMPsecujvm9n9ZY3BwRfaOOw04hOaik50ZyFhABXN1ktARqFioEJd7SbyZN+Jb9PQB9Q3/vzZWCOM/PhnVC8hZ//Ihs7M25Z7ASQhI1t82RkS6Dc7WyX5GAvGtioo+U0kfoO1AgJS+vh4hjBGjDRMmfzCVi801/nrApAQ0m2OSF6REqPZFst4mCmhn37ZF6TUyaMVqqbDLVFSpwu/51aFMZPqeL2/D+XpAFbKhbeylD2E0C8OC70x8QeIKb09HPtq5u3vQDfnLpTu9ggik+mzI+sf+brmCQSYWPIhxQWuL6RmDF4+k7E3A8U2mYP5PIYXndRvatMOV3wZ7X+hTs184RNDjt+zIU31m2GHTBr3GuUg+mkqixxwqCkJtMDH26g+PLfhQri/Rrqn4Wu2TzVptdtcXdbSrQ3C8XNvooS1KYM0CZVhOelCZ0b/YWBqCqyRSehwZ1M8PLS8YKgr9Am8bRYLZqBTBLM6ikQLVWnR06tJlU20yWYlpkvO3iUKp62XlI+FPMEFIe1FoAAD6qJSOLSgmwMVKlfkIcapRiaGgMkoJyEu5qMysuJPptC5Pv6LDWt4dJOYcCACO9LWcDw7zxqscUNXuStZSabwie3cXgowqoGagUwhQB3bSVJ6WNXVLIX/AMoLfhZOTen3KMM+nLP0DP+jUz2XEcMA4Xfd6ZDXyEdLN7tWLH37vv5KMa3tOep8346yJvHS7q0D9bMcN63sB6IJkOOSevqXWdn+v+vlPdzE2ilNuN0/T4Ov7BF+ugl0f1nVt9ZNe0+vOf8UMbMUIOuyNzBqVLvbWKcryRCVA1FKUhpVb8l7oiazszxGER8b7lZB+4T8mTA2w70UTqxI3ES+GoPxGpXH1BjDoZrSP6OMklvFqaz/e5+TaFXsw7pA3FFmwo9U4Sy3iK9X1+qEm5Cw9G1ZwDXpUGP8Tsfx/gicPBoPt//eiOEDWImCGDG4Q0aEedPtQcNoPDGPeUiYHJ5SRfbLCsDFnEtso5JHWVg+5zKFD7UObRPQBMFwkW14WuMhayYFbfXj7QH0Bux/5mvTOIkp6NNZOehYPEObHbz4PJU9+OuySUoCqY8r4A78OWnf6A1Ucbf6t/3i34s1FPydjBkzjSLSHu7667mOkTSgwStjhq/QJ5/02FjZ20TLRv6ZXDOsuGT9NTwADY2DlIMje2Vl95xqVNGkzDhLd5ES9LC0uXEB23//6WbkWQgZ9Gb4BEOU12B03ugzDSVle27LB2ger3EBnN6F/rrjDntCo2LP04AfJaznig/LgEPsOYXNkOwqaSGlIRoijUcHKbUmCDaYgZxVGsdvgCuDqDjTE5MZ6v6zEvvt82t8/asZmgAAA=",NO=.025,Nn=t=>{const[e,r]=Pe.useState(()=>Math.random()*Math.PI*2);return Gi.useTick(i=>{r(n=>n+NO*i)}),ce.jsx(Gi.Sprite,{...t,rotation:e})},Qy=Zt.createContext(null),BO=({children:t,initialScale:e,width:r,height:i})=>{const[n,s]=Pe.useState({x:window.innerWidth/2-860*e,y:window.innerHeight/2+863*e}),[o,l]=Pe.useState(!1),[h,c]=Pe.useState({x:0,y:0}),[f,m]=Pe.useState(e),[p,v]=Pe.useState(0),x=T=>{l(!0),c({x:T.clientX,y:T.clientY})},b=T=>{if(o){const R=T.clientX-h.x,N=T.clientY-h.y;s(D=>{const M=D.x+R,V=D.y+N,W=r*f,te=i*f,Z=window.innerWidth/2-W/3,O=window.innerWidth/2+W/3,G=window.innerHeight/2-te/3,ee=window.innerHeight/2+te/3;return{x:Math.max(Z,Math.min(M,O)),y:Math.max(G,Math.min(V,ee))}}),c({x:T.clientX,y:T.clientY})}},A=()=>{l(!1)},S=T=>{if(T.touches.length===1)l(!0),c({x:T.touches[0].clientX,y:T.touches[0].clientY});else if(T.touches.length===2){const R=T.touches[0].clientX-T.touches[1].clientX,N=T.touches[0].clientY-T.touches[1].clientY;v(Math.sqrt(R*R+N*N))}},E=T=>{if(o&&T.touches.length===1){const R=T.touches[0].clientX-h.x,N=T.touches[0].clientY-h.y;s(D=>{const M=D.x+R,V=D.y+N,W=r*f,te=i*f,Z=window.innerWidth/2-W/2.5,O=window.innerWidth/2+W/2.5,G=window.innerHeight/2-te/4,ee=window.innerHeight/2+te/4;return{x:Math.max(Z,Math.min(M,O)),y:Math.max(G,Math.min(V,ee))}}),c({x:T.touches[0].clientX,y:T.touches[0].clientY})}else if(T.touches.length===2){const R=T.touches[0].clientX-T.touches[1].clientX,N=T.touches[0].clientY-T.touches[1].clientY,W=1+(Math.sqrt(R*R+N*N)/p-1)*.05,te={x:(T.touches[0].clientX+T.touches[1].clientX)/2,y:(T.touches[0].clientY+T.touches[1].clientY)/2};m(Z=>{const O=Math.max(e,Math.min(3,Z*W)),G=O/Z;return s(ee=>{const he=te.x-(te.x-ee.x)*G,H=te.y-(te.y-ee.y)*G,P=r*O,L=i*O,k=window.innerWidth/2-P/2,U=window.innerWidth/2+P/2,re=window.innerHeight/2-L/2,be=window.innerHeight/2+L/2;return{x:Math.max(k,Math.min(U,he)),y:Math.max(re,Math.min(be,H))}}),O})}},w=()=>{l(!1)};return Pe.useEffect(()=>(window.addEventListener("mouseup",A),()=>{window.removeEventListener("mouseup",A)}),[]),ce.jsx(Qy.Provider,{value:{position:n,scale:f,isDragging:o,handleMouseDown:x,handleMouseMove:b,handleMouseUp:A,handleTouchStart:S,handleTouchMove:E,handleTouchEnd:w},children:t})},xA=()=>{const t=Zt.useContext(Qy);if(!t)throw new Error("useWorld must be used within a WorldProvider");return t};var LO=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,UO=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample top right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample bottom right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));

    // Sample bottom left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}`,zO=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;
uniform vec4 filterClamp;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample top right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}
`;let _d=class extends Me{constructor(e=4,r=3,i=!1){super(LO,i?zO:UO),this._kernels=[],this._blur=4,this._quality=3,this.uniforms.uOffset=new Float32Array(2),this._pixelSize=new we,this.pixelSize=1,this._clamp=i,Array.isArray(e)?this.kernels=e:(this._blur=e,this.quality=r)}apply(e,r,i,n){const s=this._pixelSize.x/r._frame.width,o=this._pixelSize.y/r._frame.height;let l;if(this._quality===1||this._blur===0)l=this._kernels[0]+.5,this.uniforms.uOffset[0]=l*s,this.uniforms.uOffset[1]=l*o,e.applyFilter(this,r,i,n);else{const h=e.getFilterTexture();let c=r,f=h,m;const p=this._quality-1;for(let v=0;v<p;v++)l=this._kernels[v]+.5,this.uniforms.uOffset[0]=l*s,this.uniforms.uOffset[1]=l*o,e.applyFilter(this,c,f,1),m=c,c=f,f=m;l=this._kernels[p]+.5,this.uniforms.uOffset[0]=l*s,this.uniforms.uOffset[1]=l*o,e.applyFilter(this,c,i,n),e.returnFilterTexture(h)}}_updatePadding(){this.padding=Math.ceil(this._kernels.reduce((e,r)=>e+r+.5,0))}_generateKernels(){const e=this._blur,r=this._quality,i=[e];if(e>0){let n=e;const s=e/r;for(let o=1;o<r;o++)n-=s,i.push(n)}this._kernels=i,this._updatePadding()}get kernels(){return this._kernels}set kernels(e){Array.isArray(e)&&e.length>0?(this._kernels=e,this._quality=e.length,this._blur=Math.max(...e)):(this._kernels=[0],this._quality=1)}get clamp(){return this._clamp}set pixelSize(e){typeof e=="number"?(this._pixelSize.x=e,this._pixelSize.y=e):Array.isArray(e)?(this._pixelSize.x=e[0],this._pixelSize.y=e[1]):e instanceof we?(this._pixelSize.x=e.x,this._pixelSize.y=e.y):(this._pixelSize.x=1,this._pixelSize.y=1)}get pixelSize(){return this._pixelSize}get quality(){return this._quality}set quality(e){this._quality=Math.max(1,Math.round(e)),this._generateKernels()}get blur(){return this._blur}set blur(e){this._blur=e,this._generateKernels()}};var _A=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,GO=`
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform float threshold;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);

    // A simple & fast algorithm for getting brightness.
    // It's inaccuracy , but good enought for this feature.
    float _max = max(max(color.r, color.g), color.b);
    float _min = min(min(color.r, color.g), color.b);
    float brightness = (_max + _min) * 0.5;

    if(brightness > threshold) {
        gl_FragColor = color;
    } else {
        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
    }
}
`;let jO=class extends Me{constructor(e=.5){super(_A,GO),this.threshold=e}get threshold(){return this.uniforms.threshold}set threshold(e){this.uniforms.threshold=e}};var HO=`uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform sampler2D bloomTexture;
uniform float bloomScale;
uniform float brightness;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);
    color.rgb *= brightness;
    vec4 bloomColor = vec4(texture2D(bloomTexture, vTextureCoord).rgb, 0.0);
    bloomColor.rgb *= bloomScale;
    gl_FragColor = color + bloomColor;
}
`;const wA=class extends Me{constructor(e){super(_A,HO),this.bloomScale=1,this.brightness=1,this._resolution=oe.FILTER_RESOLUTION,typeof e=="number"&&(e={threshold:e});const r=Object.assign(wA.defaults,e);this.bloomScale=r.bloomScale,this.brightness=r.brightness;const{kernels:i,blur:n,quality:s,pixelSize:o,resolution:l}=r;this._extractFilter=new jO(r.threshold),this._extractFilter.resolution=l,this._blurFilter=i?new _d(i):new _d(n,s),this.pixelSize=o,this.resolution=l}apply(e,r,i,n,s){const o=e.getFilterTexture();this._extractFilter.apply(e,r,o,1,s);const l=e.getFilterTexture();this._blurFilter.apply(e,o,l,1),this.uniforms.bloomScale=this.bloomScale,this.uniforms.brightness=this.brightness,this.uniforms.bloomTexture=l,e.applyFilter(this,r,i,n),e.returnFilterTexture(l),e.returnFilterTexture(o)}get resolution(){return this._resolution}set resolution(e){this._resolution=e,this._extractFilter&&(this._extractFilter.resolution=e),this._blurFilter&&(this._blurFilter.resolution=e)}get threshold(){return this._extractFilter.threshold}set threshold(e){this._extractFilter.threshold=e}get kernels(){return this._blurFilter.kernels}set kernels(e){this._blurFilter.kernels=e}get blur(){return this._blurFilter.blur}set blur(e){this._blurFilter.blur=e}get quality(){return this._blurFilter.quality}set quality(e){this._blurFilter.quality=e}get pixelSize(){return this._blurFilter.pixelSize}set pixelSize(e){this._blurFilter.pixelSize=e}};let VO=wA;VO.defaults={threshold:.5,bloomScale:1,brightness:1,kernels:null,blur:8,quality:4,pixelSize:1,resolution:oe.FILTER_RESOLUTION};var WO=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class XO extends Me{constructor(e=1){super(mD,WO,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const $O={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},YO=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function QO(t){const e=$O[t],r=e.length;let i=YO,n="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let l=0;l<t;l++){let h=s.replace("%index%",l.toString());o=l,l>=r&&(o=t-l-1),h=h.replace("%value%",e[o].toString()),n+=h,n+=`
`}return i=i.replace("%blur%",n),i=i.replace("%size%",t.toString()),i}const KO=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function ZO(t,e){const r=Math.ceil(t/2);let i=KO,n="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let l=s.replace("%index%",o.toString());l=l.replace("%sampleIndex%",`${o-(r-1)}.0`),n+=l,n+=`
`}return i=i.replace("%blur%",n),i=i.replace("%size%",t.toString()),i}class P0 extends Me{constructor(e,r=8,i=4,n=Me.defaultResolution,s=5){const o=ZO(s,e),l=QO(s);super(o,l),this.horizontal=e,this.resolution=n,this._quality=0,this.quality=i,this.blur=r}apply(e,r,i,n){if(i?this.horizontal?this.uniforms.strength=1/i.width*(i.width/r.width):this.uniforms.strength=1/i.height*(i.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,i,n);else{const s=e.getFilterTexture(),o=e.renderer;let l=r,h=s;this.state.blend=!1,e.applyFilter(this,l,h,Bi.CLEAR);for(let c=1;c<this.passes-1;c++){e.bindAndClear(l,Bi.BLIT),this.uniforms.uSampler=h;const f=h;h=l,l=f,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,h,i,n),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class qO extends Me{constructor(e=8,r=4,i=Me.defaultResolution,n=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new P0(!0,e,r,i,n),this.blurYFilter=new P0(!1,e,r,i,n),this.resolution=i,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,i,n){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const l=e.getFilterTexture();this.blurXFilter.apply(e,r,l,Bi.CLEAR),this.blurYFilter.apply(e,l,i,n),e.returnFilterTexture(l)}else o?this.blurYFilter.apply(e,r,i,n):this.blurXFilter.apply(e,r,i,n)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var JO=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,eN=`uniform float radius;
uniform float strength;
uniform vec2 center;
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

void main()
{
    vec2 coord = vTextureCoord * filterArea.xy;
    coord -= center * dimensions.xy;
    float distance = length(coord);
    if (distance < radius) {
        float percent = distance / radius;
        if (strength > 0.0) {
            coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);
        } else {
            coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);
        }
    }
    coord += center * dimensions.xy;
    coord /= filterArea.xy;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    gl_FragColor = color;
}
`;const bA=class extends Me{constructor(e){super(JO,eN),this.uniforms.dimensions=new Float32Array(2),Object.assign(this,bA.defaults,e)}apply(e,r,i,n){const{width:s,height:o}=r.filterFrame;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=o,e.applyFilter(this,r,i,n)}get radius(){return this.uniforms.radius}set radius(e){this.uniforms.radius=e}get strength(){return this.uniforms.strength}set strength(e){this.uniforms.strength=e}get center(){return this.uniforms.center}set center(e){this.uniforms.center=e}};let tN=bA;tN.defaults={center:[.5,.5],radius:100,strength:1};var rN=`const float PI = 3.1415926538;
const float PI_2 = PI*2.;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;
uniform sampler2D uSampler;

const int TYPE_LINEAR = 0;
const int TYPE_RADIAL = 1;
const int TYPE_CONIC = 2;
const int MAX_STOPS = 32;

uniform int uNumStops;
uniform float uAlphas[3*MAX_STOPS];
uniform vec3 uColors[MAX_STOPS];
uniform float uOffsets[MAX_STOPS];
uniform int uType;
uniform float uAngle;
uniform float uAlpha;
uniform int uMaxColors;
uniform bool uReplace;

struct ColorStop {
    float offset;
    vec3 color;
    float alpha;
};

mat2 rotate2d(float angle){
    return mat2(cos(angle), -sin(angle),
    sin(angle), cos(angle));
}

float projectLinearPosition(vec2 pos, float angle){
    vec2 center = vec2(0.5);
    vec2 result = pos - center;
    result = rotate2d(angle) * result;
    result = result + center;
    return clamp(result.x, 0., 1.);
}

float projectRadialPosition(vec2 pos) {
    float r = distance(vFilterCoord, vec2(0.5));
    return clamp(2.*r, 0., 1.);
}

float projectAnglePosition(vec2 pos, float angle) {
    vec2 center = pos - vec2(0.5);
    float polarAngle=atan(-center.y, center.x);
    return mod(polarAngle + angle, PI_2) / PI_2;
}

float projectPosition(vec2 pos, int type, float angle) {
    if (type == TYPE_LINEAR) {
        return projectLinearPosition(pos, angle);
    } else if (type == TYPE_RADIAL) {
        return projectRadialPosition(pos);
    } else if (type == TYPE_CONIC) {
        return projectAnglePosition(pos, angle);
    }

    return pos.y;
}

void main(void) {
    // current/original color
    vec4 currentColor = texture2D(uSampler, vTextureCoord);

    // skip calculations if gradient alpha is 0
    if (0.0 == uAlpha) {
        gl_FragColor = currentColor;
        return;
    }

    // project position
    float y = projectPosition(vFilterCoord, uType, radians(uAngle));

    // check gradient bounds
    float offsetMin = uOffsets[0];
    float offsetMax = 0.0;

    for (int i = 0; i < MAX_STOPS; i++) {
        if (i == uNumStops-1){ // last index
            offsetMax = uOffsets[i];
        }
    }

    if (y  < offsetMin || y > offsetMax) {
        gl_FragColor = currentColor;
        return;
    }

    // limit colors
    if (uMaxColors > 0) {
        float stepSize = 1./float(uMaxColors);
        float stepNumber = float(floor(y/stepSize));
        y = stepSize * (stepNumber + 0.5);// offset by 0.5 to use color from middle of segment
    }

    // find color stops
    ColorStop from;
    ColorStop to;

    for (int i = 0; i < MAX_STOPS; i++) {
        if (y >= uOffsets[i]) {
            from = ColorStop(uOffsets[i], uColors[i], uAlphas[i]);
            to = ColorStop(uOffsets[i+1], uColors[i+1], uAlphas[i+1]);
        }

        if (i == uNumStops-1){ // last index
            break;
        }
    }

    // mix colors from stops
    vec4 colorFrom = vec4(from.color * from.alpha, from.alpha);
    vec4 colorTo = vec4(to.color * to.alpha, to.alpha);

    float segmentHeight = to.offset - from.offset;
    float relativePos = y - from.offset;// position from 0 to [segmentHeight]
    float relativePercent = relativePos / segmentHeight;// position in percent between [from.offset] and [to.offset].

    float gradientAlpha = uAlpha * currentColor.a;
    vec4 gradientColor = mix(colorFrom, colorTo, relativePercent) * gradientAlpha;

    if (uReplace == false) {
        // mix resulting color with current color
        gl_FragColor = gradientColor + currentColor*(1.-gradientColor.a);
    } else {
        // replace with gradient color
        gl_FragColor = gradientColor;
    }
}
`,iN=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform vec4 inputSize;
uniform vec4 outputFrame;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
    vFilterCoord = vTextureCoord * inputSize.xy / outputFrame.zw;
}
`,oo=oo||{};oo.stringify=function(){var t={"visit_linear-gradient":function(e){return t.visit_gradient(e)},"visit_repeating-linear-gradient":function(e){return t.visit_gradient(e)},"visit_radial-gradient":function(e){return t.visit_gradient(e)},"visit_repeating-radial-gradient":function(e){return t.visit_gradient(e)},visit_gradient:function(e){var r=t.visit(e.orientation);return r&&(r+=", "),e.type+"("+r+t.visit(e.colorStops)+")"},visit_shape:function(e){var r=e.value,i=t.visit(e.at),n=t.visit(e.style);return n&&(r+=" "+n),i&&(r+=" at "+i),r},"visit_default-radial":function(e){var r="",i=t.visit(e.at);return i&&(r+=i),r},"visit_extent-keyword":function(e){var r=e.value,i=t.visit(e.at);return i&&(r+=" at "+i),r},"visit_position-keyword":function(e){return e.value},visit_position:function(e){return t.visit(e.value.x)+" "+t.visit(e.value.y)},"visit_%":function(e){return e.value+"%"},visit_em:function(e){return e.value+"em"},visit_px:function(e){return e.value+"px"},visit_literal:function(e){return t.visit_color(e.value,e)},visit_hex:function(e){return t.visit_color("#"+e.value,e)},visit_rgb:function(e){return t.visit_color("rgb("+e.value.join(", ")+")",e)},visit_rgba:function(e){return t.visit_color("rgba("+e.value.join(", ")+")",e)},visit_color:function(e,r){var i=e,n=t.visit(r.length);return n&&(i+=" "+n),i},visit_angular:function(e){return e.value+"deg"},visit_directional:function(e){return"to "+e.value},visit_array:function(e){var r="",i=e.length;return e.forEach(function(n,s){r+=t.visit(n),s<i-1&&(r+=", ")}),r},visit:function(e){if(!e)return"";var r="";if(e instanceof Array)return t.visit_array(e,r);if(e.type){var i=t["visit_"+e.type];if(i)return i(e);throw Error("Missing visitor visit_"+e.type)}else throw Error("Invalid node.")}};return function(e){return t.visit(e)}}();var oo=oo||{};oo.parse=function(){var t={linearGradient:/^(\-(webkit|o|ms|moz)\-)?(linear\-gradient)/i,repeatingLinearGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-linear\-gradient)/i,radialGradient:/^(\-(webkit|o|ms|moz)\-)?(radial\-gradient)/i,repeatingRadialGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-radial\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},e="";function r(H){var P=new Error(e+": "+H);throw P.source=e,P}function i(){var H=n();return e.length>0&&r("Invalid input not EOF"),H}function n(){return w(s)}function s(){return o("linear-gradient",t.linearGradient,h)||o("repeating-linear-gradient",t.repeatingLinearGradient,h)||o("radial-gradient",t.radialGradient,m)||o("repeating-radial-gradient",t.repeatingRadialGradient,m)}function o(H,P,L){return l(P,function(k){var U=L();return U&&(ee(t.comma)||r("Missing comma before color stops")),{type:H,orientation:U,colorStops:w(T)}})}function l(H,P){var L=ee(H);if(L){ee(t.startCall)||r("Missing (");var k=P(L);return ee(t.endCall)||r("Missing )"),k}}function h(){return c()||f()}function c(){return G("directional",t.sideOrCorner,1)}function f(){return G("angular",t.angleValue,1)}function m(){var H,P=p(),L;return P&&(H=[],H.push(P),L=e,ee(t.comma)&&(P=p(),P?H.push(P):e=L)),H}function p(){var H=v()||x();if(H)H.at=A();else{var P=b();if(P){H=P;var L=A();L&&(H.at=L)}else{var k=S();k&&(H={type:"default-radial",at:k})}}return H}function v(){var H=G("shape",/^(circle)/i,0);return H&&(H.style=O()||b()),H}function x(){var H=G("shape",/^(ellipse)/i,0);return H&&(H.style=te()||b()),H}function b(){return G("extent-keyword",t.extentKeywords,1)}function A(){if(G("position",/^at/,0)){var H=S();return H||r("Missing positioning value"),H}}function S(){var H=E();if(H.x||H.y)return{type:"position",value:H}}function E(){return{x:te(),y:te()}}function w(H){var P=H(),L=[];if(P)for(L.push(P);ee(t.comma);)P=H(),P?L.push(P):r("One extra comma");return L}function T(){var H=R();return H||r("Expected color definition"),H.length=te(),H}function R(){return D()||V()||M()||N()}function N(){return G("literal",t.literalColor,0)}function D(){return G("hex",t.hexColor,1)}function M(){return l(t.rgbColor,function(){return{type:"rgb",value:w(W)}})}function V(){return l(t.rgbaColor,function(){return{type:"rgba",value:w(W)}})}function W(){return ee(t.number)[1]}function te(){return G("%",t.percentageValue,1)||Z()||O()}function Z(){return G("position-keyword",t.positionKeywords,1)}function O(){return G("px",t.pixelValue,1)||G("em",t.emValue,1)}function G(H,P,L){var k=ee(P);if(k)return{type:H,value:k[L]}}function ee(H){var P,L;return L=/^[\n\r\t\s]+/.exec(e),L&&he(L[0].length),P=H.exec(e),P&&he(P[0].length),P}function he(H){e=e.substr(H)}return function(H){return e=H.toString(),i()}}();var nN=oo.parse;oo.stringify;var Vw={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Ww={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function sN(t){var e,r=[],i=1,n;if(typeof t=="string")if(Vw[t])r=Vw[t].slice(),n="rgb";else if(t==="transparent")i=0,n="rgb",r=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(t)){var s=t.slice(1),o=s.length,l=o<=4;i=1,l?(r=[parseInt(s[0]+s[0],16),parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16)],o===4&&(i=parseInt(s[3]+s[3],16)/255)):(r=[parseInt(s[0]+s[1],16),parseInt(s[2]+s[3],16),parseInt(s[4]+s[5],16)],o===8&&(i=parseInt(s[6]+s[7],16)/255)),r[0]||(r[0]=0),r[1]||(r[1]=0),r[2]||(r[2]=0),n="rgb"}else if(e=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(t)){var h=e[1],c=h==="rgb",s=h.replace(/a$/,"");n=s;var o=s==="cmyk"?4:s==="gray"?1:3;r=e[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(p,v){if(/%$/.test(p))return v===o?parseFloat(p)/100:s==="rgb"?parseFloat(p)*255/100:parseFloat(p);if(s[v]==="h"){if(/deg$/.test(p))return parseFloat(p);if(Ww[p]!==void 0)return Ww[p]}return parseFloat(p)}),h===s&&r.push(1),i=c||r[o]===void 0?1:r[o],r=r.slice(0,o)}else t.length>10&&/[0-9](?:\s|\/)/.test(t)&&(r=t.match(/([0-9]+)/g).map(function(f){return parseFloat(f)}),n=t.match(/([a-z])/ig).join("").toLowerCase());else isNaN(t)?Array.isArray(t)||t.length?(r=[t[0],t[1],t[2]],n="rgb",i=t.length===4?t[3]:1):t instanceof Object&&(t.r!=null||t.red!=null||t.R!=null?(n="rgb",r=[t.r||t.red||t.R||0,t.g||t.green||t.G||0,t.b||t.blue||t.B||0]):(n="hsl",r=[t.h||t.hue||t.H||0,t.s||t.saturation||t.S||0,t.l||t.lightness||t.L||t.b||t.brightness]),i=t.a||t.alpha||t.opacity||1,t.opacity!=null&&(i/=100)):(n="rgb",r=[t>>>16,(t&65280)>>>8,t&255]);return{space:n,values:r,alpha:i}}var I0={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]},Dm={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(t){var e=t[0]/360,r=t[1]/100,i=t[2]/100,n,s,o,l,h;if(r===0)return h=i*255,[h,h,h];i<.5?s=i*(1+r):s=i+r-i*r,n=2*i-s,l=[0,0,0];for(var c=0;c<3;c++)o=e+1/3*-(c-1),o<0?o++:o>1&&o--,6*o<1?h=n+(s-n)*6*o:2*o<1?h=s:3*o<2?h=n+(s-n)*(2/3-o)*6:h=n,l[c]=h*255;return l}};I0.hsl=function(t){var e=t[0]/255,r=t[1]/255,i=t[2]/255,n=Math.min(e,r,i),s=Math.max(e,r,i),o=s-n,l,h,c;return s===n?l=0:e===s?l=(r-i)/o:r===s?l=2+(i-e)/o:i===s&&(l=4+(e-r)/o),l=Math.min(l*60,360),l<0&&(l+=360),c=(n+s)/2,s===n?h=0:c<=.5?h=o/(s+n):h=o/(2-s-n),[l,h*100,c*100]};function oN(t){Array.isArray(t)&&t.raw&&(t=String.raw(...arguments));var e,r=sN(t);if(!r.space)return[];const i=r.space[0]==="h"?Dm.min:I0.min,n=r.space[0]==="h"?Dm.max:I0.max;return e=Array(3),e[0]=Math.min(Math.max(r.values[0],i[0]),n[0]),e[1]=Math.min(Math.max(r.values[1],i[1]),n[1]),e[2]=Math.min(Math.max(r.values[2],i[2]),n[2]),r.space[0]==="h"&&(e=Dm.rgb(e)),e.push(Math.min(Math.max(r.alpha,0),1)),e}function SA(t){switch(typeof t){case"string":return aN(t);case"number":return Gd(t);default:return t}}function aN(t){const e=oN(t);if(!e)throw new Error(`Unable to parse color "${t}" as RGBA.`);return[e[0]/255,e[1]/255,e[2]/255,e[3]]}function lN(t){const e=nN(yN(t));if(e.length===0)throw new Error("Invalid CSS gradient.");if(e.length!==1)throw new Error("Unsupported CSS gradient (multiple gradients is not supported).");const r=e[0],i=uN(r.type),n=hN(r.colorStops),s=mN(r.orientation);return{type:i,stops:n,angle:s}}function uN(t){const e={"linear-gradient":0,"radial-gradient":1};if(!(t in e))throw new Error(`Unsupported gradient type "${t}"`);return e[t]}function hN(t){const e=fN(t),r=[];for(let i=0;i<t.length;i++){const n=cN(t[i]);r.push({offset:e[i],color:n.slice(0,3),alpha:n[3]})}return r}function cN(t){return SA(dN(t))}function dN(t){switch(t.type){case"hex":return`#${t.value}`;case"literal":return t.value;default:return`${t.type}(${t.value.join(",")})`}}function fN(t){const e=[];for(let n=0;n<t.length;n++){const s=t[n];let o=-1;s.type==="literal"&&s.length&&"type"in s.length&&s.length.type==="%"&&"value"in s.length&&(o=parseFloat(s.length.value)/100),e.push(o)}const r=n=>{for(let s=n;s<e.length;s++)if(e[s]!==-1)return{indexDelta:s-n,offset:e[s]};return{indexDelta:e.length-1-n,offset:1}};let i=0;for(let n=0;n<e.length;n++){const s=e[n];if(s!==-1)i=s;else if(n===0)e[n]=0;else if(n+1===e.length)e[n]=1;else{const o=r(n),l=(o.offset-i)/(1+o.indexDelta);for(let h=0;h<=o.indexDelta;h++)e[n+h]=i+(h+1)*l;n+=o.indexDelta,i=e[n]}}return e.map(pN)}function pN(t){return t.toString().length>6?parseFloat(t.toString().substring(0,6)):t}function mN(t){if(typeof t>"u")return 0;if("type"in t&&"value"in t)switch(t.type){case"angular":return parseFloat(t.value);case"directional":return gN(t.value)}return 0}function gN(t){const e={left:270,top:0,bottom:180,right:90,"left top":315,"top left":315,"left bottom":225,"bottom left":225,"right top":45,"top right":45,"right bottom":135,"bottom right":135};if(!(t in e))throw new Error(`Unsupported directional value "${t}"`);return e[t]}function yN(t){let e=t.replace(/\s{2,}/gu," ");return e=e.replace(/;/g,""),e=e.replace(/ ,/g,","),e=e.replace(/\( /g,"("),e=e.replace(/ \)/g,")"),e.trim()}var vN=Object.defineProperty,xN=Object.defineProperties,_N=Object.getOwnPropertyDescriptors,Xw=Object.getOwnPropertySymbols,wN=Object.prototype.hasOwnProperty,bN=Object.prototype.propertyIsEnumerable,$w=(t,e,r)=>e in t?vN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Fm=(t,e)=>{for(var r in e||(e={}))wN.call(e,r)&&$w(t,r,e[r]);if(Xw)for(var r of Xw(e))bN.call(e,r)&&$w(t,r,e[r]);return t},SN=(t,e)=>xN(t,_N(e));const Yw=90;function EN(t){return[...t].sort((e,r)=>e.offset-r.offset)}const zl=class extends Me{constructor(t){var e,r;let i;if(t&&"css"in t?i=SN(Fm({},lN(t.css||"")),{alpha:(e=t.alpha)!=null?e:zl.defaults.alpha,maxColors:(r=t.maxColors)!=null?r:zl.defaults.maxColors}):i=Fm(Fm({},zl.defaults),t),!i.stops||i.stops.length<2)throw new Error("ColorGradientFilter requires at least 2 color stops.");super(iN,rN),this._stops=[],this.autoFit=!1,Object.assign(this,i)}get stops(){return this._stops}set stops(t){const e=EN(t),r=new Float32Array(e.length*3),i=0,n=1,s=2;for(let o=0;o<e.length;o++){const l=SA(e[o].color),h=o*3;r[h+i]=l[i],r[h+n]=l[n],r[h+s]=l[s]}this.uniforms.uColors=r,this.uniforms.uOffsets=e.map(o=>o.offset),this.uniforms.uAlphas=e.map(o=>o.alpha),this.uniforms.uNumStops=e.length,this._stops=e}set type(t){this.uniforms.uType=t}get type(){return this.uniforms.uType}set angle(t){this.uniforms.uAngle=t-Yw}get angle(){return this.uniforms.uAngle+Yw}set alpha(t){this.uniforms.uAlpha=t}get alpha(){return this.uniforms.uAlpha}set maxColors(t){this.uniforms.uMaxColors=t}get maxColors(){return this.uniforms.uMaxColors}set replace(t){this.uniforms.uReplace=t}get replace(){return this.uniforms.uReplace}};let Jh=zl;Jh.LINEAR=0,Jh.RADIAL=1,Jh.CONIC=2,Jh.defaults={type:zl.LINEAR,stops:[{offset:0,color:16711680,alpha:1},{offset:1,color:255,alpha:1}],alpha:1,angle:90,maxColors:0,replace:!1};var TN=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,AN=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec2 dimensions;

const float SQRT_2 = 1.414213;

const float light = 1.0;

uniform float curvature;
uniform float lineWidth;
uniform float lineContrast;
uniform bool verticalLine;
uniform float noise;
uniform float noiseSize;

uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;

uniform float seed;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 dir = vec2(vTextureCoord.xy * filterArea.xy / dimensions - vec2(0.5, 0.5));
    
    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 rgb = gl_FragColor.rgb;

    if (noise > 0.0 && noiseSize > 0.0)
    {
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        rgb += _noise * noise;
    }

    if (lineWidth > 0.0)
    {
        float _c = curvature > 0. ? curvature : 1.;
        float k = curvature > 0. ?(length(dir * dir) * 0.25 * _c * _c + 0.935 * _c) : 1.;
        vec2 uv = dir * k;

        float v = (verticalLine ? uv.x * dimensions.x : uv.y * dimensions.y) * min(1.0, 2.0 / lineWidth ) / _c;
        float j = 1. + cos(v * 1.2 - time) * 0.5 * lineContrast;
        rgb *= j;
        float segment = verticalLine ? mod((dir.x + .5) * dimensions.x, 4.) : mod((dir.y + .5) * dimensions.y, 4.);
        rgb *= 0.99 + ceil(segment) * 0.015;
    }

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    gl_FragColor.rgb = rgb;
}
`;const EA=class extends Me{constructor(e){super(TN,AN),this.time=0,this.seed=0,this.uniforms.dimensions=new Float32Array(2),Object.assign(this,EA.defaults,e)}apply(e,r,i,n){const{width:s,height:o}=r.filterFrame;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=o,this.uniforms.seed=this.seed,this.uniforms.time=this.time,e.applyFilter(this,r,i,n)}set curvature(e){this.uniforms.curvature=e}get curvature(){return this.uniforms.curvature}set lineWidth(e){this.uniforms.lineWidth=e}get lineWidth(){return this.uniforms.lineWidth}set lineContrast(e){this.uniforms.lineContrast=e}get lineContrast(){return this.uniforms.lineContrast}set verticalLine(e){this.uniforms.verticalLine=e}get verticalLine(){return this.uniforms.verticalLine}set noise(e){this.uniforms.noise=e}get noise(){return this.uniforms.noise}set noiseSize(e){this.uniforms.noiseSize=e}get noiseSize(){return this.uniforms.noiseSize}set vignetting(e){this.uniforms.vignetting=e}get vignetting(){return this.uniforms.vignetting}set vignettingAlpha(e){this.uniforms.vignettingAlpha=e}get vignettingAlpha(){return this.uniforms.vignettingAlpha}set vignettingBlur(e){this.uniforms.vignettingBlur=e}get vignettingBlur(){return this.uniforms.vignettingBlur}};let CN=EA;CN.defaults={curvature:1,lineWidth:1,lineContrast:.25,verticalLine:!1,noise:0,noiseSize:1,seed:0,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3,time:0};var PN=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,IN=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float alpha;
uniform vec3 color;

uniform vec2 shift;
uniform vec4 inputSize;

void main(void){
    vec4 sample = texture2D(uSampler, vTextureCoord - shift * inputSize.zw);

    // Premultiply alpha
    sample.rgb = color.rgb * sample.a;

    // alpha user alpha
    sample *= alpha;

    gl_FragColor = sample;
}`,RN=Object.defineProperty,Qw=Object.getOwnPropertySymbols,kN=Object.prototype.hasOwnProperty,MN=Object.prototype.propertyIsEnumerable,Kw=(t,e,r)=>e in t?RN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Zw=(t,e)=>{for(var r in e||(e={}))kN.call(e,r)&&Kw(t,r,e[r]);if(Qw)for(var r of Qw(e))MN.call(e,r)&&Kw(t,r,e[r]);return t};const R0=class extends Me{constructor(e){super(),this.angle=45,this._distance=5,this._resolution=oe.FILTER_RESOLUTION;const r=e?Zw(Zw({},R0.defaults),e):R0.defaults,{kernels:i,blur:n,quality:s,pixelSize:o,resolution:l}=r;this._offset=new hi(this._updatePadding,this),this._tintFilter=new Me(PN,IN),this._tintFilter.uniforms.color=new Float32Array(4),this._tintFilter.uniforms.shift=this._offset,this._tintFilter.resolution=l,this._blurFilter=i?new _d(i):new _d(n,s),this.pixelSize=o,this.resolution=l;const{shadowOnly:h,rotation:c,distance:f,offset:m,alpha:p,color:v}=r;this.shadowOnly=h,c!==void 0&&f!==void 0?(this.rotation=c,this.distance=f):this.offset=m,this.alpha=p,this.color=v}apply(e,r,i,n){const s=e.getFilterTexture();this._tintFilter.apply(e,r,s,1),this._blurFilter.apply(e,s,i,n),this.shadowOnly!==!0&&e.applyFilter(this,r,i,0),e.returnFilterTexture(s)}_updatePadding(){const e=Math.max(Math.abs(this._offset.x),Math.abs(this._offset.y));this.padding=e+this.blur*2}_updateShift(){this._tintFilter.uniforms.shift.set(this.distance*Math.cos(this.angle),this.distance*Math.sin(this.angle))}set offset(e){this._offset.copyFrom(e),this._updatePadding()}get offset(){return this._offset}get resolution(){return this._resolution}set resolution(e){this._resolution=e,this._tintFilter&&(this._tintFilter.resolution=e),this._blurFilter&&(this._blurFilter.resolution=e)}get distance(){return this._distance}set distance(e){Ee("5.3.0","DropShadowFilter distance is deprecated, use offset"),this._distance=e,this._updatePadding(),this._updateShift()}get rotation(){return this.angle/lu}set rotation(e){Ee("5.3.0","DropShadowFilter rotation is deprecated, use offset"),this.angle=e*lu,this._updateShift()}get alpha(){return this._tintFilter.uniforms.alpha}set alpha(e){this._tintFilter.uniforms.alpha=e}get color(){return jd(this._tintFilter.uniforms.color)}set color(e){Gd(e,this._tintFilter.uniforms.color)}get kernels(){return this._blurFilter.kernels}set kernels(e){this._blurFilter.kernels=e}get blur(){return this._blurFilter.blur}set blur(e){this._blurFilter.blur=e,this._updatePadding()}get quality(){return this._blurFilter.quality}set quality(e){this._blurFilter.quality=e}get pixelSize(){return this._blurFilter.pixelSize}set pixelSize(e){this._blurFilter.pixelSize=e}};let DN=R0;DN.defaults={offset:{x:4,y:4},color:0,alpha:.5,shadowOnly:!1,kernels:null,blur:2,quality:3,pixelSize:1,resolution:oe.FILTER_RESOLUTION};var FN=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,ON=`// precision highp float;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;
uniform float aspect;

uniform sampler2D displacementMap;
uniform float offset;
uniform float sinDir;
uniform float cosDir;
uniform int fillMode;

uniform float seed;
uniform vec2 red;
uniform vec2 green;
uniform vec2 blue;

const int TRANSPARENT = 0;
const int ORIGINAL = 1;
const int LOOP = 2;
const int CLAMP = 3;
const int MIRROR = 4;

void main(void)
{
    vec2 coord = (vTextureCoord * filterArea.xy) / dimensions;

    if (coord.x > 1.0 || coord.y > 1.0) {
        return;
    }

    float cx = coord.x - 0.5;
    float cy = (coord.y - 0.5) * aspect;
    float ny = (-sinDir * cx + cosDir * cy) / aspect + 0.5;

    // displacementMap: repeat
    // ny = ny > 1.0 ? ny - 1.0 : (ny < 0.0 ? 1.0 + ny : ny);

    // displacementMap: mirror
    ny = ny > 1.0 ? 2.0 - ny : (ny < 0.0 ? -ny : ny);

    vec4 dc = texture2D(displacementMap, vec2(0.5, ny));

    float displacement = (dc.r - dc.g) * (offset / filterArea.x);

    coord = vTextureCoord + vec2(cosDir * displacement, sinDir * displacement * aspect);

    if (fillMode == CLAMP) {
        coord = clamp(coord, filterClamp.xy, filterClamp.zw);
    } else {
        if( coord.x > filterClamp.z ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x -= filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x = filterClamp.z * 2.0 - coord.x;
            }
        } else if( coord.x < filterClamp.x ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x += filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x *= -filterClamp.z;
            }
        }

        if( coord.y > filterClamp.w ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y -= filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y = filterClamp.w * 2.0 - coord.y;
            }
        } else if( coord.y < filterClamp.y ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y += filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y *= -filterClamp.w;
            }
        }
    }

    gl_FragColor.r = texture2D(uSampler, coord + red * (1.0 - seed * 0.4) / filterArea.xy).r;
    gl_FragColor.g = texture2D(uSampler, coord + green * (1.0 - seed * 0.3) / filterArea.xy).g;
    gl_FragColor.b = texture2D(uSampler, coord + blue * (1.0 - seed * 0.2) / filterArea.xy).b;
    gl_FragColor.a = texture2D(uSampler, coord).a;
}
`;const k0=class extends Me{constructor(e){super(FN,ON),this.offset=100,this.fillMode=k0.TRANSPARENT,this.average=!1,this.seed=0,this.minSize=8,this.sampleSize=512,this._slices=0,this._offsets=new Float32Array(1),this._sizes=new Float32Array(1),this._direction=-1,this.uniforms.dimensions=new Float32Array(2),this._canvas=document.createElement("canvas"),this._canvas.width=4,this._canvas.height=this.sampleSize,this.texture=ie.from(this._canvas,{scaleMode:zi.NEAREST}),Object.assign(this,k0.defaults,e)}apply(e,r,i,n){const{width:s,height:o}=r.filterFrame;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=o,this.uniforms.aspect=o/s,this.uniforms.seed=this.seed,this.uniforms.offset=this.offset,this.uniforms.fillMode=this.fillMode,e.applyFilter(this,r,i,n)}_randomizeSizes(){const e=this._sizes,r=this._slices-1,i=this.sampleSize,n=Math.min(this.minSize/i,.9/this._slices);if(this.average){const s=this._slices;let o=1;for(let l=0;l<r;l++){const h=o/(s-l),c=Math.max(h*(1-Math.random()*.6),n);e[l]=c,o-=c}e[r]=o}else{let s=1;const o=Math.sqrt(1/this._slices);for(let l=0;l<r;l++){const h=Math.max(o*s*Math.random(),n);e[l]=h,s-=h}e[r]=s}this.shuffle()}shuffle(){const e=this._sizes,r=this._slices-1;for(let i=r;i>0;i--){const n=Math.random()*i>>0,s=e[i];e[i]=e[n],e[n]=s}}_randomizeOffsets(){for(let e=0;e<this._slices;e++)this._offsets[e]=Math.random()*(Math.random()<.5?-1:1)}refresh(){this._randomizeSizes(),this._randomizeOffsets(),this.redraw()}redraw(){const e=this.sampleSize,r=this.texture,i=this._canvas.getContext("2d");i.clearRect(0,0,8,e);let n,s=0;for(let o=0;o<this._slices;o++){n=Math.floor(this._offsets[o]*256);const l=this._sizes[o]*e,h=n>0?n:0,c=n<0?-n:0;i.fillStyle=`rgba(${h}, ${c}, 0, 1)`,i.fillRect(0,s>>0,e,l+1>>0),s+=l}r.baseTexture.update(),this.uniforms.displacementMap=r}set sizes(e){const r=Math.min(this._slices,e.length);for(let i=0;i<r;i++)this._sizes[i]=e[i]}get sizes(){return this._sizes}set offsets(e){const r=Math.min(this._slices,e.length);for(let i=0;i<r;i++)this._offsets[i]=e[i]}get offsets(){return this._offsets}get slices(){return this._slices}set slices(e){this._slices!==e&&(this._slices=e,this.uniforms.slices=e,this._sizes=this.uniforms.slicesWidth=new Float32Array(e),this._offsets=this.uniforms.slicesOffset=new Float32Array(e),this.refresh())}get direction(){return this._direction}set direction(e){if(this._direction===e)return;this._direction=e;const r=e*lu;this.uniforms.sinDir=Math.sin(r),this.uniforms.cosDir=Math.cos(r)}get red(){return this.uniforms.red}set red(e){this.uniforms.red=e}get green(){return this.uniforms.green}set green(e){this.uniforms.green=e}get blue(){return this.uniforms.blue}set blue(e){this.uniforms.blue=e}destroy(){var e;(e=this.texture)==null||e.destroy(!0),this.texture=this._canvas=this.red=this.green=this.blue=this._sizes=this._offsets=null}};let ko=k0;ko.defaults={slices:5,offset:100,direction:0,fillMode:0,average:!1,seed:0,red:[0,0],green:[0,0],blue:[0,0],minSize:8,sampleSize:512},ko.TRANSPARENT=0,ko.ORIGINAL=1,ko.LOOP=2,ko.CLAMP=3,ko.MIRROR=4;var NN=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,BN=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

uniform float outerStrength;
uniform float innerStrength;

uniform vec4 glowColor;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform bool knockout;
uniform float alpha;

const float PI = 3.14159265358979323846264;

const float DIST = __DIST__;
const float ANGLE_STEP_SIZE = min(__ANGLE_STEP_SIZE__, PI * 2.0);
const float ANGLE_STEP_NUM = ceil(PI * 2.0 / ANGLE_STEP_SIZE);

const float MAX_TOTAL_ALPHA = ANGLE_STEP_NUM * DIST * (DIST + 1.0) / 2.0;

void main(void) {
    vec2 px = vec2(1.0 / filterArea.x, 1.0 / filterArea.y);

    float totalAlpha = 0.0;

    vec2 direction;
    vec2 displaced;
    vec4 curColor;

    for (float angle = 0.0; angle < PI * 2.0; angle += ANGLE_STEP_SIZE) {
       direction = vec2(cos(angle), sin(angle)) * px;

       for (float curDistance = 0.0; curDistance < DIST; curDistance++) {
           displaced = clamp(vTextureCoord + direction * 
                   (curDistance + 1.0), filterClamp.xy, filterClamp.zw);

           curColor = texture2D(uSampler, displaced);

           totalAlpha += (DIST - curDistance) * curColor.a;
       }
    }
    
    curColor = texture2D(uSampler, vTextureCoord);

    float alphaRatio = (totalAlpha / MAX_TOTAL_ALPHA);

    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * curColor.a;
    float innerGlowStrength = min(1.0, innerGlowAlpha);
    
    vec4 innerColor = mix(curColor, glowColor, innerGlowStrength);

    float outerGlowAlpha = alphaRatio * outerStrength * (1. - curColor.a);
    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);

    if (knockout) {
      float resultAlpha = (outerGlowAlpha + innerGlowAlpha) * alpha;
      gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);
    }
    else {
      vec4 outerGlowColor = outerGlowStrength * glowColor.rgba * alpha;
      gl_FragColor = innerColor + outerGlowColor;
    }
}
`;const TA=class extends Me{constructor(t){const e=Object.assign({},TA.defaults,t),{outerStrength:r,innerStrength:i,color:n,knockout:s,quality:o,alpha:l}=e,h=Math.round(e.distance);super(NN,BN.replace(/__ANGLE_STEP_SIZE__/gi,`${(1/o/h).toFixed(7)}`).replace(/__DIST__/gi,`${h.toFixed(0)}.0`)),this.uniforms.glowColor=new Float32Array([0,0,0,1]),this.uniforms.alpha=1,Object.assign(this,{color:n,outerStrength:r,innerStrength:i,padding:h,knockout:s,alpha:l})}get color(){return jd(this.uniforms.glowColor)}set color(t){Gd(t,this.uniforms.glowColor)}get outerStrength(){return this.uniforms.outerStrength}set outerStrength(t){this.uniforms.outerStrength=t}get innerStrength(){return this.uniforms.innerStrength}set innerStrength(t){this.uniforms.innerStrength=t}get knockout(){return this.uniforms.knockout}set knockout(t){this.uniforms.knockout=t}get alpha(){return this.uniforms.alpha}set alpha(t){this.uniforms.alpha=t}};let AA=TA;AA.defaults={distance:10,outerStrength:4,innerStrength:0,color:16777215,quality:.1,knockout:!1,alpha:1};var LN=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,UN=`vec3 mod289(vec3 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 mod289(vec4 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 permute(vec4 x)
{
    return mod289(((x * 34.0) + 1.0) * x);
}
vec4 taylorInvSqrt(vec4 r)
{
    return 1.79284291400159 - 0.85373472095314 * r;
}
vec3 fade(vec3 t)
{
    return t * t * t * (t * (t * 6.0 - 15.0) + 10.0);
}
// Classic Perlin noise, periodic variant
float pnoise(vec3 P, vec3 rep)
{
    vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period
    vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period
    Pi0 = mod289(Pi0);
    Pi1 = mod289(Pi1);
    vec3 Pf0 = fract(P); // Fractional part for interpolation
    vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
    vec4 iy = vec4(Pi0.yy, Pi1.yy);
    vec4 iz0 = Pi0.zzzz;
    vec4 iz1 = Pi1.zzzz;
    vec4 ixy = permute(permute(ix) + iy);
    vec4 ixy0 = permute(ixy + iz0);
    vec4 ixy1 = permute(ixy + iz1);
    vec4 gx0 = ixy0 * (1.0 / 7.0);
    vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
    vec4 sz0 = step(gz0, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5);
    gy0 -= sz0 * (step(0.0, gy0) - 0.5);
    vec4 gx1 = ixy1 * (1.0 / 7.0);
    vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx1 = fract(gx1);
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
    vec4 sz1 = step(gz1, vec4(0.0));
    gx1 -= sz1 * (step(0.0, gx1) - 0.5);
    gy1 -= sz1 * (step(0.0, gy1) - 0.5);
    vec3 g000 = vec3(gx0.x, gy0.x, gz0.x);
    vec3 g100 = vec3(gx0.y, gy0.y, gz0.y);
    vec3 g010 = vec3(gx0.z, gy0.z, gz0.z);
    vec3 g110 = vec3(gx0.w, gy0.w, gz0.w);
    vec3 g001 = vec3(gx1.x, gy1.x, gz1.x);
    vec3 g101 = vec3(gx1.y, gy1.y, gz1.y);
    vec3 g011 = vec3(gx1.z, gy1.z, gz1.z);
    vec3 g111 = vec3(gx1.w, gy1.w, gz1.w);
    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
    g000 *= norm0.x;
    g010 *= norm0.y;
    g100 *= norm0.z;
    g110 *= norm0.w;
    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
    g001 *= norm1.x;
    g011 *= norm1.y;
    g101 *= norm1.z;
    g111 *= norm1.w;
    float n000 = dot(g000, Pf0);
    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
    float n111 = dot(g111, Pf1);
    vec3 fade_xyz = fade(Pf0);
    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);
    return 2.2 * n_xyz;
}
float turb(vec3 P, vec3 rep, float lacunarity, float gain)
{
    float sum = 0.0;
    float sc = 1.0;
    float totalgain = 1.0;
    for (float i = 0.0; i < 6.0; i++)
    {
        sum += totalgain * pnoise(P * sc, rep);
        sc *= lacunarity;
        totalgain *= gain;
    }
    return abs(sum);
}
`,zN=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform vec2 light;
uniform bool parallel;
uniform float aspect;

uniform float gain;
uniform float lacunarity;
uniform float time;
uniform float alpha;

\${perlin}

void main(void) {
    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    float d;

    if (parallel) {
        float _cos = light.x;
        float _sin = light.y;
        d = (_cos * coord.x) + (_sin * coord.y * aspect);
    } else {
        float dx = coord.x - light.x / dimensions.x;
        float dy = (coord.y - light.y / dimensions.y) * aspect;
        float dis = sqrt(dx * dx + dy * dy) + 0.00001;
        d = dy / dis;
    }

    vec3 dir = vec3(d, d, 0.0);

    float noise = turb(dir + vec3(time, 0.0, 62.1 + time) * 0.05, vec3(480.0, 320.0, 480.0), lacunarity, gain);
    noise = mix(noise, 0.0, 0.3);
    //fade vertically.
    vec4 mist = vec4(noise, noise, noise, 1.0) * (1.0 - coord.y);
    mist.a = 1.0;
    // apply user alpha
    mist *= alpha;

    gl_FragColor = texture2D(uSampler, vTextureCoord) + mist;

}
`;const CA=class extends Me{constructor(e){super(LN,zN.replace("${perlin}",UN)),this.parallel=!0,this.time=0,this._angle=0,this.uniforms.dimensions=new Float32Array(2);const r=Object.assign(CA.defaults,e);this._angleLight=new we,this.angle=r.angle,this.gain=r.gain,this.lacunarity=r.lacunarity,this.alpha=r.alpha,this.parallel=r.parallel,this.center=r.center,this.time=r.time}apply(e,r,i,n){const{width:s,height:o}=r.filterFrame;this.uniforms.light=this.parallel?this._angleLight:this.center,this.uniforms.parallel=this.parallel,this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=o,this.uniforms.aspect=o/s,this.uniforms.time=this.time,this.uniforms.alpha=this.alpha,e.applyFilter(this,r,i,n)}get angle(){return this._angle}set angle(e){this._angle=e;const r=e*lu;this._angleLight.x=Math.cos(r),this._angleLight.y=Math.sin(r)}get gain(){return this.uniforms.gain}set gain(e){this.uniforms.gain=e}get lacunarity(){return this.uniforms.lacunarity}set lacunarity(e){this.uniforms.lacunarity=e}get alpha(){return this.uniforms.alpha}set alpha(e){this.uniforms.alpha=e}};let GN=CA;GN.defaults={angle:30,gain:.5,lacunarity:2.5,time:0,parallel:!0,center:[0,0],alpha:1};var jN=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,HN=`precision mediump float;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float uHue;
uniform float uAlpha;
uniform bool uColorize;
uniform float uSaturation;
uniform float uLightness;

// https://en.wikipedia.org/wiki/Luma_(video)
const vec3 weight = vec3(0.299, 0.587, 0.114);

float getWeightedAverage(vec3 rgb) {
    return rgb.r * weight.r + rgb.g * weight.g + rgb.b * weight.b;
}

// https://gist.github.com/mairod/a75e7b44f68110e1576d77419d608786?permalink_comment_id=3195243#gistcomment-3195243
const vec3 k = vec3(0.57735, 0.57735, 0.57735);

vec3 hueShift(vec3 color, float angle) {
    float cosAngle = cos(angle);
    return vec3(
    color * cosAngle +
    cross(k, color) * sin(angle) +
    k * dot(k, color) * (1.0 - cosAngle)
    );
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    vec4 result = color;

    // colorize
    if (uColorize) {
        result.rgb = vec3(getWeightedAverage(result.rgb), 0., 0.);
    }

    // hue
    result.rgb = hueShift(result.rgb, uHue);

    // saturation
    // https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/huesaturation.js
    float average = (result.r + result.g + result.b) / 3.0;

    if (uSaturation > 0.) {
        result.rgb += (average - result.rgb) * (1. - 1. / (1.001 - uSaturation));
    } else {
        result.rgb -= (average - result.rgb) * uSaturation;
    }

    // lightness
    result.rgb = mix(result.rgb, vec3(ceil(uLightness)) * color.a, abs(uLightness));

    // alpha
    gl_FragColor = mix(color, result, uAlpha);
}
`;const PA=class extends Me{constructor(t){super(jN,HN),this._hue=0;const e=Object.assign({},PA.defaults,t);Object.assign(this,e)}get hue(){return this._hue}set hue(t){this._hue=t,this.uniforms.uHue=this._hue*(Math.PI/180)}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}get colorize(){return this.uniforms.uColorize}set colorize(t){this.uniforms.uColorize=t}get lightness(){return this.uniforms.uLightness}set lightness(t){this.uniforms.uLightness=t}get saturation(){return this.uniforms.uSaturation}set saturation(t){this.uniforms.uSaturation=t}};let VN=PA;VN.defaults={hue:0,saturation:0,lightness:0,colorize:!1,alpha:1};var WN=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,XN=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform float sepia;
uniform float noise;
uniform float noiseSize;
uniform float scratch;
uniform float scratchDensity;
uniform float scratchWidth;
uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;
uniform float seed;

const float SQRT_2 = 1.414213;
const vec3 SEPIA_RGB = vec3(112.0 / 255.0, 66.0 / 255.0, 20.0 / 255.0);

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

vec3 Overlay(vec3 src, vec3 dst)
{
    // if (dst <= 0.5) then: 2 * src * dst
    // if (dst > 0.5) then: 1 - 2 * (1 - dst) * (1 - src)
    return vec3((dst.x <= 0.5) ? (2.0 * src.x * dst.x) : (1.0 - 2.0 * (1.0 - dst.x) * (1.0 - src.x)),
                (dst.y <= 0.5) ? (2.0 * src.y * dst.y) : (1.0 - 2.0 * (1.0 - dst.y) * (1.0 - src.y)),
                (dst.z <= 0.5) ? (2.0 * src.z * dst.z) : (1.0 - 2.0 * (1.0 - dst.z) * (1.0 - src.z)));
}


void main()
{
    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 color = gl_FragColor.rgb;

    if (sepia > 0.0)
    {
        float gray = (color.x + color.y + color.z) / 3.0;
        vec3 grayscale = vec3(gray);

        color = Overlay(SEPIA_RGB, grayscale);

        color = grayscale + sepia * (color - grayscale);
    }

    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        vec2 dir = vec2(vec2(0.5, 0.5) - coord);
        dir.y *= dimensions.y / dimensions.x;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        color.rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    if (scratchDensity > seed && scratch != 0.0)
    {
        float phase = seed * 256.0;
        float s = mod(floor(phase), 2.0);
        float dist = 1.0 / scratchDensity;
        float d = distance(coord, vec2(seed * dist, abs(s - seed * dist)));
        if (d < seed * 0.6 + 0.4)
        {
            highp float period = scratchDensity * 10.0;

            float xx = coord.x * period + phase;
            float aa = abs(mod(xx, 0.5) * 4.0);
            float bb = mod(floor(xx / 0.5), 2.0);
            float yy = (1.0 - bb) * aa + bb * (2.0 - aa);

            float kk = 2.0 * period;
            float dw = scratchWidth / dimensions.x * (0.75 + seed);
            float dh = dw * kk;

            float tine = (yy - (2.0 - dh));

            if (tine > 0.0) {
                float _sign = sign(scratch);

                tine = s * tine / period + scratch + 0.1;
                tine = clamp(tine + 1.0, 0.5 + _sign * 0.5, 1.5 + _sign * 0.5);

                color.rgb *= tine;
            }
        }
    }

    if (noise > 0.0 && noiseSize > 0.0)
    {
        vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        // vec2 d = pixelCoord * noiseSize * vec2(1024.0 + seed * 512.0, 1024.0 - seed * 512.0);
        // float _noise = snoise(d) * 0.5;
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        color += _noise * noise;
    }

    gl_FragColor.rgb = color;
}
`;const IA=class extends Me{constructor(e,r=0){super(WN,XN),this.seed=0,this.uniforms.dimensions=new Float32Array(2),typeof e=="number"?(this.seed=e,e=void 0):this.seed=r,Object.assign(this,IA.defaults,e)}apply(e,r,i,n){var s,o;this.uniforms.dimensions[0]=(s=r.filterFrame)==null?void 0:s.width,this.uniforms.dimensions[1]=(o=r.filterFrame)==null?void 0:o.height,this.uniforms.seed=this.seed,e.applyFilter(this,r,i,n)}set sepia(e){this.uniforms.sepia=e}get sepia(){return this.uniforms.sepia}set noise(e){this.uniforms.noise=e}get noise(){return this.uniforms.noise}set noiseSize(e){this.uniforms.noiseSize=e}get noiseSize(){return this.uniforms.noiseSize}set scratch(e){this.uniforms.scratch=e}get scratch(){return this.uniforms.scratch}set scratchDensity(e){this.uniforms.scratchDensity=e}get scratchDensity(){return this.uniforms.scratchDensity}set scratchWidth(e){this.uniforms.scratchWidth=e}get scratchWidth(){return this.uniforms.scratchWidth}set vignetting(e){this.uniforms.vignetting=e}get vignetting(){return this.uniforms.vignetting}set vignettingAlpha(e){this.uniforms.vignettingAlpha=e}get vignettingAlpha(){return this.uniforms.vignettingAlpha}set vignettingBlur(e){this.uniforms.vignettingBlur=e}get vignettingBlur(){return this.uniforms.vignettingBlur}};let $N=IA;$N.defaults={sepia:.3,noise:.3,noiseSize:1,scratch:.5,scratchDensity:.3,scratchWidth:1,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3};var YN=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,QN=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterClamp;

uniform float uAlpha;
uniform vec2 uThickness;
uniform vec4 uColor;
uniform bool uKnockout;

const float DOUBLE_PI = 2. * 3.14159265358979323846264;
const float ANGLE_STEP = \${angleStep};

float outlineMaxAlphaAtPos(vec2 pos) {
    if (uThickness.x == 0. || uThickness.y == 0.) {
        return 0.;
    }

    vec4 displacedColor;
    vec2 displacedPos;
    float maxAlpha = 0.;

    for (float angle = 0.; angle <= DOUBLE_PI; angle += ANGLE_STEP) {
        displacedPos.x = vTextureCoord.x + uThickness.x * cos(angle);
        displacedPos.y = vTextureCoord.y + uThickness.y * sin(angle);
        displacedColor = texture2D(uSampler, clamp(displacedPos, filterClamp.xy, filterClamp.zw));
        maxAlpha = max(maxAlpha, displacedColor.a);
    }

    return maxAlpha;
}

void main(void) {
    vec4 sourceColor = texture2D(uSampler, vTextureCoord);
    vec4 contentColor = sourceColor * float(!uKnockout);
    float outlineAlpha = uAlpha * outlineMaxAlphaAtPos(vTextureCoord.xy) * (1.-sourceColor.a);
    vec4 outlineColor = vec4(vec3(uColor) * outlineAlpha, outlineAlpha);
    gl_FragColor = contentColor + outlineColor;
}
`;const Pc=class extends Me{constructor(e=1,r=0,i=.1,n=1,s=!1){super(YN,QN.replace(/\$\{angleStep\}/,Pc.getAngleStep(i))),this._thickness=1,this._alpha=1,this._knockout=!1,this.uniforms.uThickness=new Float32Array([0,0]),this.uniforms.uColor=new Float32Array([0,0,0,1]),this.uniforms.uAlpha=n,this.uniforms.uKnockout=s,Object.assign(this,{thickness:e,color:r,quality:i,alpha:n,knockout:s})}static getAngleStep(e){const r=Math.max(e*Pc.MAX_SAMPLES,Pc.MIN_SAMPLES);return(Math.PI*2/r).toFixed(7)}apply(e,r,i,n){this.uniforms.uThickness[0]=this._thickness/r._frame.width,this.uniforms.uThickness[1]=this._thickness/r._frame.height,this.uniforms.uAlpha=this._alpha,this.uniforms.uKnockout=this._knockout,e.applyFilter(this,r,i,n)}get alpha(){return this._alpha}set alpha(e){this._alpha=e}get color(){return jd(this.uniforms.uColor)}set color(e){Gd(e,this.uniforms.uColor)}get knockout(){return this._knockout}set knockout(e){this._knockout=e}get thickness(){return this._thickness}set thickness(e){this._thickness=e,this.padding=e}};let qw=Pc;qw.MIN_SAMPLES=1,qw.MAX_SAMPLES=100;var KN=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,ZN=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

uniform bool mirror;
uniform float boundary;
uniform vec2 amplitude;
uniform vec2 waveLength;
uniform vec2 alpha;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 coord = pixelCoord / dimensions;

    if (coord.y < boundary) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    float k = (coord.y - boundary) / (1. - boundary + 0.0001);
    float areaY = boundary * dimensions.y / filterArea.y;
    float v = areaY + areaY - vTextureCoord.y;
    float y = mirror ? v : vTextureCoord.y;

    float _amplitude = ((amplitude.y - amplitude.x) * k + amplitude.x ) / filterArea.x;
    float _waveLength = ((waveLength.y - waveLength.x) * k + waveLength.x) / filterArea.y;
    float _alpha = (alpha.y - alpha.x) * k + alpha.x;

    float x = vTextureCoord.x + cos(v * 6.28 / _waveLength - time) * _amplitude;
    x = clamp(x, filterClamp.x, filterClamp.z);

    vec4 color = texture2D(uSampler, vec2(x, y));

    gl_FragColor = color * _alpha;
}
`;const RA=class extends Me{constructor(e){super(KN,ZN),this.time=0,this.uniforms.amplitude=new Float32Array(2),this.uniforms.waveLength=new Float32Array(2),this.uniforms.alpha=new Float32Array(2),this.uniforms.dimensions=new Float32Array(2),Object.assign(this,RA.defaults,e)}apply(e,r,i,n){var s,o;this.uniforms.dimensions[0]=(s=r.filterFrame)==null?void 0:s.width,this.uniforms.dimensions[1]=(o=r.filterFrame)==null?void 0:o.height,this.uniforms.time=this.time,e.applyFilter(this,r,i,n)}set mirror(e){this.uniforms.mirror=e}get mirror(){return this.uniforms.mirror}set boundary(e){this.uniforms.boundary=e}get boundary(){return this.uniforms.boundary}set amplitude(e){this.uniforms.amplitude[0]=e[0],this.uniforms.amplitude[1]=e[1]}get amplitude(){return this.uniforms.amplitude}set waveLength(e){this.uniforms.waveLength[0]=e[0],this.uniforms.waveLength[1]=e[1]}get waveLength(){return this.uniforms.waveLength}set alpha(e){this.uniforms.alpha[0]=e[0],this.uniforms.alpha[1]=e[1]}get alpha(){return this.uniforms.alpha}};let qN=RA;qN.defaults={mirror:!0,boundary:.5,amplitude:[0,20],waveLength:[30,100],alpha:[1,1],time:0};var JN=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,eB=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec4 filterClamp;

uniform vec2 center;

uniform float amplitude;
uniform float wavelength;
// uniform float power;
uniform float brightness;
uniform float speed;
uniform float radius;

uniform float time;

const float PI = 3.14159;

void main()
{
    float halfWavelength = wavelength * 0.5 / filterArea.x;
    float maxRadius = radius / filterArea.x;
    float currentRadius = time * speed / filterArea.x;

    float fade = 1.0;

    if (maxRadius > 0.0) {
        if (currentRadius > maxRadius) {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
        fade = 1.0 - pow(currentRadius / maxRadius, 2.0);
    }

    vec2 dir = vec2(vTextureCoord - center / filterArea.xy);
    dir.y *= filterArea.y / filterArea.x;
    float dist = length(dir);

    if (dist <= 0.0 || dist < currentRadius - halfWavelength || dist > currentRadius + halfWavelength) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    vec2 diffUV = normalize(dir);

    float diff = (dist - currentRadius) / halfWavelength;

    float p = 1.0 - pow(abs(diff), 2.0);

    // float powDiff = diff * pow(p, 2.0) * ( amplitude * fade );
    float powDiff = 1.25 * sin(diff * PI) * p * ( amplitude * fade );

    vec2 offset = diffUV * powDiff / filterArea.xy;

    // Do clamp :
    vec2 coord = vTextureCoord + offset;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    // No clamp :
    // gl_FragColor = texture2D(uSampler, vTextureCoord + offset);

    color.rgb *= 1.0 + (brightness - 1.0) * p * fade;

    gl_FragColor = color;
}
`;const kA=class extends Me{constructor(e=[0,0],r,i=0){super(JN,eB),this.center=e,Object.assign(this,kA.defaults,r),this.time=i}apply(e,r,i,n){this.uniforms.time=this.time,e.applyFilter(this,r,i,n)}get center(){return this.uniforms.center}set center(e){this.uniforms.center=e}get amplitude(){return this.uniforms.amplitude}set amplitude(e){this.uniforms.amplitude=e}get wavelength(){return this.uniforms.wavelength}set wavelength(e){this.uniforms.wavelength=e}get brightness(){return this.uniforms.brightness}set brightness(e){this.uniforms.brightness=e}get speed(){return this.uniforms.speed}set speed(e){this.uniforms.speed=e}get radius(){return this.uniforms.radius}set radius(e){this.uniforms.radius=e}};let tB=kA;tB.defaults={amplitude:30,wavelength:160,brightness:1,speed:500,radius:-1};var rB=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,iB=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float blur;
uniform float gradientBlur;
uniform vec2 start;
uniform vec2 end;
uniform vec2 delta;
uniform vec2 texSize;

float random(vec3 scale, float seed)
{
    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);
}

void main(void)
{
    vec4 color = vec4(0.0);
    float total = 0.0;

    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);
    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));
    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;

    for (float t = -30.0; t <= 30.0; t++)
    {
        float percent = (t + offset - 0.5) / 30.0;
        float weight = 1.0 - abs(percent);
        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);
        sample.rgb *= sample.a;
        color += sample * weight;
        total += weight;
    }

    color /= total;
    color.rgb /= color.a + 0.00001;

    gl_FragColor = color;
}
`;let MA=class extends Me{constructor(e){var r,i;super(rB,iB),this.uniforms.blur=e.blur,this.uniforms.gradientBlur=e.gradientBlur,this.uniforms.start=(r=e.start)!=null?r:new we(0,window.innerHeight/2),this.uniforms.end=(i=e.end)!=null?i:new we(600,window.innerHeight/2),this.uniforms.delta=new we(30,30),this.uniforms.texSize=new we(window.innerWidth,window.innerHeight),this.updateDelta()}updateDelta(){this.uniforms.delta.x=0,this.uniforms.delta.y=0}get blur(){return this.uniforms.blur}set blur(e){this.uniforms.blur=e}get gradientBlur(){return this.uniforms.gradientBlur}set gradientBlur(e){this.uniforms.gradientBlur=e}get start(){return this.uniforms.start}set start(e){this.uniforms.start=e,this.updateDelta()}get end(){return this.uniforms.end}set end(e){this.uniforms.end=e,this.updateDelta()}},nB=class extends MA{updateDelta(){const e=this.uniforms.end.x-this.uniforms.start.x,r=this.uniforms.end.y-this.uniforms.start.y,i=Math.sqrt(e*e+r*r);this.uniforms.delta.x=e/i,this.uniforms.delta.y=r/i}},sB=class extends MA{updateDelta(){const e=this.uniforms.end.x-this.uniforms.start.x,r=this.uniforms.end.y-this.uniforms.start.y,i=Math.sqrt(e*e+r*r);this.uniforms.delta.x=-r/i,this.uniforms.delta.y=e/i}};const DA=class extends Me{constructor(e,r,i,n){super(),typeof e=="number"&&(Ee("5.3.0","TiltShiftFilter constructor arguments is deprecated, use options."),e={blur:e,gradientBlur:r,start:i,end:n}),e=Object.assign({},DA.defaults,e),this.tiltShiftXFilter=new nB(e),this.tiltShiftYFilter=new sB(e)}apply(e,r,i,n){const s=e.getFilterTexture();this.tiltShiftXFilter.apply(e,r,s,1),this.tiltShiftYFilter.apply(e,s,i,n),e.returnFilterTexture(s)}get blur(){return this.tiltShiftXFilter.blur}set blur(e){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=e}get gradientBlur(){return this.tiltShiftXFilter.gradientBlur}set gradientBlur(e){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=e}get start(){return this.tiltShiftXFilter.start}set start(e){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=e}get end(){return this.tiltShiftXFilter.end}set end(e){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=e}};let oB=DA;oB.defaults={blur:100,gradientBlur:600,start:void 0,end:void 0};var aB=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,lB=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float radius;
uniform float angle;
uniform vec2 offset;
uniform vec4 filterArea;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 twist(vec2 coord)
{
    coord -= offset;

    float dist = length(coord);

    if (dist < radius)
    {
        float ratioDist = (radius - dist) / radius;
        float angleMod = ratioDist * ratioDist * angle;
        float s = sin(angleMod);
        float c = cos(angleMod);
        coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);
    }

    coord += offset;

    return coord;
}

void main(void)
{

    vec2 coord = mapCoord(vTextureCoord);

    coord = twist(coord);

    coord = unmapCoord(coord);

    gl_FragColor = texture2D(uSampler, coord );

}
`;const FA=class extends Me{constructor(t){super(aB,lB),Object.assign(this,FA.defaults,t)}get offset(){return this.uniforms.offset}set offset(t){this.uniforms.offset=t}get radius(){return this.uniforms.radius}set radius(t){this.uniforms.radius=t}get angle(){return this.uniforms.angle}set angle(t){this.uniforms.angle=t}};let uB=FA;uB.defaults={radius:200,angle:4,padding:20,offset:new we};var hB=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,cB=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform vec2 uCenter;
uniform float uStrength;
uniform float uInnerRadius;
uniform float uRadius;

const float MAX_KERNEL_SIZE = \${maxKernelSize};

// author: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/
highp float rand(vec2 co, float seed) {
    const highp float a = 12.9898, b = 78.233, c = 43758.5453;
    highp float dt = dot(co + seed, vec2(a, b)), sn = mod(dt, 3.14159);
    return fract(sin(sn) * c + seed);
}

void main() {

    float minGradient = uInnerRadius * 0.3;
    float innerRadius = (uInnerRadius + minGradient * 0.5) / filterArea.x;

    float gradient = uRadius * 0.3;
    float radius = (uRadius - gradient * 0.5) / filterArea.x;

    float countLimit = MAX_KERNEL_SIZE;

    vec2 dir = vec2(uCenter.xy / filterArea.xy - vTextureCoord);
    float dist = length(vec2(dir.x, dir.y * filterArea.y / filterArea.x));

    float strength = uStrength;

    float delta = 0.0;
    float gap;
    if (dist < innerRadius) {
        delta = innerRadius - dist;
        gap = minGradient;
    } else if (radius >= 0.0 && dist > radius) { // radius < 0 means it's infinity
        delta = dist - radius;
        gap = gradient;
    }

    if (delta > 0.0) {
        float normalCount = gap / filterArea.x;
        delta = (normalCount - delta) / normalCount;
        countLimit *= delta;
        strength *= delta;
        if (countLimit < 1.0)
        {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
    }

    // randomize the lookup values to hide the fixed number of samples
    float offset = rand(vTextureCoord, 0.0);

    float total = 0.0;
    vec4 color = vec4(0.0);

    dir *= strength;

    for (float t = 0.0; t < MAX_KERNEL_SIZE; t++) {
        float percent = (t + offset) / MAX_KERNEL_SIZE;
        float weight = 4.0 * (percent - percent * percent);
        vec2 p = vTextureCoord + dir * percent;
        vec4 sample = texture2D(uSampler, p);

        // switch to pre-multiplied alpha to correctly blur transparent images
        // sample.rgb *= sample.a;

        color += sample * weight;
        total += weight;

        if (t > countLimit){
            break;
        }
    }

    color /= total;
    // switch back from pre-multiplied alpha
    // color.rgb /= color.a + 0.00001;

    gl_FragColor = color;
}
`,Jw=Object.getOwnPropertySymbols,dB=Object.prototype.hasOwnProperty,fB=Object.prototype.propertyIsEnumerable,pB=(t,e)=>{var r={};for(var i in t)dB.call(t,i)&&e.indexOf(i)<0&&(r[i]=t[i]);if(t!=null&&Jw)for(var i of Jw(t))e.indexOf(i)<0&&fB.call(t,i)&&(r[i]=t[i]);return r};const OA=class extends Me{constructor(t){const e=Object.assign(OA.defaults,t),{maxKernelSize:r}=e,i=pB(e,["maxKernelSize"]);super(hB,cB.replace("${maxKernelSize}",r.toFixed(1))),Object.assign(this,i)}get center(){return this.uniforms.uCenter}set center(t){this.uniforms.uCenter=t}get strength(){return this.uniforms.uStrength}set strength(t){this.uniforms.uStrength=t}get innerRadius(){return this.uniforms.uInnerRadius}set innerRadius(t){this.uniforms.uInnerRadius=t}get radius(){return this.uniforms.uRadius}set radius(t){(t<0||t===1/0)&&(t=-1),this.uniforms.uRadius=t}};let mB=OA;mB.defaults={strength:.1,center:[0,0],innerRadius:0,radius:-1,maxKernelSize:32};const NA=new AA({distance:20,alpha:.7}),BA=new Ke;tt.prototype._cacheAsBitmap=!1;tt.prototype._cacheData=null;tt.prototype._cacheAsBitmapResolution=null;tt.prototype._cacheAsBitmapMultisample=null;class gB{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(tt.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new gB),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});tt.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))};tt.prototype._initCachedDisplayObject=function(t){var p,v;if((p=this._cacheData)!=null&&p.sprite)return;const e=this.alpha;this.alpha=1,t.batch.flush();const r=this.getLocalBounds(new Se,!0);if((v=this.filters)!=null&&v.length){const x=this.filters[0].padding;r.pad(x)}const i=this.cacheAsBitmapResolution||t.resolution;r.ceil(i),r.width=Math.max(r.width,1/i),r.height=Math.max(r.height,1/i);const n=t.renderTexture.current,s=t.renderTexture.sourceFrame.clone(),o=t.renderTexture.destinationFrame.clone(),l=t.projection.transform,h=so.create({width:r.width,height:r.height,resolution:i,multisample:this.cacheAsBitmapMultisample??t.multisample}),c=`cacheAsBitmap_${to()}`;this._cacheData.textureCacheId=c,_e.addToCache(h.baseTexture,c),ie.addToCache(h,c);const f=this.transform.localTransform.copyTo(BA).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:h,clear:!0,transform:f,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=l,t.renderTexture.bind(n,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const m=new Ki(h);m.transform.worldTransform=this.transform.worldTransform,m.anchor.x=-(r.x/r.width),m.anchor.y=-(r.y/r.height),m.alpha=e,m._bounds=this._bounds,this._cacheData.sprite=m,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=m.containsPoint.bind(m)};tt.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))};tt.prototype._initCachedDisplayObjectCanvas=function(t){var f;if((f=this._cacheData)!=null&&f.sprite)return;const e=this.getLocalBounds(new Se,!0),r=this.alpha;this.alpha=1;const i=t.canvasContext.activeContext,n=t._projTransform,s=this.cacheAsBitmapResolution||t.resolution;e.ceil(s),e.width=Math.max(e.width,1/s),e.height=Math.max(e.height,1/s);const o=so.create({width:e.width,height:e.height,resolution:s}),l=`cacheAsBitmap_${to()}`;this._cacheData.textureCacheId=l,_e.addToCache(o.baseTexture,l),ie.addToCache(o,l);const h=BA;this.transform.localTransform.copyTo(h),h.invert(),h.tx-=e.x,h.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:o,clear:!0,transform:h,skipUpdateTransform:!1}),t.canvasContext.activeContext=i,t._projTransform=n,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const c=new Ki(o);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-(e.x/e.width),c.anchor.y=-(e.y/e.height),c.alpha=r,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=c.containsPoint.bind(c)};tt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};tt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};tt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,_e.removeFromCache(this._cacheData.textureCacheId),ie.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};tt.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)};tt.prototype.name=null;nr.prototype.getChildByName=function(t,e){for(let r=0,i=this.children.length;r<i;r++)if(this.children[r].name===t)return this.children[r];if(e)for(let r=0,i=this.children.length;r<i;r++){const n=this.children[r];if(!n.getChildByName)continue;const s=n.getChildByName(t,!0);if(s)return s}return null};tt.prototype.getGlobalPosition=function(t=new we,e=!1){return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var yB=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class M0 extends Me{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(DT,yB,e),this.alpha=1}_loadMatrix(e,r=!1){let i=e;r&&(this._multiply(i,this.uniforms.m,e),i=this._colorMatrix(i)),this.uniforms.m=i}_multiply(e,r,i){return e[0]=r[0]*i[0]+r[1]*i[5]+r[2]*i[10]+r[3]*i[15],e[1]=r[0]*i[1]+r[1]*i[6]+r[2]*i[11]+r[3]*i[16],e[2]=r[0]*i[2]+r[1]*i[7]+r[2]*i[12]+r[3]*i[17],e[3]=r[0]*i[3]+r[1]*i[8]+r[2]*i[13]+r[3]*i[18],e[4]=r[0]*i[4]+r[1]*i[9]+r[2]*i[14]+r[3]*i[19]+r[4],e[5]=r[5]*i[0]+r[6]*i[5]+r[7]*i[10]+r[8]*i[15],e[6]=r[5]*i[1]+r[6]*i[6]+r[7]*i[11]+r[8]*i[16],e[7]=r[5]*i[2]+r[6]*i[7]+r[7]*i[12]+r[8]*i[17],e[8]=r[5]*i[3]+r[6]*i[8]+r[7]*i[13]+r[8]*i[18],e[9]=r[5]*i[4]+r[6]*i[9]+r[7]*i[14]+r[8]*i[19]+r[9],e[10]=r[10]*i[0]+r[11]*i[5]+r[12]*i[10]+r[13]*i[15],e[11]=r[10]*i[1]+r[11]*i[6]+r[12]*i[11]+r[13]*i[16],e[12]=r[10]*i[2]+r[11]*i[7]+r[12]*i[12]+r[13]*i[17],e[13]=r[10]*i[3]+r[11]*i[8]+r[12]*i[13]+r[13]*i[18],e[14]=r[10]*i[4]+r[11]*i[9]+r[12]*i[14]+r[13]*i[19]+r[14],e[15]=r[15]*i[0]+r[16]*i[5]+r[17]*i[10]+r[18]*i[15],e[16]=r[15]*i[1]+r[16]*i[6]+r[17]*i[11]+r[18]*i[16],e[17]=r[15]*i[2]+r[16]*i[7]+r[17]*i[12]+r[18]*i[17],e[18]=r[15]*i[3]+r[16]*i[8]+r[17]*i[13]+r[18]*i[18],e[19]=r[15]*i[4]+r[16]*i[9]+r[17]*i[14]+r[18]*i[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const i=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(i,r)}tint(e,r){const[i,n,s]=je.shared.setValue(e).toArray(),o=[i,0,0,0,0,0,n,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,r)}greyscale(e,r){const i=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(i,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const i=Math.cos(e),n=Math.sin(e),s=Math.sqrt,o=1/3,l=s(o),h=i+(1-i)*o,c=o*(1-i)-l*n,f=o*(1-i)+l*n,m=o*(1-i)+l*n,p=i+o*(1-i),v=o*(1-i)-l*n,x=o*(1-i)-l*n,b=o*(1-i)+l*n,A=i+o*(1-i),S=[h,c,f,0,0,m,p,v,0,0,x,b,A,0,0,0,0,0,1,0];this._loadMatrix(S,r)}contrast(e,r){const i=(e||0)+1,n=-.5*(i-1),s=[i,0,0,0,n,0,i,0,0,n,0,0,i,0,n,0,0,0,1,0];this._loadMatrix(s,r)}saturate(e=0,r){const i=e*2/3+1,n=(i-1)*-.5,s=[i,n,n,0,0,n,i,n,0,0,n,n,i,0,0,0,0,0,1,0];this._loadMatrix(s,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,i,n,s){e=e||.2,r=r||.15,i=i||16770432,n=n||3375104;const o=je.shared,[l,h,c]=o.setValue(i).toArray(),[f,m,p]=o.setValue(n).toArray(),v=[.3,.59,.11,0,0,l,h,c,e,0,f,m,p,r,0,l-f,h-m,c-p,0,0];this._loadMatrix(v,s)}night(e,r){e=e||.1;const i=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(i,r)}predator(e,r){const i=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(i,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}M0.prototype.grayscale=M0.prototype.greyscale;var vB=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,xB=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class _B extends Me{constructor(e,r){const i=new Ke;e.renderable=!1,super(xB,vB,{mapSampler:e._texture,filterMatrix:i,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=i,r==null&&(r=20),this.scale=new we(r,r)}apply(e,r,i,n){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),l=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&l!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/l,this.uniforms.rotation[3]=s.d/l),e.applyFilter(this,r,i,n)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var wB=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,bB=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class SB extends Me{constructor(){super(bB,wB)}}var EB=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class TB extends Me{constructor(e=.5,r=Math.random()){super(DT,EB,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const eb={AlphaFilter:XO,BlurFilter:qO,BlurFilterPass:P0,ColorMatrixFilter:M0,DisplacementFilter:_B,FXAAFilter:SB,NoiseFilter:TB};Object.entries(eb).forEach(([t,e])=>{Object.defineProperty(eb,t,{get(){return Ee("7.1.0",`filters.${t} has moved to ${t}`),e}})});const AB={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};tt.mixin(AB);const CB=9,ec=100,PB=0,IB=0,tb=2,rb=1,RB=-1e3,kB=-1e3,MB=2;class LA{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(hn.tablet||hn.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width=`${ec}px`,r.style.height=`${ec}px`,r.style.position="absolute",r.style.top=`${PB}px`,r.style.left=`${IB}px`,r.style.zIndex=tb.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${rb}px`,e.style.height=`${rb}px`,e.style.position="absolute",e.style.top=`${RB}px`,e.style.left=`${kB}px`,e.style.zIndex=MB.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let i=0;i<r.length;i++)this.updateAccessibleObjects(r[i])}update(){const e=performance.now();if(hn.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:i,width:n,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:l,resolution:h}=this.renderer,c=n/o*h,f=s/l*h;let m=this.div;m.style.left=`${r}px`,m.style.top=`${i}px`,m.style.width=`${o}px`,m.style.height=`${l}px`;for(let p=0;p<this.children.length;p++){const v=this.children[p];if(v.renderId!==this.renderId)v._accessibleActive=!1,ha(this.children,p,1),this.div.removeChild(v._accessibleDiv),this.pool.push(v._accessibleDiv),v._accessibleDiv=null,p--;else{m=v._accessibleDiv;let x=v.hitArea;const b=v.worldTransform;v.hitArea?(m.style.left=`${(b.tx+x.x*b.a)*c}px`,m.style.top=`${(b.ty+x.y*b.d)*f}px`,m.style.width=`${x.width*b.a*c}px`,m.style.height=`${x.height*b.d*f}px`):(x=v.getBounds(),this.capHitArea(x),m.style.left=`${x.x*c}px`,m.style.top=`${x.y*f}px`,m.style.width=`${x.width*c}px`,m.style.height=`${x.height*f}px`,m.title!==v.accessibleTitle&&v.accessibleTitle!==null&&(m.title=v.accessibleTitle),m.getAttribute("aria-label")!==v.accessibleHint&&v.accessibleHint!==null&&m.setAttribute("aria-label",v.accessibleHint)),(v.accessibleTitle!==m.title||v.tabIndex!==m.tabIndex)&&(m.title=v.accessibleTitle,m.tabIndex=v.tabIndex,this.debug&&this.updateDebugHTML(m))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:i}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>i&&(e.height=i-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=`${ec}px`,r.style.height=`${ec}px`,r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=tb.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:i}=e.target,n=this.renderer.events.rootBoundary,s=Object.assign(new _u(n),{target:i});n.rootTarget=this.renderer.lastObjectRendered,r.forEach(o=>n.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===CB&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}LA.extension={name:"accessibility",type:[se.RendererPlugin,se.CanvasRendererPlugin]};fe.add(LA);var Ut=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t[t.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",t[t.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",t[t.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",t[t.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",t))(Ut||{});const wd={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};let Fi,Bo;function ib(){Bo={bptc:Fi.getExtension("EXT_texture_compression_bptc"),astc:Fi.getExtension("WEBGL_compressed_texture_astc"),etc:Fi.getExtension("WEBGL_compressed_texture_etc"),s3tc:Fi.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:Fi.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:Fi.getExtension("WEBGL_compressed_texture_pvrtc")||Fi.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:Fi.getExtension("WEBGL_compressed_texture_etc1"),atc:Fi.getExtension("WEBGL_compressed_texture_atc")}}const DB={extension:{type:se.DetectionParser,priority:2},test:async()=>{const t=oe.ADAPTER.createCanvas().getContext("webgl");return t?(Fi=t,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{Bo||ib();const e=[];for(const r in Bo)Bo[r]&&e.push(r);return[...e,...t]},remove:async t=>(Bo||ib(),t.filter(e=>!(e in Bo)))};fe.add(DB);class FB extends Hd{constructor(e,r={width:1,height:1,autoLoad:!0}){let i,n;typeof e=="string"?(i=e,n=new Uint8Array):(i=null,n=e),super(n,r),this.origin=i,this.buffer=n?new $g(n):null,this._load=null,this.loaded=!1,this.origin!==null&&r.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new $g(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class Ys extends FB{constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=Ys._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||Ys._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,i){const n=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;n.pixelStorei(n.UNPACK_ALIGNMENT,4);for(let s=0,o=this.levels;s<o;s++){const{levelID:l,levelWidth:h,levelHeight:c,levelBuffer:f}=this._levelBuffers[s];n.compressedTexImage2D(n.TEXTURE_2D,l,this.format,h,c,0,f)}return!0}onBlobLoaded(){this._levelBuffers=Ys._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=35916&&e<=35919)return"s3tc_sRGB";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e===36196)return"etc1";if(e===35986||e===35987||e===34798)return"atc";if(e>=36492&&e<=36495)return"bptc";if(e===37808)return"astc";throw new Error(`Invalid (compressed) texture format given: ${e}`)}static _createLevelBuffers(e,r,i,n,s,o,l){const h=new Array(i);let c=e.byteOffset,f=o,m=l,p=f+n-1&~(n-1),v=m+s-1&~(s-1),x=p*v*wd[r];for(let b=0;b<i;b++)h[b]={levelID:b,levelWidth:i>1?f:p,levelHeight:i>1?m:v,levelBuffer:new Uint8Array(e.buffer,c,x)},c+=x,f=f>>1||1,m=m>>1||1,p=f+n-1&~(n-1),v=m+s-1&~(s-1),x=p*v*wd[r];return h}}const Om=4,tc=124,OB=32,nb=20,NB=542327876,rc={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},BB={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},ic={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},LB=1,UB=2,zB=4,GB=64,jB=512,HB=131072,VB=827611204,WB=861165636,XB=894720068,$B=808540228,YB=4,QB={[VB]:Ut.COMPRESSED_RGBA_S3TC_DXT1_EXT,[WB]:Ut.COMPRESSED_RGBA_S3TC_DXT3_EXT,[XB]:Ut.COMPRESSED_RGBA_S3TC_DXT5_EXT},KB={70:Ut.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Ut.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Ut.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Ut.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Ut.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Ut.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Ut.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Ut.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Ut.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:Ut.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:Ut.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:Ut.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:Ut.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};function ZB(t){const e=new Uint32Array(t);if(e[0]!==NB)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,tc/Uint32Array.BYTES_PER_ELEMENT),i=r[rc.HEIGHT],n=r[rc.WIDTH],s=r[rc.MIPMAP_COUNT],o=new Uint32Array(t,rc.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,OB/Uint32Array.BYTES_PER_ELEMENT),l=o[LB];if(l&zB){const h=o[BB.FOURCC];if(h!==$B){const E=QB[h],w=Om+tc,T=new Uint8Array(t,w);return[new Ys(T,{format:E,width:n,height:i,levels:s})]}const c=Om+tc,f=new Uint32Array(e.buffer,c,nb/Uint32Array.BYTES_PER_ELEMENT),m=f[ic.DXGI_FORMAT],p=f[ic.RESOURCE_DIMENSION],v=f[ic.MISC_FLAG],x=f[ic.ARRAY_SIZE],b=KB[m];if(b===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${m}`);if(v===YB)throw new Error("DDSParser does not support cubemap textures");if(p===6)throw new Error("DDSParser does not supported 3D texture data");const A=new Array,S=Om+tc+nb;if(x===1)A.push(new Uint8Array(t,S));else{const E=wd[b];let w=0,T=n,R=i;for(let D=0;D<s;D++){const M=Math.max(1,T+3&-4),V=Math.max(1,R+3&-4),W=M*V*E;w+=W,T=T>>>1,R=R>>>1}let N=S;for(let D=0;D<x;D++)A.push(new Uint8Array(t,N,w)),N+=w}return A.map(E=>new Ys(E,{format:b,width:n,height:i,levels:s}))}throw l&GB?new Error("DDSParser does not support uncompressed texture data."):l&jB?new Error("DDSParser does not supported YUV uncompressed texture data."):l&HB?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&UB?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const sb=[171,75,84,88,32,49,49,187,13,10,26,10],qB=67305985,ri={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},D0=64,ob={[ge.UNSIGNED_BYTE]:1,[ge.UNSIGNED_SHORT]:2,[ge.INT]:4,[ge.UNSIGNED_INT]:4,[ge.FLOAT]:4,[ge.HALF_FLOAT]:8},JB={[J.RGBA]:4,[J.RGB]:3,[J.RG]:2,[J.RED]:1,[J.LUMINANCE]:1,[J.LUMINANCE_ALPHA]:2,[J.ALPHA]:1},eL={[ge.UNSIGNED_SHORT_4_4_4_4]:2,[ge.UNSIGNED_SHORT_5_5_5_1]:2,[ge.UNSIGNED_SHORT_5_6_5]:2};function tL(t,e,r=!1){const i=new DataView(e);if(!rL(t,i))return null;const n=i.getUint32(ri.ENDIANNESS,!0)===qB,s=i.getUint32(ri.GL_TYPE,n),o=i.getUint32(ri.GL_FORMAT,n),l=i.getUint32(ri.GL_INTERNAL_FORMAT,n),h=i.getUint32(ri.PIXEL_WIDTH,n),c=i.getUint32(ri.PIXEL_HEIGHT,n)||1,f=i.getUint32(ri.PIXEL_DEPTH,n)||1,m=i.getUint32(ri.NUMBER_OF_ARRAY_ELEMENTS,n)||1,p=i.getUint32(ri.NUMBER_OF_FACES,n),v=i.getUint32(ri.NUMBER_OF_MIPMAP_LEVELS,n),x=i.getUint32(ri.BYTES_OF_KEY_VALUE_DATA,n);if(c===0||f!==1)throw new Error("Only 2D textures are supported");if(p!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(m!==1)throw new Error("WebGL does not support array textures");const b=4,A=4,S=h+3&-4,E=c+3&-4,w=new Array(m);let T=h*c;s===0&&(T=S*E);let R;if(s!==0?ob[s]?R=ob[s]*JB[o]:R=eL[s]:R=wd[l],R===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const N=r?nL(i,x,n):null;let D=T*R,M=h,V=c,W=S,te=E,Z=D0+x;for(let O=0;O<v;O++){const G=i.getUint32(Z,n);let ee=Z+4;for(let he=0;he<m;he++){let H=w[he];H||(H=w[he]=new Array(v)),H[O]={levelID:O,levelWidth:v>1||s!==0?M:W,levelHeight:v>1||s!==0?V:te,levelBuffer:new Uint8Array(e,ee,D)},ee+=D}Z+=G+4,Z=Z%4!==0?Z+4-Z%4:Z,M=M>>1||1,V=V>>1||1,W=M+b-1&~(b-1),te=V+A-1&~(A-1),D=W*te*R}return s!==0?{uncompressed:w.map(O=>{let G=O[0].levelBuffer,ee=!1;return s===ge.FLOAT?G=new Float32Array(O[0].levelBuffer.buffer,O[0].levelBuffer.byteOffset,O[0].levelBuffer.byteLength/4):s===ge.UNSIGNED_INT?(ee=!0,G=new Uint32Array(O[0].levelBuffer.buffer,O[0].levelBuffer.byteOffset,O[0].levelBuffer.byteLength/4)):s===ge.INT&&(ee=!0,G=new Int32Array(O[0].levelBuffer.buffer,O[0].levelBuffer.byteOffset,O[0].levelBuffer.byteLength/4)),{resource:new Hd(G,{width:O[0].levelWidth,height:O[0].levelHeight}),type:s,format:ee?iL(o):o}}),kvData:N}:{compressed:w.map(O=>new Ys(null,{format:l,width:h,height:c,levels:v,levelBuffers:O})),kvData:N}}function rL(t,e){for(let r=0;r<sb.length;r++)if(e.getUint8(r)!==sb[r])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function iL(t){switch(t){case J.RGBA:return J.RGBA_INTEGER;case J.RGB:return J.RGB_INTEGER;case J.RG:return J.RG_INTEGER;case J.RED:return J.RED_INTEGER;default:return t}}function nL(t,e,r){const i=new Map;let n=0;for(;n<e;){const s=t.getUint32(D0+n,r),o=D0+n+4,l=3-(s+3)%4;if(s===0||s>e-n){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let h=0;for(;h<s&&t.getUint8(o+h)!==0;h++);if(h===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const c=new TextDecoder().decode(new Uint8Array(t.buffer,o,h)),f=new DataView(t.buffer,o+h+1,s-h-1);i.set(c,f),n+=4+s+l}return i}const sL={extension:{type:se.LoadParser,priority:yi.High},name:"loadDDS",test(t){return ms(t,".dds")},async load(t,e,r){const i=await(await oe.ADAPTER.fetch(t)).arrayBuffer(),n=ZB(i).map(s=>{const o=new _e(s,{mipmap:Xi.OFF,alphaMode:fr.NO_PREMULTIPLIED_ALPHA,resolution:xn(t),...e.data});return wu(o,r,t)});return n.length===1?n[0]:n},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};fe.add(sL);const oL={extension:{type:se.LoadParser,priority:yi.High},name:"loadKTX",test(t){return ms(t,".ktx")},async load(t,e,r){const i=await(await oe.ADAPTER.fetch(t)).arrayBuffer(),{compressed:n,uncompressed:s,kvData:o}=tL(t,i),l=n??s,h={mipmap:Xi.OFF,alphaMode:fr.NO_PREMULTIPLIED_ALPHA,resolution:xn(t),...e.data},c=l.map(f=>{l===s&&Object.assign(h,{type:f.type,format:f.format});const m=f.resource??f,p=new _e(m,h);return p.ktxKeyValueData=o,wu(p,r,t)});return c.length===1?c[0]:c},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};fe.add(oL);const aL=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],lL={extension:se.ResolveParser,test:t=>{const e=Ot.extname(t).slice(1);return["basis","ktx","dds"].includes(e)},parse:t=>{var i,n;const e=t.split("."),r=e.pop();if(["ktx","dds"].includes(r)){const s=e.pop();if(aL.includes(s))return{resolution:parseFloat(((i=oe.RETINA_PREFIX.exec(t))==null?void 0:i[1])??"1"),format:s,src:t}}return{resolution:parseFloat(((n=oe.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:r,src:t}}};fe.add(lL);const nc=new Se,uL=4,UA=class El{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,r,i,n){const s=new Image;return s.src=await this.base64(e,r,i,n),s}async base64(e,r,i,n){const s=this.canvas(e,n);if(s.toBlob!==void 0)return new Promise((o,l)=>{s.toBlob(h=>{if(!h){l(new Error("ICanvas.toBlob failed!"));return}const c=new FileReader;c.onload=()=>o(c.result),c.onerror=l,c.readAsDataURL(h)},r,i)});if(s.toDataURL!==void 0)return s.toDataURL(r,i);if(s.convertToBlob!==void 0){const o=await s.convertToBlob({type:r,quality:i});return new Promise((l,h)=>{const c=new FileReader;c.onload=()=>l(c.result),c.onerror=h,c.readAsDataURL(o)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,r){const{pixels:i,width:n,height:s,flipY:o,premultipliedAlpha:l}=this._rawPixels(e,r);o&&El._flipY(i,n,s),l&&El._unpremultiplyAlpha(i);const h=new tM(n,s,1),c=new ImageData(new Uint8ClampedArray(i.buffer),n,s);return h.context.putImageData(c,0,0),h.canvas}pixels(e,r){const{pixels:i,width:n,height:s,flipY:o,premultipliedAlpha:l}=this._rawPixels(e,r);return o&&El._flipY(i,n,s),l&&El._unpremultiplyAlpha(i),i}_rawPixels(e,r){const i=this.renderer;if(!i)throw new Error("The Extract has already been destroyed");let n,s=!1,o=!1,l,h=!1;e&&(e instanceof so?l=e:(l=i.generateTexture(e,{region:r,resolution:i.resolution,multisample:i.multisample}),h=!0,r&&(nc.width=r.width,nc.height=r.height,r=nc)));const c=i.gl;if(l){if(n=l.baseTexture.resolution,r=r??l.frame,s=!1,o=l.baseTexture.alphaMode>0&&l.baseTexture.format===J.RGBA,!h){i.renderTexture.bind(l);const v=l.framebuffer.glFramebuffers[i.CONTEXT_UID];v.blitFramebuffer&&i.framebuffer.bind(v.blitFramebuffer)}}else n=i.resolution,r||(r=nc,r.width=i.width/n,r.height=i.height/n),s=!0,o=this._rendererPremultipliedAlpha,i.renderTexture.bind();const f=Math.max(Math.round(r.width*n),1),m=Math.max(Math.round(r.height*n),1),p=new Uint8Array(uL*f*m);return c.readPixels(Math.round(r.x*n),Math.round(r.y*n),f,m,c.RGBA,c.UNSIGNED_BYTE,p),h&&(l==null||l.destroy(!0)),{pixels:p,width:f,height:m,flipY:s,premultipliedAlpha:o}}destroy(){this.renderer=null}static _flipY(e,r,i){const n=r<<2,s=i>>1,o=new Uint8Array(n);for(let l=0;l<s;l++){const h=l*n,c=(i-l-1)*n;o.set(e.subarray(h,h+n)),e.copyWithin(h,c,c+n),e.set(o,c)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const r=e.length;for(let i=0;i<r;i+=4){const n=e[i+3];if(n!==0){const s=255.001/n;e[i]=e[i]*s+.5,e[i+1]=e[i+1]*s+.5,e[i+2]=e[i+2]*s+.5}}}};UA.extension={name:"extract",type:se.RendererSystem};let hL=UA;fe.add(hL);class cL{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function dL(t,e){var i;let r=!1;if((i=t==null?void 0:t._textures)!=null&&i.length){for(let n=0;n<t._textures.length;n++)if(t._textures[n]instanceof ie){const s=t._textures[n].baseTexture;e.includes(s)||(e.push(s),r=!0)}}return r}function fL(t,e){if(t.baseTexture instanceof _e){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function pL(t,e){if(t._texture&&t._texture instanceof ie){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function mL(t,e){return e instanceof Hy?(e.updateText(!0),!0):!1}function gL(t,e){if(e instanceof hs){const r=e.toFontString();return jn.measureFont(r),!0}return!1}function yL(t,e){if(t instanceof Hy){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function vL(t,e){return t instanceof hs?(e.includes(t)||e.push(t),!0):!1}const zA=class GA{constructor(e){this.limiter=new cL(GA.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(yL),this.registerFindHook(vL),this.registerFindHook(dL),this.registerFindHook(fL),this.registerFindHook(pL),this.registerUploadHook(mL),this.registerUploadHook(gL)}upload(e){return new Promise(r=>{e&&this.add(e),this.queue.length?(this.completes.push(r),this.ticking||(this.ticking=!0,Dt.system.addOnce(this.tick,this,us.UTILITY))):r()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let r=!1;if(e&&!e._destroyed){for(let i=0,n=this.uploadHooks.length;i<n;i++)if(this.uploadHooks[i](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)Dt.system.addOnce(this.tick,this,us.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let r=0,i=e.length;r<i;r++)e[r]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let r=0,i=this.addHooks.length;r<i&&!this.addHooks[r](e,this.queue);r++);if(e instanceof nr)for(let r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this}destroy(){this.ticking&&Dt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};zA.uploadsPerFrame=4;let F0=zA;Object.defineProperties(oe,{UPLOADS_PER_FRAME:{get(){return F0.uploadsPerFrame},set(t){Ee("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),F0.uploadsPerFrame=t}}});function jA(t,e){return e instanceof _e?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function xL(t,e){if(!(e instanceof Ul))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:i}=r;for(let n=0;n<i.length;n++){const{texture:s}=i[n].style;s&&jA(t,s.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function _L(t,e){return t instanceof Ul?(e.push(t),!0):!1}class HA extends F0{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(_L),this.registerUploadHook(jA),this.registerUploadHook(xL)}}HA.extension={name:"prepare",type:se.RendererSystem};fe.add(HA);const VA=class Tl{constructor(e,r,i){this.linkedSheets=[],(e instanceof _e||e instanceof ie)&&(e={texture:e,data:r,resolutionFilename:i});const{texture:n,data:s,resolutionFilename:o=null,cachePrefix:l=""}=e;this.cachePrefix=l,this._texture=n instanceof ie?n:null,this.baseTexture=n instanceof _e?n:this._texture.baseTexture,this.textures={},this.animations={},this.data=s;const h=this.baseTexture.resource;this.resolution=this._updateResolution(o||(h?h.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:r}=this.data.meta;let i=xn(e,null);return i===null&&(i=typeof r=="number"?r:parseFloat(r??"1")),i!==1&&this.baseTexture.setResolution(i),i}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=Tl.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let r=e;const i=Tl.BATCH_SIZE;for(;r-e<i&&r<this._frameKeys.length;){const n=this._frameKeys[r],s=this._frames[n],o=s.frame;if(o){let l=null,h=null;const c=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,f=new Se(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);s.rotated?l=new Se(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):l=new Se(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(h=new Se(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[n]=new ie(this.baseTexture,l,f,h,s.rotated?2:0,s.anchor,s.borders),ie.addToCache(this.textures[n],this.cachePrefix+n.toString())}r++}}_processAnimations(){const e=this.data.animations||{};for(const r in e){this.animations[r]=[];for(let i=0;i<e[r].length;i++){const n=e[r][i];this.animations[r].push(this.textures[n])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Tl.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Tl.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var r;for(const i in this.textures)this.textures[i].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)==null||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};VA.BATCH_SIZE=1e3;let ab=VA;const wL=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"];function WA(t,e,r){const i={};if(t.forEach(n=>{i[n]=e}),Object.keys(e.textures).forEach(n=>{i[`${e.cachePrefix}${n}`]=e.textures[n]}),!r){const n=Ot.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{Object.assign(i,WA([`${n}/${e.data.meta.related_multi_packs[o]}`],s,!0))})}return i}const bL={extension:se.Asset,cache:{test:t=>t instanceof ab,getCacheableAssets:(t,e)=>WA(t,e,!1)},resolver:{test:t=>{const e=t.split("?")[0].split("."),r=e.pop(),i=e.pop();return r==="json"&&wL.includes(i)},parse:t=>{var r;const e=t.split(".");return{resolution:parseFloat(((r=oe.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:se.LoadParser,priority:yi.Normal},async testParse(t,e){return Ot.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var f,m;const{texture:i,imageFilename:n,cachePrefix:s}=(e==null?void 0:e.data)??{};let o=Ot.dirname(e.src);o&&o.lastIndexOf("/")!==o.length-1&&(o+="/");let l;if(i&&i.baseTexture)l=i;else{const p=g0(o+(n??t.meta.image),e.src);l=(await r.load([p]))[p]}const h=new ab({texture:l.baseTexture,data:t,resolutionFilename:e.src,cachePrefix:s});await h.parse();const c=(f=t==null?void 0:t.meta)==null?void 0:f.related_multi_packs;if(Array.isArray(c)){const p=[];for(const x of c){if(typeof x!="string")continue;let b=o+x;(m=e.data)!=null&&m.ignoreMultiPack||(b=g0(b,e.src),p.push(r.load({src:b,data:{ignoreMultiPack:!0}})))}const v=await Promise.all(p);h.linkedSheets=v,v.forEach(x=>{x.linkedSheets=[h].concat(h.linkedSheets.filter(b=>b!==x))})}return h},unload(t){t.destroy(!0)}}};fe.add(bL);const O0=class Lo extends hs{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new Lo(Object.keys(Lo.defaultOptions).reduce((r,i)=>({...r,[i]:e[i]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,e.refs===0&&(e.fontFace&&document.fonts.delete(e.fontFace),delete Lo.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,r={}){const{availableFonts:i}=Lo;if(i[e]){const n=i[e];return this._fonts.push(n),n.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return oe.ADAPTER.fetch(e).then(n=>n.blob()).then(async n=>new Promise((s,o)=>{const l=URL.createObjectURL(n),h=new FileReader;h.onload=()=>s([l,h.result]),h.onerror=o,h.readAsDataURL(n)})).then(async([n,s])=>{const o=Object.assign({family:Ot.basename(e,Ot.extname(e)),weight:"normal",style:"normal",display:"auto",src:n,dataSrc:s,refs:1,originalUrl:e,fontFace:null},r);i[e]=o,this._fonts.push(o),this.styleID++;const l=new FontFace(o.family,`url(${o.src})`,{weight:o.weight,style:o.style,display:o.display});o.fontFace=l,await l.load(),document.fonts.add(l),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){const r=e.filter(i=>!this._overrides.includes(i));r.length>0&&(this._overrides.push(...r),this.styleID++)}removeOverride(...e){const r=e.filter(i=>this._overrides.includes(i));r.length>0&&(this._overrides=this._overrides.filter(i=>!r.includes(i)),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,r)=>`${e}
            @font-face {
                font-family: "${r.family}";
                src: url('${r.dataSrc}');
                font-weight: ${r.weight};
                font-style: ${r.style};
                font-display: ${r.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=jd(e)),typeof e=="number"?Zk(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const r=this.dropShadowAlpha,i=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),n=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&r<1&&(e+=(r*255|0).toString(16).padStart(2,"0"));const s=`${i}px ${n}px`;return this.dropShadowBlur>0?`text-shadow: ${s} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${s} ${e}`}reset(){Object.assign(this,Lo.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(r=>setTimeout(r,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=oe.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};O0.availableFonts={},O0.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let Nm=O0;const sc=class Uo extends Ki{constructor(e="",r={}){super(ie.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const i=new Image,n=ie.from(i,{scaleMode:oe.SCALE_MODE,resourceOptions:{autoLoad:!1}});n.orig=new Se,n.trim=new Se,this.texture=n;const s="http://www.w3.org/2000/svg",o="http://www.w3.org/1999/xhtml",l=document.createElementNS(s,"svg"),h=document.createElementNS(s,"foreignObject"),c=document.createElementNS(o,"div"),f=document.createElementNS(o,"style");h.setAttribute("width","10000"),h.setAttribute("height","10000"),h.style.overflow="hidden",l.appendChild(h),this.maxWidth=Uo.defaultMaxWidth,this.maxHeight=Uo.defaultMaxHeight,this._domElement=c,this._styleElement=f,this._svgRoot=l,this._foreignObject=h,this._foreignObject.appendChild(f),this._foreignObject.appendChild(c),this._image=i,this._loadImage=new Image,this._autoResolution=Uo.defaultAutoResolution,this._resolution=Uo.defaultResolution??oe.RESOLUTION,this.text=e,this.style=r}measureText(e){var f,m;const{text:r,style:i,resolution:n}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:r,style:i.toCSS(n)}),this._styleElement.textContent=i.toGlobalCSS(),document.body.appendChild(this._svgRoot);const s=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:o,height:l}=s;(o>this.maxWidth||l>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const h=Math.min(this.maxWidth,Math.ceil(o)),c=Math.min(this.maxHeight,Math.ceil(l));return this._svgRoot.setAttribute("width",h.toString()),this._svgRoot.setAttribute("height",c.toString()),r!==this._text&&(this._domElement.innerHTML=this._text),i!==this._style&&(Object.assign(this._domElement,{style:(f=this._style)==null?void 0:f.toCSS(n)}),this._styleElement.textContent=(m=this._style)==null?void 0:m.toGlobalCSS()),{width:h+i.padding*2,height:c+i.padding*2}}async updateText(e=!0){const{style:r,_image:i,_loadImage:n}=this;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;const{width:s,height:o}=this.measureText();i.width=n.width=Math.ceil(Math.max(1,s)),i.height=n.height=Math.ceil(Math.max(1,o)),this._updateID++;const l=this._updateID;await new Promise(h=>{n.onload=async()=>{if(l<this._updateID){h();return}await r.onBeforeDraw(),i.src=n.src,n.onload=null,n.src="",this.updateTexture(),h()};const c=new XMLSerializer().serializeToString(this._svgRoot);n.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(c)}`})}get source(){return this._image}updateTexture(){const{style:e,texture:r,_image:i,resolution:n}=this,{padding:s}=e,{baseTexture:o}=r;r.trim.width=r._frame.width=i.width/n,r.trim.height=r._frame.height=i.height/n,r.trim.x=-s,r.trim.y=-s,r.orig.width=r._frame.width-s*2,r.orig.height=r._frame.height-s*2,this._onTextureUpdate(),o.setRealSize(i.width,i.height,n),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){var i,n,s,o,l;typeof e=="boolean"&&(e={children:e}),e=Object.assign({},Uo.defaultDestroyOptions,e),super.destroy(e);const r=null;this.ownsStyle&&((i=this._style)==null||i.cleanFonts()),this._style=r,(n=this._svgRoot)==null||n.remove(),this._svgRoot=r,(s=this._domElement)==null||s.remove(),this._domElement=r,(o=this._foreignObject)==null||o.remove(),this._foreignObject=r,(l=this._styleElement)==null||l.remove(),this._styleElement=r,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=r,this._image.src="",this._image=r}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const r=Qn(this.scale.x)||1;this.scale.x=r*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const r=Qn(this.scale.y)||1;this.scale.y=r*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&(e=e||{},e instanceof Nm?(this.ownsStyle=!1,this._style=e):e instanceof hs?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=Nm.from(e)):(this.ownsStyle=!0,this._style=new Nm(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(e===""||e===null||e===void 0?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};sc.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},sc.defaultMaxWidth=2024,sc.defaultMaxHeight=2024,sc.defaultAutoResolution=!0;const Ky=Zt.createContext(null),SL=({children:t})=>{const[e,r]=Pe.useState(!1),[i,n]=Pe.useState(""),s=()=>{r(!e)},o=h=>{r(!0),n(h)},l=()=>{r(!1)};return ce.jsx(Ky.Provider,{value:{isOpen:e,toggleSidebar:s,openSidebar:o,closeSidebar:l,iframeUrl:i},children:t})},rf=()=>{const t=Pe.useContext(Ky);if(!t)throw new Error("useSidebar must be used within a SidebarProvider");return t},EL=.005,TL=0,$e=t=>{const e=xA(),[r,i]=Pe.useState({x:t.x||0,y:t.y||0}),[n,s]=Pe.useState(0),[o,l]=Pe.useState(0),[h,c]=Pe.useState(1),[f,m]=Pe.useState(0),[p,v]=Pe.useState(!1),x=rf(),b=()=>{v(!0)},A=()=>{v(!1)},S=t.trails&&t.trails.length>1;Gi.useTick((V,W)=>{if(!t.trails||t.trails.length<2)return;const te=t.trails[n],Z=(n+1)%t.trails.length,O=t.trails[Z],G=lb(te,{position:{x:e.position.x,y:e.position.y},scale:e.scale}),ee=lb(O,{position:{x:e.position.x,y:e.position.y},scale:e.scale});let he,H;te.skipLinearInterpolation?(he=Math.round(o)===0?G.x:ee.x,H=Math.round(o)===0?G.y:ee.y):(he=G.x+(ee.x-G.x)*o,H=G.y+(ee.y-G.y)*o),i({x:he,y:H}),te.visible===!1?c(U=>Math.max(0,U-V*.05)):c(U=>Math.min(1,U+V*.05));const P=(te==null?void 0:te.delayMs)??TL;if(f<P){m(U=>U+W.deltaMS);return}const L=(te==null?void 0:te.speed)??EL,k=o+V*L;k>=1?(l(0),s(Z),m(0)):l(k)});const[E,w]=Pe.useState([]);Pe.useEffect(()=>{t.spritesheet&&bl.load(t.spritesheet).then(V=>{w(Object.keys(V.data.frames).map(W=>ie.from(W)))})},[t.spritesheet]);const[T,R]=Pe.useState(t.initialSpriteAnimationPlaying??!0),N=Pe.useRef(0),D=Pe.useRef(0);Gi.useTick(V=>{t.spriteAnimationIntervals&&t.spriteAnimationIntervals.length>0&&(D.current+=V*16.67,D.current>=t.spriteAnimationIntervals[N.current]&&(D.current=0,N.current=(N.current+1)%t.spriteAnimationIntervals.length,R(W=>!W)))});const M={...t,x:S?r.x:t.x,y:S?r.y:t.y,alpha:h,interactive:!0,filters:t.enableGlowEffect&&p?[NA]:[],mouseover:b,mouseout:A,mousedown:b,onclick:()=>{var V;return x.openSidebar(((V=t.metadata)==null?void 0:V.iframeUrl)??"")},...t.enableGlowEffect&&{cursor:"pointer"}};return t.spritesheet?E.length===0?null:ce.jsx(Gi.AnimatedSprite,{...t,...M,textures:E,isPlaying:T}):ce.jsx(Gi.Sprite,{...t,...M})};function lb(t,e){return{x:t.x*e.scale+e.position.x,y:t.y*e.scale+e.position.y}}const Mo=t=>{const[e,r]=Pe.useState(!1),i=rf(),n=()=>{r(!0)},s=()=>{r(!1)};return ce.jsx(Gi.Sprite,{...t,image:t.image,mouseover:n,mouseout:s,mousedown:n,filters:t.enableGlowEffect&&e?[NA]:[],interactive:!0,onpointerdown:()=>{var o;return i.openSidebar(((o=t.metadata)==null?void 0:o.iframeUrl)??"")},...t.enableGlowEffect&&{cursor:"pointer"}})},AL=[{key:"c-building",image:dO,offset:{x:960,y:-583},component:t=>ce.jsx(Mo,{...t,enableGlowEffect:!0,metadata:{iframeUrl:"https://www.creativeans.com/contact-objects/?section=section_object_4"}})},{key:"red-bubble",image:"",component:t=>ce.jsx($e,{...t,spritesheet:"./spritesheet/redbubble.json",animationSpeed:.07}),offset:{x:1118,y:-430}},{key:"purple-bubble",image:"",component:t=>ce.jsx($e,{...t,spritesheet:"./spritesheet/purplebubble.json",animationSpeed:.07}),offset:{x:966,y:-294}},{key:"train",image:fO,offset:{x:-1427,y:230},component:t=>ce.jsx(Mo,{...t,enableGlowEffect:!0,metadata:{iframeUrl:"https://www.creativeans.com/contact-objects/?section=section_object_7"}})},{key:"train-platform",image:pO,offset:{x:-1427,y:230}},{key:"building1",image:mO,offset:{x:-1680,y:-620},component:t=>ce.jsx(Mo,{...t,enableGlowEffect:!0,metadata:{iframeUrl:"https://www.creativeans.com/contact-objects/?section=section_object_2"}})},{key:"pipe",image:IO,offset:{x:-1485,y:-210}},{key:"building4",image:yO,offset:{x:0,y:-767},component:t=>ce.jsx(Mo,{...t,enableGlowEffect:!0,metadata:{iframeUrl:"https://www.creativeans.com/contact-objects/?section=section_object_3"}})},{key:"building3",image:gO,offset:{x:-653,y:-410},component:t=>ce.jsx(Mo,{...t,enableGlowEffect:!0,metadata:{iframeUrl:"https://www.creativeans.com/contact-objects/?section=section_object_1"}})},{key:"human-2",image:"",component:t=>ce.jsx($e,{...t,spritesheet:"./spritesheet/human2.json",animationSpeed:.07,trails:[{x:300,y:192,speed:.003},{x:56,y:0,speed:.003},{x:-196,y:-90,speed:.005},{x:-310,y:-170,speed:1},{x:-310,y:-170,visible:!1,delayMs:2e3,skipLinearInterpolation:!0}]}),offset:{x:-310,y:-170,scale:{x:.4,y:.4}}},{key:"bridge-top",image:hO,offset:{x:30,y:70}},{key:"building6",image:vO,offset:{x:593,y:267},component:t=>ce.jsx(Mo,{...t,enableGlowEffect:!0,metadata:{iframeUrl:"https://www.creativeans.com/contact-objects/?section=section_object_6"}})},{key:"building7",image:xO,offset:{x:1313,y:57}},{key:"brain",image:cO,component:t=>ce.jsx($e,{...t,trails:[{x:1483,y:-400,visible:!0,speed:.01},{x:1483,y:-350,visible:!0,speed:.01}],enableGlowEffect:!0,metadata:{iframeUrl:"https://www.creativeans.com/contact-objects/?section=section_object_5"}}),offset:{x:1483,y:-400}},{key:"yellow-ball",image:zw,component:t=>ce.jsx($e,{...t,trails:[{x:1574,y:-25,visible:!0,speed:.01},{x:1666,y:32,visible:!0},{x:1544,y:102,visible:!1,speed:.004},{x:1240,y:248,visible:!0},{x:1050,y:380,visible:!0,speed:.05},{x:1032,y:460,visible:!0,delayMs:5e3,speed:1,skipLinearInterpolation:!0}]}),offset:{x:0,y:0}},{key:"purple-ball-2",image:Gw,component:t=>ce.jsx($e,{...t,trails:[{x:1544,y:102,visible:!1,speed:.004},{x:1240,y:248,visible:!0},{x:1050,y:380,visible:!0,speed:.05},{x:1032,y:460,visible:!0,delayMs:5e3,speed:1,skipLinearInterpolation:!0},{x:1574,y:-25,visible:!0,speed:.01},{x:1666,y:32,visible:!0}]}),offset:{x:0,y:0}},{key:"yellow-ball-2",image:zw,component:t=>ce.jsx($e,{...t,trails:[{x:1240,y:248,visible:!0},{x:1050,y:380,visible:!0,speed:.05},{x:1032,y:460,visible:!0,delayMs:5e3,speed:1,skipLinearInterpolation:!0},{x:1574,y:-25,visible:!0,speed:.01},{x:1666,y:32,visible:!0},{x:1544,y:102,visible:!1,speed:.004}]}),offset:{x:0,y:0}},{key:"purple-ball",image:Gw,component:t=>ce.jsx($e,{...t,trails:[{x:1032,y:460,visible:!0,delayMs:5e3,speed:1,skipLinearInterpolation:!0},{x:1574,y:-25,visible:!0,speed:.01},{x:1666,y:32,visible:!0},{x:1544,y:102,visible:!1,speed:.004},{x:1240,y:248,visible:!0},{x:1050,y:380,visible:!0,speed:.05}]}),offset:{x:1240,y:248}},{key:"tree-building-3",image:_O,offset:{x:-1040,y:-450}},{key:"globe",image:wO,offset:{x:-750,y:-1033}},{key:"train-strawberry",image:bO,offset:{x:-367,y:473}},{key:"elevator",image:"",component:t=>ce.jsx($e,{...t,spritesheet:"./spritesheet/elevator.json",animationSpeed:.1,spriteAnimationIntervals:[1e3,8900],initialSpriteAnimationPlaying:!0}),offset:{x:285,y:1040}},{key:"train-chocolate",image:SO,component:t=>ce.jsx($e,{...t,trails:[{x:373,y:1167,delayMs:1e3,speed:.003},{x:-1964,y:2517,speed:1,skipLinearInterpolation:!0},{x:1473,y:532}]}),offset:{x:1473,y:532}},{key:"fish-denison-1",image:TO,component:t=>ce.jsx($e,{...t,trails:[{x:-900,y:333},{x:-900,y:303}]}),offset:{x:-900,y:333}},{key:"fish-denison-2",image:AO,component:t=>ce.jsx($e,{...t,trails:[{x:-1017,y:267,speed:.003},{x:-1017,y:237,speed:.003}]}),offset:{x:-1017,y:267}},{key:"fish-denison-3",image:CO,component:t=>ce.jsx($e,{...t,trails:[{x:617,y:700,speed:.004},{x:617,y:670,speed:.004}]}),offset:{x:617,y:700}},{key:"red-lollipop-1",image:Zh,component:Nn,offset:{x:340,y:-1160,scale:{x:.5,y:.5}}},{key:"red-lollipop-2",component:Nn,image:Zh,offset:{x:340,y:-1040,scale:{x:.18,y:.18}}},{key:"purple-lollipop-1",component:Nn,image:qh,offset:{x:270,y:-1070,scale:{x:.25,y:.25}}},{key:"purple-lollipop-2",component:Nn,image:qh,offset:{x:420,y:-1065,scale:{x:.25,y:.25}}},{key:"purple-lollipop-3",component:Nn,image:qh,offset:{x:-1534,y:-135,scale:{x:.4,y:.4}}},{key:"red-lollipop-3",component:Nn,image:Zh,offset:{x:-1480,y:-74,scale:{x:.2,y:.2}}},{key:"red-lollipop-4",component:Nn,image:Zh,offset:{x:954,y:-180,scale:{x:.4,y:.4}}},{key:"purple-lollipop-4",component:Nn,image:qh,offset:{x:1e3,y:-117,scale:{x:.2,y:.2}}},{key:"fish-orange",image:RO,component:t=>ce.jsx($e,{...t,trails:[{x:3529,y:636,visible:!0,speed:3e-4},{x:-1840,y:-2464,visible:!0,speed:1},{x:-1840,y:-2464,visible:!1,speed:1,skipLinearInterpolation:!0}]}),offset:{x:1797,y:-364}},{key:"human-1",image:"",component:t=>ce.jsx($e,{...t,spritesheet:"./spritesheet/human1.json",animationSpeed:.07,trails:[{x:3459,y:636,visible:!0,speed:3e-4},{x:-1910,y:-2464,visible:!0,speed:1},{x:-1910,y:-2464,visible:!1,speed:1,skipLinearInterpolation:!0}]}),offset:{x:1727,y:-364,scale:{x:.7,y:.7}}},{key:"fish-orange-partial",image:kO,component:t=>ce.jsx($e,{...t,trails:[{x:3529,y:636,visible:!0,speed:3e-4},{x:-1840,y:-2464,visible:!0,speed:1},{x:-1840,y:-2464,visible:!1,speed:1,skipLinearInterpolation:!0}]}),offset:{x:1797,y:-364}},{key:"plant-pot-1",image:MO,component:({...t})=>ce.jsx($e,{...t,trails:[{x:-1020,y:76,visible:!0},{x:-1279,y:-74,visible:!0},{x:-1063,y:-199,visible:!1},{x:-976,y:-249,visible:!1,skipLinearInterpolation:!0,speed:1}]}),offset:{x:0,y:0}},{key:"plant-pot-2",image:DO,component:({...t})=>ce.jsx($e,{...t,trails:[{x:-1265,y:-89},{x:-1048,y:-214,visible:!1},{x:-961,y:-264,visible:!1,skipLinearInterpolation:!0,speed:1},{x:-1014,y:56}]}),offset:{x:0,y:0}},{key:"plant-pot-3",image:FO,component:({...t})=>ce.jsx($e,{...t,trails:[{x:-1063,y:-199,visible:!1},{x:-976,y:-249,skipLinearInterpolation:!0,visible:!1,speed:1},{x:-1020,y:76},{x:-1279,y:-74}]}),offset:{x:0,y:0}},{key:"otter-1",image:Hw,offset:{x:-254,y:270}},{key:"otter-2",image:Hw,offset:{x:270,y:-107,scale:{x:-1}}},{key:"fish-angel-1",image:jw,component:t=>ce.jsx($e,{...t,scale:{x:.3,y:.3},trails:[{x:-3456,y:-1367,visible:!0,speed:3e-4},{x:3731,y:2783,visible:!0,speed:1},{x:3731,y:2783,visible:!1,speed:1,skipLinearInterpolation:!0}]}),offset:{x:-700,y:833}},{key:"fish-angel-2",image:jw,component:t=>ce.jsx($e,{...t,scale:{x:.4,y:.4},trails:[{x:-2764,y:-967,speed:3e-4},{x:3731,y:2783,visible:!0,speed:1},{x:3731,y:2783,visible:!1,speed:1,skipLinearInterpolation:!0}]}),offset:{x:-333,y:1433}},{key:"fish-blue-german",image:PO,component:t=>ce.jsx($e,{...t,trails:[{x:-3550,y:833,visible:!0,speed:3e-4},{x:1818,y:-2267,visible:!0,speed:1,skipLinearInterpolation:!0},{x:1818,y:-2267,visible:!1,speed:1,skipLinearInterpolation:!0}]}),offset:{x:-433,y:-967}},{key:"train-hole-top-layer",image:EO,offset:{x:1692,y:427}},{key:"shiba",image:"",component:t=>ce.jsx($e,{...t,spritesheet:"./spritesheet/shiba.json",animationSpeed:.07}),offset:{x:26,y:980,scale:{x:.8,y:.8}}},{key:"water-bridge-shadow",image:OO,offset:{x:305,y:-305}},{key:"leaf",image:"",component:t=>ce.jsx($e,{...t,spritesheet:"./spritesheet/leaf.json",animationSpeed:.01}),offset:{x:15,y:-1200}}],CL=["./spritesheet/starOne.json","./spritesheet/starTwo.json"],PL=(t,e)=>{const r=[];for(let l=0;l<t;l++){const h=Math.floor(Math.random()*2),c=CL[h],f=IL(-1200,1200,-1e3,800),m=Math.random()*(.1-.07)+.07;r.push({key:`star-${l}`,image:"",component:p=>ce.jsx($e,{...p,spritesheet:c,animationSpeed:m}),offset:{x:f.x*(1/e),y:f.y*(1/e)}})}return r};function IL(t,e,r,i){const n=Math.random()*(e-t)+t,s=Math.random()*(i-r)+r;return{x:n,y:s}}const RL=PL(100,.5),ub=({children:t,Context:e,render:r})=>ce.jsx(e.Consumer,{children:i=>r(ce.jsx(e.Provider,{value:i,children:t}))}),kL=({children:t,...e})=>ce.jsx(ub,{Context:Qy,render:r=>ce.jsx(ub,{Context:Ky,render:i=>ce.jsx(Gi.Stage,{...e,children:i}),children:r}),children:t});function N0(){return N0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},N0.apply(this,arguments)}function ML(t,e){if(t==null)return{};var r={},i=Object.keys(t),n,s;for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&(r[n]=t[n]);return r}function DL(t,e){if(t==null)return{};var r=ML(t,e),i,n;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)i=s[n],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(r[i]=t[i])}return r}var FL=["size","color"];function OL(t){var e=t.size,r=e===void 0?24:e,i=t.color,n=i===void 0?"currentColor":i,s=DL(t,FL);return Zt.createElement("svg",N0({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-x",width:r,height:r,viewBox:"0 0 24 24",stroke:n,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},s),Zt.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),Zt.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Zt.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))}const NL="data:image/webp;base64,UklGRugJAABXRUJQVlA4INwJAADwLwCdASpLAT0APpFAmkklo6KhJdRN4LASCWkAFs6+Sv7R2tf33xB8lHpH3E5PfUXmh9TP0n9s88e/XgBet/7r+WHA2gA/P/69/y/7xyI+IBwJlADxXdCH1d7B/68f8XsqoXGArpojQJbvQEH2sB9I+1dm1js0LiWmG8dH2EKoTOOIPuAICVl0khYN8dU3k47smPBXWpGt22o6QXj3aI78vCcuUyJjXFZwF6sfoCahbDX6POKL5v5OWMGsxgl1ELdoWnFkchQKQVod1cL1lLXlTejvgWH4cczbiobmEGQWoOW91h092a+XvmsmoBXzI1WykHoReyST6tt/GXwZsJuf3n1ipAftGQz889lTAMCYr8CKaLt2M7A4ZKsZH7EmTO4cW+iSRmN0igw1dAv2iGmv8xVqqhMOSPeZpbYBhaBtcsrM7fZZKygslFfYvjJ4xS31fU76xKuegn7pIzoh4Z8FdFtyKWa59YISXKpbCBAUrqMqQz02lP6cFCX973PFePTipAT66FEgIAD++4KVbnuCrS3DUXjEVPW+158jiw7E/rX8spzfNf9jv3336871l21JHmJY653uUUcwg6ldYobHsP6N+1298rG1aTgmOiVYleAXeUOSi/+Oe3DUW7ZD9ATlylv7okwiQJugwkLJ7hOQfgs0u09tKWrrzLHbWd71muPvz99lEiTv51YikuMuX644wSBoaHpwQaGV7wN3BRG6OswQHfUJMhg8zvXuVATS9ELdvm3GKeTzrJistY0Y0SNSC33Rv0PvMRmorCXFtGgERWsG5Eypi8QiKjNd9cvItiUIHRvg1RFW7HH5VozJ+ZIyyoxH6DYiWedHtHWLnkU3B8Xt3Vqlzo9G6N+ivS5eeuT6C5gQ9zs3IfraUkMEcVwxRZJGWt0sU4BIPfYWFBx3GUjG+2+8usI5hUQus3gz5mzS6PsVn1WCNpL5pD7QG/J9Y625j9kgpz01nJL8RvuQxYlXrvwNGz951GrvBe+Uvi+iVi07YT5xgE2Cwh7yyylTu/AD7EiPYkbF98gtCgEcZ8YM+JZvOn/BgO3n+qju+vnmeT3dLdtBe/TgdSae6rfNRmDcxg2FffqC1vK/mw9mDcnwaj7v2bpgUvZImO4xYSOPmlpZtwdxBo8/cQjhHn8fh5232vqgC14yLp/omElysmR2mA6zPHtJzVZFQldh+0MNhzvfMWnCmJ+DCyJxkfA8tPMm5fHTmwr3gZH8KraRoRNt/5KLejIm26yGuNmBQ69y/GAA5tQtflG9Hpkkg5TVFfuOfli3hSkUdutDIiCb4vHYG2T5scgzBGWfsMWCTjh3RjIu/56hA5mrzBMwphoumm7/9xAx2tupCYeshjafwRFiI7wWhaQySe/dvpxp3b1oQ7fRSLK6xCq1h4147GkFWm94IhKZAiC446HdK56gmBEhuAKPfSGeoHKkfd1ueSgi8u6LNaWFfNk86Vxd7ASdenVvmdy9PtACsu5FYXQ87BSMwhAHQX3JY+EDjJ5ua4mYfzBpaKEuOXHrscNYQkVIDWqCUNBSrJtx10UCh/gUBbGNgp6pQuWTqPx96p4OVWYq6DhDx1Nu6wYT6q/vJq6DwAp6ah0nsz3sNV+O5DSNbV8tEE+C6bQGCQou18MGsubf2nt+VbMyTKB9XotDpEOr2lZ+PJlI71/8+27wNmwaz449xu+B1sb0yF7ZirEwP4yuieswY4pZv1vKkoDRkTDSfRjEjCujmNZneUVu0GwNlCwvqpYfkRLnsifLo6mS/NYk5Fd7pUA2DveJzd9HXPAqMLobpMvCJ1JO0VYPfh1J+Fa12xqBd0Y0sv0qzrzsUc4XyNCfvvsSI19Q3DonqA1vqi7ARSsegBWyH1PByDT/WihvnHRNvyU3rUMcvybVmD8R7YBQYRFJcF2xhEI1Yhh6sOu5etajRp40NqQMRsSGWmEZ1/+Vbp1KYEfd0uSZzDLt1b7MCBBh1I11x0Igr+YVNFV3YONb704p8muewjshr+2k5mT8dHVtqQh2JoUJOzcs67zQaJUXR54Nsm75l3x4x/GKjDWWVSqZHaKg35UQEEGkRt1i7J+v5xRxfl/dQ5Z74RGQQfEZwig1/W0dY4MhiQTmnB7BHuQcbgaEFFi88y2mVfHfAd/RmbEBRkVOu+MkP4CArsQsKr+GFrHRK/a1noKcPYwa8poPkuTBxJU9tEY3n+BnobQQxUCiRYNpv5VR8k+wneVcNHw5toaNkHI7QiU4aVxIYz3if+2CJe4hvJb1XSyVPfU3M4ZxPxTaNiufYeOt5JOoQ0Q/484VeYLtwxEEbxoGZWapImj/I8r/Lz0od2zEmPTHmlyiqs8kid3kbs493diebs9kl2kdtX9CW2uo1cLrZ457V202aSf4QCMlrH9ZwtLb7ldnLsOIWVukI/6IhaeYhOUNOYlB7HgL0Rab4N4LmPKIuqkd6aOUR6NBALY6rZxHnTXk9WWydPWdBmTRkfgfEvjP0f1MUzX+I8XIRdsPGZ766n4jFxXGnKWoA4hLMyWTVmSJeZb09WwDSSbER/Bf97i3a0lL3k/UD3egYrMPPYgYvHh5+Zk5PaWBVr3xHqLooIXxahYjRQZtkn4XbnV03Ug7kyti639Gb81r6a0Qf8VCtk7+oOci3AAS3rv+0p1sX14bmzs+EZdp3jIZSx4/wh5aEStWiWm+v8irepuocGQH1zfywxLG2qDANyDGvIp3blfQWKK9Z7jyS24zVjCfOyc3QRVucbcwT1rHQsQTcLxhi9X9+1szBqy2YxoKNwz0os79ecBtEsq338j3F9/PecJXkZlckXSsC6mZ/Jo3ZUjWHK16105coKv2d/2kA+Hkw9OYMlBbGBHpApt4+JpFyfqaaCr1mMQ8C4DTP9BE2zVrvQog7PbD/KHUj3gNP3OyHMGblvIi4ku1MOFj9CPH+OzXHpCifAfDTTLKjkEVu9O2pqKk8oFR36GnToiX7Ig+9cxscwMIXgxeTT6haeHBnaIweCinFDNG8Pf7ZMFq5J1bwEOOylAi2GaJq/iibegkExLMtibqFXignzFMoyMHgqldRIeZ8VyV7f6ilNjZ49KP/tSREkoUpGilQZrzjmLtc+8ERxLtSgN9Ryp7eh/frGT5sN0B66RdL//aog99NrTM0FoNvbIcuIuLa8Pzh/9UX+y+TR1y0Kedz1348QmlaAs5QdsLhEdNmiacZUyWI3nCON1db4NETLs6fIbvDyGDIDdRUPxs91qV88BOWOEVXXjbzuxVURxzUUpia+lLgdpL8TyCmcYLPfnJ+U8CHTWP7BqgrcvrEnbPkQoc3aCbqHG/OXKFv3TVVbZCCr0dq/CFdlRU8UYAlWzV0tgdAGomgAAA",BL=()=>{const t=rf();return ce.jsxs(ce.Fragment,{children:[ce.jsx("div",{className:`fixed right-0 z-20 h-screen w-screen transform bg-[#f6f7fb] px-12 py-8 transition-transform duration-300 ease-in-out lg:w-1/2 ${t.isOpen?"translate-x-0":"translate-x-full"}`,children:ce.jsxs("div",{className:"flex flex-col gap-8",children:[ce.jsxs("div",{"data-label":"header",className:"flex items-center justify-between",children:[ce.jsx("a",{href:"https://creativeans.com",target:"_blank",children:ce.jsx("img",{src:NL,alt:"Creativeans Logo",className:"max-w-[50%] lg:max-w-none"})}),ce.jsx(OL,{onClick:t.closeSidebar,size:48,strokeWidth:2,color:"black",className:"hover:cursor-pointer"})]}),ce.jsx("div",{"data-label":"body",children:t.iframeUrl&&ce.jsx("iframe",{src:t.iframeUrl,allow:"cross-origin",title:"Creativeans",className:"h-[calc(100vh-10rem)] w-full"})})]})}),t.isOpen&&ce.jsx("div",{className:"fixed z-10 h-screen w-screen bg-black opacity-70 hover:cursor-pointer",onClick:t.closeSidebar})]})},LL=()=>{const{position:t,scale:e,isDragging:r,handleMouseDown:i,handleMouseMove:n,handleTouchStart:s,handleTouchMove:o,handleTouchEnd:l}=xA(),h=rf(),c=f=>f.map(m=>{var b,A;const p={x:m.offset.x*e,y:m.offset.y*e},v={x:((b=m.offset.scale)==null?void 0:b.x)||1,y:((A=m.offset.scale)==null?void 0:A.y)||1},x=m.component||Gi.Sprite;return ce.jsx(x,{image:m.image,anchor:.5,x:t.x+p.x,y:t.y+p.y,scale:{x:e*v.x,y:e*v.y},rotation:m.rotation||0},m.key)});return ce.jsxs("div",{className:"relative m-0 h-screen w-screen overflow-hidden p-0",children:[ce.jsx(BL,{}),ce.jsxs(kL,{width:window.innerWidth,height:window.innerHeight,onMouseMove:n,onMouseDown:i,onTouchStart:s,onTouchMove:o,onTouchEnd:l,style:{touchAction:"none",cursor:r?"grabbing":"grab"},children:[c(RL),ce.jsx(Gi.Sprite,{image:uO,anchor:.5,x:t.x,y:t.y,scale:{x:e,y:e},pointerdown:i,interactive:!0,onclick:h.closeSidebar}),c(AL)]})]})};var UL=typeof an=="object"&&an&&an.Object===Object&&an,zL=typeof self=="object"&&self&&self.Object===Object&&self;UL||zL||Function("return this")();var GL=typeof window<"u"?Pe.useLayoutEffect:Pe.useEffect,jL=typeof window>"u";function hb(t,{defaultValue:e=!1,initializeWithValue:r=!0}={}){const i=l=>jL?e:window.matchMedia(l).matches,[n,s]=Pe.useState(()=>r?i(t):e);function o(){s(i(t))}return GL(()=>{const l=window.matchMedia(t);return o(),l.addListener?l.addListener(o):l.addEventListener("change",o),()=>{l.removeListener?l.removeListener(o):l.removeEventListener("change",o)}},[t]),n}const HL=4096,VL=2671;function WL(){const t=hb("(min-width: 1600px)"),e=hb("(min-width: 768px)"),r=t?1:e?.5:.3;return ce.jsx(BO,{initialScale:r,width:HL,height:VL,children:ce.jsx(SL,{children:ce.jsx(LL,{})})})}EE(document.getElementById("root")).render(ce.jsx(Pe.StrictMode,{children:ce.jsx(WL,{})}))});export default XL();
