var bC=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var A5=bC((W5,qd)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var ai=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ed(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function yw(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var vw={exports:{}},Ad={},xw={exports:{}},Re={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fu=Symbol.for("react.element"),wC=Symbol.for("react.portal"),SC=Symbol.for("react.fragment"),EC=Symbol.for("react.strict_mode"),AC=Symbol.for("react.profiler"),TC=Symbol.for("react.provider"),CC=Symbol.for("react.context"),PC=Symbol.for("react.forward_ref"),IC=Symbol.for("react.suspense"),RC=Symbol.for("react.memo"),kC=Symbol.for("react.lazy"),$1=Symbol.iterator;function MC(t){return t===null||typeof t!="object"?null:(t=$1&&t[$1]||t["@@iterator"],typeof t=="function"?t:null)}var _w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},bw=Object.assign,ww={};function Ca(t,e,r){this.props=t,this.context=e,this.refs=ww,this.updater=r||_w}Ca.prototype.isReactComponent={};Ca.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ca.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Sw(){}Sw.prototype=Ca.prototype;function G0(t,e,r){this.props=t,this.context=e,this.refs=ww,this.updater=r||_w}var j0=G0.prototype=new Sw;j0.constructor=G0;bw(j0,Ca.prototype);j0.isPureReactComponent=!0;var Y1=Array.isArray,Ew=Object.prototype.hasOwnProperty,H0={current:null},Aw={key:!0,ref:!0,__self:!0,__source:!0};function Tw(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Ew.call(e,n)&&!Aw.hasOwnProperty(n)&&(i[n]=e[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var h=Array(l),c=0;c<l;c++)h[c]=arguments[c+2];i.children=h}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:fu,type:t,key:s,ref:o,props:i,_owner:H0.current}}function DC(t,e){return{$$typeof:fu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function W0(t){return typeof t=="object"&&t!==null&&t.$$typeof===fu}function FC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var Q1=/\/+/g;function bp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?FC(""+t.key):e.toString(36)}function lc(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case fu:case wC:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+bp(o,0):n,Y1(i)?(r="",t!=null&&(r=t.replace(Q1,"$&/")+"/"),lc(i,e,r,"",function(c){return c})):i!=null&&(W0(i)&&(i=DC(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(Q1,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",Y1(t))for(var l=0;l<t.length;l++){s=t[l];var h=n+bp(s,l);o+=lc(s,e,r,h,i)}else if(h=MC(t),typeof h=="function")for(t=h.call(t),l=0;!(s=t.next()).done;)s=s.value,h=n+bp(s,l++),o+=lc(s,e,r,h,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function dh(t,e,r){if(t==null)return t;var n=[],i=0;return lc(t,n,"","",function(s){return e.call(r,s,i++)}),n}function OC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var sr={current:null},uc={transition:null},NC={ReactCurrentDispatcher:sr,ReactCurrentBatchConfig:uc,ReactCurrentOwner:H0};function Cw(){throw Error("act(...) is not supported in production builds of React.")}Re.Children={map:dh,forEach:function(t,e,r){dh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return dh(t,function(){e++}),e},toArray:function(t){return dh(t,function(e){return e})||[]},only:function(t){if(!W0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Re.Component=Ca;Re.Fragment=SC;Re.Profiler=AC;Re.PureComponent=G0;Re.StrictMode=EC;Re.Suspense=IC;Re.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NC;Re.act=Cw;Re.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=bw({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=H0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(h in e)Ew.call(e,h)&&!Aw.hasOwnProperty(h)&&(n[h]=e[h]===void 0&&l!==void 0?l[h]:e[h])}var h=arguments.length-2;if(h===1)n.children=r;else if(1<h){l=Array(h);for(var c=0;c<h;c++)l[c]=arguments[c+2];n.children=l}return{$$typeof:fu,type:t.type,key:i,ref:s,props:n,_owner:o}};Re.createContext=function(t){return t={$$typeof:CC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:TC,_context:t},t.Consumer=t};Re.createElement=Tw;Re.createFactory=function(t){var e=Tw.bind(null,t);return e.type=t,e};Re.createRef=function(){return{current:null}};Re.forwardRef=function(t){return{$$typeof:PC,render:t}};Re.isValidElement=W0;Re.lazy=function(t){return{$$typeof:kC,_payload:{_status:-1,_result:t},_init:OC}};Re.memo=function(t,e){return{$$typeof:RC,type:t,compare:e===void 0?null:e}};Re.startTransition=function(t){var e=uc.transition;uc.transition={};try{t()}finally{uc.transition=e}};Re.unstable_act=Cw;Re.useCallback=function(t,e){return sr.current.useCallback(t,e)};Re.useContext=function(t){return sr.current.useContext(t)};Re.useDebugValue=function(){};Re.useDeferredValue=function(t){return sr.current.useDeferredValue(t)};Re.useEffect=function(t,e){return sr.current.useEffect(t,e)};Re.useId=function(){return sr.current.useId()};Re.useImperativeHandle=function(t,e,r){return sr.current.useImperativeHandle(t,e,r)};Re.useInsertionEffect=function(t,e){return sr.current.useInsertionEffect(t,e)};Re.useLayoutEffect=function(t,e){return sr.current.useLayoutEffect(t,e)};Re.useMemo=function(t,e){return sr.current.useMemo(t,e)};Re.useReducer=function(t,e,r){return sr.current.useReducer(t,e,r)};Re.useRef=function(t){return sr.current.useRef(t)};Re.useState=function(t){return sr.current.useState(t)};Re.useSyncExternalStore=function(t,e,r){return sr.current.useSyncExternalStore(t,e,r)};Re.useTransition=function(){return sr.current.useTransition()};Re.version="18.3.1";xw.exports=Re;var Ce=xw.exports;const qt=Ed(Ce);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BC=Ce,LC=Symbol.for("react.element"),UC=Symbol.for("react.fragment"),zC=Object.prototype.hasOwnProperty,GC=BC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,jC={key:!0,ref:!0,__self:!0,__source:!0};function Pw(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)zC.call(e,n)&&!jC.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:LC,type:t,key:s,ref:o,props:i,_owner:GC.current}}Ad.Fragment=UC;Ad.jsx=Pw;Ad.jsxs=Pw;vw.exports=Ad;var L=vw.exports,Iw={exports:{}},Pr={},Rw={exports:{}},kw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,U){var D=P.length;P.push(U);e:for(;0<D;){var G=D-1>>>1,re=P[G];if(0<i(re,U))P[G]=U,P[D]=re,D=G;else break e}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var U=P[0],D=P.pop();if(D!==U){P[0]=D;e:for(var G=0,re=P.length,_e=re>>>1;G<_e;){var be=2*(G+1)-1,Ue=P[be],Pe=be+1,Le=P[Pe];if(0>i(Ue,D))Pe<re&&0>i(Le,Ue)?(P[G]=Le,P[Pe]=D,G=Pe):(P[G]=Ue,P[be]=D,G=be);else if(Pe<re&&0>i(Le,D))P[G]=Le,P[Pe]=D,G=Pe;else break e}}return U}function i(P,U){var D=P.sortIndex-U.sortIndex;return D!==0?D:P.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var h=[],c=[],f=1,m=null,p=3,v=!1,x=!1,w=!1,A=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(P){for(var U=r(c);U!==null;){if(U.callback===null)n(c);else if(U.startTime<=P)n(c),U.sortIndex=U.expirationTime,e(h,U);else break;U=r(c)}}function T(P){if(w=!1,b(P),!x)if(r(h)!==null)x=!0,ue(R);else{var U=r(c);U!==null&&H(T,U.startTime-P)}}function R(P,U){x=!1,w&&(w=!1,S(k),k=-1),v=!0;var D=p;try{for(b(U),m=r(h);m!==null&&(!(m.expirationTime>U)||P&&!ie());){var G=m.callback;if(typeof G=="function"){m.callback=null,p=m.priorityLevel;var re=G(m.expirationTime<=U);U=t.unstable_now(),typeof re=="function"?m.callback=re:m===r(h)&&n(h),b(U)}else n(h);m=r(h)}if(m!==null)var _e=!0;else{var be=r(c);be!==null&&H(T,be.startTime-U),_e=!1}return _e}finally{m=null,p=D,v=!1}}var B=!1,M=null,k=-1,$=5,X=-1;function ie(){return!(t.unstable_now()-X<$)}function ee(){if(M!==null){var P=t.unstable_now();X=P;var U=!0;try{U=M(!0,P)}finally{U?O():(B=!1,M=null)}}else B=!1}var O;if(typeof E=="function")O=function(){E(ee)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,te=W.port2;W.port1.onmessage=ee,O=function(){te.postMessage(null)}}else O=function(){A(ee,0)};function ue(P){M=P,B||(B=!0,O())}function H(P,U){k=A(function(){P(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,ue(R))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):$=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(P){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var D=p;p=U;try{return P()}finally{p=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,U){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var D=p;p=P;try{return U()}finally{p=D}},t.unstable_scheduleCallback=function(P,U,D){var G=t.unstable_now();switch(typeof D=="object"&&D!==null?(D=D.delay,D=typeof D=="number"&&0<D?G+D:G):D=G,P){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=D+re,P={id:f++,callback:U,priorityLevel:P,startTime:D,expirationTime:re,sortIndex:-1},D>G?(P.sortIndex=D,e(c,P),r(h)===null&&P===r(c)&&(w?(S(k),k=-1):w=!0,H(T,D-G))):(P.sortIndex=re,e(h,P),x||v||(x=!0,ue(R))),P},t.unstable_shouldYield=ie,t.unstable_wrapCallback=function(P){var U=p;return function(){var D=p;p=U;try{return P.apply(this,arguments)}finally{p=D}}}})(kw);Rw.exports=kw;var HC=Rw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WC=Ce,Cr=HC;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Mw=new Set,jl={};function io(t,e){ga(t,e),ga(t+"Capture",e)}function ga(t,e){for(jl[t]=e,t=0;t<e.length;t++)Mw.add(e[t])}var mi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Gm=Object.prototype.hasOwnProperty,VC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,K1={},q1={};function XC(t){return Gm.call(q1,t)?!0:Gm.call(K1,t)?!1:VC.test(t)?q1[t]=!0:(K1[t]=!0,!1)}function $C(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function YC(t,e,r,n){if(e===null||typeof e>"u"||$C(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function or(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ht[t]=new or(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ht[e]=new or(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ht[t]=new or(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ht[t]=new or(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ht[t]=new or(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ht[t]=new or(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ht[t]=new or(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ht[t]=new or(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ht[t]=new or(t,5,!1,t.toLowerCase(),null,!1,!1)});var V0=/[\-:]([a-z])/g;function X0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(V0,X0);Ht[e]=new or(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(V0,X0);Ht[e]=new or(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(V0,X0);Ht[e]=new or(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ht[t]=new or(t,1,!1,t.toLowerCase(),null,!1,!1)});Ht.xlinkHref=new or("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ht[t]=new or(t,1,!1,t.toLowerCase(),null,!0,!0)});function $0(t,e,r,n){var i=Ht.hasOwnProperty(e)?Ht[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(YC(e,r,i,n)&&(r=null),n||i===null?XC(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var wi=WC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fh=Symbol.for("react.element"),Go=Symbol.for("react.portal"),jo=Symbol.for("react.fragment"),Y0=Symbol.for("react.strict_mode"),jm=Symbol.for("react.profiler"),Dw=Symbol.for("react.provider"),Fw=Symbol.for("react.context"),Q0=Symbol.for("react.forward_ref"),Hm=Symbol.for("react.suspense"),Wm=Symbol.for("react.suspense_list"),K0=Symbol.for("react.memo"),zi=Symbol.for("react.lazy"),Ow=Symbol.for("react.offscreen"),Z1=Symbol.iterator;function el(t){return t===null||typeof t!="object"?null:(t=Z1&&t[Z1]||t["@@iterator"],typeof t=="function"?t:null)}var at=Object.assign,wp;function pl(t){if(wp===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);wp=e&&e[1]||""}return`
`+wp+t}var Sp=!1;function Ep(t,e){if(!t||Sp)return"";Sp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var h=`
`+i[o].replace(" at new "," at ");return t.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",t.displayName)),h}while(1<=o&&0<=l);break}}}finally{Sp=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?pl(t):""}function QC(t){switch(t.tag){case 5:return pl(t.type);case 16:return pl("Lazy");case 13:return pl("Suspense");case 19:return pl("SuspenseList");case 0:case 2:case 15:return t=Ep(t.type,!1),t;case 11:return t=Ep(t.type.render,!1),t;case 1:return t=Ep(t.type,!0),t;default:return""}}function Vm(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case jo:return"Fragment";case Go:return"Portal";case jm:return"Profiler";case Y0:return"StrictMode";case Hm:return"Suspense";case Wm:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Fw:return(t.displayName||"Context")+".Consumer";case Dw:return(t._context.displayName||"Context")+".Provider";case Q0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case K0:return e=t.displayName||null,e!==null?e:Vm(t.type)||"Memo";case zi:e=t._payload,t=t._init;try{return Vm(t(e))}catch{}}return null}function KC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vm(e);case 8:return e===Y0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function as(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Nw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function qC(t){var e=Nw(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ph(t){t._valueTracker||(t._valueTracker=qC(t))}function Bw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=Nw(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function kc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Xm(t,e){var r=e.checked;return at({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function J1(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=as(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Lw(t,e){e=e.checked,e!=null&&$0(t,"checked",e,!1)}function $m(t,e){Lw(t,e);var r=as(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ym(t,e.type,r):e.hasOwnProperty("defaultValue")&&Ym(t,e.type,as(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ex(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Ym(t,e,r){(e!=="number"||kc(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ml=Array.isArray;function ra(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+as(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Qm(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return at({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function tx(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(q(92));if(ml(r)){if(1<r.length)throw Error(q(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:as(r)}}function Uw(t,e){var r=as(e.value),n=as(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function rx(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function zw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Km(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?zw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var mh,Gw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(mh=mh||document.createElement("div"),mh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=mh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Hl(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Cl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ZC=["Webkit","ms","Moz","O"];Object.keys(Cl).forEach(function(t){ZC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Cl[e]=Cl[t]})});function jw(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Cl.hasOwnProperty(t)&&Cl[t]?(""+e).trim():e+"px"}function Hw(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=jw(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var JC=at({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qm(t,e){if(e){if(JC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function Zm(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jm=null;function q0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var eg=null,na=null,ia=null;function nx(t){if(t=gu(t)){if(typeof eg!="function")throw Error(q(280));var e=t.stateNode;e&&(e=Rd(e),eg(t.stateNode,t.type,e))}}function Ww(t){na?ia?ia.push(t):ia=[t]:na=t}function Vw(){if(na){var t=na,e=ia;if(ia=na=null,nx(t),e)for(t=0;t<e.length;t++)nx(e[t])}}function Xw(t,e){return t(e)}function $w(){}var Ap=!1;function Yw(t,e,r){if(Ap)return t(e,r);Ap=!0;try{return Xw(t,e,r)}finally{Ap=!1,(na!==null||ia!==null)&&($w(),Vw())}}function Wl(t,e){var r=t.stateNode;if(r===null)return null;var n=Rd(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(q(231,e,typeof r));return r}var tg=!1;if(mi)try{var tl={};Object.defineProperty(tl,"passive",{get:function(){tg=!0}}),window.addEventListener("test",tl,tl),window.removeEventListener("test",tl,tl)}catch{tg=!1}function eP(t,e,r,n,i,s,o,l,h){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(f){this.onError(f)}}var Pl=!1,Mc=null,Dc=!1,rg=null,tP={onError:function(t){Pl=!0,Mc=t}};function rP(t,e,r,n,i,s,o,l,h){Pl=!1,Mc=null,eP.apply(tP,arguments)}function nP(t,e,r,n,i,s,o,l,h){if(rP.apply(this,arguments),Pl){if(Pl){var c=Mc;Pl=!1,Mc=null}else throw Error(q(198));Dc||(Dc=!0,rg=c)}}function so(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Qw(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ix(t){if(so(t)!==t)throw Error(q(188))}function iP(t){var e=t.alternate;if(!e){if(e=so(t),e===null)throw Error(q(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return ix(i),t;if(s===n)return ix(i),e;s=s.sibling}throw Error(q(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o)throw Error(q(189))}}if(r.alternate!==n)throw Error(q(190))}if(r.tag!==3)throw Error(q(188));return r.stateNode.current===r?t:e}function Kw(t){return t=iP(t),t!==null?qw(t):null}function qw(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=qw(t);if(e!==null)return e;t=t.sibling}return null}var Zw=Cr.unstable_scheduleCallback,sx=Cr.unstable_cancelCallback,sP=Cr.unstable_shouldYield,oP=Cr.unstable_requestPaint,gt=Cr.unstable_now,aP=Cr.unstable_getCurrentPriorityLevel,Z0=Cr.unstable_ImmediatePriority,Jw=Cr.unstable_UserBlockingPriority,Fc=Cr.unstable_NormalPriority,lP=Cr.unstable_LowPriority,eS=Cr.unstable_IdlePriority,Td=null,Hn=null;function uP(t){if(Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot(Td,t,void 0,(t.current.flags&128)===128)}catch{}}var fn=Math.clz32?Math.clz32:dP,hP=Math.log,cP=Math.LN2;function dP(t){return t>>>=0,t===0?32:31-(hP(t)/cP|0)|0}var gh=64,yh=4194304;function gl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Oc(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=gl(l):(s&=o,s!==0&&(n=gl(s)))}else o=r&~i,o!==0?n=gl(o):s!==0&&(n=gl(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-fn(e),i=1<<r,n|=t[r],e&=~i;return n}function fP(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function pP(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-fn(s),l=1<<o,h=i[o];h===-1?(!(l&r)||l&n)&&(i[o]=fP(l,e)):h<=e&&(t.expiredLanes|=l),s&=~l}}function ng(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function tS(){var t=gh;return gh<<=1,!(gh&4194240)&&(gh=64),t}function Tp(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function pu(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fn(e),t[e]=r}function mP(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-fn(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function J0(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-fn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var je=0;function rS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var nS,ey,iS,sS,oS,ig=!1,vh=[],Zi=null,Ji=null,es=null,Vl=new Map,Xl=new Map,Wi=[],gP="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ox(t,e){switch(t){case"focusin":case"focusout":Zi=null;break;case"dragenter":case"dragleave":Ji=null;break;case"mouseover":case"mouseout":es=null;break;case"pointerover":case"pointerout":Vl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xl.delete(e.pointerId)}}function rl(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=gu(e),e!==null&&ey(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function yP(t,e,r,n,i){switch(e){case"focusin":return Zi=rl(Zi,t,e,r,n,i),!0;case"dragenter":return Ji=rl(Ji,t,e,r,n,i),!0;case"mouseover":return es=rl(es,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Vl.set(s,rl(Vl.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Xl.set(s,rl(Xl.get(s)||null,t,e,r,n,i)),!0}return!1}function aS(t){var e=js(t.target);if(e!==null){var r=so(e);if(r!==null){if(e=r.tag,e===13){if(e=Qw(r),e!==null){t.blockedOn=e,oS(t.priority,function(){iS(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function hc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=sg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Jm=n,r.target.dispatchEvent(n),Jm=null}else return e=gu(r),e!==null&&ey(e),t.blockedOn=r,!1;e.shift()}return!0}function ax(t,e,r){hc(t)&&r.delete(e)}function vP(){ig=!1,Zi!==null&&hc(Zi)&&(Zi=null),Ji!==null&&hc(Ji)&&(Ji=null),es!==null&&hc(es)&&(es=null),Vl.forEach(ax),Xl.forEach(ax)}function nl(t,e){t.blockedOn===e&&(t.blockedOn=null,ig||(ig=!0,Cr.unstable_scheduleCallback(Cr.unstable_NormalPriority,vP)))}function $l(t){function e(i){return nl(i,t)}if(0<vh.length){nl(vh[0],t);for(var r=1;r<vh.length;r++){var n=vh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Zi!==null&&nl(Zi,t),Ji!==null&&nl(Ji,t),es!==null&&nl(es,t),Vl.forEach(e),Xl.forEach(e),r=0;r<Wi.length;r++)n=Wi[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Wi.length&&(r=Wi[0],r.blockedOn===null);)aS(r),r.blockedOn===null&&Wi.shift()}var sa=wi.ReactCurrentBatchConfig,Nc=!0;function xP(t,e,r,n){var i=je,s=sa.transition;sa.transition=null;try{je=1,ty(t,e,r,n)}finally{je=i,sa.transition=s}}function _P(t,e,r,n){var i=je,s=sa.transition;sa.transition=null;try{je=4,ty(t,e,r,n)}finally{je=i,sa.transition=s}}function ty(t,e,r,n){if(Nc){var i=sg(t,e,r,n);if(i===null)Np(t,e,n,Bc,r),ox(t,n);else if(yP(i,t,e,r,n))n.stopPropagation();else if(ox(t,n),e&4&&-1<gP.indexOf(t)){for(;i!==null;){var s=gu(i);if(s!==null&&nS(s),s=sg(t,e,r,n),s===null&&Np(t,e,n,Bc,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Np(t,e,n,null,r)}}var Bc=null;function sg(t,e,r,n){if(Bc=null,t=q0(n),t=js(t),t!==null)if(e=so(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Qw(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bc=t,null}function lS(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(aP()){case Z0:return 1;case Jw:return 4;case Fc:case lP:return 16;case eS:return 536870912;default:return 16}default:return 16}}var $i=null,ry=null,cc=null;function uS(){if(cc)return cc;var t,e=ry,r=e.length,n,i="value"in $i?$i.value:$i.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return cc=i.slice(t,1<n?1-n:void 0)}function dc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function xh(){return!0}function lx(){return!1}function Ir(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?xh:lx,this.isPropagationStopped=lx,this}return at(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=xh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=xh)},persist:function(){},isPersistent:xh}),e}var Pa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ny=Ir(Pa),mu=at({},Pa,{view:0,detail:0}),bP=Ir(mu),Cp,Pp,il,Cd=at({},mu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iy,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==il&&(il&&t.type==="mousemove"?(Cp=t.screenX-il.screenX,Pp=t.screenY-il.screenY):Pp=Cp=0,il=t),Cp)},movementY:function(t){return"movementY"in t?t.movementY:Pp}}),ux=Ir(Cd),wP=at({},Cd,{dataTransfer:0}),SP=Ir(wP),EP=at({},mu,{relatedTarget:0}),Ip=Ir(EP),AP=at({},Pa,{animationName:0,elapsedTime:0,pseudoElement:0}),TP=Ir(AP),CP=at({},Pa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),PP=Ir(CP),IP=at({},Pa,{data:0}),hx=Ir(IP),RP={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kP={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},MP={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function DP(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=MP[t])?!!e[t]:!1}function iy(){return DP}var FP=at({},mu,{key:function(t){if(t.key){var e=RP[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=dc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kP[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iy,charCode:function(t){return t.type==="keypress"?dc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?dc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),OP=Ir(FP),NP=at({},Cd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cx=Ir(NP),BP=at({},mu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iy}),LP=Ir(BP),UP=at({},Pa,{propertyName:0,elapsedTime:0,pseudoElement:0}),zP=Ir(UP),GP=at({},Cd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),jP=Ir(GP),HP=[9,13,27,32],sy=mi&&"CompositionEvent"in window,Il=null;mi&&"documentMode"in document&&(Il=document.documentMode);var WP=mi&&"TextEvent"in window&&!Il,hS=mi&&(!sy||Il&&8<Il&&11>=Il),dx=" ",fx=!1;function cS(t,e){switch(t){case"keyup":return HP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dS(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ho=!1;function VP(t,e){switch(t){case"compositionend":return dS(e);case"keypress":return e.which!==32?null:(fx=!0,dx);case"textInput":return t=e.data,t===dx&&fx?null:t;default:return null}}function XP(t,e){if(Ho)return t==="compositionend"||!sy&&cS(t,e)?(t=uS(),cc=ry=$i=null,Ho=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return hS&&e.locale!=="ko"?null:e.data;default:return null}}var $P={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function px(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!$P[t.type]:e==="textarea"}function fS(t,e,r,n){Ww(n),e=Lc(e,"onChange"),0<e.length&&(r=new ny("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Rl=null,Yl=null;function YP(t){ES(t,0)}function Pd(t){var e=Xo(t);if(Bw(e))return t}function QP(t,e){if(t==="change")return e}var pS=!1;if(mi){var Rp;if(mi){var kp="oninput"in document;if(!kp){var mx=document.createElement("div");mx.setAttribute("oninput","return;"),kp=typeof mx.oninput=="function"}Rp=kp}else Rp=!1;pS=Rp&&(!document.documentMode||9<document.documentMode)}function gx(){Rl&&(Rl.detachEvent("onpropertychange",mS),Yl=Rl=null)}function mS(t){if(t.propertyName==="value"&&Pd(Yl)){var e=[];fS(e,Yl,t,q0(t)),Yw(YP,e)}}function KP(t,e,r){t==="focusin"?(gx(),Rl=e,Yl=r,Rl.attachEvent("onpropertychange",mS)):t==="focusout"&&gx()}function qP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pd(Yl)}function ZP(t,e){if(t==="click")return Pd(e)}function JP(t,e){if(t==="input"||t==="change")return Pd(e)}function eI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var yn=typeof Object.is=="function"?Object.is:eI;function Ql(t,e){if(yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Gm.call(e,i)||!yn(t[i],e[i]))return!1}return!0}function yx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function vx(t,e){var r=yx(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=yx(r)}}function gS(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?gS(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function yS(){for(var t=window,e=kc();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=kc(t.document)}return e}function oy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function tI(t){var e=yS(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&gS(r.ownerDocument.documentElement,r)){if(n!==null&&oy(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=vx(r,s);var o=vx(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var rI=mi&&"documentMode"in document&&11>=document.documentMode,Wo=null,og=null,kl=null,ag=!1;function xx(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;ag||Wo==null||Wo!==kc(n)||(n=Wo,"selectionStart"in n&&oy(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),kl&&Ql(kl,n)||(kl=n,n=Lc(og,"onSelect"),0<n.length&&(e=new ny("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Wo)))}function _h(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Vo={animationend:_h("Animation","AnimationEnd"),animationiteration:_h("Animation","AnimationIteration"),animationstart:_h("Animation","AnimationStart"),transitionend:_h("Transition","TransitionEnd")},Mp={},vS={};mi&&(vS=document.createElement("div").style,"AnimationEvent"in window||(delete Vo.animationend.animation,delete Vo.animationiteration.animation,delete Vo.animationstart.animation),"TransitionEvent"in window||delete Vo.transitionend.transition);function Id(t){if(Mp[t])return Mp[t];if(!Vo[t])return t;var e=Vo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in vS)return Mp[t]=e[r];return t}var xS=Id("animationend"),_S=Id("animationiteration"),bS=Id("animationstart"),wS=Id("transitionend"),SS=new Map,_x="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ds(t,e){SS.set(t,e),io(e,[t])}for(var Dp=0;Dp<_x.length;Dp++){var Fp=_x[Dp],nI=Fp.toLowerCase(),iI=Fp[0].toUpperCase()+Fp.slice(1);ds(nI,"on"+iI)}ds(xS,"onAnimationEnd");ds(_S,"onAnimationIteration");ds(bS,"onAnimationStart");ds("dblclick","onDoubleClick");ds("focusin","onFocus");ds("focusout","onBlur");ds(wS,"onTransitionEnd");ga("onMouseEnter",["mouseout","mouseover"]);ga("onMouseLeave",["mouseout","mouseover"]);ga("onPointerEnter",["pointerout","pointerover"]);ga("onPointerLeave",["pointerout","pointerover"]);io("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));io("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));io("onBeforeInput",["compositionend","keypress","textInput","paste"]);io("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));io("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));io("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sI=new Set("cancel close invalid load scroll toggle".split(" ").concat(yl));function bx(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,nP(n,e,void 0,t),t.currentTarget=null}function ES(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],h=l.instance,c=l.currentTarget;if(l=l.listener,h!==s&&i.isPropagationStopped())break e;bx(i,l,c),s=h}else for(o=0;o<n.length;o++){if(l=n[o],h=l.instance,c=l.currentTarget,l=l.listener,h!==s&&i.isPropagationStopped())break e;bx(i,l,c),s=h}}}if(Dc)throw t=rg,Dc=!1,rg=null,t}function $e(t,e){var r=e[dg];r===void 0&&(r=e[dg]=new Set);var n=t+"__bubble";r.has(n)||(AS(e,t,2,!1),r.add(n))}function Op(t,e,r){var n=0;e&&(n|=4),AS(r,t,n,e)}var bh="_reactListening"+Math.random().toString(36).slice(2);function Kl(t){if(!t[bh]){t[bh]=!0,Mw.forEach(function(r){r!=="selectionchange"&&(sI.has(r)||Op(r,!1,t),Op(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[bh]||(e[bh]=!0,Op("selectionchange",!1,e))}}function AS(t,e,r,n){switch(lS(e)){case 1:var i=xP;break;case 4:i=_P;break;default:i=ty}r=i.bind(null,e,r,t),i=void 0,!tg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Np(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var h=o.tag;if((h===3||h===4)&&(h=o.stateNode.containerInfo,h===i||h.nodeType===8&&h.parentNode===i))return;o=o.return}for(;l!==null;){if(o=js(l),o===null)return;if(h=o.tag,h===5||h===6){n=s=o;continue e}l=l.parentNode}}n=n.return}Yw(function(){var c=s,f=q0(r),m=[];e:{var p=SS.get(t);if(p!==void 0){var v=ny,x=t;switch(t){case"keypress":if(dc(r)===0)break e;case"keydown":case"keyup":v=OP;break;case"focusin":x="focus",v=Ip;break;case"focusout":x="blur",v=Ip;break;case"beforeblur":case"afterblur":v=Ip;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=ux;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=SP;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=LP;break;case xS:case _S:case bS:v=TP;break;case wS:v=zP;break;case"scroll":v=bP;break;case"wheel":v=jP;break;case"copy":case"cut":case"paste":v=PP;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=cx}var w=(e&4)!==0,A=!w&&t==="scroll",S=w?p!==null?p+"Capture":null:p;w=[];for(var E=c,b;E!==null;){b=E;var T=b.stateNode;if(b.tag===5&&T!==null&&(b=T,S!==null&&(T=Wl(E,S),T!=null&&w.push(ql(E,T,b)))),A)break;E=E.return}0<w.length&&(p=new v(p,x,null,r,f),m.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",p&&r!==Jm&&(x=r.relatedTarget||r.fromElement)&&(js(x)||x[gi]))break e;if((v||p)&&(p=f.window===f?f:(p=f.ownerDocument)?p.defaultView||p.parentWindow:window,v?(x=r.relatedTarget||r.toElement,v=c,x=x?js(x):null,x!==null&&(A=so(x),x!==A||x.tag!==5&&x.tag!==6)&&(x=null)):(v=null,x=c),v!==x)){if(w=ux,T="onMouseLeave",S="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(w=cx,T="onPointerLeave",S="onPointerEnter",E="pointer"),A=v==null?p:Xo(v),b=x==null?p:Xo(x),p=new w(T,E+"leave",v,r,f),p.target=A,p.relatedTarget=b,T=null,js(f)===c&&(w=new w(S,E+"enter",x,r,f),w.target=b,w.relatedTarget=A,T=w),A=T,v&&x)t:{for(w=v,S=x,E=0,b=w;b;b=To(b))E++;for(b=0,T=S;T;T=To(T))b++;for(;0<E-b;)w=To(w),E--;for(;0<b-E;)S=To(S),b--;for(;E--;){if(w===S||S!==null&&w===S.alternate)break t;w=To(w),S=To(S)}w=null}else w=null;v!==null&&wx(m,p,v,w,!1),x!==null&&A!==null&&wx(m,A,x,w,!0)}}e:{if(p=c?Xo(c):window,v=p.nodeName&&p.nodeName.toLowerCase(),v==="select"||v==="input"&&p.type==="file")var R=QP;else if(px(p))if(pS)R=JP;else{R=qP;var B=KP}else(v=p.nodeName)&&v.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(R=ZP);if(R&&(R=R(t,c))){fS(m,R,r,f);break e}B&&B(t,p,c),t==="focusout"&&(B=p._wrapperState)&&B.controlled&&p.type==="number"&&Ym(p,"number",p.value)}switch(B=c?Xo(c):window,t){case"focusin":(px(B)||B.contentEditable==="true")&&(Wo=B,og=c,kl=null);break;case"focusout":kl=og=Wo=null;break;case"mousedown":ag=!0;break;case"contextmenu":case"mouseup":case"dragend":ag=!1,xx(m,r,f);break;case"selectionchange":if(rI)break;case"keydown":case"keyup":xx(m,r,f)}var M;if(sy)e:{switch(t){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Ho?cS(t,r)&&(k="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(k="onCompositionStart");k&&(hS&&r.locale!=="ko"&&(Ho||k!=="onCompositionStart"?k==="onCompositionEnd"&&Ho&&(M=uS()):($i=f,ry="value"in $i?$i.value:$i.textContent,Ho=!0)),B=Lc(c,k),0<B.length&&(k=new hx(k,t,null,r,f),m.push({event:k,listeners:B}),M?k.data=M:(M=dS(r),M!==null&&(k.data=M)))),(M=WP?VP(t,r):XP(t,r))&&(c=Lc(c,"onBeforeInput"),0<c.length&&(f=new hx("onBeforeInput","beforeinput",null,r,f),m.push({event:f,listeners:c}),f.data=M))}ES(m,e)})}function ql(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Lc(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Wl(t,r),s!=null&&n.unshift(ql(t,s,i)),s=Wl(t,e),s!=null&&n.push(ql(t,s,i))),t=t.return}return n}function To(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wx(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var l=r,h=l.alternate,c=l.stateNode;if(h!==null&&h===n)break;l.tag===5&&c!==null&&(l=c,i?(h=Wl(r,s),h!=null&&o.unshift(ql(r,h,l))):i||(h=Wl(r,s),h!=null&&o.push(ql(r,h,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var oI=/\r\n?/g,aI=/\u0000|\uFFFD/g;function Sx(t){return(typeof t=="string"?t:""+t).replace(oI,`
`).replace(aI,"")}function wh(t,e,r){if(e=Sx(e),Sx(t)!==e&&r)throw Error(q(425))}function Uc(){}var lg=null,ug=null;function hg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var cg=typeof setTimeout=="function"?setTimeout:void 0,lI=typeof clearTimeout=="function"?clearTimeout:void 0,Ex=typeof Promise=="function"?Promise:void 0,uI=typeof queueMicrotask=="function"?queueMicrotask:typeof Ex<"u"?function(t){return Ex.resolve(null).then(t).catch(hI)}:cg;function hI(t){setTimeout(function(){throw t})}function Bp(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),$l(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);$l(e)}function ts(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ax(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ia=Math.random().toString(36).slice(2),zn="__reactFiber$"+Ia,Zl="__reactProps$"+Ia,gi="__reactContainer$"+Ia,dg="__reactEvents$"+Ia,cI="__reactListeners$"+Ia,dI="__reactHandles$"+Ia;function js(t){var e=t[zn];if(e)return e;for(var r=t.parentNode;r;){if(e=r[gi]||r[zn]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Ax(t);t!==null;){if(r=t[zn])return r;t=Ax(t)}return e}t=r,r=t.parentNode}return null}function gu(t){return t=t[zn]||t[gi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function Rd(t){return t[Zl]||null}var fg=[],$o=-1;function fs(t){return{current:t}}function Qe(t){0>$o||(t.current=fg[$o],fg[$o]=null,$o--)}function Ve(t,e){$o++,fg[$o]=t.current,t.current=e}var ls={},Zt=fs(ls),pr=fs(!1),qs=ls;function ya(t,e){var r=t.type.contextTypes;if(!r)return ls;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function mr(t){return t=t.childContextTypes,t!=null}function zc(){Qe(pr),Qe(Zt)}function Tx(t,e,r){if(Zt.current!==ls)throw Error(q(168));Ve(Zt,e),Ve(pr,r)}function TS(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(q(108,KC(t)||"Unknown",i));return at({},r,n)}function Gc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ls,qs=Zt.current,Ve(Zt,t),Ve(pr,pr.current),!0}function Cx(t,e,r){var n=t.stateNode;if(!n)throw Error(q(169));r?(t=TS(t,e,qs),n.__reactInternalMemoizedMergedChildContext=t,Qe(pr),Qe(Zt),Ve(Zt,t)):Qe(pr),Ve(pr,r)}var oi=null,kd=!1,Lp=!1;function CS(t){oi===null?oi=[t]:oi.push(t)}function fI(t){kd=!0,CS(t)}function ps(){if(!Lp&&oi!==null){Lp=!0;var t=0,e=je;try{var r=oi;for(je=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}oi=null,kd=!1}catch(i){throw oi!==null&&(oi=oi.slice(t+1)),Zw(Z0,ps),i}finally{je=e,Lp=!1}}return null}var Yo=[],Qo=0,jc=null,Hc=0,Gr=[],jr=0,Zs=null,li=1,ui="";function Ms(t,e){Yo[Qo++]=Hc,Yo[Qo++]=jc,jc=t,Hc=e}function PS(t,e,r){Gr[jr++]=li,Gr[jr++]=ui,Gr[jr++]=Zs,Zs=t;var n=li;t=ui;var i=32-fn(n)-1;n&=~(1<<i),r+=1;var s=32-fn(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,li=1<<32-fn(e)+i|r<<i|n,ui=s+t}else li=1<<s|r<<i|n,ui=t}function ay(t){t.return!==null&&(Ms(t,1),PS(t,1,0))}function ly(t){for(;t===jc;)jc=Yo[--Qo],Yo[Qo]=null,Hc=Yo[--Qo],Yo[Qo]=null;for(;t===Zs;)Zs=Gr[--jr],Gr[jr]=null,ui=Gr[--jr],Gr[jr]=null,li=Gr[--jr],Gr[jr]=null}var Ar=null,Er=null,et=!1,ln=null;function IS(t,e){var r=Hr(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Px(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ar=t,Er=ts(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ar=t,Er=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Zs!==null?{id:li,overflow:ui}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Hr(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ar=t,Er=null,!0):!1;default:return!1}}function pg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function mg(t){if(et){var e=Er;if(e){var r=e;if(!Px(t,e)){if(pg(t))throw Error(q(418));e=ts(r.nextSibling);var n=Ar;e&&Px(t,e)?IS(n,r):(t.flags=t.flags&-4097|2,et=!1,Ar=t)}}else{if(pg(t))throw Error(q(418));t.flags=t.flags&-4097|2,et=!1,Ar=t}}}function Ix(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ar=t}function Sh(t){if(t!==Ar)return!1;if(!et)return Ix(t),et=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!hg(t.type,t.memoizedProps)),e&&(e=Er)){if(pg(t))throw RS(),Error(q(418));for(;e;)IS(t,e),e=ts(e.nextSibling)}if(Ix(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Er=ts(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Er=null}}else Er=Ar?ts(t.stateNode.nextSibling):null;return!0}function RS(){for(var t=Er;t;)t=ts(t.nextSibling)}function va(){Er=Ar=null,et=!1}function uy(t){ln===null?ln=[t]:ln.push(t)}var pI=wi.ReactCurrentBatchConfig;function sl(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(q(309));var n=r.stateNode}if(!n)throw Error(q(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(q(284));if(!r._owner)throw Error(q(290,t))}return t}function Eh(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Rx(t){var e=t._init;return e(t._payload)}function kS(t){function e(S,E){if(t){var b=S.deletions;b===null?(S.deletions=[E],S.flags|=16):b.push(E)}}function r(S,E){if(!t)return null;for(;E!==null;)e(S,E),E=E.sibling;return null}function n(S,E){for(S=new Map;E!==null;)E.key!==null?S.set(E.key,E):S.set(E.index,E),E=E.sibling;return S}function i(S,E){return S=ss(S,E),S.index=0,S.sibling=null,S}function s(S,E,b){return S.index=b,t?(b=S.alternate,b!==null?(b=b.index,b<E?(S.flags|=2,E):b):(S.flags|=2,E)):(S.flags|=1048576,E)}function o(S){return t&&S.alternate===null&&(S.flags|=2),S}function l(S,E,b,T){return E===null||E.tag!==6?(E=Vp(b,S.mode,T),E.return=S,E):(E=i(E,b),E.return=S,E)}function h(S,E,b,T){var R=b.type;return R===jo?f(S,E,b.props.children,T,b.key):E!==null&&(E.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===zi&&Rx(R)===E.type)?(T=i(E,b.props),T.ref=sl(S,E,b),T.return=S,T):(T=xc(b.type,b.key,b.props,null,S.mode,T),T.ref=sl(S,E,b),T.return=S,T)}function c(S,E,b,T){return E===null||E.tag!==4||E.stateNode.containerInfo!==b.containerInfo||E.stateNode.implementation!==b.implementation?(E=Xp(b,S.mode,T),E.return=S,E):(E=i(E,b.children||[]),E.return=S,E)}function f(S,E,b,T,R){return E===null||E.tag!==7?(E=Xs(b,S.mode,T,R),E.return=S,E):(E=i(E,b),E.return=S,E)}function m(S,E,b){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Vp(""+E,S.mode,b),E.return=S,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case fh:return b=xc(E.type,E.key,E.props,null,S.mode,b),b.ref=sl(S,null,E),b.return=S,b;case Go:return E=Xp(E,S.mode,b),E.return=S,E;case zi:var T=E._init;return m(S,T(E._payload),b)}if(ml(E)||el(E))return E=Xs(E,S.mode,b,null),E.return=S,E;Eh(S,E)}return null}function p(S,E,b,T){var R=E!==null?E.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return R!==null?null:l(S,E,""+b,T);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case fh:return b.key===R?h(S,E,b,T):null;case Go:return b.key===R?c(S,E,b,T):null;case zi:return R=b._init,p(S,E,R(b._payload),T)}if(ml(b)||el(b))return R!==null?null:f(S,E,b,T,null);Eh(S,b)}return null}function v(S,E,b,T,R){if(typeof T=="string"&&T!==""||typeof T=="number")return S=S.get(b)||null,l(E,S,""+T,R);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case fh:return S=S.get(T.key===null?b:T.key)||null,h(E,S,T,R);case Go:return S=S.get(T.key===null?b:T.key)||null,c(E,S,T,R);case zi:var B=T._init;return v(S,E,b,B(T._payload),R)}if(ml(T)||el(T))return S=S.get(b)||null,f(E,S,T,R,null);Eh(E,T)}return null}function x(S,E,b,T){for(var R=null,B=null,M=E,k=E=0,$=null;M!==null&&k<b.length;k++){M.index>k?($=M,M=null):$=M.sibling;var X=p(S,M,b[k],T);if(X===null){M===null&&(M=$);break}t&&M&&X.alternate===null&&e(S,M),E=s(X,E,k),B===null?R=X:B.sibling=X,B=X,M=$}if(k===b.length)return r(S,M),et&&Ms(S,k),R;if(M===null){for(;k<b.length;k++)M=m(S,b[k],T),M!==null&&(E=s(M,E,k),B===null?R=M:B.sibling=M,B=M);return et&&Ms(S,k),R}for(M=n(S,M);k<b.length;k++)$=v(M,S,k,b[k],T),$!==null&&(t&&$.alternate!==null&&M.delete($.key===null?k:$.key),E=s($,E,k),B===null?R=$:B.sibling=$,B=$);return t&&M.forEach(function(ie){return e(S,ie)}),et&&Ms(S,k),R}function w(S,E,b,T){var R=el(b);if(typeof R!="function")throw Error(q(150));if(b=R.call(b),b==null)throw Error(q(151));for(var B=R=null,M=E,k=E=0,$=null,X=b.next();M!==null&&!X.done;k++,X=b.next()){M.index>k?($=M,M=null):$=M.sibling;var ie=p(S,M,X.value,T);if(ie===null){M===null&&(M=$);break}t&&M&&ie.alternate===null&&e(S,M),E=s(ie,E,k),B===null?R=ie:B.sibling=ie,B=ie,M=$}if(X.done)return r(S,M),et&&Ms(S,k),R;if(M===null){for(;!X.done;k++,X=b.next())X=m(S,X.value,T),X!==null&&(E=s(X,E,k),B===null?R=X:B.sibling=X,B=X);return et&&Ms(S,k),R}for(M=n(S,M);!X.done;k++,X=b.next())X=v(M,S,k,X.value,T),X!==null&&(t&&X.alternate!==null&&M.delete(X.key===null?k:X.key),E=s(X,E,k),B===null?R=X:B.sibling=X,B=X);return t&&M.forEach(function(ee){return e(S,ee)}),et&&Ms(S,k),R}function A(S,E,b,T){if(typeof b=="object"&&b!==null&&b.type===jo&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case fh:e:{for(var R=b.key,B=E;B!==null;){if(B.key===R){if(R=b.type,R===jo){if(B.tag===7){r(S,B.sibling),E=i(B,b.props.children),E.return=S,S=E;break e}}else if(B.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===zi&&Rx(R)===B.type){r(S,B.sibling),E=i(B,b.props),E.ref=sl(S,B,b),E.return=S,S=E;break e}r(S,B);break}else e(S,B);B=B.sibling}b.type===jo?(E=Xs(b.props.children,S.mode,T,b.key),E.return=S,S=E):(T=xc(b.type,b.key,b.props,null,S.mode,T),T.ref=sl(S,E,b),T.return=S,S=T)}return o(S);case Go:e:{for(B=b.key;E!==null;){if(E.key===B)if(E.tag===4&&E.stateNode.containerInfo===b.containerInfo&&E.stateNode.implementation===b.implementation){r(S,E.sibling),E=i(E,b.children||[]),E.return=S,S=E;break e}else{r(S,E);break}else e(S,E);E=E.sibling}E=Xp(b,S.mode,T),E.return=S,S=E}return o(S);case zi:return B=b._init,A(S,E,B(b._payload),T)}if(ml(b))return x(S,E,b,T);if(el(b))return w(S,E,b,T);Eh(S,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,E!==null&&E.tag===6?(r(S,E.sibling),E=i(E,b),E.return=S,S=E):(r(S,E),E=Vp(b,S.mode,T),E.return=S,S=E),o(S)):r(S,E)}return A}var xa=kS(!0),MS=kS(!1),Wc=fs(null),Vc=null,Ko=null,hy=null;function cy(){hy=Ko=Vc=null}function dy(t){var e=Wc.current;Qe(Wc),t._currentValue=e}function gg(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function oa(t,e){Vc=t,hy=Ko=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dr=!0),t.firstContext=null)}function $r(t){var e=t._currentValue;if(hy!==t)if(t={context:t,memoizedValue:e,next:null},Ko===null){if(Vc===null)throw Error(q(308));Ko=t,Vc.dependencies={lanes:0,firstContext:t}}else Ko=Ko.next=t;return e}var Hs=null;function fy(t){Hs===null?Hs=[t]:Hs.push(t)}function DS(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,fy(e)):(r.next=i.next,i.next=r),e.interleaved=r,yi(t,n)}function yi(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Gi=!1;function py(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function FS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function di(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function rs(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Fe&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,yi(t,r)}return i=n.interleaved,i===null?(e.next=e,fy(n)):(e.next=i.next,i.next=e),n.interleaved=e,yi(t,r)}function fc(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,J0(t,r)}}function kx(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Xc(t,e,r,n){var i=t.updateQueue;Gi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var h=l,c=h.next;h.next=null,o===null?s=c:o.next=c,o=h;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=c:l.next=c,f.lastBaseUpdate=h))}if(s!==null){var m=i.baseState;o=0,f=c=h=null,l=s;do{var p=l.lane,v=l.eventTime;if((n&p)===p){f!==null&&(f=f.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var x=t,w=l;switch(p=e,v=r,w.tag){case 1:if(x=w.payload,typeof x=="function"){m=x.call(v,m,p);break e}m=x;break e;case 3:x.flags=x.flags&-65537|128;case 0:if(x=w.payload,p=typeof x=="function"?x.call(v,m,p):x,p==null)break e;m=at({},m,p);break e;case 2:Gi=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,p=i.effects,p===null?i.effects=[l]:p.push(l))}else v={eventTime:v,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(c=f=v,h=m):f=f.next=v,o|=p;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;p=l,l=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(!0);if(f===null&&(h=m),i.baseState=h,i.firstBaseUpdate=c,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);eo|=o,t.lanes=o,t.memoizedState=m}}function Mx(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(q(191,i));i.call(n)}}}var yu={},Wn=fs(yu),Jl=fs(yu),eu=fs(yu);function Ws(t){if(t===yu)throw Error(q(174));return t}function my(t,e){switch(Ve(eu,e),Ve(Jl,t),Ve(Wn,yu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Km(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Km(e,t)}Qe(Wn),Ve(Wn,e)}function _a(){Qe(Wn),Qe(Jl),Qe(eu)}function OS(t){Ws(eu.current);var e=Ws(Wn.current),r=Km(e,t.type);e!==r&&(Ve(Jl,t),Ve(Wn,r))}function gy(t){Jl.current===t&&(Qe(Wn),Qe(Jl))}var it=fs(0);function $c(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Up=[];function yy(){for(var t=0;t<Up.length;t++)Up[t]._workInProgressVersionPrimary=null;Up.length=0}var pc=wi.ReactCurrentDispatcher,zp=wi.ReactCurrentBatchConfig,Js=0,ot=null,St=null,kt=null,Yc=!1,Ml=!1,tu=0,mI=0;function Yt(){throw Error(q(321))}function vy(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!yn(t[r],e[r]))return!1;return!0}function xy(t,e,r,n,i,s){if(Js=s,ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pc.current=t===null||t.memoizedState===null?xI:_I,t=r(n,i),Ml){s=0;do{if(Ml=!1,tu=0,25<=s)throw Error(q(301));s+=1,kt=St=null,e.updateQueue=null,pc.current=bI,t=r(n,i)}while(Ml)}if(pc.current=Qc,e=St!==null&&St.next!==null,Js=0,kt=St=ot=null,Yc=!1,e)throw Error(q(300));return t}function _y(){var t=tu!==0;return tu=0,t}function Nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?ot.memoizedState=kt=t:kt=kt.next=t,kt}function Yr(){if(St===null){var t=ot.alternate;t=t!==null?t.memoizedState:null}else t=St.next;var e=kt===null?ot.memoizedState:kt.next;if(e!==null)kt=e,St=t;else{if(t===null)throw Error(q(310));St=t,t={memoizedState:St.memoizedState,baseState:St.baseState,baseQueue:St.baseQueue,queue:St.queue,next:null},kt===null?ot.memoizedState=kt=t:kt=kt.next=t}return kt}function ru(t,e){return typeof e=="function"?e(t):e}function Gp(t){var e=Yr(),r=e.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=t;var n=St,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var l=o=null,h=null,c=s;do{var f=c.lane;if((Js&f)===f)h!==null&&(h=h.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var m={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};h===null?(l=h=m,o=n):h=h.next=m,ot.lanes|=f,eo|=f}c=c.next}while(c!==null&&c!==s);h===null?o=n:h.next=l,yn(n,e.memoizedState)||(dr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=h,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,ot.lanes|=s,eo|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function jp(t){var e=Yr(),r=e.queue;if(r===null)throw Error(q(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);yn(s,e.memoizedState)||(dr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function NS(){}function BS(t,e){var r=ot,n=Yr(),i=e(),s=!yn(n.memoizedState,i);if(s&&(n.memoizedState=i,dr=!0),n=n.queue,by(zS.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||kt!==null&&kt.memoizedState.tag&1){if(r.flags|=2048,nu(9,US.bind(null,r,n,i,e),void 0,null),Ft===null)throw Error(q(349));Js&30||LS(r,e,i)}return i}function LS(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function US(t,e,r,n){e.value=r,e.getSnapshot=n,GS(e)&&jS(t)}function zS(t,e,r){return r(function(){GS(e)&&jS(t)})}function GS(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!yn(t,r)}catch{return!0}}function jS(t){var e=yi(t,1);e!==null&&pn(e,t,1,-1)}function Dx(t){var e=Nn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ru,lastRenderedState:t},e.queue=t,t=t.dispatch=vI.bind(null,ot,t),[e.memoizedState,t]}function nu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ot.updateQueue,e===null?(e={lastEffect:null,stores:null},ot.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function HS(){return Yr().memoizedState}function mc(t,e,r,n){var i=Nn();ot.flags|=t,i.memoizedState=nu(1|e,r,void 0,n===void 0?null:n)}function Md(t,e,r,n){var i=Yr();n=n===void 0?null:n;var s=void 0;if(St!==null){var o=St.memoizedState;if(s=o.destroy,n!==null&&vy(n,o.deps)){i.memoizedState=nu(e,r,s,n);return}}ot.flags|=t,i.memoizedState=nu(1|e,r,s,n)}function Fx(t,e){return mc(8390656,8,t,e)}function by(t,e){return Md(2048,8,t,e)}function WS(t,e){return Md(4,2,t,e)}function VS(t,e){return Md(4,4,t,e)}function XS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $S(t,e,r){return r=r!=null?r.concat([t]):null,Md(4,4,XS.bind(null,e,t),r)}function wy(){}function YS(t,e){var r=Yr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&vy(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function QS(t,e){var r=Yr();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&vy(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function KS(t,e,r){return Js&21?(yn(r,e)||(r=tS(),ot.lanes|=r,eo|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dr=!0),t.memoizedState=r)}function gI(t,e){var r=je;je=r!==0&&4>r?r:4,t(!0);var n=zp.transition;zp.transition={};try{t(!1),e()}finally{je=r,zp.transition=n}}function qS(){return Yr().memoizedState}function yI(t,e,r){var n=is(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ZS(t))JS(e,r);else if(r=DS(t,e,r,n),r!==null){var i=nr();pn(r,t,n,i),eE(r,e,n)}}function vI(t,e,r){var n=is(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ZS(t))JS(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,r);if(i.hasEagerState=!0,i.eagerState=l,yn(l,o)){var h=e.interleaved;h===null?(i.next=i,fy(e)):(i.next=h.next,h.next=i),e.interleaved=i;return}}catch{}finally{}r=DS(t,e,i,n),r!==null&&(i=nr(),pn(r,t,n,i),eE(r,e,n))}}function ZS(t){var e=t.alternate;return t===ot||e!==null&&e===ot}function JS(t,e){Ml=Yc=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function eE(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,J0(t,r)}}var Qc={readContext:$r,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},xI={readContext:$r,useCallback:function(t,e){return Nn().memoizedState=[t,e===void 0?null:e],t},useContext:$r,useEffect:Fx,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,mc(4194308,4,XS.bind(null,e,t),r)},useLayoutEffect:function(t,e){return mc(4194308,4,t,e)},useInsertionEffect:function(t,e){return mc(4,2,t,e)},useMemo:function(t,e){var r=Nn();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Nn();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=yI.bind(null,ot,t),[n.memoizedState,t]},useRef:function(t){var e=Nn();return t={current:t},e.memoizedState=t},useState:Dx,useDebugValue:wy,useDeferredValue:function(t){return Nn().memoizedState=t},useTransition:function(){var t=Dx(!1),e=t[0];return t=gI.bind(null,t[1]),Nn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ot,i=Nn();if(et){if(r===void 0)throw Error(q(407));r=r()}else{if(r=e(),Ft===null)throw Error(q(349));Js&30||LS(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,Fx(zS.bind(null,n,s,t),[t]),n.flags|=2048,nu(9,US.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Nn(),e=Ft.identifierPrefix;if(et){var r=ui,n=li;r=(n&~(1<<32-fn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=tu++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=mI++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},_I={readContext:$r,useCallback:YS,useContext:$r,useEffect:by,useImperativeHandle:$S,useInsertionEffect:WS,useLayoutEffect:VS,useMemo:QS,useReducer:Gp,useRef:HS,useState:function(){return Gp(ru)},useDebugValue:wy,useDeferredValue:function(t){var e=Yr();return KS(e,St.memoizedState,t)},useTransition:function(){var t=Gp(ru)[0],e=Yr().memoizedState;return[t,e]},useMutableSource:NS,useSyncExternalStore:BS,useId:qS,unstable_isNewReconciler:!1},bI={readContext:$r,useCallback:YS,useContext:$r,useEffect:by,useImperativeHandle:$S,useInsertionEffect:WS,useLayoutEffect:VS,useMemo:QS,useReducer:jp,useRef:HS,useState:function(){return jp(ru)},useDebugValue:wy,useDeferredValue:function(t){var e=Yr();return St===null?e.memoizedState=t:KS(e,St.memoizedState,t)},useTransition:function(){var t=jp(ru)[0],e=Yr().memoizedState;return[t,e]},useMutableSource:NS,useSyncExternalStore:BS,useId:qS,unstable_isNewReconciler:!1};function on(t,e){if(t&&t.defaultProps){e=at({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function yg(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:at({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Dd={isMounted:function(t){return(t=t._reactInternals)?so(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=nr(),i=is(t),s=di(n,i);s.payload=e,r!=null&&(s.callback=r),e=rs(t,s,i),e!==null&&(pn(e,t,i,n),fc(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=nr(),i=is(t),s=di(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=rs(t,s,i),e!==null&&(pn(e,t,i,n),fc(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=nr(),n=is(t),i=di(r,n);i.tag=2,e!=null&&(i.callback=e),e=rs(t,i,n),e!==null&&(pn(e,t,n,r),fc(e,t,n))}};function Ox(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!Ql(r,n)||!Ql(i,s):!0}function tE(t,e,r){var n=!1,i=ls,s=e.contextType;return typeof s=="object"&&s!==null?s=$r(s):(i=mr(e)?qs:Zt.current,n=e.contextTypes,s=(n=n!=null)?ya(t,i):ls),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Dd,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Nx(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Dd.enqueueReplaceState(e,e.state,null)}function vg(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},py(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=$r(s):(s=mr(e)?qs:Zt.current,i.context=ya(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(yg(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Dd.enqueueReplaceState(i,i.state,null),Xc(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ba(t,e){try{var r="",n=e;do r+=QC(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Hp(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function xg(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var wI=typeof WeakMap=="function"?WeakMap:Map;function rE(t,e,r){r=di(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){qc||(qc=!0,Ig=n),xg(t,e)},r}function nE(t,e,r){r=di(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){xg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){xg(t,e),typeof n!="function"&&(ns===null?ns=new Set([this]):ns.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Bx(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new wI;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=NI.bind(null,t,e,r),e.then(t,t))}function Lx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ux(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=di(-1,1),e.tag=2,rs(r,e,1))),r.lanes|=1),t)}var SI=wi.ReactCurrentOwner,dr=!1;function rr(t,e,r,n){e.child=t===null?MS(e,null,r,n):xa(e,t.child,r,n)}function zx(t,e,r,n,i){r=r.render;var s=e.ref;return oa(e,i),n=xy(t,e,r,n,s,i),r=_y(),t!==null&&!dr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vi(t,e,i)):(et&&r&&ay(e),e.flags|=1,rr(t,e,n,i),e.child)}function Gx(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!Ry(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,iE(t,e,s,n,i)):(t=xc(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Ql,r(o,n)&&t.ref===e.ref)return vi(t,e,i)}return e.flags|=1,t=ss(s,n),t.ref=e.ref,t.return=e,e.child=t}function iE(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Ql(s,n)&&t.ref===e.ref)if(dr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(dr=!0);else return e.lanes=t.lanes,vi(t,e,i)}return _g(t,e,r,n,i)}function sE(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ve(Zo,Sr),Sr|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ve(Zo,Sr),Sr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Ve(Zo,Sr),Sr|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Ve(Zo,Sr),Sr|=n;return rr(t,e,i,r),e.child}function oE(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function _g(t,e,r,n,i){var s=mr(r)?qs:Zt.current;return s=ya(e,s),oa(e,i),r=xy(t,e,r,n,s,i),n=_y(),t!==null&&!dr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vi(t,e,i)):(et&&n&&ay(e),e.flags|=1,rr(t,e,r,i),e.child)}function jx(t,e,r,n,i){if(mr(r)){var s=!0;Gc(e)}else s=!1;if(oa(e,i),e.stateNode===null)gc(t,e),tE(e,r,n),vg(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var h=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=$r(c):(c=mr(r)?qs:Zt.current,c=ya(e,c));var f=r.getDerivedStateFromProps,m=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";m||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||h!==c)&&Nx(e,o,n,c),Gi=!1;var p=e.memoizedState;o.state=p,Xc(e,n,o,i),h=e.memoizedState,l!==n||p!==h||pr.current||Gi?(typeof f=="function"&&(yg(e,r,f,n),h=e.memoizedState),(l=Gi||Ox(e,r,l,n,p,h,c))?(m||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=h),o.props=n,o.state=h,o.context=c,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,FS(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:on(e.type,l),o.props=c,m=e.pendingProps,p=o.context,h=r.contextType,typeof h=="object"&&h!==null?h=$r(h):(h=mr(r)?qs:Zt.current,h=ya(e,h));var v=r.getDerivedStateFromProps;(f=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==m||p!==h)&&Nx(e,o,n,h),Gi=!1,p=e.memoizedState,o.state=p,Xc(e,n,o,i);var x=e.memoizedState;l!==m||p!==x||pr.current||Gi?(typeof v=="function"&&(yg(e,r,v,n),x=e.memoizedState),(c=Gi||Ox(e,r,c,n,p,x,h)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,x,h),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,x,h)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=x),o.props=n,o.state=x,o.context=h,n=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),n=!1)}return bg(t,e,r,n,s,i)}function bg(t,e,r,n,i,s){oE(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&Cx(e,r,!1),vi(t,e,s);n=e.stateNode,SI.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=xa(e,t.child,null,s),e.child=xa(e,null,l,s)):rr(t,e,l,s),e.memoizedState=n.state,i&&Cx(e,r,!0),e.child}function aE(t){var e=t.stateNode;e.pendingContext?Tx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Tx(t,e.context,!1),my(t,e.containerInfo)}function Hx(t,e,r,n,i){return va(),uy(i),e.flags|=256,rr(t,e,r,n),e.child}var wg={dehydrated:null,treeContext:null,retryLane:0};function Sg(t){return{baseLanes:t,cachePool:null,transitions:null}}function lE(t,e,r){var n=e.pendingProps,i=it.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Ve(it,i&1),t===null)return mg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Nd(o,n,0,null),t=Xs(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Sg(r),e.memoizedState=wg,t):Sy(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return EI(t,e,o,n,l,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,l=i.sibling;var h={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=h,e.deletions=null):(n=ss(i,h),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=ss(l,s):(s=Xs(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?Sg(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=wg,n}return s=t.child,t=s.sibling,n=ss(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Sy(t,e){return e=Nd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ah(t,e,r,n){return n!==null&&uy(n),xa(e,t.child,null,r),t=Sy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function EI(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=Hp(Error(q(422))),Ah(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Nd({mode:"visible",children:n.children},i,0,null),s=Xs(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&xa(e,t.child,null,o),e.child.memoizedState=Sg(o),e.memoizedState=wg,s);if(!(e.mode&1))return Ah(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(q(419)),n=Hp(s,n,void 0),Ah(t,e,o,n)}if(l=(o&t.childLanes)!==0,dr||l){if(n=Ft,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,yi(t,i),pn(n,t,i,-1))}return Iy(),n=Hp(Error(q(421))),Ah(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=BI.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Er=ts(i.nextSibling),Ar=e,et=!0,ln=null,t!==null&&(Gr[jr++]=li,Gr[jr++]=ui,Gr[jr++]=Zs,li=t.id,ui=t.overflow,Zs=e),e=Sy(e,n.children),e.flags|=4096,e)}function Wx(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),gg(t.return,e,r)}function Wp(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function uE(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(rr(t,e,n.children,r),n=it.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Wx(t,r,e);else if(t.tag===19)Wx(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Ve(it,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&$c(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Wp(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&$c(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Wp(e,!0,r,null,s);break;case"together":Wp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gc(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),eo|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,r=ss(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=ss(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function AI(t,e,r){switch(e.tag){case 3:aE(e),va();break;case 5:OS(e);break;case 1:mr(e.type)&&Gc(e);break;case 4:my(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Ve(Wc,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Ve(it,it.current&1),e.flags|=128,null):r&e.child.childLanes?lE(t,e,r):(Ve(it,it.current&1),t=vi(t,e,r),t!==null?t.sibling:null);Ve(it,it.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return uE(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ve(it,it.current),n)break;return null;case 22:case 23:return e.lanes=0,sE(t,e,r)}return vi(t,e,r)}var hE,Eg,cE,dE;hE=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Eg=function(){};cE=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ws(Wn.current);var s=null;switch(r){case"input":i=Xm(t,i),n=Xm(t,n),s=[];break;case"select":i=at({},i,{value:void 0}),n=at({},n,{value:void 0}),s=[];break;case"textarea":i=Qm(t,i),n=Qm(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Uc)}qm(r,n);var o;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var l=i[c];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(jl.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var h=n[c];if(l=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&h!==l&&(h!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||h&&h.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in h)h.hasOwnProperty(o)&&l[o]!==h[o]&&(r||(r={}),r[o]=h[o])}else r||(s||(s=[]),s.push(c,r)),r=h;else c==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,l=l?l.__html:void 0,h!=null&&l!==h&&(s=s||[]).push(c,h)):c==="children"?typeof h!="string"&&typeof h!="number"||(s=s||[]).push(c,""+h):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(jl.hasOwnProperty(c)?(h!=null&&c==="onScroll"&&$e("scroll",t),s||l===h||(s=[])):(s=s||[]).push(c,h))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};dE=function(t,e,r,n){r!==n&&(e.flags|=4)};function ol(t,e){if(!et)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Qt(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function TI(t,e,r){var n=e.pendingProps;switch(ly(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qt(e),null;case 1:return mr(e.type)&&zc(),Qt(e),null;case 3:return n=e.stateNode,_a(),Qe(pr),Qe(Zt),yy(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Sh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ln!==null&&(Mg(ln),ln=null))),Eg(t,e),Qt(e),null;case 5:gy(e);var i=Ws(eu.current);if(r=e.type,t!==null&&e.stateNode!=null)cE(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(q(166));return Qt(e),null}if(t=Ws(Wn.current),Sh(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[zn]=e,n[Zl]=s,t=(e.mode&1)!==0,r){case"dialog":$e("cancel",n),$e("close",n);break;case"iframe":case"object":case"embed":$e("load",n);break;case"video":case"audio":for(i=0;i<yl.length;i++)$e(yl[i],n);break;case"source":$e("error",n);break;case"img":case"image":case"link":$e("error",n),$e("load",n);break;case"details":$e("toggle",n);break;case"input":J1(n,s),$e("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},$e("invalid",n);break;case"textarea":tx(n,s),$e("invalid",n)}qm(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&wh(n.textContent,l,t),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&wh(n.textContent,l,t),i=["children",""+l]):jl.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&$e("scroll",n)}switch(r){case"input":ph(n),ex(n,s,!0);break;case"textarea":ph(n),rx(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Uc)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=zw(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[zn]=e,t[Zl]=n,hE(t,e,!1,!1),e.stateNode=t;e:{switch(o=Zm(r,n),r){case"dialog":$e("cancel",t),$e("close",t),i=n;break;case"iframe":case"object":case"embed":$e("load",t),i=n;break;case"video":case"audio":for(i=0;i<yl.length;i++)$e(yl[i],t);i=n;break;case"source":$e("error",t),i=n;break;case"img":case"image":case"link":$e("error",t),$e("load",t),i=n;break;case"details":$e("toggle",t),i=n;break;case"input":J1(t,n),i=Xm(t,n),$e("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=at({},n,{value:void 0}),$e("invalid",t);break;case"textarea":tx(t,n),i=Qm(t,n),$e("invalid",t);break;default:i=n}qm(r,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var h=l[s];s==="style"?Hw(t,h):s==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&Gw(t,h)):s==="children"?typeof h=="string"?(r!=="textarea"||h!=="")&&Hl(t,h):typeof h=="number"&&Hl(t,""+h):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(jl.hasOwnProperty(s)?h!=null&&s==="onScroll"&&$e("scroll",t):h!=null&&$0(t,s,h,o))}switch(r){case"input":ph(t),ex(t,n,!1);break;case"textarea":ph(t),rx(t);break;case"option":n.value!=null&&t.setAttribute("value",""+as(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?ra(t,!!n.multiple,s,!1):n.defaultValue!=null&&ra(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Uc)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Qt(e),null;case 6:if(t&&e.stateNode!=null)dE(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(q(166));if(r=Ws(eu.current),Ws(Wn.current),Sh(e)){if(n=e.stateNode,r=e.memoizedProps,n[zn]=e,(s=n.nodeValue!==r)&&(t=Ar,t!==null))switch(t.tag){case 3:wh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&wh(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[zn]=e,e.stateNode=n}return Qt(e),null;case 13:if(Qe(it),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(et&&Er!==null&&e.mode&1&&!(e.flags&128))RS(),va(),e.flags|=98560,s=!1;else if(s=Sh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(q(317));s[zn]=e}else va(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Qt(e),s=!1}else ln!==null&&(Mg(ln),ln=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||it.current&1?Et===0&&(Et=3):Iy())),e.updateQueue!==null&&(e.flags|=4),Qt(e),null);case 4:return _a(),Eg(t,e),t===null&&Kl(e.stateNode.containerInfo),Qt(e),null;case 10:return dy(e.type._context),Qt(e),null;case 17:return mr(e.type)&&zc(),Qt(e),null;case 19:if(Qe(it),s=e.memoizedState,s===null)return Qt(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)ol(s,!1);else{if(Et!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=$c(t),o!==null){for(e.flags|=128,ol(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Ve(it,it.current&1|2),e.child}t=t.sibling}s.tail!==null&&gt()>wa&&(e.flags|=128,n=!0,ol(s,!1),e.lanes=4194304)}else{if(!n)if(t=$c(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),ol(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!et)return Qt(e),null}else 2*gt()-s.renderingStartTime>wa&&r!==1073741824&&(e.flags|=128,n=!0,ol(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=gt(),e.sibling=null,r=it.current,Ve(it,n?r&1|2:r&1),e):(Qt(e),null);case 22:case 23:return Py(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Sr&1073741824&&(Qt(e),e.subtreeFlags&6&&(e.flags|=8192)):Qt(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function CI(t,e){switch(ly(e),e.tag){case 1:return mr(e.type)&&zc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return _a(),Qe(pr),Qe(Zt),yy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return gy(e),null;case 13:if(Qe(it),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));va()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Qe(it),null;case 4:return _a(),null;case 10:return dy(e.type._context),null;case 22:case 23:return Py(),null;case 24:return null;default:return null}}var Th=!1,Kt=!1,PI=typeof WeakSet=="function"?WeakSet:Set,ce=null;function qo(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ct(t,e,n)}else r.current=null}function Ag(t,e,r){try{r()}catch(n){ct(t,e,n)}}var Vx=!1;function II(t,e){if(lg=Nc,t=yS(),oy(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,h=-1,c=0,f=0,m=t,p=null;t:for(;;){for(var v;m!==r||i!==0&&m.nodeType!==3||(l=o+i),m!==s||n!==0&&m.nodeType!==3||(h=o+n),m.nodeType===3&&(o+=m.nodeValue.length),(v=m.firstChild)!==null;)p=m,m=v;for(;;){if(m===t)break t;if(p===r&&++c===i&&(l=o),p===s&&++f===n&&(h=o),(v=m.nextSibling)!==null)break;m=p,p=m.parentNode}m=v}r=l===-1||h===-1?null:{start:l,end:h}}else r=null}r=r||{start:0,end:0}}else r=null;for(ug={focusedElem:t,selectionRange:r},Nc=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var x=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(x!==null){var w=x.memoizedProps,A=x.memoizedState,S=e.stateNode,E=S.getSnapshotBeforeUpdate(e.elementType===e.type?w:on(e.type,w),A);S.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(T){ct(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return x=Vx,Vx=!1,x}function Dl(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Ag(e,r,s)}i=i.next}while(i!==n)}}function Fd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Tg(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function fE(t){var e=t.alternate;e!==null&&(t.alternate=null,fE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[zn],delete e[Zl],delete e[dg],delete e[cI],delete e[dI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function pE(t){return t.tag===5||t.tag===3||t.tag===4}function Xx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||pE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Cg(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Uc));else if(n!==4&&(t=t.child,t!==null))for(Cg(t,e,r),t=t.sibling;t!==null;)Cg(t,e,r),t=t.sibling}function Pg(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Pg(t,e,r),t=t.sibling;t!==null;)Pg(t,e,r),t=t.sibling}var zt=null,an=!1;function Fi(t,e,r){for(r=r.child;r!==null;)mE(t,e,r),r=r.sibling}function mE(t,e,r){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount(Td,r)}catch{}switch(r.tag){case 5:Kt||qo(r,e);case 6:var n=zt,i=an;zt=null,Fi(t,e,r),zt=n,an=i,zt!==null&&(an?(t=zt,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):zt.removeChild(r.stateNode));break;case 18:zt!==null&&(an?(t=zt,r=r.stateNode,t.nodeType===8?Bp(t.parentNode,r):t.nodeType===1&&Bp(t,r),$l(t)):Bp(zt,r.stateNode));break;case 4:n=zt,i=an,zt=r.stateNode.containerInfo,an=!0,Fi(t,e,r),zt=n,an=i;break;case 0:case 11:case 14:case 15:if(!Kt&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Ag(r,e,o),i=i.next}while(i!==n)}Fi(t,e,r);break;case 1:if(!Kt&&(qo(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){ct(r,e,l)}Fi(t,e,r);break;case 21:Fi(t,e,r);break;case 22:r.mode&1?(Kt=(n=Kt)||r.memoizedState!==null,Fi(t,e,r),Kt=n):Fi(t,e,r);break;default:Fi(t,e,r)}}function $x(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new PI),e.forEach(function(n){var i=LI.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function en(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:zt=l.stateNode,an=!1;break e;case 3:zt=l.stateNode.containerInfo,an=!0;break e;case 4:zt=l.stateNode.containerInfo,an=!0;break e}l=l.return}if(zt===null)throw Error(q(160));mE(s,o,i),zt=null,an=!1;var h=i.alternate;h!==null&&(h.return=null),i.return=null}catch(c){ct(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)gE(e,t),e=e.sibling}function gE(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(en(e,t),In(t),n&4){try{Dl(3,t,t.return),Fd(3,t)}catch(w){ct(t,t.return,w)}try{Dl(5,t,t.return)}catch(w){ct(t,t.return,w)}}break;case 1:en(e,t),In(t),n&512&&r!==null&&qo(r,r.return);break;case 5:if(en(e,t),In(t),n&512&&r!==null&&qo(r,r.return),t.flags&32){var i=t.stateNode;try{Hl(i,"")}catch(w){ct(t,t.return,w)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,l=t.type,h=t.updateQueue;if(t.updateQueue=null,h!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Lw(i,s),Zm(l,o);var c=Zm(l,s);for(o=0;o<h.length;o+=2){var f=h[o],m=h[o+1];f==="style"?Hw(i,m):f==="dangerouslySetInnerHTML"?Gw(i,m):f==="children"?Hl(i,m):$0(i,f,m,c)}switch(l){case"input":$m(i,s);break;case"textarea":Uw(i,s);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?ra(i,!!s.multiple,v,!1):p!==!!s.multiple&&(s.defaultValue!=null?ra(i,!!s.multiple,s.defaultValue,!0):ra(i,!!s.multiple,s.multiple?[]:"",!1))}i[Zl]=s}catch(w){ct(t,t.return,w)}}break;case 6:if(en(e,t),In(t),n&4){if(t.stateNode===null)throw Error(q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){ct(t,t.return,w)}}break;case 3:if(en(e,t),In(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{$l(e.containerInfo)}catch(w){ct(t,t.return,w)}break;case 4:en(e,t),In(t);break;case 13:en(e,t),In(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Ty=gt())),n&4&&$x(t);break;case 22:if(f=r!==null&&r.memoizedState!==null,t.mode&1?(Kt=(c=Kt)||f,en(e,t),Kt=c):en(e,t),In(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(ce=t,f=t.child;f!==null;){for(m=ce=f;ce!==null;){switch(p=ce,v=p.child,p.tag){case 0:case 11:case 14:case 15:Dl(4,p,p.return);break;case 1:qo(p,p.return);var x=p.stateNode;if(typeof x.componentWillUnmount=="function"){n=p,r=p.return;try{e=n,x.props=e.memoizedProps,x.state=e.memoizedState,x.componentWillUnmount()}catch(w){ct(n,r,w)}}break;case 5:qo(p,p.return);break;case 22:if(p.memoizedState!==null){Qx(m);continue}}v!==null?(v.return=p,ce=v):Qx(m)}f=f.sibling}e:for(f=null,m=t;;){if(m.tag===5){if(f===null){f=m;try{i=m.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=m.stateNode,h=m.memoizedProps.style,o=h!=null&&h.hasOwnProperty("display")?h.display:null,l.style.display=jw("display",o))}catch(w){ct(t,t.return,w)}}}else if(m.tag===6){if(f===null)try{m.stateNode.nodeValue=c?"":m.memoizedProps}catch(w){ct(t,t.return,w)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;f===m&&(f=null),m=m.return}f===m&&(f=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:en(e,t),In(t),n&4&&$x(t);break;case 21:break;default:en(e,t),In(t)}}function In(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(pE(r)){var n=r;break e}r=r.return}throw Error(q(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Hl(i,""),n.flags&=-33);var s=Xx(t);Pg(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=Xx(t);Cg(t,l,o);break;default:throw Error(q(161))}}catch(h){ct(t,t.return,h)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function RI(t,e,r){ce=t,yE(t)}function yE(t,e,r){for(var n=(t.mode&1)!==0;ce!==null;){var i=ce,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Th;if(!o){var l=i.alternate,h=l!==null&&l.memoizedState!==null||Kt;l=Th;var c=Kt;if(Th=o,(Kt=h)&&!c)for(ce=i;ce!==null;)o=ce,h=o.child,o.tag===22&&o.memoizedState!==null?Kx(i):h!==null?(h.return=o,ce=h):Kx(i);for(;s!==null;)ce=s,yE(s),s=s.sibling;ce=i,Th=l,Kt=c}Yx(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ce=s):Yx(t)}}function Yx(t){for(;ce!==null;){var e=ce;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Kt||Fd(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Kt)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:on(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Mx(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Mx(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var h=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&r.focus();break;case"img":h.src&&(r.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var m=f.dehydrated;m!==null&&$l(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}Kt||e.flags&512&&Tg(e)}catch(p){ct(e,e.return,p)}}if(e===t){ce=null;break}if(r=e.sibling,r!==null){r.return=e.return,ce=r;break}ce=e.return}}function Qx(t){for(;ce!==null;){var e=ce;if(e===t){ce=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ce=r;break}ce=e.return}}function Kx(t){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Fd(4,e)}catch(h){ct(e,r,h)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(h){ct(e,i,h)}}var s=e.return;try{Tg(e)}catch(h){ct(e,s,h)}break;case 5:var o=e.return;try{Tg(e)}catch(h){ct(e,o,h)}}}catch(h){ct(e,e.return,h)}if(e===t){ce=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ce=l;break}ce=e.return}}var kI=Math.ceil,Kc=wi.ReactCurrentDispatcher,Ey=wi.ReactCurrentOwner,Xr=wi.ReactCurrentBatchConfig,Fe=0,Ft=null,xt=null,jt=0,Sr=0,Zo=fs(0),Et=0,iu=null,eo=0,Od=0,Ay=0,Fl=null,cr=null,Ty=0,wa=1/0,si=null,qc=!1,Ig=null,ns=null,Ch=!1,Yi=null,Zc=0,Ol=0,Rg=null,yc=-1,vc=0;function nr(){return Fe&6?gt():yc!==-1?yc:yc=gt()}function is(t){return t.mode&1?Fe&2&&jt!==0?jt&-jt:pI.transition!==null?(vc===0&&(vc=tS()),vc):(t=je,t!==0||(t=window.event,t=t===void 0?16:lS(t.type)),t):1}function pn(t,e,r,n){if(50<Ol)throw Ol=0,Rg=null,Error(q(185));pu(t,r,n),(!(Fe&2)||t!==Ft)&&(t===Ft&&(!(Fe&2)&&(Od|=r),Et===4&&Vi(t,jt)),gr(t,n),r===1&&Fe===0&&!(e.mode&1)&&(wa=gt()+500,kd&&ps()))}function gr(t,e){var r=t.callbackNode;pP(t,e);var n=Oc(t,t===Ft?jt:0);if(n===0)r!==null&&sx(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&sx(r),e===1)t.tag===0?fI(qx.bind(null,t)):CS(qx.bind(null,t)),uI(function(){!(Fe&6)&&ps()}),r=null;else{switch(rS(n)){case 1:r=Z0;break;case 4:r=Jw;break;case 16:r=Fc;break;case 536870912:r=eS;break;default:r=Fc}r=AE(r,vE.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function vE(t,e){if(yc=-1,vc=0,Fe&6)throw Error(q(327));var r=t.callbackNode;if(aa()&&t.callbackNode!==r)return null;var n=Oc(t,t===Ft?jt:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Jc(t,n);else{e=n;var i=Fe;Fe|=2;var s=_E();(Ft!==t||jt!==e)&&(si=null,wa=gt()+500,Vs(t,e));do try{FI();break}catch(l){xE(t,l)}while(!0);cy(),Kc.current=s,Fe=i,xt!==null?e=0:(Ft=null,jt=0,e=Et)}if(e!==0){if(e===2&&(i=ng(t),i!==0&&(n=i,e=kg(t,i))),e===1)throw r=iu,Vs(t,0),Vi(t,n),gr(t,gt()),r;if(e===6)Vi(t,n);else{if(i=t.current.alternate,!(n&30)&&!MI(i)&&(e=Jc(t,n),e===2&&(s=ng(t),s!==0&&(n=s,e=kg(t,s))),e===1))throw r=iu,Vs(t,0),Vi(t,n),gr(t,gt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(q(345));case 2:Ds(t,cr,si);break;case 3:if(Vi(t,n),(n&130023424)===n&&(e=Ty+500-gt(),10<e)){if(Oc(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){nr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=cg(Ds.bind(null,t,cr,si),e);break}Ds(t,cr,si);break;case 4:if(Vi(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-fn(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=gt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*kI(n/1960))-n,10<n){t.timeoutHandle=cg(Ds.bind(null,t,cr,si),n);break}Ds(t,cr,si);break;case 5:Ds(t,cr,si);break;default:throw Error(q(329))}}}return gr(t,gt()),t.callbackNode===r?vE.bind(null,t):null}function kg(t,e){var r=Fl;return t.current.memoizedState.isDehydrated&&(Vs(t,e).flags|=256),t=Jc(t,e),t!==2&&(e=cr,cr=r,e!==null&&Mg(e)),t}function Mg(t){cr===null?cr=t:cr.push.apply(cr,t)}function MI(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!yn(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Vi(t,e){for(e&=~Ay,e&=~Od,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-fn(e),n=1<<r;t[r]=-1,e&=~n}}function qx(t){if(Fe&6)throw Error(q(327));aa();var e=Oc(t,0);if(!(e&1))return gr(t,gt()),null;var r=Jc(t,e);if(t.tag!==0&&r===2){var n=ng(t);n!==0&&(e=n,r=kg(t,n))}if(r===1)throw r=iu,Vs(t,0),Vi(t,e),gr(t,gt()),r;if(r===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ds(t,cr,si),gr(t,gt()),null}function Cy(t,e){var r=Fe;Fe|=1;try{return t(e)}finally{Fe=r,Fe===0&&(wa=gt()+500,kd&&ps())}}function to(t){Yi!==null&&Yi.tag===0&&!(Fe&6)&&aa();var e=Fe;Fe|=1;var r=Xr.transition,n=je;try{if(Xr.transition=null,je=1,t)return t()}finally{je=n,Xr.transition=r,Fe=e,!(Fe&6)&&ps()}}function Py(){Sr=Zo.current,Qe(Zo)}function Vs(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,lI(r)),xt!==null)for(r=xt.return;r!==null;){var n=r;switch(ly(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&zc();break;case 3:_a(),Qe(pr),Qe(Zt),yy();break;case 5:gy(n);break;case 4:_a();break;case 13:Qe(it);break;case 19:Qe(it);break;case 10:dy(n.type._context);break;case 22:case 23:Py()}r=r.return}if(Ft=t,xt=t=ss(t.current,null),jt=Sr=e,Et=0,iu=null,Ay=Od=eo=0,cr=Fl=null,Hs!==null){for(e=0;e<Hs.length;e++)if(r=Hs[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}Hs=null}return t}function xE(t,e){do{var r=xt;try{if(cy(),pc.current=Qc,Yc){for(var n=ot.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Yc=!1}if(Js=0,kt=St=ot=null,Ml=!1,tu=0,Ey.current=null,r===null||r.return===null){Et=1,iu=e,xt=null;break}e:{var s=t,o=r.return,l=r,h=e;if(e=jt,l.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var c=h,f=l,m=f.tag;if(!(f.mode&1)&&(m===0||m===11||m===15)){var p=f.alternate;p?(f.updateQueue=p.updateQueue,f.memoizedState=p.memoizedState,f.lanes=p.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=Lx(o);if(v!==null){v.flags&=-257,Ux(v,o,l,s,e),v.mode&1&&Bx(s,c,e),e=v,h=c;var x=e.updateQueue;if(x===null){var w=new Set;w.add(h),e.updateQueue=w}else x.add(h);break e}else{if(!(e&1)){Bx(s,c,e),Iy();break e}h=Error(q(426))}}else if(et&&l.mode&1){var A=Lx(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),Ux(A,o,l,s,e),uy(ba(h,l));break e}}s=h=ba(h,l),Et!==4&&(Et=2),Fl===null?Fl=[s]:Fl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var S=rE(s,h,e);kx(s,S);break e;case 1:l=h;var E=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ns===null||!ns.has(b)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=nE(s,l,e);kx(s,T);break e}}s=s.return}while(s!==null)}wE(r)}catch(R){e=R,xt===r&&r!==null&&(xt=r=r.return);continue}break}while(!0)}function _E(){var t=Kc.current;return Kc.current=Qc,t===null?Qc:t}function Iy(){(Et===0||Et===3||Et===2)&&(Et=4),Ft===null||!(eo&268435455)&&!(Od&268435455)||Vi(Ft,jt)}function Jc(t,e){var r=Fe;Fe|=2;var n=_E();(Ft!==t||jt!==e)&&(si=null,Vs(t,e));do try{DI();break}catch(i){xE(t,i)}while(!0);if(cy(),Fe=r,Kc.current=n,xt!==null)throw Error(q(261));return Ft=null,jt=0,Et}function DI(){for(;xt!==null;)bE(xt)}function FI(){for(;xt!==null&&!sP();)bE(xt)}function bE(t){var e=EE(t.alternate,t,Sr);t.memoizedProps=t.pendingProps,e===null?wE(t):xt=e,Ey.current=null}function wE(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=CI(r,e),r!==null){r.flags&=32767,xt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Et=6,xt=null;return}}else if(r=TI(r,e,Sr),r!==null){xt=r;return}if(e=e.sibling,e!==null){xt=e;return}xt=e=t}while(e!==null);Et===0&&(Et=5)}function Ds(t,e,r){var n=je,i=Xr.transition;try{Xr.transition=null,je=1,OI(t,e,r,n)}finally{Xr.transition=i,je=n}return null}function OI(t,e,r,n){do aa();while(Yi!==null);if(Fe&6)throw Error(q(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(mP(t,s),t===Ft&&(xt=Ft=null,jt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ch||(Ch=!0,AE(Fc,function(){return aa(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Xr.transition,Xr.transition=null;var o=je;je=1;var l=Fe;Fe|=4,Ey.current=null,II(t,r),gE(r,t),tI(ug),Nc=!!lg,ug=lg=null,t.current=r,RI(r),oP(),Fe=l,je=o,Xr.transition=s}else t.current=r;if(Ch&&(Ch=!1,Yi=t,Zc=i),s=t.pendingLanes,s===0&&(ns=null),uP(r.stateNode),gr(t,gt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(qc)throw qc=!1,t=Ig,Ig=null,t;return Zc&1&&t.tag!==0&&aa(),s=t.pendingLanes,s&1?t===Rg?Ol++:(Ol=0,Rg=t):Ol=0,ps(),null}function aa(){if(Yi!==null){var t=rS(Zc),e=Xr.transition,r=je;try{if(Xr.transition=null,je=16>t?16:t,Yi===null)var n=!1;else{if(t=Yi,Yi=null,Zc=0,Fe&6)throw Error(q(331));var i=Fe;for(Fe|=4,ce=t.current;ce!==null;){var s=ce,o=s.child;if(ce.flags&16){var l=s.deletions;if(l!==null){for(var h=0;h<l.length;h++){var c=l[h];for(ce=c;ce!==null;){var f=ce;switch(f.tag){case 0:case 11:case 15:Dl(8,f,s)}var m=f.child;if(m!==null)m.return=f,ce=m;else for(;ce!==null;){f=ce;var p=f.sibling,v=f.return;if(fE(f),f===c){ce=null;break}if(p!==null){p.return=v,ce=p;break}ce=v}}}var x=s.alternate;if(x!==null){var w=x.child;if(w!==null){x.child=null;do{var A=w.sibling;w.sibling=null,w=A}while(w!==null)}}ce=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ce=o;else e:for(;ce!==null;){if(s=ce,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Dl(9,s,s.return)}var S=s.sibling;if(S!==null){S.return=s.return,ce=S;break e}ce=s.return}}var E=t.current;for(ce=E;ce!==null;){o=ce;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,ce=b;else e:for(o=E;ce!==null;){if(l=ce,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Fd(9,l)}}catch(R){ct(l,l.return,R)}if(l===o){ce=null;break e}var T=l.sibling;if(T!==null){T.return=l.return,ce=T;break e}ce=l.return}}if(Fe=i,ps(),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot(Td,t)}catch{}n=!0}return n}finally{je=r,Xr.transition=e}}return!1}function Zx(t,e,r){e=ba(r,e),e=rE(t,e,1),t=rs(t,e,1),e=nr(),t!==null&&(pu(t,1,e),gr(t,e))}function ct(t,e,r){if(t.tag===3)Zx(t,t,r);else for(;e!==null;){if(e.tag===3){Zx(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ns===null||!ns.has(n))){t=ba(r,t),t=nE(e,t,1),e=rs(e,t,1),t=nr(),e!==null&&(pu(e,1,t),gr(e,t));break}}e=e.return}}function NI(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=nr(),t.pingedLanes|=t.suspendedLanes&r,Ft===t&&(jt&r)===r&&(Et===4||Et===3&&(jt&130023424)===jt&&500>gt()-Ty?Vs(t,0):Ay|=r),gr(t,e)}function SE(t,e){e===0&&(t.mode&1?(e=yh,yh<<=1,!(yh&130023424)&&(yh=4194304)):e=1);var r=nr();t=yi(t,e),t!==null&&(pu(t,e,r),gr(t,r))}function BI(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),SE(t,r)}function LI(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(q(314))}n!==null&&n.delete(e),SE(t,r)}var EE;EE=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||pr.current)dr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return dr=!1,AI(t,e,r);dr=!!(t.flags&131072)}else dr=!1,et&&e.flags&1048576&&PS(e,Hc,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;gc(t,e),t=e.pendingProps;var i=ya(e,Zt.current);oa(e,r),i=xy(null,e,n,t,i,r);var s=_y();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mr(n)?(s=!0,Gc(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,py(e),i.updater=Dd,e.stateNode=i,i._reactInternals=e,vg(e,n,t,r),e=bg(null,e,n,!0,s,r)):(e.tag=0,et&&s&&ay(e),rr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(gc(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=zI(n),t=on(n,t),i){case 0:e=_g(null,e,n,t,r);break e;case 1:e=jx(null,e,n,t,r);break e;case 11:e=zx(null,e,n,t,r);break e;case 14:e=Gx(null,e,n,on(n.type,t),r);break e}throw Error(q(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:on(n,i),_g(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:on(n,i),jx(t,e,n,i,r);case 3:e:{if(aE(e),t===null)throw Error(q(387));n=e.pendingProps,s=e.memoizedState,i=s.element,FS(t,e),Xc(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ba(Error(q(423)),e),e=Hx(t,e,n,r,i);break e}else if(n!==i){i=ba(Error(q(424)),e),e=Hx(t,e,n,r,i);break e}else for(Er=ts(e.stateNode.containerInfo.firstChild),Ar=e,et=!0,ln=null,r=MS(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(va(),n===i){e=vi(t,e,r);break e}rr(t,e,n,r)}e=e.child}return e;case 5:return OS(e),t===null&&mg(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,hg(n,i)?o=null:s!==null&&hg(n,s)&&(e.flags|=32),oE(t,e),rr(t,e,o,r),e.child;case 6:return t===null&&mg(e),null;case 13:return lE(t,e,r);case 4:return my(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=xa(e,null,n,r):rr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:on(n,i),zx(t,e,n,i,r);case 7:return rr(t,e,e.pendingProps,r),e.child;case 8:return rr(t,e,e.pendingProps.children,r),e.child;case 12:return rr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Ve(Wc,n._currentValue),n._currentValue=o,s!==null)if(yn(s.value,o)){if(s.children===i.children&&!pr.current){e=vi(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var h=l.firstContext;h!==null;){if(h.context===n){if(s.tag===1){h=di(-1,r&-r),h.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?h.next=h:(h.next=f.next,f.next=h),c.pending=h}}s.lanes|=r,h=s.alternate,h!==null&&(h.lanes|=r),gg(s.return,r,e),l.lanes|=r;break}h=h.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(q(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),gg(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}rr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,oa(e,r),i=$r(i),n=n(i),e.flags|=1,rr(t,e,n,r),e.child;case 14:return n=e.type,i=on(n,e.pendingProps),i=on(n.type,i),Gx(t,e,n,i,r);case 15:return iE(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:on(n,i),gc(t,e),e.tag=1,mr(n)?(t=!0,Gc(e)):t=!1,oa(e,r),tE(e,n,i),vg(e,n,i,r),bg(null,e,n,!0,t,r);case 19:return uE(t,e,r);case 22:return sE(t,e,r)}throw Error(q(156,e.tag))};function AE(t,e){return Zw(t,e)}function UI(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hr(t,e,r,n){return new UI(t,e,r,n)}function Ry(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zI(t){if(typeof t=="function")return Ry(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Q0)return 11;if(t===K0)return 14}return 2}function ss(t,e){var r=t.alternate;return r===null?(r=Hr(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function xc(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")Ry(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case jo:return Xs(r.children,i,s,e);case Y0:o=8,i|=8;break;case jm:return t=Hr(12,r,e,i|2),t.elementType=jm,t.lanes=s,t;case Hm:return t=Hr(13,r,e,i),t.elementType=Hm,t.lanes=s,t;case Wm:return t=Hr(19,r,e,i),t.elementType=Wm,t.lanes=s,t;case Ow:return Nd(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Dw:o=10;break e;case Fw:o=9;break e;case Q0:o=11;break e;case K0:o=14;break e;case zi:o=16,n=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=Hr(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Xs(t,e,r,n){return t=Hr(7,t,n,e),t.lanes=r,t}function Nd(t,e,r,n){return t=Hr(22,t,n,e),t.elementType=Ow,t.lanes=r,t.stateNode={isHidden:!1},t}function Vp(t,e,r){return t=Hr(6,t,null,e),t.lanes=r,t}function Xp(t,e,r){return e=Hr(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function GI(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tp(0),this.expirationTimes=Tp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tp(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ky(t,e,r,n,i,s,o,l,h){return t=new GI(t,e,r,l,h),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Hr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},py(s),t}function jI(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Go,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function TE(t){if(!t)return ls;t=t._reactInternals;e:{if(so(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var r=t.type;if(mr(r))return TS(t,r,e)}return e}function CE(t,e,r,n,i,s,o,l,h){return t=ky(r,n,!0,t,i,s,o,l,h),t.context=TE(null),r=t.current,n=nr(),i=is(r),s=di(n,i),s.callback=e??null,rs(r,s,i),t.current.lanes=i,pu(t,i,n),gr(t,n),t}function Bd(t,e,r,n){var i=e.current,s=nr(),o=is(i);return r=TE(r),e.context===null?e.context=r:e.pendingContext=r,e=di(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=rs(i,e,o),t!==null&&(pn(t,i,o,s),fc(t,i,o)),o}function ed(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Jx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function My(t,e){Jx(t,e),(t=t.alternate)&&Jx(t,e)}function HI(){return null}var PE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Dy(t){this._internalRoot=t}Ld.prototype.render=Dy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));Bd(t,e,null,null)};Ld.prototype.unmount=Dy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;to(function(){Bd(null,t,null,null)}),e[gi]=null}};function Ld(t){this._internalRoot=t}Ld.prototype.unstable_scheduleHydration=function(t){if(t){var e=sS();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Wi.length&&e!==0&&e<Wi[r].priority;r++);Wi.splice(r,0,t),r===0&&aS(t)}};function Fy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ud(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function e_(){}function WI(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=ed(o);s.call(c)}}var o=CE(e,n,t,0,null,!1,!1,"",e_);return t._reactRootContainer=o,t[gi]=o.current,Kl(t.nodeType===8?t.parentNode:t),to(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var c=ed(h);l.call(c)}}var h=ky(t,0,!1,null,null,!1,!1,"",e_);return t._reactRootContainer=h,t[gi]=h.current,Kl(t.nodeType===8?t.parentNode:t),to(function(){Bd(e,h,r,n)}),h}function zd(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var h=ed(o);l.call(h)}}Bd(e,o,t,i)}else o=WI(r,e,t,i,n);return ed(o)}nS=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=gl(e.pendingLanes);r!==0&&(J0(e,r|1),gr(e,gt()),!(Fe&6)&&(wa=gt()+500,ps()))}break;case 13:to(function(){var n=yi(t,1);if(n!==null){var i=nr();pn(n,t,1,i)}}),My(t,1)}};ey=function(t){if(t.tag===13){var e=yi(t,134217728);if(e!==null){var r=nr();pn(e,t,134217728,r)}My(t,134217728)}};iS=function(t){if(t.tag===13){var e=is(t),r=yi(t,e);if(r!==null){var n=nr();pn(r,t,e,n)}My(t,e)}};sS=function(){return je};oS=function(t,e){var r=je;try{return je=t,e()}finally{je=r}};eg=function(t,e,r){switch(e){case"input":if($m(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Rd(n);if(!i)throw Error(q(90));Bw(n),$m(n,i)}}}break;case"textarea":Uw(t,r);break;case"select":e=r.value,e!=null&&ra(t,!!r.multiple,e,!1)}};Xw=Cy;$w=to;var VI={usingClientEntryPoint:!1,Events:[gu,Xo,Rd,Ww,Vw,Cy]},al={findFiberByHostInstance:js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},XI={bundleType:al.bundleType,version:al.version,rendererPackageName:al.rendererPackageName,rendererConfig:al.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Kw(t),t===null?null:t.stateNode},findFiberByHostInstance:al.findFiberByHostInstance||HI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ph.isDisabled&&Ph.supportsFiber)try{Td=Ph.inject(XI),Hn=Ph}catch{}}Pr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VI;Pr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fy(e))throw Error(q(200));return jI(t,e,null,r)};Pr.createRoot=function(t,e){if(!Fy(t))throw Error(q(299));var r=!1,n="",i=PE;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ky(t,1,!1,null,null,r,!1,n,i),t[gi]=e.current,Kl(t.nodeType===8?t.parentNode:t),new Dy(e)};Pr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=Kw(e),t=t===null?null:t.stateNode,t};Pr.flushSync=function(t){return to(t)};Pr.hydrate=function(t,e,r){if(!Ud(e))throw Error(q(200));return zd(null,t,e,!0,r)};Pr.hydrateRoot=function(t,e,r){if(!Fy(t))throw Error(q(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=PE;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=CE(e,null,t,1,r??null,i,!1,s,o),t[gi]=e.current,Kl(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Ld(e)};Pr.render=function(t,e,r){if(!Ud(e))throw Error(q(200));return zd(null,t,e,!1,r)};Pr.unmountComponentAtNode=function(t){if(!Ud(t))throw Error(q(40));return t._reactRootContainer?(to(function(){zd(null,null,t,!1,function(){t._reactRootContainer=null,t[gi]=null})}),!0):!1};Pr.unstable_batchedUpdates=Cy;Pr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Ud(r))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return zd(t,e,r,!1,n)};Pr.version="18.3.1-next-f1338f8080-20240426";function IE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(IE)}catch(t){console.error(t)}}IE(),Iw.exports=Pr;var $I=Iw.exports,RE,t_=$I;RE=t_.createRoot,t_.hydrateRoot;var oo=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(oo||{}),kE=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(kE||{}),Dg=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(Dg||{}),ve=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(ve||{}),hn=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(hn||{}),J=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(J||{}),la=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(la||{}),ge=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(ge||{}),le=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(le||{}),Gn=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(Gn||{}),fi=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(fi||{}),$n=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))($n||{}),fr=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(fr||{}),Ln=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(Ln||{}),Oy=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(Oy||{}),Wr=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(Wr||{}),wt=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(wt||{}),vt=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(vt||{}),Vn=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(Vn||{});const YI={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},ae={ADAPTER:YI,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var $p=/iPhone/i,r_=/iPod/i,n_=/iPad/i,i_=/\biOS-universal(?:.+)Mac\b/i,Yp=/\bAndroid(?:.+)Mobile\b/i,s_=/Android/i,Co=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Ih=/Silk/i,ri=/Windows Phone/i,o_=/\bWindows(?:.+)ARM\b/i,a_=/BlackBerry/i,l_=/BB10/i,u_=/Opera Mini/i,h_=/\b(CriOS|Chrome)(?:.+)Mobile/i,c_=/Mobile(?:.+)Firefox\b/i,d_=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function QI(t){return function(e){return e.test(t)}}function f_(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=QI(r),s={apple:{phone:i($p)&&!i(ri),ipod:i(r_),tablet:!i($p)&&(i(n_)||d_(e))&&!i(ri),universal:i(i_),device:(i($p)||i(r_)||i(n_)||i(i_)||d_(e))&&!i(ri)},amazon:{phone:i(Co),tablet:!i(Co)&&i(Ih),device:i(Co)||i(Ih)},android:{phone:!i(ri)&&i(Co)||!i(ri)&&i(Yp),tablet:!i(ri)&&!i(Co)&&!i(Yp)&&(i(Ih)||i(s_)),device:!i(ri)&&(i(Co)||i(Ih)||i(Yp)||i(s_))||i(/\bokhttp\b/i)},windows:{phone:i(ri),tablet:i(o_),device:i(ri)||i(o_)},other:{blackberry:i(a_),blackberry10:i(l_),opera:i(u_),firefox:i(c_),chrome:i(h_),device:i(a_)||i(l_)||i(u_)||i(c_)||i(h_)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const KI=f_.default??f_,hi=KI(globalThis.navigator);ae.RETINA_PREFIX=/@([0-9\.]+)x/;ae.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var ME={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(h,c,f){this.fn=h,this.context=c,this.once=f||!1}function s(h,c,f,m,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new i(f,m||h,p),x=r?r+c:c;return h._events[x]?h._events[x].fn?h._events[x]=[h._events[x],v]:h._events[x].push(v):(h._events[x]=v,h._eventsCount++),h}function o(h,c){--h._eventsCount===0?h._events=new n:delete h._events[c]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],f,m;if(this._eventsCount===0)return c;for(m in f=this._events)e.call(f,m)&&c.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},l.prototype.listeners=function(c){var f=r?r+c:c,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var p=0,v=m.length,x=new Array(v);p<v;p++)x[p]=m[p].fn;return x},l.prototype.listenerCount=function(c){var f=r?r+c:c,m=this._events[f];return m?m.fn?1:m.length:0},l.prototype.emit=function(c,f,m,p,v,x){var w=r?r+c:c;if(!this._events[w])return!1;var A=this._events[w],S=arguments.length,E,b;if(A.fn){switch(A.once&&this.removeListener(c,A.fn,void 0,!0),S){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,f),!0;case 3:return A.fn.call(A.context,f,m),!0;case 4:return A.fn.call(A.context,f,m,p),!0;case 5:return A.fn.call(A.context,f,m,p,v),!0;case 6:return A.fn.call(A.context,f,m,p,v,x),!0}for(b=1,E=new Array(S-1);b<S;b++)E[b-1]=arguments[b];A.fn.apply(A.context,E)}else{var T=A.length,R;for(b=0;b<T;b++)switch(A[b].once&&this.removeListener(c,A[b].fn,void 0,!0),S){case 1:A[b].fn.call(A[b].context);break;case 2:A[b].fn.call(A[b].context,f);break;case 3:A[b].fn.call(A[b].context,f,m);break;case 4:A[b].fn.call(A[b].context,f,m,p);break;default:if(!E)for(R=1,E=new Array(S-1);R<S;R++)E[R-1]=arguments[R];A[b].fn.apply(A[b].context,E)}}return!0},l.prototype.on=function(c,f,m){return s(this,c,f,m,!1)},l.prototype.once=function(c,f,m){return s(this,c,f,m,!0)},l.prototype.removeListener=function(c,f,m,p){var v=r?r+c:c;if(!this._events[v])return this;if(!f)return o(this,v),this;var x=this._events[v];if(x.fn)x.fn===f&&(!p||x.once)&&(!m||x.context===m)&&o(this,v);else{for(var w=0,A=[],S=x.length;w<S;w++)(x[w].fn!==f||p&&!x[w].once||m&&x[w].context!==m)&&A.push(x[w]);A.length?this._events[v]=A.length===1?A[0]:A:o(this,v)}return this},l.prototype.removeAllListeners=function(c){var f;return c?(f=r?r+c:c,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(ME);var qI=ME.exports;const vu=Ed(qI);var Ny={exports:{}};Ny.exports=Gd;Ny.exports.default=Gd;function Gd(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=DE(t,0,i,r,!0),o=[];if(!s||s.next===s.prev)return o;var l,h,c,f,m,p,v;if(n&&(s=r3(t,e,s,r)),t.length>80*r){l=c=t[0],h=f=t[1];for(var x=r;x<i;x+=r)m=t[x],p=t[x+1],m<l&&(l=m),p<h&&(h=p),m>c&&(c=m),p>f&&(f=p);v=Math.max(c-l,f-h),v=v!==0?32767/v:0}return su(s,o,r,l,h,v,0),o}function DE(t,e,r,n,i){var s,o;if(i===Ng(t,e,r,n)>0)for(s=e;s<r;s+=n)o=p_(s,t[s],t[s+1],o);else for(s=r-n;s>=e;s-=n)o=p_(s,t[s],t[s+1],o);return o&&jd(o,o.next)&&(au(o),o=o.next),o}function ro(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(jd(r,r.next)||st(r.prev,r,r.next)===0)){if(au(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function su(t,e,r,n,i,s,o){if(t){!o&&s&&a3(t,n,i,s);for(var l=t,h,c;t.prev!==t.next;){if(h=t.prev,c=t.next,s?JI(t,n,i,s):ZI(t)){e.push(h.i/r|0),e.push(t.i/r|0),e.push(c.i/r|0),au(t),t=c.next,l=c.next;continue}if(t=c,t===l){o?o===1?(t=e3(ro(t),e,r),su(t,e,r,n,i,s,2)):o===2&&t3(t,e,r,n,i,s):su(ro(t),e,r,n,i,s,1);break}}}}function ZI(t){var e=t.prev,r=t,n=t.next;if(st(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,o=n.x,l=e.y,h=r.y,c=n.y,f=i<s?i<o?i:o:s<o?s:o,m=l<h?l<c?l:c:h<c?h:c,p=i>s?i>o?i:o:s>o?s:o,v=l>h?l>c?l:c:h>c?h:c,x=n.next;x!==e;){if(x.x>=f&&x.x<=p&&x.y>=m&&x.y<=v&&Jo(i,l,s,h,o,c,x.x,x.y)&&st(x.prev,x,x.next)>=0)return!1;x=x.next}return!0}function JI(t,e,r,n){var i=t.prev,s=t,o=t.next;if(st(i,s,o)>=0)return!1;for(var l=i.x,h=s.x,c=o.x,f=i.y,m=s.y,p=o.y,v=l<h?l<c?l:c:h<c?h:c,x=f<m?f<p?f:p:m<p?m:p,w=l>h?l>c?l:c:h>c?h:c,A=f>m?f>p?f:p:m>p?m:p,S=Fg(v,x,e,r,n),E=Fg(w,A,e,r,n),b=t.prevZ,T=t.nextZ;b&&b.z>=S&&T&&T.z<=E;){if(b.x>=v&&b.x<=w&&b.y>=x&&b.y<=A&&b!==i&&b!==o&&Jo(l,f,h,m,c,p,b.x,b.y)&&st(b.prev,b,b.next)>=0||(b=b.prevZ,T.x>=v&&T.x<=w&&T.y>=x&&T.y<=A&&T!==i&&T!==o&&Jo(l,f,h,m,c,p,T.x,T.y)&&st(T.prev,T,T.next)>=0))return!1;T=T.nextZ}for(;b&&b.z>=S;){if(b.x>=v&&b.x<=w&&b.y>=x&&b.y<=A&&b!==i&&b!==o&&Jo(l,f,h,m,c,p,b.x,b.y)&&st(b.prev,b,b.next)>=0)return!1;b=b.prevZ}for(;T&&T.z<=E;){if(T.x>=v&&T.x<=w&&T.y>=x&&T.y<=A&&T!==i&&T!==o&&Jo(l,f,h,m,c,p,T.x,T.y)&&st(T.prev,T,T.next)>=0)return!1;T=T.nextZ}return!0}function e3(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!jd(i,s)&&FE(i,n,n.next,s)&&ou(i,s)&&ou(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),au(n),au(n.next),n=t=s),n=n.next}while(n!==t);return ro(n)}function t3(t,e,r,n,i,s){var o=t;do{for(var l=o.next.next;l!==o.prev;){if(o.i!==l.i&&h3(o,l)){var h=OE(o,l);o=ro(o,o.next),h=ro(h,h.next),su(o,e,r,n,i,s,0),su(h,e,r,n,i,s,0);return}l=l.next}o=o.next}while(o!==t)}function r3(t,e,r,n){var i=[],s,o,l,h,c;for(s=0,o=e.length;s<o;s++)l=e[s]*n,h=s<o-1?e[s+1]*n:t.length,c=DE(t,l,h,n,!1),c===c.next&&(c.steiner=!0),i.push(u3(c));for(i.sort(n3),s=0;s<i.length;s++)r=i3(i[s],r);return r}function n3(t,e){return t.x-e.x}function i3(t,e){var r=s3(t,e);if(!r)return e;var n=OE(r,t);return ro(n,n.next),ro(r,r.next)}function s3(t,e){var r=e,n=t.x,i=t.y,s=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var l=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(l<=n&&l>s&&(s=l,o=r.x<r.next.x?r:r.next,l===n))return o}r=r.next}while(r!==e);if(!o)return null;var h=o,c=o.x,f=o.y,m=1/0,p;r=o;do n>=r.x&&r.x>=c&&n!==r.x&&Jo(i<f?n:s,i,c,f,i<f?s:n,i,r.x,r.y)&&(p=Math.abs(i-r.y)/(n-r.x),ou(r,t)&&(p<m||p===m&&(r.x>o.x||r.x===o.x&&o3(o,r)))&&(o=r,m=p)),r=r.next;while(r!==h);return o}function o3(t,e){return st(t.prev,t,e.prev)<0&&st(e.next,t,t.next)<0}function a3(t,e,r,n){var i=t;do i.z===0&&(i.z=Fg(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,l3(i)}function l3(t){var e,r,n,i,s,o,l,h,c=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,n=r,l=0,e=0;e<c&&(l++,n=n.nextZ,!!n);e++);for(h=c;l>0||h>0&&n;)l!==0&&(h===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,l--):(i=n,n=n.nextZ,h--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,c*=2}while(o>1);return t}function Fg(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function u3(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function Jo(t,e,r,n,i,s,o,l){return(i-o)*(e-l)>=(t-o)*(s-l)&&(t-o)*(n-l)>=(r-o)*(e-l)&&(r-o)*(s-l)>=(i-o)*(n-l)}function h3(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!c3(t,e)&&(ou(t,e)&&ou(e,t)&&d3(t,e)&&(st(t.prev,t,e.prev)||st(t,e.prev,e))||jd(t,e)&&st(t.prev,t,t.next)>0&&st(e.prev,e,e.next)>0)}function st(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function jd(t,e){return t.x===e.x&&t.y===e.y}function FE(t,e,r,n){var i=kh(st(t,e,r)),s=kh(st(t,e,n)),o=kh(st(r,n,t)),l=kh(st(r,n,e));return!!(i!==s&&o!==l||i===0&&Rh(t,r,e)||s===0&&Rh(t,n,e)||o===0&&Rh(r,t,n)||l===0&&Rh(r,e,n))}function Rh(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function kh(t){return t>0?1:t<0?-1:0}function c3(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&FE(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function ou(t,e){return st(t.prev,t,t.next)<0?st(t,e,t.next)>=0&&st(t,t.prev,e)>=0:st(t,e,t.prev)<0||st(t,t.next,e)<0}function d3(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function OE(t,e){var r=new Og(t.i,t.x,t.y),n=new Og(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function p_(t,e,r,n){var i=new Og(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function au(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Og(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Gd.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,o=Math.abs(Ng(t,0,s,r));if(i)for(var l=0,h=e.length;l<h;l++){var c=e[l]*r,f=l<h-1?e[l+1]*r:t.length;o-=Math.abs(Ng(t,c,f,r))}var m=0;for(l=0;l<n.length;l+=3){var p=n[l]*r,v=n[l+1]*r,x=n[l+2]*r;m+=Math.abs((t[p]-t[x])*(t[v+1]-t[p+1])-(t[p]-t[v])*(t[x+1]-t[p+1]))}return o===0&&m===0?0:Math.abs((m-o)/o)};function Ng(t,e,r,n){for(var i=0,s=e,o=r-n;s<r;s+=n)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}Gd.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[i][s][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var f3=Ny.exports;const p3=Ed(f3);var td={exports:{}};/*! https://mths.be/punycode v1.4.1 by @mathias */td.exports;(function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof ai=="object"&&ai;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,l=2147483647,h=36,c=1,f=26,m=38,p=700,v=72,x=128,w="-",A=/^xn--/,S=/[^\x20-\x7E]/,E=/[\x2E\u3002\uFF0E\uFF61]/g,b={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},T=h-c,R=Math.floor,B=String.fromCharCode,M;function k(D){throw new RangeError(b[D])}function $(D,G){for(var re=D.length,_e=[];re--;)_e[re]=G(D[re]);return _e}function X(D,G){var re=D.split("@"),_e="";re.length>1&&(_e=re[0]+"@",D=re[1]),D=D.replace(E,".");var be=D.split("."),Ue=$(be,G).join(".");return _e+Ue}function ie(D){for(var G=[],re=0,_e=D.length,be,Ue;re<_e;)be=D.charCodeAt(re++),be>=55296&&be<=56319&&re<_e?(Ue=D.charCodeAt(re++),(Ue&64512)==56320?G.push(((be&1023)<<10)+(Ue&1023)+65536):(G.push(be),re--)):G.push(be);return G}function ee(D){return $(D,function(G){var re="";return G>65535&&(G-=65536,re+=B(G>>>10&1023|55296),G=56320|G&1023),re+=B(G),re}).join("")}function O(D){return D-48<10?D-22:D-65<26?D-65:D-97<26?D-97:h}function W(D,G){return D+22+75*(D<26)-((G!=0)<<5)}function te(D,G,re){var _e=0;for(D=re?R(D/p):D>>1,D+=R(D/G);D>T*f>>1;_e+=h)D=R(D/T);return R(_e+(T+1)*D/(D+m))}function ue(D){var G=[],re=D.length,_e,be=0,Ue=x,Pe=v,Le,At,Nt,lt,Ie,Xe,Oe,Rr,kr;for(Le=D.lastIndexOf(w),Le<0&&(Le=0),At=0;At<Le;++At)D.charCodeAt(At)>=128&&k("not-basic"),G.push(D.charCodeAt(At));for(Nt=Le>0?Le+1:0;Nt<re;){for(lt=be,Ie=1,Xe=h;Nt>=re&&k("invalid-input"),Oe=O(D.charCodeAt(Nt++)),(Oe>=h||Oe>R((l-be)/Ie))&&k("overflow"),be+=Oe*Ie,Rr=Xe<=Pe?c:Xe>=Pe+f?f:Xe-Pe,!(Oe<Rr);Xe+=h)kr=h-Rr,Ie>R(l/kr)&&k("overflow"),Ie*=kr;_e=G.length+1,Pe=te(be-lt,_e,lt==0),R(be/_e)>l-Ue&&k("overflow"),Ue+=R(be/_e),be%=_e,G.splice(be++,0,Ue)}return ee(G)}function H(D){var G,re,_e,be,Ue,Pe,Le,At,Nt,lt,Ie,Xe=[],Oe,Rr,kr,vs;for(D=ie(D),Oe=D.length,G=x,re=0,Ue=v,Pe=0;Pe<Oe;++Pe)Ie=D[Pe],Ie<128&&Xe.push(B(Ie));for(_e=be=Xe.length,be&&Xe.push(w);_e<Oe;){for(Le=l,Pe=0;Pe<Oe;++Pe)Ie=D[Pe],Ie>=G&&Ie<Le&&(Le=Ie);for(Rr=_e+1,Le-G>R((l-re)/Rr)&&k("overflow"),re+=(Le-G)*Rr,G=Le,Pe=0;Pe<Oe;++Pe)if(Ie=D[Pe],Ie<G&&++re>l&&k("overflow"),Ie==G){for(At=re,Nt=h;lt=Nt<=Ue?c:Nt>=Ue+f?f:Nt-Ue,!(At<lt);Nt+=h)vs=At-lt,kr=h-lt,Xe.push(B(W(lt+vs%kr,0))),At=R(vs/kr);Xe.push(B(W(At,0))),Ue=te(re,Rr,_e==be),re=0,++_e}++re,++G}return Xe.join("")}function P(D){return X(D,function(G){return A.test(G)?ue(G.slice(4).toLowerCase()):G})}function U(D){return X(D,function(G){return S.test(G)?"xn--"+H(G):G})}if(o={version:"1.4.1",ucs2:{decode:ie,encode:ee},decode:ue,encode:H,toASCII:U,toUnicode:P},n&&i)if(t.exports==n)i.exports=o;else for(M in o)o.hasOwnProperty(M)&&(n[M]=o[M]);else r.punycode=o})(ai)})(td,td.exports);var m3=td.exports,g3=Error,y3=EvalError,v3=RangeError,x3=ReferenceError,NE=SyntaxError,xu=TypeError,_3=URIError,b3=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var i=42;e[r]=i;for(r in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var o=Object.getOwnPropertyDescriptor(e,r);if(o.value!==i||o.enumerable!==!0)return!1}return!0},m_=typeof Symbol<"u"&&Symbol,w3=b3,S3=function(){return typeof m_!="function"||typeof Symbol!="function"||typeof m_("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:w3()},Qp={__proto__:null,foo:{}},E3=Object,A3=function(){return{__proto__:Qp}.foo===Qp.foo&&!(Qp instanceof E3)},T3="Function.prototype.bind called on incompatible ",C3=Object.prototype.toString,P3=Math.max,I3="[object Function]",g_=function(e,r){for(var n=[],i=0;i<e.length;i+=1)n[i]=e[i];for(var s=0;s<r.length;s+=1)n[s+e.length]=r[s];return n},R3=function(e,r){for(var n=[],i=r,s=0;i<e.length;i+=1,s+=1)n[s]=e[i];return n},k3=function(t,e){for(var r="",n=0;n<t.length;n+=1)r+=t[n],n+1<t.length&&(r+=e);return r},M3=function(e){var r=this;if(typeof r!="function"||C3.apply(r)!==I3)throw new TypeError(T3+r);for(var n=R3(arguments,1),i,s=function(){if(this instanceof i){var f=r.apply(this,g_(n,arguments));return Object(f)===f?f:this}return r.apply(e,g_(n,arguments))},o=P3(0,r.length-n.length),l=[],h=0;h<o;h++)l[h]="$"+h;if(i=Function("binder","return function ("+k3(l,",")+"){ return binder.apply(this,arguments); }")(s),r.prototype){var c=function(){};c.prototype=r.prototype,i.prototype=new c,c.prototype=null}return i},D3=M3,By=Function.prototype.bind||D3,F3=Function.prototype.call,O3=Object.prototype.hasOwnProperty,N3=By,B3=N3.call(F3,O3),ke,L3=g3,U3=y3,z3=v3,G3=x3,Sa=NE,ua=xu,j3=_3,BE=Function,Kp=function(t){try{return BE('"use strict"; return ('+t+").constructor;")()}catch{}},$s=Object.getOwnPropertyDescriptor;if($s)try{$s({},"")}catch{$s=null}var qp=function(){throw new ua},H3=$s?function(){try{return arguments.callee,qp}catch{try{return $s(arguments,"callee").get}catch{return qp}}}():qp,Po=S3(),W3=A3(),Rt=Object.getPrototypeOf||(W3?function(t){return t.__proto__}:null),Fo={},V3=typeof Uint8Array>"u"||!Rt?ke:Rt(Uint8Array),Ys={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?ke:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ke:ArrayBuffer,"%ArrayIteratorPrototype%":Po&&Rt?Rt([][Symbol.iterator]()):ke,"%AsyncFromSyncIteratorPrototype%":ke,"%AsyncFunction%":Fo,"%AsyncGenerator%":Fo,"%AsyncGeneratorFunction%":Fo,"%AsyncIteratorPrototype%":Fo,"%Atomics%":typeof Atomics>"u"?ke:Atomics,"%BigInt%":typeof BigInt>"u"?ke:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ke:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ke:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ke:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":L3,"%eval%":eval,"%EvalError%":U3,"%Float32Array%":typeof Float32Array>"u"?ke:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ke:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ke:FinalizationRegistry,"%Function%":BE,"%GeneratorFunction%":Fo,"%Int8Array%":typeof Int8Array>"u"?ke:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ke:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ke:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Po&&Rt?Rt(Rt([][Symbol.iterator]())):ke,"%JSON%":typeof JSON=="object"?JSON:ke,"%Map%":typeof Map>"u"?ke:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Po||!Rt?ke:Rt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ke:Promise,"%Proxy%":typeof Proxy>"u"?ke:Proxy,"%RangeError%":z3,"%ReferenceError%":G3,"%Reflect%":typeof Reflect>"u"?ke:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ke:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Po||!Rt?ke:Rt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ke:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Po&&Rt?Rt(""[Symbol.iterator]()):ke,"%Symbol%":Po?Symbol:ke,"%SyntaxError%":Sa,"%ThrowTypeError%":H3,"%TypedArray%":V3,"%TypeError%":ua,"%Uint8Array%":typeof Uint8Array>"u"?ke:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ke:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ke:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ke:Uint32Array,"%URIError%":j3,"%WeakMap%":typeof WeakMap>"u"?ke:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ke:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ke:WeakSet};if(Rt)try{null.error}catch(t){var X3=Rt(Rt(t));Ys["%Error.prototype%"]=X3}var $3=function t(e){var r;if(e==="%AsyncFunction%")r=Kp("async function () {}");else if(e==="%GeneratorFunction%")r=Kp("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Kp("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Rt&&(r=Rt(i.prototype))}return Ys[e]=r,r},y_={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},_u=By,rd=B3,Y3=_u.call(Function.call,Array.prototype.concat),Q3=_u.call(Function.apply,Array.prototype.splice),v_=_u.call(Function.call,String.prototype.replace),nd=_u.call(Function.call,String.prototype.slice),K3=_u.call(Function.call,RegExp.prototype.exec),q3=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Z3=/\\(\\)?/g,J3=function(e){var r=nd(e,0,1),n=nd(e,-1);if(r==="%"&&n!=="%")throw new Sa("invalid intrinsic syntax, expected closing `%`");if(n==="%"&&r!=="%")throw new Sa("invalid intrinsic syntax, expected opening `%`");var i=[];return v_(e,q3,function(s,o,l,h){i[i.length]=l?v_(h,Z3,"$1"):o||s}),i},eR=function(e,r){var n=e,i;if(rd(y_,n)&&(i=y_[n],n="%"+i[0]+"%"),rd(Ys,n)){var s=Ys[n];if(s===Fo&&(s=$3(n)),typeof s>"u"&&!r)throw new ua("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:n,value:s}}throw new Sa("intrinsic "+e+" does not exist!")},Ra=function(e,r){if(typeof e!="string"||e.length===0)throw new ua("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof r!="boolean")throw new ua('"allowMissing" argument must be a boolean');if(K3(/^%?[^%]*%?$/,e)===null)throw new Sa("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=J3(e),i=n.length>0?n[0]:"",s=eR("%"+i+"%",r),o=s.name,l=s.value,h=!1,c=s.alias;c&&(i=c[0],Q3(n,Y3([0,1],c)));for(var f=1,m=!0;f<n.length;f+=1){var p=n[f],v=nd(p,0,1),x=nd(p,-1);if((v==='"'||v==="'"||v==="`"||x==='"'||x==="'"||x==="`")&&v!==x)throw new Sa("property names with quotes must have matching quotes");if((p==="constructor"||!m)&&(h=!0),i+="."+p,o="%"+i+"%",rd(Ys,o))l=Ys[o];else if(l!=null){if(!(p in l)){if(!r)throw new ua("base intrinsic for "+e+" exists, but the property is not available.");return}if($s&&f+1>=n.length){var w=$s(l,p);m=!!w,m&&"get"in w&&!("originalValue"in w.get)?l=w.get:l=l[p]}else m=rd(l,p),l=l[p];m&&!h&&(Ys[o]=l)}}return l},LE={exports:{}},Zp,x_;function Ly(){if(x_)return Zp;x_=1;var t=Ra,e=t("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch{e=!1}return Zp=e,Zp}var tR=Ra,_c=tR("%Object.getOwnPropertyDescriptor%",!0);if(_c)try{_c([],"length")}catch{_c=null}var UE=_c,__=Ly(),rR=NE,Io=xu,b_=UE,nR=function(e,r,n){if(!e||typeof e!="object"&&typeof e!="function")throw new Io("`obj` must be an object or a function`");if(typeof r!="string"&&typeof r!="symbol")throw new Io("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Io("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Io("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Io("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Io("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,o=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,h=!!b_&&b_(e,r);if(__)__(e,r,{configurable:o===null&&h?h.configurable:!o,enumerable:i===null&&h?h.enumerable:!i,value:n,writable:s===null&&h?h.writable:!s});else if(l||!i&&!s&&!o)e[r]=n;else throw new rR("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Bg=Ly(),zE=function(){return!!Bg};zE.hasArrayLengthDefineBug=function(){if(!Bg)return null;try{return Bg([],"length",{value:1}).length!==1}catch{return!0}};var iR=zE,sR=Ra,w_=nR,oR=iR(),S_=UE,E_=xu,aR=sR("%Math.floor%"),lR=function(e,r){if(typeof e!="function")throw new E_("`fn` is not a function");if(typeof r!="number"||r<0||r>4294967295||aR(r)!==r)throw new E_("`length` must be a positive 32-bit integer");var n=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&S_){var o=S_(e,"length");o&&!o.configurable&&(i=!1),o&&!o.writable&&(s=!1)}return(i||s||!n)&&(oR?w_(e,"length",r,!0,!0):w_(e,"length",r)),e};(function(t){var e=By,r=Ra,n=lR,i=xu,s=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),l=r("%Reflect.apply%",!0)||e.call(o,s),h=Ly(),c=r("%Math.max%");t.exports=function(p){if(typeof p!="function")throw new i("a function is required");var v=l(e,o,arguments);return n(v,1+c(0,p.length-(arguments.length-1)),!0)};var f=function(){return l(e,s,arguments)};h?h(t.exports,"apply",{value:f}):t.exports.apply=f})(LE);var uR=LE.exports,GE=Ra,jE=uR,hR=jE(GE("String.prototype.indexOf")),cR=function(e,r){var n=GE(e,!!r);return typeof n=="function"&&hR(e,".prototype.")>-1?jE(n):n};const dR={},fR=Object.freeze(Object.defineProperty({__proto__:null,default:dR},Symbol.toStringTag,{value:"Module"})),pR=yw(fR);var Uy=typeof Map=="function"&&Map.prototype,Jp=Object.getOwnPropertyDescriptor&&Uy?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,id=Uy&&Jp&&typeof Jp.get=="function"?Jp.get:null,A_=Uy&&Map.prototype.forEach,zy=typeof Set=="function"&&Set.prototype,em=Object.getOwnPropertyDescriptor&&zy?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,sd=zy&&em&&typeof em.get=="function"?em.get:null,T_=zy&&Set.prototype.forEach,mR=typeof WeakMap=="function"&&WeakMap.prototype,Nl=mR?WeakMap.prototype.has:null,gR=typeof WeakSet=="function"&&WeakSet.prototype,Bl=gR?WeakSet.prototype.has:null,yR=typeof WeakRef=="function"&&WeakRef.prototype,C_=yR?WeakRef.prototype.deref:null,vR=Boolean.prototype.valueOf,xR=Object.prototype.toString,_R=Function.prototype.toString,bR=String.prototype.match,Gy=String.prototype.slice,Qi=String.prototype.replace,wR=String.prototype.toUpperCase,P_=String.prototype.toLowerCase,HE=RegExp.prototype.test,I_=Array.prototype.concat,Un=Array.prototype.join,SR=Array.prototype.slice,R_=Math.floor,Lg=typeof BigInt=="function"?BigInt.prototype.valueOf:null,tm=Object.getOwnPropertySymbols,Ug=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Ea=typeof Symbol=="function"&&typeof Symbol.iterator=="object",Jt=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Ea||!0)?Symbol.toStringTag:null,WE=Object.prototype.propertyIsEnumerable,k_=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function M_(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||HE.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-R_(-t):R_(t);if(n!==t){var i=String(n),s=Gy.call(e,i.length+1);return Qi.call(i,r,"$&_")+"."+Qi.call(Qi.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Qi.call(e,r,"$&_")}var zg=pR,D_=zg.custom,F_=XE(D_)?D_:null,ER=function t(e,r,n,i){var s=r||{};if(ji(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(ji(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=ji(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(ji(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(ji(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return YE(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var h=String(e);return l?M_(e,h):h}if(typeof e=="bigint"){var c=String(e)+"n";return l?M_(e,c):c}var f=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=f&&f>0&&typeof e=="object")return Gg(e)?"[Array]":"[Object]";var m=jR(s,n);if(typeof i>"u")i=[];else if($E(i,e)>=0)return"[Circular]";function p(O,W,te){if(W&&(i=SR.call(i),i.push(W)),te){var ue={depth:s.depth};return ji(s,"quoteStyle")&&(ue.quoteStyle=s.quoteStyle),t(O,ue,n+1,i)}return t(O,s,n+1,i)}if(typeof e=="function"&&!O_(e)){var v=DR(e),x=Mh(e,p);return"[Function"+(v?": "+v:" (anonymous)")+"]"+(x.length>0?" { "+Un.call(x,", ")+" }":"")}if(XE(e)){var w=Ea?Qi.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Ug.call(e);return typeof e=="object"&&!Ea?ll(w):w}if(UR(e)){for(var A="<"+P_.call(String(e.nodeName)),S=e.attributes||[],E=0;E<S.length;E++)A+=" "+S[E].name+"="+VE(AR(S[E].value),"double",s);return A+=">",e.childNodes&&e.childNodes.length&&(A+="..."),A+="</"+P_.call(String(e.nodeName))+">",A}if(Gg(e)){if(e.length===0)return"[]";var b=Mh(e,p);return m&&!GR(b)?"["+jg(b,m)+"]":"[ "+Un.call(b,", ")+" ]"}if(CR(e)){var T=Mh(e,p);return!("cause"in Error.prototype)&&"cause"in e&&!WE.call(e,"cause")?"{ ["+String(e)+"] "+Un.call(I_.call("[cause]: "+p(e.cause),T),", ")+" }":T.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Un.call(T,", ")+" }"}if(typeof e=="object"&&o){if(F_&&typeof e[F_]=="function"&&zg)return zg(e,{depth:f-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(FR(e)){var R=[];return A_&&A_.call(e,function(O,W){R.push(p(W,e,!0)+" => "+p(O,e))}),N_("Map",id.call(e),R,m)}if(BR(e)){var B=[];return T_&&T_.call(e,function(O){B.push(p(O,e))}),N_("Set",sd.call(e),B,m)}if(OR(e))return rm("WeakMap");if(LR(e))return rm("WeakSet");if(NR(e))return rm("WeakRef");if(IR(e))return ll(p(Number(e)));if(kR(e))return ll(p(Lg.call(e)));if(RR(e))return ll(vR.call(e));if(PR(e))return ll(p(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof ai<"u"&&e===ai)return"{ [object globalThis] }";if(!TR(e)&&!O_(e)){var M=Mh(e,p),k=k_?k_(e)===Object.prototype:e instanceof Object||e.constructor===Object,$=e instanceof Object?"":"null prototype",X=!k&&Jt&&Object(e)===e&&Jt in e?Gy.call(ms(e),8,-1):$?"Object":"",ie=k||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",ee=ie+(X||$?"["+Un.call(I_.call([],X||[],$||[]),": ")+"] ":"");return M.length===0?ee+"{}":m?ee+"{"+jg(M,m)+"}":ee+"{ "+Un.call(M,", ")+" }"}return String(e)};function VE(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function AR(t){return Qi.call(String(t),/"/g,"&quot;")}function Gg(t){return ms(t)==="[object Array]"&&(!Jt||!(typeof t=="object"&&Jt in t))}function TR(t){return ms(t)==="[object Date]"&&(!Jt||!(typeof t=="object"&&Jt in t))}function O_(t){return ms(t)==="[object RegExp]"&&(!Jt||!(typeof t=="object"&&Jt in t))}function CR(t){return ms(t)==="[object Error]"&&(!Jt||!(typeof t=="object"&&Jt in t))}function PR(t){return ms(t)==="[object String]"&&(!Jt||!(typeof t=="object"&&Jt in t))}function IR(t){return ms(t)==="[object Number]"&&(!Jt||!(typeof t=="object"&&Jt in t))}function RR(t){return ms(t)==="[object Boolean]"&&(!Jt||!(typeof t=="object"&&Jt in t))}function XE(t){if(Ea)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Ug)return!1;try{return Ug.call(t),!0}catch{}return!1}function kR(t){if(!t||typeof t!="object"||!Lg)return!1;try{return Lg.call(t),!0}catch{}return!1}var MR=Object.prototype.hasOwnProperty||function(t){return t in this};function ji(t,e){return MR.call(t,e)}function ms(t){return xR.call(t)}function DR(t){if(t.name)return t.name;var e=bR.call(_R.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function $E(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function FR(t){if(!id||!t||typeof t!="object")return!1;try{id.call(t);try{sd.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function OR(t){if(!Nl||!t||typeof t!="object")return!1;try{Nl.call(t,Nl);try{Bl.call(t,Bl)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function NR(t){if(!C_||!t||typeof t!="object")return!1;try{return C_.call(t),!0}catch{}return!1}function BR(t){if(!sd||!t||typeof t!="object")return!1;try{sd.call(t);try{id.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function LR(t){if(!Bl||!t||typeof t!="object")return!1;try{Bl.call(t,Bl);try{Nl.call(t,Nl)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function UR(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function YE(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return YE(Gy.call(t,0,e.maxStringLength),e)+n}var i=Qi.call(Qi.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,zR);return VE(i,"single",e)}function zR(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+wR.call(e.toString(16))}function ll(t){return"Object("+t+")"}function rm(t){return t+" { ? }"}function N_(t,e,r,n){var i=n?jg(r,n):Un.call(r,", ");return t+" ("+e+") {"+i+"}"}function GR(t){for(var e=0;e<t.length;e++)if($E(t[e],`
`)>=0)return!1;return!0}function jR(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=Un.call(Array(t.indent+1)," ");else return null;return{base:r,prev:Un.call(Array(e+1),r)}}function jg(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+Un.call(t,","+r)+`
`+e.prev}function Mh(t,e){var r=Gg(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=ji(t,i)?e(t[i],t):""}var s=typeof tm=="function"?tm(t):[],o;if(Ea){o={};for(var l=0;l<s.length;l++)o["$"+s[l]]=s[l]}for(var h in t)ji(t,h)&&(r&&String(Number(h))===h&&h<t.length||Ea&&o["$"+h]instanceof Symbol||(HE.call(/[^\w$]/,h)?n.push(e(h,t)+": "+e(t[h],t)):n.push(h+": "+e(t[h],t))));if(typeof tm=="function")for(var c=0;c<s.length;c++)WE.call(t,s[c])&&n.push("["+e(s[c])+"]: "+e(t[s[c]],t));return n}var QE=Ra,ka=cR,HR=ER,WR=xu,Dh=QE("%WeakMap%",!0),Fh=QE("%Map%",!0),VR=ka("WeakMap.prototype.get",!0),XR=ka("WeakMap.prototype.set",!0),$R=ka("WeakMap.prototype.has",!0),YR=ka("Map.prototype.get",!0),QR=ka("Map.prototype.set",!0),KR=ka("Map.prototype.has",!0),jy=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},qR=function(t,e){var r=jy(t,e);return r&&r.value},ZR=function(t,e,r){var n=jy(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},JR=function(t,e){return!!jy(t,e)},ek=function(){var e,r,n,i={assert:function(s){if(!i.has(s))throw new WR("Side channel does not contain "+HR(s))},get:function(s){if(Dh&&s&&(typeof s=="object"||typeof s=="function")){if(e)return VR(e,s)}else if(Fh){if(r)return YR(r,s)}else if(n)return qR(n,s)},has:function(s){if(Dh&&s&&(typeof s=="object"||typeof s=="function")){if(e)return $R(e,s)}else if(Fh){if(r)return KR(r,s)}else if(n)return JR(n,s);return!1},set:function(s,o){Dh&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new Dh),XR(e,s,o)):Fh?(r||(r=new Fh),QR(r,s,o)):(n||(n={key:{},next:null}),ZR(n,s,o))}};return i},tk=String.prototype.replace,rk=/%20/g,nm={RFC1738:"RFC1738",RFC3986:"RFC3986"},Hy={default:nm.RFC3986,formatters:{RFC1738:function(t){return tk.call(t,rk,"+")},RFC3986:function(t){return String(t)}},RFC1738:nm.RFC1738,RFC3986:nm.RFC3986},nk=Hy,im=Object.prototype.hasOwnProperty,zs=Array.isArray,Rn=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),ik=function(e){for(;e.length>1;){var r=e.pop(),n=r.obj[r.prop];if(zs(n)){for(var i=[],s=0;s<n.length;++s)typeof n[s]<"u"&&i.push(n[s]);r.obj[r.prop]=i}}},KE=function(e,r){for(var n=r&&r.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(n[i]=e[i]);return n},sk=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(zs(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!im.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return zs(e)&&!zs(r)&&(i=KE(e,n)),zs(e)&&zs(r)?(r.forEach(function(s,o){if(im.call(e,o)){var l=e[o];l&&typeof l=="object"&&s&&typeof s=="object"?e[o]=t(l,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var l=r[o];return im.call(s,o)?s[o]=t(s[o],l,n):s[o]=l,s},i)},ok=function(e,r){return Object.keys(r).reduce(function(n,i){return n[i]=r[i],n},e)},ak=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},sm=1024,lk=function(e,r,n,i,s){if(e.length===0)return e;var o=e;if(typeof e=="symbol"?o=Symbol.prototype.toString.call(e):typeof e!="string"&&(o=String(e)),n==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(v){return"%26%23"+parseInt(v.slice(2),16)+"%3B"});for(var l="",h=0;h<o.length;h+=sm){for(var c=o.length>=sm?o.slice(h,h+sm):o,f=[],m=0;m<c.length;++m){var p=c.charCodeAt(m);if(p===45||p===46||p===95||p===126||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122||s===nk.RFC1738&&(p===40||p===41)){f[f.length]=c.charAt(m);continue}if(p<128){f[f.length]=Rn[p];continue}if(p<2048){f[f.length]=Rn[192|p>>6]+Rn[128|p&63];continue}if(p<55296||p>=57344){f[f.length]=Rn[224|p>>12]+Rn[128|p>>6&63]+Rn[128|p&63];continue}m+=1,p=65536+((p&1023)<<10|c.charCodeAt(m)&1023),f[f.length]=Rn[240|p>>18]+Rn[128|p>>12&63]+Rn[128|p>>6&63]+Rn[128|p&63]}l+=f.join("")}return l},uk=function(e){for(var r=[{obj:{o:e},prop:"o"}],n=[],i=0;i<r.length;++i)for(var s=r[i],o=s.obj[s.prop],l=Object.keys(o),h=0;h<l.length;++h){var c=l[h],f=o[c];typeof f=="object"&&f!==null&&n.indexOf(f)===-1&&(r.push({obj:o,prop:c}),n.push(f))}return ik(r),e},hk=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},ck=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},dk=function(e,r){return[].concat(e,r)},fk=function(e,r){if(zs(e)){for(var n=[],i=0;i<e.length;i+=1)n.push(r(e[i]));return n}return r(e)},qE={arrayToObject:KE,assign:ok,combine:dk,compact:uk,decode:ak,encode:lk,isBuffer:ck,isRegExp:hk,maybeMap:fk,merge:sk},ZE=ek,bc=qE,Ll=Hy,pk=Object.prototype.hasOwnProperty,JE={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,r){return e+"["+r+"]"},repeat:function(e){return e}},Bn=Array.isArray,mk=Array.prototype.push,eA=function(t,e){mk.apply(t,Bn(e)?e:[e])},gk=Date.prototype.toISOString,B_=Ll.default,bt={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:bc.encode,encodeValuesOnly:!1,format:B_,formatter:Ll.formatters[B_],indices:!1,serializeDate:function(e){return gk.call(e)},skipNulls:!1,strictNullHandling:!1},yk=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},om={},vk=function t(e,r,n,i,s,o,l,h,c,f,m,p,v,x,w,A,S,E){for(var b=e,T=E,R=0,B=!1;(T=T.get(om))!==void 0&&!B;){var M=T.get(e);if(R+=1,typeof M<"u"){if(M===R)throw new RangeError("Cyclic object value");B=!0}typeof T.get(om)>"u"&&(R=0)}if(typeof f=="function"?b=f(r,b):b instanceof Date?b=v(b):n==="comma"&&Bn(b)&&(b=bc.maybeMap(b,function(D){return D instanceof Date?v(D):D})),b===null){if(o)return c&&!A?c(r,bt.encoder,S,"key",x):r;b=""}if(yk(b)||bc.isBuffer(b)){if(c){var k=A?r:c(r,bt.encoder,S,"key",x);return[w(k)+"="+w(c(b,bt.encoder,S,"value",x))]}return[w(r)+"="+w(String(b))]}var $=[];if(typeof b>"u")return $;var X;if(n==="comma"&&Bn(b))A&&c&&(b=bc.maybeMap(b,c)),X=[{value:b.length>0?b.join(",")||null:void 0}];else if(Bn(f))X=f;else{var ie=Object.keys(b);X=m?ie.sort(m):ie}var ee=h?r.replace(/\./g,"%2E"):r,O=i&&Bn(b)&&b.length===1?ee+"[]":ee;if(s&&Bn(b)&&b.length===0)return O+"[]";for(var W=0;W<X.length;++W){var te=X[W],ue=typeof te=="object"&&typeof te.value<"u"?te.value:b[te];if(!(l&&ue===null)){var H=p&&h?te.replace(/\./g,"%2E"):te,P=Bn(b)?typeof n=="function"?n(O,H):O:O+(p?"."+H:"["+H+"]");E.set(e,R);var U=ZE();U.set(om,E),eA($,t(ue,P,n,i,s,o,l,h,n==="comma"&&A&&Bn(b)?null:c,f,m,p,v,x,w,A,S,U))}}return $},xk=function(e){if(!e)return bt;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var r=e.charset||bt.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=Ll.default;if(typeof e.format<"u"){if(!pk.call(Ll.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var i=Ll.formatters[n],s=bt.filter;(typeof e.filter=="function"||Bn(e.filter))&&(s=e.filter);var o;if(e.arrayFormat in JE?o=e.arrayFormat:"indices"in e?o=e.indices?"indices":"repeat":o=bt.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:bt.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:bt.addQueryPrefix,allowDots:l,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:bt.allowEmptyArrays,arrayFormat:o,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:bt.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?bt.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:bt.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:bt.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:bt.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:bt.encodeValuesOnly,filter:s,format:n,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:bt.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:bt.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:bt.strictNullHandling}},_k=function(t,e){var r=t,n=xk(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):Bn(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var l=JE[n.arrayFormat],h=l==="comma"&&n.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var c=ZE(),f=0;f<i.length;++f){var m=i[f];n.skipNulls&&r[m]===null||eA(o,vk(r[m],m,l,h,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,c))}var p=o.join(n.delimiter),v=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),p.length>0?v+p:""},Aa=qE,Hg=Object.prototype.hasOwnProperty,bk=Array.isArray,ht={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:Aa.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},wk=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},tA=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},Sk="utf8=%26%2310003%3B",Ek="utf8=%E2%9C%93",Ak=function(e,r){var n={__proto__:null},i=r.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var s=r.parameterLimit===1/0?void 0:r.parameterLimit,o=i.split(r.delimiter,s),l=-1,h,c=r.charset;if(r.charsetSentinel)for(h=0;h<o.length;++h)o[h].indexOf("utf8=")===0&&(o[h]===Ek?c="utf-8":o[h]===Sk&&(c="iso-8859-1"),l=h,h=o.length);for(h=0;h<o.length;++h)if(h!==l){var f=o[h],m=f.indexOf("]="),p=m===-1?f.indexOf("="):m+1,v,x;p===-1?(v=r.decoder(f,ht.decoder,c,"key"),x=r.strictNullHandling?null:""):(v=r.decoder(f.slice(0,p),ht.decoder,c,"key"),x=Aa.maybeMap(tA(f.slice(p+1),r),function(A){return r.decoder(A,ht.decoder,c,"value")})),x&&r.interpretNumericEntities&&c==="iso-8859-1"&&(x=wk(x)),f.indexOf("[]=")>-1&&(x=bk(x)?[x]:x);var w=Hg.call(n,v);w&&r.duplicates==="combine"?n[v]=Aa.combine(n[v],x):(!w||r.duplicates==="last")&&(n[v]=x)}return n},Tk=function(t,e,r,n){for(var i=n?e:tA(e,r),s=t.length-1;s>=0;--s){var o,l=t[s];if(l==="[]"&&r.parseArrays)o=r.allowEmptyArrays&&(i===""||r.strictNullHandling&&i===null)?[]:[].concat(i);else{o=r.plainObjects?Object.create(null):{};var h=l.charAt(0)==="["&&l.charAt(l.length-1)==="]"?l.slice(1,-1):l,c=r.decodeDotInKeys?h.replace(/%2E/g,"."):h,f=parseInt(c,10);!r.parseArrays&&c===""?o={0:i}:!isNaN(f)&&l!==c&&String(f)===c&&f>=0&&r.parseArrays&&f<=r.arrayLimit?(o=[],o[f]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},Ck=function(e,r,n,i){if(e){var s=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/,l=/(\[[^[\]]*])/g,h=n.depth>0&&o.exec(s),c=h?s.slice(0,h.index):s,f=[];if(c){if(!n.plainObjects&&Hg.call(Object.prototype,c)&&!n.allowPrototypes)return;f.push(c)}for(var m=0;n.depth>0&&(h=l.exec(s))!==null&&m<n.depth;){if(m+=1,!n.plainObjects&&Hg.call(Object.prototype,h[1].slice(1,-1))&&!n.allowPrototypes)return;f.push(h[1])}if(h){if(n.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+n.depth+" and strictDepth is true");f.push("["+s.slice(h.index)+"]")}return Tk(f,r,n,i)}},Pk=function(e){if(!e)return ht;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=typeof e.charset>"u"?ht.charset:e.charset,n=typeof e.duplicates>"u"?ht.duplicates:e.duplicates;if(n!=="combine"&&n!=="first"&&n!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:ht.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:ht.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:ht.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:ht.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:ht.arrayLimit,charset:r,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:ht.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:ht.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:ht.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:ht.decoder,delimiter:typeof e.delimiter=="string"||Aa.isRegExp(e.delimiter)?e.delimiter:ht.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:ht.depth,duplicates:n,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:ht.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:ht.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:ht.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:ht.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:ht.strictNullHandling}},Ik=function(t,e){var r=Pk(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?Ak(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var l=s[o],h=Ck(l,n[l],r,typeof t=="string");i=Aa.merge(i,h,r)}return r.allowSparse===!0?i:Aa.compact(i)},Rk=_k,kk=Ik,Mk=Hy,Dk={formats:Mk,parse:kk,stringify:Rk},Fk=m3;function pi(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var Ok=/^([a-z0-9.+-]+:)/i,Nk=/:[0-9]*$/,Bk=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,Lk=["<",">",'"',"`"," ","\r",`
`,"	"],Uk=["{","}","|","\\","^","`"].concat(Lk),Wg=["'"].concat(Uk),L_=["%","/","?",";","#"].concat(Wg),U_=["/","?","#"],zk=255,z_=/^[+a-z0-9A-Z_-]{0,63}$/,Gk=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,jk={javascript:!0,"javascript:":!0},Vg={javascript:!0,"javascript:":!0},ha={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Xg=Dk;function Hk(t,e,r){if(t&&typeof t=="object"&&t instanceof pi)return t;var n=new pi;return n.parse(t,e,r),n}pi.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var l=t;if(l=l.trim(),!r&&t.split("#").length===1){var h=Bk.exec(l);if(h)return this.path=l,this.href=l,this.pathname=h[1],h[2]?(this.search=h[2],e?this.query=Xg.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var c=Ok.exec(l);if(c){c=c[0];var f=c.toLowerCase();this.protocol=f,l=l.substr(c.length)}if(r||c||l.match(/^\/\/[^@/]+@[^@/]+/)){var m=l.substr(0,2)==="//";m&&!(c&&Vg[c])&&(l=l.substr(2),this.slashes=!0)}if(!Vg[c]&&(m||c&&!ha[c])){for(var p=-1,v=0;v<U_.length;v++){var x=l.indexOf(U_[v]);x!==-1&&(p===-1||x<p)&&(p=x)}var w,A;p===-1?A=l.lastIndexOf("@"):A=l.lastIndexOf("@",p),A!==-1&&(w=l.slice(0,A),l=l.slice(A+1),this.auth=decodeURIComponent(w)),p=-1;for(var v=0;v<L_.length;v++){var x=l.indexOf(L_[v]);x!==-1&&(p===-1||x<p)&&(p=x)}p===-1&&(p=l.length),this.host=l.slice(0,p),l=l.slice(p),this.parseHost(),this.hostname=this.hostname||"";var S=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!S)for(var E=this.hostname.split(/\./),v=0,b=E.length;v<b;v++){var T=E[v];if(T&&!T.match(z_)){for(var R="",B=0,M=T.length;B<M;B++)T.charCodeAt(B)>127?R+="x":R+=T[B];if(!R.match(z_)){var k=E.slice(0,v),$=E.slice(v+1),X=T.match(Gk);X&&(k.push(X[1]),$.unshift(X[2])),$.length&&(l="/"+$.join(".")+l),this.hostname=k.join(".");break}}}this.hostname.length>zk?this.hostname="":this.hostname=this.hostname.toLowerCase(),S||(this.hostname=Fk.toASCII(this.hostname));var ie=this.port?":"+this.port:"",ee=this.hostname||"";this.host=ee+ie,this.href+=this.host,S&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),l[0]!=="/"&&(l="/"+l))}if(!jk[f])for(var v=0,b=Wg.length;v<b;v++){var O=Wg[v];if(l.indexOf(O)!==-1){var W=encodeURIComponent(O);W===O&&(W=escape(O)),l=l.split(O).join(W)}}var te=l.indexOf("#");te!==-1&&(this.hash=l.substr(te),l=l.slice(0,te));var ue=l.indexOf("?");if(ue!==-1?(this.search=l.substr(ue),this.query=l.substr(ue+1),e&&(this.query=Xg.parse(this.query)),l=l.slice(0,ue)):e&&(this.search="",this.query={}),l&&(this.pathname=l),ha[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var ie=this.pathname||"",H=this.search||"";this.path=ie+H}return this.href=this.format(),this};pi.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=Xg.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||ha[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(l){return encodeURIComponent(l)}),o=o.replace("#","%23"),e+i+r+o+n};pi.prototype.resolve=function(t){return this.resolveObject(Hk(t,!1,!0)).format()};pi.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new pi;e.parse(t,!1,!0),t=e}for(var r=new pi,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),l=0;l<o.length;l++){var h=o[l];h!=="protocol"&&(r[h]=t[h])}return ha[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!ha[t.protocol]){for(var c=Object.keys(t),f=0;f<c.length;f++){var m=c[f];r[m]=t[m]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!Vg[t.protocol]){for(var b=(t.pathname||"").split("/");b.length&&!(t.host=b.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),b[0]!==""&&b.unshift(""),b.length<2&&b.unshift(""),r.pathname=b.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var p=r.pathname||"",v=r.search||"";r.path=p+v}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var x=r.pathname&&r.pathname.charAt(0)==="/",w=t.host||t.pathname&&t.pathname.charAt(0)==="/",A=w||x||r.host&&t.pathname,S=A,E=r.pathname&&r.pathname.split("/")||[],b=t.pathname&&t.pathname.split("/")||[],T=r.protocol&&!ha[r.protocol];if(T&&(r.hostname="",r.port=null,r.host&&(E[0]===""?E[0]=r.host:E.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(b[0]===""?b[0]=t.host:b.unshift(t.host)),t.host=null),A=A&&(b[0]===""||E[0]==="")),w)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,E=b;else if(b.length)E||(E=[]),E.pop(),E=E.concat(b),r.search=t.search,r.query=t.query;else if(t.search!=null){if(T){r.host=E.shift(),r.hostname=r.host;var R=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;R&&(r.auth=R.shift(),r.hostname=R.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!E.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var B=E.slice(-1)[0],M=(r.host||t.host||E.length>1)&&(B==="."||B==="..")||B==="",k=0,$=E.length;$>=0;$--)B=E[$],B==="."?E.splice($,1):B===".."?(E.splice($,1),k++):k&&(E.splice($,1),k--);if(!A&&!S)for(;k--;k)E.unshift("..");A&&E[0]!==""&&(!E[0]||E[0].charAt(0)!=="/")&&E.unshift(""),M&&E.join("/").substr(-1)!=="/"&&E.push("");var X=E[0]===""||E[0]&&E[0].charAt(0)==="/";if(T){r.hostname=X?"":E.length?E.shift():"",r.host=r.hostname;var R=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;R&&(r.auth=R.shift(),r.hostname=R.shift(),r.host=r.hostname)}return A=A||r.host&&E.length,A&&!X&&E.unshift(""),E.length>0?r.pathname=E.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r};pi.prototype.parseHost=function(){var t=this.host,e=Nk.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};const G_={};function Ae(t,e,r=3){if(G_[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),G_[e]=!0}function tn(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function ul(t){return t.split("?")[0].split("#")[0]}function Wk(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Vk(t,e,r){return t.replace(new RegExp(Wk(e),"g"),r)}function Xk(t,e){let r="",n=0,i=-1,s=0,o=-1;for(let l=0;l<=t.length;++l){if(l<t.length)o=t.charCodeAt(l);else{if(o===47)break;o=47}if(o===47){if(!(i===l-1||s===1))if(i!==l-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const h=r.lastIndexOf("/");if(h!==r.length-1){h===-1?(r="",n=0):(r=r.slice(0,h),n=r.length-1-r.lastIndexOf("/")),i=l,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=l,s=0;continue}}}else r.length>0?r+=`/${t.slice(i+1,l)}`:r=t.slice(i+1,l),n=l-i-1;i=l,s=0}else o===46&&s!==-1?++s:s=-1}return r}const Ot={toPosix(t){return Vk(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){tn(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const r=/^[^/:]+:\/{0,2}/.exec(t);return r?r[0]:""},toAbsolute(t,e,r){if(tn(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const n=ul(this.toPosix(e??ae.ADAPTER.getBaseUrl())),i=ul(this.toPosix(r??this.rootname(n)));return t=this.toPosix(t),t.startsWith("/")?Ot.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(tn(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=Xk(t),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return tn(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(tn(n),n.length>0)if(e===void 0)e=n;else{const i=t[r-1]??"";this.joinExtensions.includes(this.extname(i).toLowerCase())?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(tn(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let l=t.length-1;l>=1;--l)if(e=t.charCodeAt(l),e===47){if(!i){n=l;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+t:s:r&&n===1?"//":s+t.slice(0,n)},rootname(t){tn(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){tn(t),e&&tn(e),t=ul(this.toPosix(t));let r=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,l=-1;for(s=t.length-1;s>=0;--s){const h=t.charCodeAt(s);if(h===47){if(!i){r=s+1;break}}else l===-1&&(i=!1,l=s+1),o>=0&&(h===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=l))}return r===n?n=l:n===-1&&(n=t.length),t.slice(r,n)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)},extname(t){tn(t),t=ul(this.toPosix(t));let e=-1,r=0,n=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const l=t.charCodeAt(o);if(l===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),l===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){tn(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=ul(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,l=-1,h=!0,c=t.length-1,f=0;for(;c>=i;--c){if(r=t.charCodeAt(c),r===47){if(!h){o=c+1;break}continue}l===-1&&(h=!1,l=c+1),r===46?s===-1?s=c:f!==1&&(f=1):s!==-1&&(f=-1)}return s===-1||l===-1||f===0||f===1&&s===l-1&&s===o+1?l!==-1&&(o===0&&n?e.base=e.name=t.slice(1,l):e.base=e.name=t.slice(o,l)):(o===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,l)):(e.name=t.slice(o,s),e.base=t.slice(o,l)),e.ext=t.slice(s,l)),e.dir=this.dirname(t),e},sep:"/",delimiter:":",joinExtensions:[".html"]};let am;async function $k(){return am??(am=(async()=>{var s;const t=document.createElement("canvas").getContext("webgl");if(!t)return fr.UNPACK;const e=await new Promise(o=>{const l=document.createElement("video");l.onloadeddata=()=>o(l),l.onerror=()=>o(null),l.autoplay=!1,l.crossOrigin="anonymous",l.preload="auto",l.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",l.load()});if(!e)return fr.UNPACK;const r=t.createTexture();t.bindTexture(t.TEXTURE_2D,r);const n=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,r,0),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e);const i=new Uint8Array(4);return t.readPixels(0,0,1,1,t.RGBA,t.UNSIGNED_BYTE,i),t.deleteFramebuffer(n),t.deleteTexture(r),(s=t.getExtension("WEBGL_lose_context"))==null||s.loseContext(),i[0]<=i[3]?fr.PMA:fr.UNPACK})()),am}let lm;function Yk(){return typeof lm>"u"&&(lm=function(){var e;const t={stencil:!0,failIfMajorPerformanceCaveat:ae.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!ae.ADAPTER.getWebGLRenderingContext())return!1;const r=ae.ADAPTER.createCanvas();let n=r.getContext("webgl",t)||r.getContext("experimental-webgl",t);const i=!!((e=n==null?void 0:n.getContextAttributes())!=null&&e.stencil);if(n){const s=n.getExtension("WEBGL_lose_context");s&&s.loseContext()}return n=null,i}catch{return!1}}()),lm}var Qk={grad:.9,turn:360,rad:360/(2*Math.PI)},ni=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Mt=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},Vr=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},rA=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},j_=function(t){return{r:Vr(t.r,0,255),g:Vr(t.g,0,255),b:Vr(t.b,0,255),a:Vr(t.a)}},um=function(t){return{r:Mt(t.r),g:Mt(t.g),b:Mt(t.b),a:Mt(t.a,3)}},Kk=/^#([0-9a-f]{3,8})$/i,Oh=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},nA=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=Math.max(e,r,n),o=s-Math.min(e,r,n),l=o?s===e?(r-n)/o:s===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(l<0?l+6:l),s:s?o/s*100:0,v:s/255*100,a:i}},iA=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var s=Math.floor(e),o=n*(1-r),l=n*(1-(e-s)*r),h=n*(1-(1-e+s)*r),c=s%6;return{r:255*[n,l,o,o,h,n][c],g:255*[h,n,n,l,o,o][c],b:255*[o,o,h,n,n,l][c],a:i}},H_=function(t){return{h:rA(t.h),s:Vr(t.s,0,100),l:Vr(t.l,0,100),a:Vr(t.a)}},W_=function(t){return{h:Mt(t.h),s:Mt(t.s),l:Mt(t.l),a:Mt(t.a,3)}},V_=function(t){return iA((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},Ul=function(t){return{h:(e=nA(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},qk=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Zk=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Jk=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,eM=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,$g={string:[[function(t){var e=Kk.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Mt(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Mt(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=Jk.exec(t)||eM.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:j_({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=qk.exec(t)||Zk.exec(t);if(!e)return null;var r,n,i=H_({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(Qk[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return V_(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=i===void 0?1:i;return ni(e)&&ni(r)&&ni(n)?j_({r:Number(e),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,s=i===void 0?1:i;if(!ni(e)||!ni(r)||!ni(n))return null;var o=H_({h:Number(e),s:Number(r),l:Number(n),a:Number(s)});return V_(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,s=i===void 0?1:i;if(!ni(e)||!ni(r)||!ni(n))return null;var o=function(l){return{h:rA(l.h),s:Vr(l.s,0,100),v:Vr(l.v,0,100),a:Vr(l.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(s)});return iA(o)},"hsv"]]},X_=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},tM=function(t){return typeof t=="string"?X_(t.trim(),$g.string):typeof t=="object"&&t!==null?X_(t,$g.object):[null,void 0]},hm=function(t,e){var r=Ul(t);return{h:r.h,s:Vr(r.s+100*e,0,100),l:r.l,a:r.a}},cm=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},$_=function(t,e){var r=Ul(t);return{h:r.h,s:r.s,l:Vr(r.l+100*e,0,100),a:r.a}},Yg=function(){function t(e){this.parsed=tM(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Mt(cm(this.rgba),2)},t.prototype.isDark=function(){return cm(this.rgba)<.5},t.prototype.isLight=function(){return cm(this.rgba)>=.5},t.prototype.toHex=function(){return e=um(this.rgba),r=e.r,n=e.g,i=e.b,o=(s=e.a)<1?Oh(Mt(255*s)):"","#"+Oh(r)+Oh(n)+Oh(i)+o;var e,r,n,i,s,o},t.prototype.toRgb=function(){return um(this.rgba)},t.prototype.toRgbString=function(){return e=um(this.rgba),r=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var e,r,n,i,s},t.prototype.toHsl=function(){return W_(Ul(this.rgba))},t.prototype.toHslString=function(){return e=W_(Ul(this.rgba)),r=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var e,r,n,i,s},t.prototype.toHsv=function(){return e=nA(this.rgba),{h:Mt(e.h),s:Mt(e.s),v:Mt(e.v),a:Mt(e.a,3)};var e},t.prototype.invert=function(){return kn({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),kn(hm(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),kn(hm(this.rgba,-e))},t.prototype.grayscale=function(){return kn(hm(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),kn($_(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),kn($_(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?kn({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):Mt(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=Ul(this.rgba);return typeof e=="number"?kn({h:e,s:r.s,l:r.l,a:r.a}):Mt(r.h)},t.prototype.isEqual=function(e){return this.toHex()===kn(e).toHex()},t}(),kn=function(t){return t instanceof Yg?t:new Yg(t)},Y_=[],rM=function(t){t.forEach(function(e){Y_.indexOf(e)<0&&(e(Yg,$g),Y_.push(e))})};function nM(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var l,h,c=n[this.toHex()];if(c)return c;if(o!=null&&o.closest){var f=this.toRgb(),m=1/0,p="black";if(!s.length)for(var v in r)s[v]=new t(r[v]).toRgb();for(var x in r){var w=(l=f,h=s[x],Math.pow(l.r-h.r,2)+Math.pow(l.g-h.g,2)+Math.pow(l.b-h.b,2));w<m&&(m=w,p=x)}return p}},e.string.push([function(o){var l=o.toLowerCase(),h=l==="transparent"?"#0000":r[l];return h?new t(h).toRgb():null},"name"])}rM([nM]);const Oo=class wc{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof wc)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}isSourceEqual(e,r){const n=typeof e;if(n!==typeof r)return!1;if(n==="number"||n==="string"||e instanceof Number)return e===r;if(Array.isArray(e)&&Array.isArray(r)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(r))return e.length!==r.length?!1:e.every((i,s)=>i===r[s]);if(e!==null&&r!==null){const i=Object.keys(e),s=Object.keys(r);return i.length!==s.length?!1:i.every(o=>e[o]===r[o])}return e===r}toRgba(){const[e,r,n,i]=this._components;return{r:e,g:r,b:n,a:i}}toRgb(){const[e,r,n]=this._components;return{r:e,g:r,b:n}}toRgbaString(){const[e,r,n]=this.toUint8RgbArray();return`rgba(${e},${r},${n},${this.alpha})`}toUint8RgbArray(e){const[r,n,i]=this._components;return e=e??[],e[0]=Math.round(r*255),e[1]=Math.round(n*255),e[2]=Math.round(i*255),e}toRgbArray(e){e=e??[];const[r,n,i]=this._components;return e[0]=r,e[1]=n,e[2]=i,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[r,n,i,s]=wc.temp.setValue(e)._components;return this._components[0]*=r,this._components[1]*=n,this._components[2]*=i,this._components[3]*=s,this.refreshInt(),this._value=null,this}premultiply(e,r=!0){return r&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,r=!0){if(e===1)return(255<<24)+this._int;if(e===0)return r?0:this._int;let n=this._int>>16&255,i=this._int>>8&255,s=this._int&255;return r&&(n=n*e+.5|0,i=i*e+.5|0,s=s*e+.5|0),(e*255<<24)+(n<<16)+(i<<8)+s}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[r,n,i]=this._components;return this._components[0]=Math.round(r*e)/e,this._components[1]=Math.round(n*e)/e,this._components[2]=Math.round(i*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];const[r,n,i,s]=this._components;return e[0]=r,e[1]=n,e[2]=i,e[3]=s,e}normalize(e){let r,n,i,s;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const o=e;r=(o>>16&255)/255,n=(o>>8&255)/255,i=(o&255)/255,s=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[r,n,i,s=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[r,n,i,s=255]=e,r/=255,n/=255,i/=255,s/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const l=wc.HEX_PATTERN.exec(e);l&&(e=`#${l[2]}`)}const o=kn(e);o.isValid()&&({r,g:n,b:i,a:s}=o.rgba,r/=255,n/=255,i/=255)}if(r!==void 0)this._components[0]=r,this._components[1]=n,this._components[2]=i,this._components[3]=s,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);const[e,r,n]=this._components;this._int=(e*255<<16)+(r*255<<8)+(n*255|0)}_clamp(e,r=0,n=1){return typeof e=="number"?Math.min(Math.max(e,r),n):(e.forEach((i,s)=>{e[s]=Math.min(Math.max(i,r),n)}),e)}};Oo.shared=new Oo,Oo.temp=new Oo,Oo.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let He=Oo;function Hd(t,e=[]){return Ae("7.2.0","utils.hex2rgb is deprecated, use Color#toRgbArray instead"),He.shared.setValue(t).toRgbArray(e)}function iM(t){return Ae("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),He.shared.setValue(t).toHex()}function Wd(t){return Ae("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),He.shared.setValue(t).toNumber()}function sM(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[ve.NORMAL_NPM]=ve.NORMAL,t[ve.ADD_NPM]=ve.ADD,t[ve.SCREEN_NPM]=ve.SCREEN,e[ve.NORMAL]=ve.NORMAL_NPM,e[ve.ADD]=ve.ADD_NPM,e[ve.SCREEN]=ve.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const sA=sM();function oA(t,e){return sA[e?1:0][t]}function oM(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function aA(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function od(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function Q_(t){return!(t&t-1)&&!!t}function K_(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function ca(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}function Ki(t){return t===0?0:t<0?-1:1}let aM=0;function no(){return++aM}const Qg=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};Qg.EMPTY=new Qg(0,0,0,0);let q_=Qg;const Z_={},Mn=Object.create(null),Oi=Object.create(null);class lM{constructor(e,r,n){this._canvas=ae.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||ae.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function J_(t,e,r){for(let n=0,i=4*r*e;n<e;++n,i+=4)if(t[i+3]!==0)return!1;return!0}function eb(t,e,r,n,i){const s=4*e;for(let o=n,l=n*s+4*r;o<=i;++o,l+=s)if(t[l+3]!==0)return!1;return!0}function uM(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const i=n.getImageData(0,0,e,r).data;let s=0,o=0,l=e-1,h=r-1;for(;o<r&&J_(i,e,o);)++o;if(o===r)return q_.EMPTY;for(;J_(i,e,h);)--h;for(;eb(i,e,s,o,h);)++s;for(;eb(i,e,l,o,h);)--l;return++l,++h,new q_(s,o,l,h)}function hM(t){const e=uM(t),{width:r,height:n}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:i}}function cM(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location;const r=new URL(t,document.baseURI);return r.hostname!==e.hostname||r.port!==e.port||r.protocol!==e.protocol?"anonymous":""}function xi(t,e=1){var n;const r=(n=ae.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}var oe=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(oe||{});const Kg=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},tb=(t,e)=>Kg(t).priority??e,fe={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(Kg).forEach(e=>{e.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,e)})}),this},add(...t){return t.map(Kg).forEach(e=>{e.type.forEach(r=>{var s,o;const n=this._addHandlers,i=this._queue;n[r]?(s=n[r])==null||s.call(n,e):(i[r]=i[r]||[],(o=i[r])==null||o.push(e))})}),this},handle(t,e,r){var o;const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const s=this._queue;return s[t]&&((o=s[t])==null||o.forEach(l=>e(l)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{r.name&&(e[r.name]=r.ref)},r=>{r.name&&delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>tb(s,r)-tb(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}};class qg{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const dM=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function fM(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function pM(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=dM.replace(/%forloop%/gi,fM(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const dm=0,fm=1,pm=2,mm=3,gm=4,ym=5;class Kn{constructor(){this.data=0,this.blendMode=ve.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<dm)}set blend(e){!!(this.data&1<<dm)!==e&&(this.data^=1<<dm)}get offsets(){return!!(this.data&1<<fm)}set offsets(e){!!(this.data&1<<fm)!==e&&(this.data^=1<<fm)}get culling(){return!!(this.data&1<<pm)}set culling(e){!!(this.data&1<<pm)!==e&&(this.data^=1<<pm)}get depthTest(){return!!(this.data&1<<mm)}set depthTest(e){!!(this.data&1<<mm)!==e&&(this.data^=1<<mm)}get depthMask(){return!!(this.data&1<<ym)}set depthMask(e){!!(this.data&1<<ym)!==e&&(this.data^=1<<ym)}get clockwiseFrontFace(){return!!(this.data&1<<gm)}set clockwiseFrontFace(e){!!(this.data&1<<gm)!==e&&(this.data^=1<<gm)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==ve.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new Kn;return e.depthTest=!1,e.blend=!0,e}}Kn.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const Zg=[];function lA(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=Zg.length-1;n>=0;--n){const i=Zg[n];if(i.test&&i.test(t,r))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class mn{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,i,s,o,l,h){if(arguments.length>8)throw new Error("max arguments reached");const{name:c,items:f}=this;this._aliasCount++;for(let m=0,p=f.length;m<p;m++)f[m][c](e,r,n,i,s,o,l,h);return f===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(mn.prototype,{dispatch:{value:mn.prototype.emit},run:{value:mn.prototype.emit}});class lu{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new mn("setRealSize"),this.onUpdate=new mn("update"),this.onError=new mn("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class Vd extends lu{constructor(e,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e,this.unpackAlignment=r.unpackAlignment??4}upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_ALIGNMENT,this.unpackAlignment),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===fr.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const mM={scaleMode:Gn.NEAREST,alphaMode:fr.NPM},Jg=class No extends vu{constructor(e=null,r=null){super(),r=Object.assign({},No.defaultOptions,r);const{alphaMode:n,mipmap:i,anisotropicLevel:s,scaleMode:o,width:l,height:h,wrapMode:c,format:f,type:m,target:p,resolution:v,resourceOptions:x}=r;e&&!(e instanceof lu)&&(e=lA(e,x),e.internal=!0),this.resolution=v||ae.RESOLUTION,this.width=Math.round((l||0)*this.resolution)/this.resolution,this.height=Math.round((h||0)*this.resolution)/this.resolution,this._mipmap=i,this.anisotropicLevel=s,this._wrapMode=c,this._scaleMode=o,this.format=f,this.type=m,this.target=p,this.alphaMode=n,this.uid=no(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=l>0&&h>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,r){let n;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,n=!0),r!==void 0&&r!==this.mipmap&&(this.mipmap=r,n=!0),n&&this.dirtyStyleId++,this}setSize(e,r,n){return n=n||this.resolution,this.setRealSize(e*n,r*n,n)}setRealSize(e,r,n){return this.resolution=n||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(r)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=Q_(this.realWidth)&&Q_(this.realHeight)}setResolution(e){const r=this.resolution;return r===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*r)/e,this.height=Math.round(this.height*r)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Oi[this.cacheId],delete Mn[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),No.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,r,n=ae.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else{if(!e._pixiId){const l=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${l}_${no()}`}s=e._pixiId}let o=Oi[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in BaseTextureCache.`);return o||(o=new No(e,r),o.cacheId=s,No.addToCache(o,s)),o}static fromBuffer(e,r,n,i){e=e||new Float32Array(r*n*4);const s=new Vd(e,{width:r,height:n,...i==null?void 0:i.resourceOptions});let o,l;return e instanceof Float32Array?(o=J.RGBA,l=ge.FLOAT):e instanceof Int32Array?(o=J.RGBA_INTEGER,l=ge.INT):e instanceof Uint32Array?(o=J.RGBA_INTEGER,l=ge.UNSIGNED_INT):e instanceof Int16Array?(o=J.RGBA_INTEGER,l=ge.SHORT):e instanceof Uint16Array?(o=J.RGBA_INTEGER,l=ge.UNSIGNED_SHORT):e instanceof Int8Array?(o=J.RGBA,l=ge.BYTE):(o=J.RGBA,l=ge.UNSIGNED_BYTE),s.internal=!0,new No(s,Object.assign({},mM,{type:l,format:o},i))}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),Oi[r]&&Oi[r]!==e&&console.warn(`BaseTexture added to the cache with an id [${r}] that already had an entry`),Oi[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=Oi[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete Oi[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)delete Oi[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}};Jg.defaultOptions={mipmap:$n.POW2,anisotropicLevel:0,scaleMode:Gn.LINEAR,wrapMode:fi.CLAMP,alphaMode:fr.UNPACK,target:la.TEXTURE_2D,format:J.RGBA,type:ge.UNSIGNED_BYTE},Jg._globalBatch=0;let we=Jg;class e0{constructor(){this.texArray=null,this.blend=0,this.type=hn.TRIANGLES,this.start=0,this.size=0,this.data=null}}let gM=0;class mt{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=gM++,this.disposeRunner=new mn("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?Vn.ELEMENT_ARRAY_BUFFER:Vn.ARRAY_BUFFER}get index(){return this.type===Vn.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new mt(e)}}class ad{constructor(e,r=0,n=!1,i=ge.FLOAT,s,o,l,h=1){this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=l,this.divisor=h}destroy(){this.buffer=null}static from(e,r,n,i,s){return new ad(e,r,n,i,s)}}const yM={Float32Array,Uint32Array,Int32Array,Uint8Array};function vM(t,e){let r=0,n=0;const i={};for(let h=0;h<t.length;h++)n+=e[h],r+=t[h].length;const s=new ArrayBuffer(r*4);let o=null,l=0;for(let h=0;h<t.length;h++){const c=e[h],f=t[h],m=aA(f);i[m]||(i[m]=new yM[m](s)),o=i[m];for(let p=0;p<f.length;p++){const v=(p/c|0)*n+l,x=p%c;o[v+x]=f[p]}l+=c}return new Float32Array(s)}const rb={5126:4,5123:2,5121:1};let xM=0;const _M={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class us{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=xM++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new mn("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,i=!1,s,o,l,h=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof mt||(r instanceof Array&&(r=new Float32Array(r)),r=new mt(r));const c=e.split("|");if(c.length>1){for(let m=0;m<c.length;m++)this.addAttribute(c[m],r,n,i,s);return this}let f=this.buffers.indexOf(r);return f===-1&&(this.buffers.push(r),f=this.buffers.length-1),this.attributes[e]=new ad(f,n,i,s,o,l,h),this.instanced=this.instanced||h,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof mt||(e instanceof Array&&(e=new Uint16Array(e)),e=new mt(e)),e.type=Vn.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new mt;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*rb[s.type]/4),s.buffer=0}for(n.data=vM(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new us;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new mt(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new ad(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Vn.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new us,n=[],i=[],s=[];let o;for(let l=0;l<e.length;l++){o=e[l];for(let h=0;h<o.buffers.length;h++)i[h]=i[h]||0,i[h]+=o.buffers[h].data.length,s[h]=0}for(let l=0;l<o.buffers.length;l++)n[l]=new _M[aA(o.buffers[l].data)](i[l]),r.buffers[l]=new mt(n[l]);for(let l=0;l<e.length;l++){o=e[l];for(let h=0;h<o.buffers.length;h++)n[h].set(o.buffers[h].data,s[h]),s[h]+=o.buffers[h].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=Vn.ELEMENT_ARRAY_BUFFER;let l=0,h=0,c=0,f=0;for(let m=0;m<o.buffers.length;m++)if(o.buffers[m]!==o.indexBuffer){f=m;break}for(const m in o.attributes){const p=o.attributes[m];(p.buffer|0)===f&&(h+=p.size*rb[p.type]/4)}for(let m=0;m<e.length;m++){const p=e[m].indexBuffer.data;for(let v=0;v<p.length;v++)r.indexBuffer.data[v+c]+=l;l+=e[m].buffers[f].data.length/h,c+=p.length}}return r}}class uA extends us{constructor(e=!1){super(),this._buffer=new mt(null,e,!1),this._indexBuffer=new mt(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,ge.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,ge.FLOAT).addAttribute("aColor",this._buffer,4,!0,ge.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,ge.FLOAT).addIndex(this._indexBuffer)}}const ld=Math.PI*2,bM=180/Math.PI,uu=Math.PI/180;var Gt=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(Gt||{});class Se{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new Se(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}}Se.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const Nh=[new Se,new Se,new Se,new Se];class Ee{constructor(e=0,r=0,n=0,i=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=Gt.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Ee(0,0,0,0)}clone(){return new Ee(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const k=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=k)return!1;const $=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>$}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const l=Nh[0].set(e.left,e.top),h=Nh[1].set(e.left,e.bottom),c=Nh[2].set(e.right,e.top),f=Nh[3].set(e.right,e.bottom);if(c.x<=l.x||h.y<=l.y)return!1;const m=Math.sign(r.a*r.d-r.b*r.c);if(m===0||(r.apply(l,l),r.apply(h,h),r.apply(c,c),r.apply(f,f),Math.max(l.x,h.x,c.x,f.x)<=n||Math.min(l.x,h.x,c.x,f.x)>=i||Math.max(l.y,h.y,c.y,f.y)<=s||Math.min(l.y,h.y,c.y,f.y)>=o))return!1;const p=m*(h.y-l.y),v=m*(l.x-h.x),x=p*n+v*s,w=p*i+v*s,A=p*n+v*o,S=p*i+v*o;if(Math.max(x,w,A,S)<=p*l.x+v*l.y||Math.min(x,w,A,S)>=p*f.x+v*f.y)return!1;const E=m*(l.y-c.y),b=m*(c.x-l.x),T=E*n+b*s,R=E*i+b*s,B=E*n+b*o,M=E*i+b*o;return!(Math.max(T,R,B,M)<=E*l.x+b*l.y||Math.min(T,R,B,M)>=E*f.x+b*f.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}}Ee.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Xd{constructor(e=0,r=0,n=0){this.x=e,this.y=r,this.radius=n,this.type=Gt.CIRC}clone(){return new Xd(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n}getBounds(){return new Ee(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}}Xd.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};class $d{constructor(e=0,r=0,n=0,i=0){this.x=e,this.y=r,this.width=n,this.height=i,this.type=Gt.ELIP}clone(){return new $d(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new Ee(this.x-this.width,this.y-this.height,this.width,this.height)}}$d.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Qs{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.type=Gt.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new Qs(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let n=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const l=this.points[s*2],h=this.points[s*2+1],c=this.points[o*2],f=this.points[o*2+1];h>r!=f>r&&e<(c-l)*((r-h)/(f-h))+l&&(n=!n)}return n}}Qs.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((t,e)=>`${t}, ${e}`,"")}]`};class Yd{constructor(e=0,r=0,n=0,i=0,s=20){this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=Gt.RREC}clone(){return new Yd(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),s=r-(this.y+n);const o=n*n;if(i*i+s*s<=o||(i=e-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=e-(this.x+n),i*i+s*s<=o))return!0}return!1}}Yd.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};class Ke{constructor(e=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new Se;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new Se;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}setTransform(e,r,n,i,s,o,l,h,c){return this.a=Math.cos(l+c)*s,this.b=Math.sin(l+c)*s,this.c=-Math.sin(l-h)*o,this.d=Math.cos(l-h)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,l=-Math.atan2(-i,s),h=Math.atan2(n,r),c=Math.abs(l+h);return c<1e-5||Math.abs(ld-c)<1e-5?(e.rotation=h,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=l,e.skew.y=h),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Ke;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new Ke}static get TEMP_MATRIX(){return new Ke}}Ke.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const Fs=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Os=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Ns=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Bs=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],t0=[],hA=[],Bh=Math.sign;function wM(){for(let t=0;t<16;t++){const e=[];t0.push(e);for(let r=0;r<16;r++){const n=Bh(Fs[t]*Fs[r]+Ns[t]*Os[r]),i=Bh(Os[t]*Fs[r]+Bs[t]*Os[r]),s=Bh(Fs[t]*Ns[r]+Ns[t]*Bs[r]),o=Bh(Os[t]*Ns[r]+Bs[t]*Bs[r]);for(let l=0;l<16;l++)if(Fs[l]===n&&Os[l]===i&&Ns[l]===s&&Bs[l]===o){e.push(l);break}}}for(let t=0;t<16;t++){const e=new Ke;e.set(Fs[t],Os[t],Ns[t],Bs[t],0,0),hA.push(e)}}wM();const nt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Fs[t],uY:t=>Os[t],vX:t=>Ns[t],vY:t=>Bs[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>t0[t][e],sub:(t,e)=>t0[t][nt.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?nt.S:nt.N:Math.abs(e)*2<=Math.abs(t)?t>0?nt.E:nt.W:e>0?t>0?nt.SE:nt.SW:t>0?nt.NE:nt.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=hA[nt.inv(e)];i.tx=r,i.ty=n,t.append(i)}};class cn{constructor(e,r,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new cn(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}cn.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const r0=class{constructor(){this.worldTransform=new Ke,this.localTransform=new Ke,this.position=new cn(this.onChange,this,0,0),this.scale=new cn(this.onChange,this,1,1),this.pivot=new cn(this.onChange,this,0,0),this.skew=new cn(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};r0.IDENTITY=new r0;let Qd=r0;Qd.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var SM=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,EM=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function nb(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function vm(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function cA(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return vm(2*e);case"bvec3":return vm(3*e);case"bvec4":return vm(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const da=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],AM={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},TM={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function CM(t,e){var n;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){((n=t.uniforms[i])==null?void 0:n.group)===!0&&(t.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let l=!1;for(let h=0;h<da.length;h++)if(da[h].test(s,o)){r.push(da[h].code(i,o)),l=!0;break}if(!l){const h=(s.size===1&&!s.isArray?AM:TM)[s.type].replace("location",`ud["${i}"].location`);r.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${h};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const dA={};let Ro=dA;function PM(){if(Ro===dA||Ro!=null&&Ro.isContextLost()){const t=ae.ADAPTER.createCanvas();let e;ae.PREFER_ENV>=oo.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Ro=e}return Ro}let Lh;function IM(){if(!Lh){Lh=Wr.MEDIUM;const t=PM();if(t&&t.getShaderPrecisionFormat){const e=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);e&&(Lh=e.precision?Wr.HIGH:Wr.MEDIUM)}}return Lh}function ib(t,e){const r=t.getShaderSource(e).split(`
`).map((c,f)=>`${f}: ${c}`),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(c=>parseFloat(c.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(c=>c&&!s[c]?(s[c]=!0,!0):!1),l=[""];o.forEach(c=>{r[c-1]=`%c${r[c-1]}%c`,l.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const h=r.join(`
`);l[0]=h,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...l),console.groupEnd()}function RM(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||ib(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||ib(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const kM={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function fA(t){return kM[t]}let Uh=null;const sb={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function pA(t,e){if(!Uh){const r=Object.keys(sb);Uh={};for(let n=0;n<r.length;++n){const i=r[n];Uh[t[i]]=sb[i]}}return Uh[e]}function ob(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===Wr.HIGH&&r!==Wr.HIGH&&(n=Wr.MEDIUM),`precision ${n} float;
${t}`}else if(r!==Wr.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let hl;function MM(){if(typeof hl=="boolean")return hl;try{hl=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{hl=!1}return hl}let DM=0;const zh={},n0=class Bo{constructor(e,r,n="pixi-shader",i={}){this.extra={},this.id=DM++,this.vertexSrc=e||Bo.defaultVertexSrc,this.fragmentSrc=r||Bo.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=i,this.vertexSrc.substring(0,8)!=="#version"&&(n=n.replace(/\s+/g,"-"),zh[n]?(zh[n]++,n+=`-${zh[n]}`):zh[n]=1,this.vertexSrc=`#define SHADER_NAME ${n}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${n}
${this.fragmentSrc}`,this.vertexSrc=ob(this.vertexSrc,Bo.defaultVertexPrecision,Wr.HIGH),this.fragmentSrc=ob(this.fragmentSrc,Bo.defaultFragmentPrecision,IM())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return EM}static get defaultFragmentSrc(){return SM}static from(e,r,n){const i=e+r;let s=Z_[i];return s||(Z_[i]=s=new Bo(e,r,n)),s}};n0.defaultVertexPrecision=Wr.HIGH,n0.defaultFragmentPrecision=hi.apple.device?Wr.HIGH:Wr.MEDIUM;let ci=n0,FM=0;class gn{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=FM++,this.static=!!r,this.ubo=!!n,e instanceof mt?(this.buffer=e,this.buffer.type=Vn.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new mt(new Float32Array(1)),this.buffer.type=Vn.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new gn(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new gn(e,r,n)}static uboFrom(e,r){return new gn(e,r??!0,!0)}}class Xn{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof gn?this.uniformGroup=r:this.uniformGroup=new gn(r):this.uniformGroup=new gn({}),this.disposeRunner=new mn("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group===!0&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const i=ci.from(e,r);return new Xn(i,n)}}class OM{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let s=0;s<e;s++)n[s]=s;this.defaultGroupCache[e]=gn.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new ci(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ke,default:this.defaultGroupCache[e]};return new Xn(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class i0{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function NM(){return!hi.apple.device}function BM(t){let e=!0;const r=ae.ADAPTER.getNavigator();if(hi.tablet||hi.phone){if(hi.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(hi.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?t:4}class Kd{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var LM=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,UM=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const vl=class nn extends Kd{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=uA,this.vertexSize=6,this.state=Kn.for2d(),this.size=nn.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??BM(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??NM(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return Ae("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return UM}static get defaultFragmentTemplate(){return LM}setShaderGenerator({vertex:e=nn.defaultVertexSrc,fragment:r=nn.defaultFragmentTemplate}={}){this.shaderGenerator=new OM(e,r)}contextChange(){const e=this.renderer.gl;ae.PREFER_ENV===oo.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),nn.defaultMaxTextures),this.maxTextures=pM(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:e,_textureArrayPool:r}=nn,n=this.size/4,i=Math.floor(n/this.maxTextures)+1;for(;e.length<n;)e.push(new e0);for(;r.length<i;)r.push(new i0);for(let s=0;s<this.maxTextures;s++)this._tempBoundTextures[s]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:e,maxTextures:r}=this,n=nn._textureArrayPool,i=this.renderer.batch,s=this._tempBoundTextures,o=this.renderer.textureGC.count;let l=++we._globalBatch,h=0,c=n[0],f=0;i.copyBoundTextures(s,r);for(let m=0;m<this._bufferSize;++m){const p=e[m];e[m]=null,p._batchEnabled!==l&&(c.count>=r&&(i.boundArray(c,s,l,r),this.buildDrawCalls(c,f,m),f=m,c=n[++h],++l),p._batchEnabled=l,p.touched=o,c.elements[c.count++]=p)}c.count>0&&(i.boundArray(c,s,l,r),this.buildDrawCalls(c,f,this._bufferSize),++h,++l);for(let m=0;m<s.length;m++)s[m]=null;we._globalBatch=l}buildDrawCalls(e,r,n){const{_bufferedElements:i,_attributeBuffer:s,_indexBuffer:o,vertexSize:l}=this,h=nn._drawCallPool;let c=this._dcIndex,f=this._aIndex,m=this._iIndex,p=h[c];p.start=this._iIndex,p.texArray=e;for(let v=r;v<n;++v){const x=i[v],w=x._texture.baseTexture,A=sA[w.alphaMode?1:0][x.blendMode];i[v]=null,r<v&&p.blend!==A&&(p.size=m-p.start,r=v,p=h[++c],p.texArray=e,p.start=m),this.packInterleavedGeometry(x,s,o,f,m),f+=x.vertexData.length/2*l,m+=x.indices.length,p.blend=A}r<n&&(p.size=m-p.start,++c),this._dcIndex=c,this._aIndex=f,this._iIndex=m}bindAndClearTexArray(e){const r=this.renderer.texture;for(let n=0;n<e.count;n++)r.bind(e.elements[n],e.ids[n]),e.elements[n]=null;e.count=0}updateGeometry(){const{_packedGeometries:e,_attributeBuffer:r,_indexBuffer:n}=this;nn.canUploadSameBuffer?(e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(r.rawBinaryData),e[this._flushId]._indexBuffer.update(n),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const e=this._dcIndex,{gl:r,state:n}=this.renderer,i=nn._drawCallPool;let s=null;for(let o=0;o<e;o++){const{texArray:l,type:h,size:c,start:f,blend:m}=i[o];s!==l&&(s=l,this.bindAndClearTexArray(l)),this.state.blendMode=m,n.set(this.state),r.drawElements(h,c,r.UNSIGNED_SHORT,f*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),nn.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const r=od(Math.ceil(e/8)),n=K_(r),i=r*8;this._aBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._aBuffers[i];return s||(this._aBuffers[i]=s=new qg(i*this.vertexSize*4)),s}getIndexBuffer(e){const r=od(Math.ceil(e/12)),n=K_(r),i=r*12;this._iBuffers.length<=n&&(this._iBuffers.length=n+1);let s=this._iBuffers[n];return s||(this._iBuffers[n]=s=new Uint16Array(i)),s}packInterleavedGeometry(e,r,n,i,s){const{uint32View:o,float32View:l}=r,h=i/this.vertexSize,c=e.uvs,f=e.indices,m=e.vertexData,p=e._texture.baseTexture._batchLocation,v=Math.min(e.worldAlpha,1),x=He.shared.setValue(e._tintRGB).toPremultiplied(v,e._texture.baseTexture.alphaMode>0);for(let w=0;w<m.length;w+=2)l[i++]=m[w],l[i++]=m[w+1],l[i++]=c[w],l[i++]=c[w+1],o[i++]=x,l[i++]=p;for(let w=0;w<f.length;w++)n[s++]=h+f[w]}};vl.defaultBatchSize=4096,vl.extension={name:"batch",type:oe.RendererPlugin},vl._drawCallPool=[],vl._textureArrayPool=[];let Ls=vl;fe.add(Ls);var zM=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,GM=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const s0=class xl extends Xn{constructor(e,r,n){const i=ci.from(e||xl.defaultVertexSrc,r||xl.defaultFragmentSrc);super(i,n),this.padding=0,this.resolution=xl.defaultResolution,this.multisample=xl.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Kn}apply(e,r,n,i,s){e.applyFilter(this,r,n,i)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return GM}static get defaultFragmentSrc(){return zM}};s0.defaultResolution=1,s0.defaultMultisample=vt.NONE;let De=s0;class ud{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new He(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:i}=e,s=n??r;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}ud.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},ud.extension={type:[oe.RendererSystem,oe.CanvasRendererSystem],name:"background"};fe.add(ud);class mA{constructor(e){this.renderer=e,this.emptyRenderer=new Kd(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,r,n,i){const{elements:s,ids:o,count:l}=e;let h=0;for(let c=0;c<l;c++){const f=s[c],m=f._batchLocation;if(m>=0&&m<i&&r[m]===f){o[c]=m;continue}for(;h<i;){const p=r[h];if(p&&p._batchEnabled===n&&p._batchLocation===h){h++;continue}o[c]=h,f._batchLocation=h,r[h]=f;break}}}destroy(){this.renderer=null}}mA.extension={type:oe.RendererSystem,name:"batch"};fe.add(mA);let ab=0;class hd{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=ab++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=ab++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(ae.PREFER_ENV>=oo.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}hd.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},hd.extension={type:oe.RendererSystem,name:"context"};fe.add(hd);class o0{constructor(e,r){if(this.width=Math.round(e),this.height=Math.round(r),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new mn("disposeFramebuffer"),this.multisample=vt.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new we(null,{scaleMode:Gn.NEAREST,resolution:1,mipmap:$n.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new we(null,{scaleMode:Gn.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:$n.OFF,format:J.DEPTH_COMPONENT,type:ge.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!e||!r)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class gA extends we{constructor(e={}){if(typeof e=="number"){const r=arguments[0],n=arguments[1],i=arguments[2],s=arguments[3];e={width:r,height:n,scaleMode:i,resolution:s}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=vt.NONE),super(null,e),this.mipmap=$n.OFF,this.valid=!0,this._clear=new He([0,0,0,0]),this.framebuffer=new o0(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class _i extends lu{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.displayWidth||r.width,i=r.naturalHeight||r.videoHeight||r.displayHeight||r.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=cM(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,i){const s=e.gl,o=r.realWidth,l=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===fr.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&n.width===o&&n.height===l?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=o,n.height=l,s.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class yA extends _i{constructor(e,r){if(r=r||{},typeof e=="string"){const n=new Image;_i.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??ae.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.update(),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{n(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===fr.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=r._glTextures;for(const o in s){const l=s[o];if(l!==n&&l.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class Wy{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const i=r.width,s=r.height;if(n){const o=e.width/2/i,l=e.height/2/s,h=e.x/i+o,c=e.y/s+l;n=nt.add(n,nt.NW),this.x0=h+o*nt.uX(n),this.y0=c+l*nt.uY(n),n=nt.add(n,2),this.x1=h+o*nt.uX(n),this.y1=c+l*nt.uY(n),n=nt.add(n,2),this.x2=h+o*nt.uX(n),this.y2=c+l*nt.uY(n),n=nt.add(n,2),this.x3=h+o*nt.uX(n),this.y3=c+l*nt.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}Wy.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const lb=new Wy;function Gh(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class ne extends vu{constructor(e,r,n,i,s,o,l){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new Ee(0,0,1,1)),e instanceof ne&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=i,this.valid=!1,this.destroyed=!1,this._uvs=lb,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new Se(o.x,o.y):new Se(0,0),this.defaultBorders=l,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&Mn[r.url]&&ne.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,ne.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var i;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new ne(this.baseTexture,!this.noFrame&&e,r,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===lb&&(this._uvs=new Wy),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=ae.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof we){if(!e.cacheId){const l=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${l}-${no()}`,we.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const l=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${l}_${no()}`}s=e._pixiId}let o=Mn[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof we)?(r.resolution||(r.resolution=xi(e)),o=new ne(new we(e,r)),o.baseTexture.cacheId=s,we.addToCache(o.baseTexture,s),ne.addToCache(o,s)):!o&&e instanceof we&&(o=new ne(e),ne.addToCache(o,s)),o}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),i=ne.from(e,Object.assign({resourceOptions:n},r),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,r,n,i){return new ne(we.fromBuffer(e,r,n,i))}static fromLoader(e,r,n,i){const s=new we(e,Object.assign({scaleMode:we.defaultOptions.scaleMode,resolution:xi(r)},i)),{resource:o}=s;o instanceof yA&&(o.url=r);const l=new ne(s);return n||(n=r),we.addToCache(l.baseTexture,n),ne.addToCache(l,n),n!==r&&(we.addToCache(l.baseTexture,r),ne.addToCache(l,r)),l.baseTexture.valid?Promise.resolve(l):new Promise(h=>{l.baseTexture.once("loaded",()=>h(l))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),Mn[r]&&Mn[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),Mn[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=Mn[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete Mn[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)Mn[e.textureCacheIds[r]]===e&&delete Mn[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:i,height:s}=e,o=r+i>this.baseTexture.width,l=n+s>this.baseTexture.height;if(o||l){const h=o&&l?"and":"or",c=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,f=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${c} ${h} ${f}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return ne._EMPTY||(ne._EMPTY=new ne(new we),Gh(ne._EMPTY),Gh(ne._EMPTY.baseTexture)),ne._EMPTY}static get WHITE(){if(!ne._WHITE){const e=ae.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),ne._WHITE=new ne(we.from(e)),Gh(ne._WHITE),Gh(ne._WHITE.baseTexture)}return ne._WHITE}}class ao extends ne{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(r*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new ao(new gA(e))}}class vA{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=vt.NONE){const i=new gA(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new ao(i)}getOptimalTexture(e,r,n=1,i=vt.NONE){let s;e=Math.max(Math.ceil(e*n-1e-6),1),r=Math.max(Math.ceil(r*n-1e-6),1),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=od(e),r=od(r),s=((e&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=s,o.setResolution(n),o}getFilterTexture(e,r,n){const i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||vt.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}vA.SCREEN_KEY=-1;class jM extends us{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class xA extends us{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new mt(this.vertices),this.uvBuffer=new mt(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/e.width,this.uvs[3]=i,this.uvs[4]=n+r.width/e.width,this.uvs[5]=i+r.height/e.height,this.uvs[6]=n,this.uvs[7]=i+r.height/e.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class HM{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=vt.NONE,this.sourceFrame=new Ee,this.destinationFrame=new Ee,this.bindingSourceFrame=new Ee,this.bindingDestinationFrame=new Ee,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const jh=[new Se,new Se,new Se,new Se],xm=new Ke;class _A{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new vA,this.statePool=[],this.quad=new jM,this.quadUv=new xA,this.tempRect=new Ee,this.activeState={},this.globalUniforms=new gn({outputFrame:new Ee,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new HM,o=n.renderTexture;let l,h;if(o.current){const A=o.current;l=A.resolution,h=A.multisample}else l=n.resolution,h=n.multisample;let c=r[0].resolution||l,f=r[0].multisample??h,m=r[0].padding,p=r[0].autoFit,v=r[0].legacy??!0;for(let A=1;A<r.length;A++){const S=r[A];c=Math.min(c,S.resolution||l),f=Math.min(f,S.multisample??h),m=this.useMaxPadding?Math.max(m,S.padding):m+S.padding,p=p&&S.autoFit,v=v||(S.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=c,s.multisample=f,s.legacy=v,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(m);const x=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(xm.copyFrom(n.projection.transform).invert(),x),p?(s.sourceFrame.fit(x),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(x)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,c,f),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const w=this.tempRect;w.x=0,w.y=0,w.width=s.sourceFrame.width,w.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,w),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const s=i.inputSize,o=i.inputPixel,l=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],l[0]=.5*o[2],l[1]=.5*o[3],l[2]=r.sourceFrame.width*s[2]-.5*o[2],l[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const c=i.filterArea;c[0]=r.destinationFrame.width,c[1]=r.destinationFrame.height,c[2]=r.sourceFrame.x,c[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const h=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,h.renderTexture,Ln.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let c=r.renderTexture,f=this.getOptimalFilterTexture(c.width,c.height,r.resolution);f.filterFrame=c.filterFrame;let m=0;for(m=0;m<n.length-1;++m){m===1&&r.multisample>1&&(f=this.getOptimalFilterTexture(c.width,c.height,r.resolution),f.filterFrame=c.filterFrame),n[m].apply(this,c,f,Ln.CLEAR,r);const p=c;c=f,f=p}n[m].apply(this,c,h.renderTexture,Ln.BLEND,r),m>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(c),this.returnFilterTexture(f)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=Ln.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,n.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(r===Ln.CLEAR||r===Ln.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(hn.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(hn.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=r._texture,o=e.set(i.width,0,0,i.height,n.x,n.y),l=r.worldTransform.copyTo(Ke.TEMP_MATRIX);return l.invert(),o.prepend(l),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,i=vt.NONE){return this.texturePool.getOptimalTexture(e,r,n,i)}getFilterTexture(e,r,n){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||vt.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=jh[0],i=jh[1],s=jh[2],o=jh[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(o,o);const l=Math.min(n.x,i.x,s.x,o.x),h=Math.min(n.y,i.y,s.y,o.y),c=Math.max(n.x,i.x,s.x,o.x),f=Math.max(n.y,i.y,s.y,o.y);r.x=l,r.y=h,r.width=c-l,r.height=f-h}roundFrame(e,r,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){const{a:o,b:l,c:h,d:c}=s;if((Math.abs(l)>1e-4||Math.abs(h)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(c)>1e-4))return}s=s?xm.copyFrom(s):xm.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}_A.extension={type:oe.RendererSystem,name:"filter"};fe.add(_A);class WM{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=vt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const VM=new Ee;class bA{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new o0(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Ee,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;ae.PREFER_ENV===oo.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const l=e.colorTextures[o];this.renderer.texture.unbind(l.parentTextureArray||l)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const o=r.width>>n,l=r.height>>n,h=o/r.width;this.setViewport(r.x*h,r.y*h,o,l)}else{const o=e.width>>n,l=e.height>>n;this.setViewport(0,0,o,l)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,i){const s=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=n,s.height=i,this.gl.viewport(e,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,i,s=Dg.COLOR|Dg.DEPTH){const{gl:o}=this;o.clearColor(e,r,n,i),o.clear(s)}initFramebuffer(e){const{gl:r}=this,n=new WM(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];if(n.stencil){r.bindRenderbuffer(r.RENDERBUFFER,n.stencil);let o;this.renderer.context.webGLVersion===1?o=r.DEPTH_STENCIL:e.depth&&e.stencil?o=r.DEPTH24_STENCIL8:e.depth?o=r.DEPTH_COMPONENT24:o=r.STENCIL_INDEX8,n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,o,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,o,e.width,e.height)}const i=e.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const l=i[o],h=l.parentTextureArray||l;this.renderer.texture.bind(h,0),o===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,h._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const l=[];for(let h=0;h<o;h++){const c=s[h],f=c.parentTextureArray||c;this.renderer.texture.bind(f,0),h===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,f._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+h,c.target,f._glTextures[this.CONTEXT_UID].texture,r),l.push(n.COLOR_ATTACHMENT0+h))}if(l.length>1&&n.drawBuffers(l),e.depthTexture&&this.writeDepthTexture){const h=e.depthTexture;this.renderer.texture.bind(h,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,h._glTextures[this.CONTEXT_UID].texture,r)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){i.stencil=i.stencil||n.createRenderbuffer();let h,c;this.renderer.context.webGLVersion===1?(h=n.DEPTH_STENCIL_ATTACHMENT,c=n.DEPTH_STENCIL):e.depth&&e.stencil?(h=n.DEPTH_STENCIL_ATTACHMENT,c=n.DEPTH24_STENCIL8):e.depth?(h=n.DEPTH_ATTACHMENT,c=n.DEPTH_COMPONENT24):(h=n.STENCIL_ATTACHMENT,c=n.STENCIL_INDEX8),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,c,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,c,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,h,n.RENDERBUFFER,i.stencil)}else i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=vt.NONE;if(e<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=vt.NONE),n}blit(e,r,n){const{current:i,renderer:s,gl:o,CONTEXT_UID:l}=this;if(s.context.webGLVersion!==2||!i)return;const h=i.glFramebuffers[l];if(!h)return;if(!e){if(!h.msaaBuffer)return;const f=i.colorTextures[0];if(!f)return;h.blitFramebuffer||(h.blitFramebuffer=new o0(i.width,i.height),h.blitFramebuffer.addColorTexture(0,f)),e=h.blitFramebuffer,e.colorTextures[0]!==f&&(e.colorTextures[0]=f,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}r||(r=VM,r.width=i.width,r.height=i.height),n||(n=r);const c=r.width===n.width&&r.height===n.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,h.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,c?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil&&e.stencil)return;e.stencil=!0;const n=e.width,i=e.height,s=this.gl,o=r.stencil=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o);let l,h;this.renderer.context.webGLVersion===1?(l=s.DEPTH_STENCIL_ATTACHMENT,h=s.DEPTH_STENCIL):e.depth?(l=s.DEPTH_STENCIL_ATTACHMENT,h=s.DEPTH24_STENCIL8):(l=s.STENCIL_ATTACHMENT,h=s.STENCIL_INDEX8),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,h,n,i):s.renderbufferStorage(s.RENDERBUFFER,h,n,i),s.framebufferRenderbuffer(s.FRAMEBUFFER,l,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Ee}destroy(){this.renderer=null}}bA.extension={type:oe.RendererSystem,name:"framebuffer"};fe.add(bA);const _m={5126:4,5123:2,5121:1};class wA{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;ae.PREFER_ENV===oo.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,l,h)=>n.drawElementsInstancedANGLE(i,s,o,l,h),e.drawArraysInstanced=(i,s,o,l)=>n.drawArraysInstancedANGLE(i,s,o,l)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];r.update(i)}}checkCompatibility(e,r){const n=e.attributes,i=r.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const n=e.attributes,i=r.attributeData,s=["g",e.id];for(const o in n)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,r,n=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,l=r.program;l.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,l);const h=this.getSignature(e,l),c=e.glVertexArrayObjects[this.CONTEXT_UID];let f=c[h];if(f)return c[l.id]=f,f;const m=e.buffers,p=e.attributes,v={},x={};for(const w in m)v[w]=0,x[w]=0;for(const w in p)!p[w].size&&l.attributeData[w]?p[w].size=l.attributeData[w].size:p[w].size||console.warn(`PIXI Geometry attribute '${w}' size cannot be determined (likely the bound shader does not have the attribute)`),v[p[w].buffer]+=p[w].size*_m[p[w].type];for(const w in p){const A=p[w],S=A.size;A.stride===void 0&&(v[A.buffer]===S*_m[A.type]?A.stride=0:A.stride=v[A.buffer]),A.start===void 0&&(A.start=x[A.buffer],x[A.buffer]+=S*_m[A.type])}f=i.createVertexArray(),i.bindVertexArray(f);for(let w=0;w<m.length;w++){const A=m[w];o.bind(A),n&&A._glBuffers[s].refCount++}return this.activateVao(e,l),c[l.id]=f,c[h]=f,i.bindVertexArray(null),o.unbind(Vn.ARRAY_BUFFER),f}disposeGeometry(e,r){var l;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(l=this.renderer)==null?void 0:l.buffer;if(e.disposeRunner.remove(this),!!n){if(o)for(let h=0;h<s.length;h++){const c=s[h]._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!r&&o.dispose(s[h],r))}if(!r){for(const h in n)if(h[0]==="g"){const c=n[h];this._activeVao===c&&this.unbind(),i.deleteVertexArray(c)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,l=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let h=null;for(const c in l){const f=l[c],m=o[f.buffer],p=m._glBuffers[i];if(r.attributeData[c]){h!==p&&(s.bind(m),h=p);const v=r.attributeData[c].location;if(n.enableVertexAttribArray(v),n.vertexAttribPointer(v,f.size,f.type||n.FLOAT,f.normalized,f.stride,f.start),f.instance)if(this.hasInstance)n.vertexAttribDivisor(v,f.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const l=o.indexBuffer.data.BYTES_PER_ELEMENT,h=l===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;l===2||l===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,h,(n||0)*l,i||1):s.drawElements(e,r||o.indexBuffer.data.length,h,(n||0)*l):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,n,r||o.getSize(),i||1):s.drawArrays(e,n,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}wA.extension={type:oe.RendererSystem,name:"geometry"};fe.add(wA);const ub=new Ke;class Vy{constructor(e,r){this._texture=e,this.mapCoord=new Ke,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,s=r.trim;s&&(ub.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(ub));const o=r.baseTexture,l=this.uClampFrame,h=this.clampMargin/o.resolution,c=this.clampOffset;return l[0]=(r._frame.x+h+c)/o.width,l[1]=(r._frame.y+h+c)/o.height,l[2]=(r._frame.x+r._frame.width-h+c)/o.width,l[3]=(r._frame.y+r._frame.height-h+c)/o.height,this.uClampOffset[0]=c/o.realWidth,this.uClampOffset[1]=c/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}var XM=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,$M=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class YM extends De{constructor(e,r,n){let i=null;typeof e!="string"&&r===void 0&&n===void 0&&(i=e,e=void 0,r=void 0,n=void 0),super(e||$M,r||XM,n),this.maskSprite=i,this.maskMatrix=new Ke}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new Vy(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,r,n,i))}}class QM{constructor(e=null){this.type=wt.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=De.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=wt.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class SA{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const s=this.maskDataPool.pop()||new QM;s.pooled=!0,s.maskObject=r,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==wt.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case wt.SCISSOR:this.renderer.scissor.push(n);break;case wt.STENCIL:this.renderer.stencil.push(n);break;case wt.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case wt.COLOR:this.pushColorMask(n);break}n.type===wt.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case wt.SCISSOR:this.renderer.scissor.pop(r);break;case wt.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case wt.SPRITE:this.popSpriteMask(r);break;case wt.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===wt.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=wt.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=wt.SCISSOR:e.type=wt.STENCIL:e.type=wt.COLOR}pushSpriteMask(e){const{maskObject:r}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new YM])),i[0].resolution=e.resolution,i[0].multisample=e.multisample,i[0].maskSprite=r;const s=n.filterArea;n.filterArea=r.getBounds(!0),this.renderer.filter.push(n,i),n.filterArea=s,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}SA.extension={type:oe.RendererSystem,name:"mask"};fe.add(SA);class EA{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const hb=new Ke,cb=[],AA=class Sc extends EA{constructor(e){super(e),this.glConst=ae.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;const r=e._scissorRect,{maskObject:n}=e,{renderer:i}=this,s=i.renderTexture,o=n.getBounds(!0,cb.pop()??new Ee);this.roundFrameToPixels(o,s.current?s.current.resolution:i.resolution,s.sourceFrame,s.destinationFrame,i.projection.transform),r&&o.fit(r),e._scissorRectLocal=o}static isMatrixRotated(e){if(!e)return!1;const{a:r,b:n,c:i,d:s}=e;return(Math.abs(n)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(r)>1e-4||Math.abs(s)>1e-4)}testScissor(e){const{maskObject:r}=e;if(!r.isFastRect||!r.isFastRect()||Sc.isMatrixRotated(r.worldTransform)||Sc.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);const n=e._scissorRectLocal;return n.width>0&&n.height>0}roundFrameToPixels(e,r,n,i,s){Sc.isMatrixRotated(s)||(s=s?hb.copyFrom(s):hb.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.renderer.filter.transformAABB(s,e),e.fit(i),e.x=Math.round(e.x*r),e.y=Math.round(e.y*r),e.width=Math.round(e.width*r),e.height=Math.round(e.height*r))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:r}=this.renderer;e._scissorRect||r.enable(r.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:r}=this.renderer;e&&cb.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():r.disable(r.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let r;this.renderer.renderTexture.current?r=e.y:r=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,r,e.width,e.height)}};AA.extension={type:oe.RendererSystem,name:"scissor"};let KM=AA;fe.add(KM);class TA extends EA{constructor(e){super(e),this.glConst=ae.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}TA.extension={type:oe.RendererSystem,name:"stencil"};fe.add(TA);class CA{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Ae("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return Ae("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return Ae("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}CA.extension={type:[oe.RendererSystem,oe.CanvasRendererSystem],name:"_plugin"};fe.add(CA);class PA{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Ke,this.transform=null}update(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,n,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}PA.extension={type:oe.RendererSystem,name:"projection"};fe.add(PA);const qM=new Qd,db=new Ee;class IA{constructor(e){this.renderer=e,this._tempMatrix=new Ke}generateTexture(e,r){const{region:n,...i}=r||{},s=(n==null?void 0:n.copyTo(db))||e.getLocalBounds(db,!0),o=i.resolution||this.renderer.resolution;s.width=Math.max(s.width,1/o),s.height=Math.max(s.height,1/o),i.width=s.width,i.height=s.height,i.resolution=o,i.multisample??(i.multisample=this.renderer.multisample);const l=ao.create(i);this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const h=e.transform;return e.transform=qM,this.renderer.render(e,{renderTexture:l,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=h,l}destroy(){}}IA.extension={type:[oe.RendererSystem,oe.CanvasRendererSystem],name:"textureGenerator"};fe.add(IA);const Ps=new Ee,cl=new Ee;class RA{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Ee,this.destinationFrame=new Ee,this.viewportFrame=new Ee}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,n){const i=this.renderer;this.current=e;let s,o,l;e?(s=e.baseTexture,l=s.resolution,r||(Ps.width=e.frame.width,Ps.height=e.frame.height,r=Ps),n||(cl.x=e.frame.x,cl.y=e.frame.y,cl.width=r.width,cl.height=r.height,n=cl),o=s.framebuffer):(l=i.resolution,r||(Ps.width=i._view.screen.width,Ps.height=i._view.screen.height,r=Ps),n||(n=Ps,n.width=r.width,n.height=r.height));const h=this.viewportFrame;h.x=n.x*l,h.y=n.y*l,h.width=n.width*l,h.height=n.height*l,e||(h.y=i.view.height-(h.y+h.height)),h.ceil(),this.renderer.framebuffer.bind(o,h),this.renderer.projection.update(n,r,l,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=He.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,l=s.width!==o.width||s.height!==o.height;if(l){let{x:h,y:c,width:f,height:m}=this.viewportFrame;h=Math.round(h),c=Math.round(c),f=Math.round(f),m=Math.round(m),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(h,c,f,m)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,r),l&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}RA.extension={type:oe.RendererSystem,name:"renderTexture"};fe.add(RA);class ZM{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function JM(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=pA(e,s.type),l={type:o,name:s.name,size:fA(o),location:e.getAttribLocation(t,s.name)};r[s.name]=l}return r}function eD(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),l=!!s.name.match(/\[.*?\]$/),h=pA(e,s.type);r[o]={name:o,index:i,type:h,size:s.size,isArray:l,value:cA(h,s.size)}}return r}function tD(t,e){var l;const r=nb(t,t.VERTEX_SHADER,e.vertexSrc),n=nb(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,r),t.attachShader(i,n);const s=(l=e.extra)==null?void 0:l.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||RM(t,i,r,n),e.attributeData=JM(i,t),e.uniformData=eD(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const h=Object.keys(e.attributeData);h.sort((c,f)=>c>f?1:-1);for(let c=0;c<h.length;c++)e.attributeData[h[c]].location=c,t.bindAttribLocation(i,c,h[c]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);const o={};for(const h in e.uniformData){const c=e.uniformData[h];o[h]={location:t.getUniformLocation(i,h),value:cA(c.type,c.size)}}return new ZM(i,o)}function rD(t,e,r,n,i){r.buffer.update(i)}const nD={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},kA={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function iD(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=kA[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){const l=n%r%16;n+=l,i+=l}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function sD(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,i)=>n.index-i.index),r}function oD(t,e){if(!t.autoManage)return{size:0,syncFunc:rD};const r=sD(t.uniforms,e),{uboElements:n,size:i}=iD(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<n.length;o++){const l=n[o],h=t.uniforms[l.data.name],c=l.data.name;let f=!1;for(let m=0;m<da.length;m++){const p=da[m];if(p.codeUbo&&p.test(l.data,h)){s.push(`offset = ${l.offset/4};`,da[m].codeUbo(l.data.name,h)),f=!0;break}}if(!f)if(l.data.size>1){const m=fA(l.data.type),p=Math.max(kA[l.data.type]/16,1),v=m/p,x=(4-v%4)%4;s.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${l.offset/4};

                t = 0;

                for(var i=0; i < ${l.data.size*p}; i++)
                {
                    for(var j = 0; j < ${v}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${x};
                }

                `)}else{const m=nD[l.data.type];s.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${l.offset/4};
                ${m};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let aD=0;const Hh={textureCount:0,uboCount:0};class MA{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=aD++}systemCheck(){if(!MM())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(Hh.textureCount=0,Hh.uboCount=0,this.syncUniformGroup(e.uniformGroup,Hh)),i}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=CM(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,Hh,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let l=this._uboCache[o];if(l||(l=this._uboCache[o]=oD(e,this.shader.program.uniformData)),e.autoManage){const h=new Float32Array(l.size/4);e.buffer.update(h)}return r.uniformGroups[e.id]=l.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const i=e.uniforms,s=[`${n}-`];for(const o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,i=tD(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}MA.extension={type:oe.RendererSystem,name:"shader"};fe.add(MA);class cd{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log(`PixiJS 7.4.2 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}cd.defaultOptions={hello:!1},cd.extension={type:[oe.RendererSystem,oe.CanvasRendererSystem],name:"startup"};fe.add(cd);function lD(t,e=[]){return e[ve.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.ADD]=[t.ONE,t.ONE],e[ve.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.NONE]=[0,0],e[ve.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[ve.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[ve.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[ve.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[ve.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ve.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[ve.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[ve.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[ve.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[ve.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[ve.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const uD=0,hD=1,cD=2,dD=3,fD=4,pD=5,DA=class a0{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=ve.NONE,this._blendEq=!1,this.map=[],this.map[uD]=this.setBlend,this.map[hD]=this.setOffset,this.map[cD]=this.setCullFace,this.map[dD]=this.setDepthTest,this.map[fD]=this.setFrontFace,this.map[pD]=this.setDepthMask,this.checks=[],this.defaultState=new Kn,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=lD(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let r=this.stateId^e.data,n=0;for(;r;)r&1&&this.map[n].call(this,!!(e.data&1<<n)),r=r>>1,n++;this.stateId=e.data}for(let r=0;r<this.checks.length;r++)this.checks[r](this,e)}forceState(e){e=e||this.defaultState;for(let r=0;r<this.map.length;r++)this.map[r].call(this,!!(e.data&1<<r));for(let r=0;r<this.checks.length;r++)this.checks[r](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(a0.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(a0.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const r=this.blendModes[e],n=this.gl;r.length===2?n.blendFunc(r[0],r[1]):n.blendFuncSeparate(r[0],r[1],r[2],r[3]),r.length===6?(this._blendEq=!0,n.blendEquationSeparate(r[4],r[5])):this._blendEq&&(this._blendEq=!1,n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD))}setPolygonOffset(e,r){this.gl.polygonOffset(e,r)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,r){const n=this.checks.indexOf(e);r&&n===-1?this.checks.push(e):!r&&n!==-1&&this.checks.splice(n,1)}static checkBlendMode(e,r){e.setBlendMode(r.blendMode)}static checkPolygonOffset(e,r){e.setPolygonOffset(1,r.polygonOffset)}destroy(){this.gl=null}};DA.extension={type:oe.RendererSystem,name:"state"};let mD=DA;fe.add(mD);class gD extends vu{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(i=>e.systems[i]),n=[...r,...Object.keys(e.systems).filter(i=>!r.includes(i))];for(const i of n)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(r=>{this.runners[r]=new mn(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=n.find(o=>this._systemsHash[o]===i);i[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const _l=class Ec{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=Ec.defaultMaxIdle,this.checkCountMax=Ec.defaultCheckCountMax,this.mode=Ec.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Oy.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,r=e.managedTextures;let n=!1;for(let i=0;i<r.length;i++){const s=r[i];s.resource&&this.count-s.touched>this.maxIdle&&(e.destroyTexture(s,!0),r[i]=null,n=!0)}if(n){let i=0;for(let s=0;s<r.length;s++)r[s]!==null&&(r[i++]=r[s]);r.length=i}}unload(e){const r=this.renderer.texture,n=e._texture;n&&!n.framebuffer&&r.destroyTexture(n);for(let i=e.children.length-1;i>=0;i--)this.unload(e.children[i])}destroy(){this.renderer=null}};_l.defaultMode=Oy.AUTO,_l.defaultMaxIdle=60*60,_l.defaultCheckCountMax=60*10,_l.extension={type:oe.RendererSystem,name:"textureGC"};let Us=_l;fe.add(Us);class bm{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=ge.UNSIGNED_BYTE,this.internalFormat=J.RGBA,this.samplerType=0}}function yD(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[t.RGB]:le.FLOAT,[t.RGBA]:le.FLOAT,[t.ALPHA]:le.FLOAT,[t.LUMINANCE]:le.FLOAT,[t.LUMINANCE_ALPHA]:le.FLOAT,[t.R8]:le.FLOAT,[t.R8_SNORM]:le.FLOAT,[t.RG8]:le.FLOAT,[t.RG8_SNORM]:le.FLOAT,[t.RGB8]:le.FLOAT,[t.RGB8_SNORM]:le.FLOAT,[t.RGB565]:le.FLOAT,[t.RGBA4]:le.FLOAT,[t.RGB5_A1]:le.FLOAT,[t.RGBA8]:le.FLOAT,[t.RGBA8_SNORM]:le.FLOAT,[t.RGB10_A2]:le.FLOAT,[t.RGB10_A2UI]:le.FLOAT,[t.SRGB8]:le.FLOAT,[t.SRGB8_ALPHA8]:le.FLOAT,[t.R16F]:le.FLOAT,[t.RG16F]:le.FLOAT,[t.RGB16F]:le.FLOAT,[t.RGBA16F]:le.FLOAT,[t.R32F]:le.FLOAT,[t.RG32F]:le.FLOAT,[t.RGB32F]:le.FLOAT,[t.RGBA32F]:le.FLOAT,[t.R11F_G11F_B10F]:le.FLOAT,[t.RGB9_E5]:le.FLOAT,[t.R8I]:le.INT,[t.R8UI]:le.UINT,[t.R16I]:le.INT,[t.R16UI]:le.UINT,[t.R32I]:le.INT,[t.R32UI]:le.UINT,[t.RG8I]:le.INT,[t.RG8UI]:le.UINT,[t.RG16I]:le.INT,[t.RG16UI]:le.UINT,[t.RG32I]:le.INT,[t.RG32UI]:le.UINT,[t.RGB8I]:le.INT,[t.RGB8UI]:le.UINT,[t.RGB16I]:le.INT,[t.RGB16UI]:le.UINT,[t.RGB32I]:le.INT,[t.RGB32UI]:le.UINT,[t.RGBA8I]:le.INT,[t.RGBA8UI]:le.UINT,[t.RGBA16I]:le.INT,[t.RGBA16UI]:le.UINT,[t.RGBA32I]:le.INT,[t.RGBA32UI]:le.UINT,[t.DEPTH_COMPONENT16]:le.FLOAT,[t.DEPTH_COMPONENT24]:le.FLOAT,[t.DEPTH_COMPONENT32F]:le.FLOAT,[t.DEPTH_STENCIL]:le.FLOAT,[t.DEPTH24_STENCIL8]:le.FLOAT,[t.DEPTH32F_STENCIL8]:le.FLOAT}:e={[t.RGB]:le.FLOAT,[t.RGBA]:le.FLOAT,[t.ALPHA]:le.FLOAT,[t.LUMINANCE]:le.FLOAT,[t.LUMINANCE_ALPHA]:le.FLOAT,[t.DEPTH_STENCIL]:le.FLOAT},e}function vD(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[ge.UNSIGNED_BYTE]:{[J.RGBA]:t.RGBA8,[J.RGB]:t.RGB8,[J.RG]:t.RG8,[J.RED]:t.R8,[J.RGBA_INTEGER]:t.RGBA8UI,[J.RGB_INTEGER]:t.RGB8UI,[J.RG_INTEGER]:t.RG8UI,[J.RED_INTEGER]:t.R8UI,[J.ALPHA]:t.ALPHA,[J.LUMINANCE]:t.LUMINANCE,[J.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ge.BYTE]:{[J.RGBA]:t.RGBA8_SNORM,[J.RGB]:t.RGB8_SNORM,[J.RG]:t.RG8_SNORM,[J.RED]:t.R8_SNORM,[J.RGBA_INTEGER]:t.RGBA8I,[J.RGB_INTEGER]:t.RGB8I,[J.RG_INTEGER]:t.RG8I,[J.RED_INTEGER]:t.R8I},[ge.UNSIGNED_SHORT]:{[J.RGBA_INTEGER]:t.RGBA16UI,[J.RGB_INTEGER]:t.RGB16UI,[J.RG_INTEGER]:t.RG16UI,[J.RED_INTEGER]:t.R16UI,[J.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[ge.SHORT]:{[J.RGBA_INTEGER]:t.RGBA16I,[J.RGB_INTEGER]:t.RGB16I,[J.RG_INTEGER]:t.RG16I,[J.RED_INTEGER]:t.R16I},[ge.UNSIGNED_INT]:{[J.RGBA_INTEGER]:t.RGBA32UI,[J.RGB_INTEGER]:t.RGB32UI,[J.RG_INTEGER]:t.RG32UI,[J.RED_INTEGER]:t.R32UI,[J.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[ge.INT]:{[J.RGBA_INTEGER]:t.RGBA32I,[J.RGB_INTEGER]:t.RGB32I,[J.RG_INTEGER]:t.RG32I,[J.RED_INTEGER]:t.R32I},[ge.FLOAT]:{[J.RGBA]:t.RGBA32F,[J.RGB]:t.RGB32F,[J.RG]:t.RG32F,[J.RED]:t.R32F,[J.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[ge.HALF_FLOAT]:{[J.RGBA]:t.RGBA16F,[J.RGB]:t.RGB16F,[J.RG]:t.RG16F,[J.RED]:t.R16F},[ge.UNSIGNED_SHORT_5_6_5]:{[J.RGB]:t.RGB565},[ge.UNSIGNED_SHORT_4_4_4_4]:{[J.RGBA]:t.RGBA4},[ge.UNSIGNED_SHORT_5_5_5_1]:{[J.RGBA]:t.RGB5_A1},[ge.UNSIGNED_INT_2_10_10_10_REV]:{[J.RGBA]:t.RGB10_A2,[J.RGBA_INTEGER]:t.RGB10_A2UI},[ge.UNSIGNED_INT_10F_11F_11F_REV]:{[J.RGB]:t.R11F_G11F_B10F},[ge.UNSIGNED_INT_5_9_9_9_REV]:{[J.RGB]:t.RGB9_E5},[ge.UNSIGNED_INT_24_8]:{[J.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[ge.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[J.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[ge.UNSIGNED_BYTE]:{[J.RGBA]:t.RGBA,[J.RGB]:t.RGB,[J.ALPHA]:t.ALPHA,[J.LUMINANCE]:t.LUMINANCE,[J.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[ge.UNSIGNED_SHORT_5_6_5]:{[J.RGB]:t.RGB},[ge.UNSIGNED_SHORT_4_4_4_4]:{[J.RGBA]:t.RGBA},[ge.UNSIGNED_SHORT_5_5_5_1]:{[J.RGBA]:t.RGBA}},e}class FA{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new we,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=vD(e),this.samplerTypes=yD(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new bm(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new bm(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,r=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let s=e-1;s>=0;--s){const o=r[s];o&&o._glTextures[i].samplerType!==le.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const r=new bm(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var n;r.internalFormat=((n=this.internalFormats[e.type])==null?void 0:n[e.format])??e.format,r.samplerType=this.samplerTypes[r.internalFormat]??le.FLOAT,this.webGLVersion===2&&e.type===ge.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var i;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),(i=e.resource)==null?void 0:i.upload(n,e,r))r.samplerType!==le.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,l=n.gl;(r.width!==s||r.height!==o||r.dirtyId<0)&&(r.width=s,r.height=o,l.texImage2D(e.target,0,r.internalFormat,s,o,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(e);i!==-1&&ca(this.managedTextures,i,1)}}updateTextureStyle(e){var n;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===$n.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=fi.CLAMP:r.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==$n.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Gn.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===Gn.LINEAR){const s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Gn.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===Gn.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}FA.extension={type:oe.RendererSystem,name:"texture"};fe.add(FA);class OA{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:i}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[i]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const l=e.buffers[o];l&&(n.buffer.update(l),l._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,l._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const l=e.buffers[o];if(!l)continue;const h=l._glBuffers[this.CONTEXT_UID];h&&(h.refCount--,h.refCount===0&&!r&&s.dispose(l,r))}n&&(r||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}OA.extension={type:oe.RendererSystem,name:"transformFeedback"};fe.add(OA);class dd{constructor(e){this.renderer=e}init(e){this.screen=new Ee(0,0,e.width,e.height),this.element=e.view||ae.ADAPTER.createCanvas(),this.resolution=e.resolution||ae.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}dd.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},dd.extension={type:[oe.RendererSystem,oe.CanvasRendererSystem],name:"_view"};fe.add(dd);ae.PREFER_ENV=oo.WEBGL2;ae.STRICT_TEXTURE_CACHE=!1;ae.RENDER_OPTIONS={...hd.defaultOptions,...ud.defaultOptions,...dd.defaultOptions,...cd.defaultOptions};Object.defineProperties(ae,{WRAP_MODE:{get(){return we.defaultOptions.wrapMode},set(t){Ae("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),we.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return we.defaultOptions.scaleMode},set(t){Ae("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),we.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return we.defaultOptions.mipmap},set(t){Ae("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),we.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return we.defaultOptions.anisotropicLevel},set(t){Ae("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),we.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return Ae("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),De.defaultResolution},set(t){De.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return Ae("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),De.defaultMultisample},set(t){De.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return Ls.defaultMaxTextures},set(t){Ae("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Ls.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return Ls.defaultBatchSize},set(t){Ae("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Ls.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return Ls.canUploadSameBuffer},set(t){Ae("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Ls.canUploadSameBuffer=t}},GC_MODE:{get(){return Us.defaultMode},set(t){Ae("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Us.defaultMode=t}},GC_MAX_IDLE:{get(){return Us.defaultMaxIdle},set(t){Ae("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Us.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return Us.defaultCheckCountMax},set(t){Ae("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Us.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return ci.defaultVertexPrecision},set(t){Ae("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),ci.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return ci.defaultFragmentPrecision},set(t){Ae("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),ci.defaultFragmentPrecision=t}}});var hs=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(hs||{});class wm{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const NA=class wr{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new wm(null,null,1/0),this.deltaMS=1/wr.targetFPMS,this.elapsedMS=1/wr.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,r,n=hs.NORMAL){return this._addListener(new wm(e,r,n))}addOnce(e,r,n=hs.NORMAL){return this._addListener(new wm(e,r,n,!0))}_addListener(e){let r=this._head.next,n=this._head;if(!r)e.connect(n);else{for(;r;){if(e.priority>r.priority){e.connect(n);break}n=r,r=r.next}e.previous||e.connect(n)}return this._startIfPossible(),this}remove(e,r){let n=this._head.next;for(;n;)n.match(e,r)?n=n.destroy():n=n.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,r=this._head;for(;r=r.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let r;if(e>this.lastTime){if(r=this.elapsedMS=e-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const s=e-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=e-s%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*wr.targetFPMS;const n=this._head;let i=n.next;for(;i;)i=i.emit(this.deltaTime);n.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const r=Math.min(this.maxFPS,e),n=Math.min(Math.max(0,r)/1e3,wr.targetFPMS);this._maxElapsedMS=1/n}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const r=Math.max(this.minFPS,e);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!wr._shared){const e=wr._shared=new wr;e.autoStart=!0,e._protected=!0}return wr._shared}static get system(){if(!wr._system){const e=wr._system=new wr;e.autoStart=!0,e._protected=!0}return wr._system}};NA.targetFPMS=.06;let Dt=NA;Object.defineProperties(ae,{TARGET_FPMS:{get(){return Dt.targetFPMS},set(t){Ae("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),Dt.targetFPMS=t}}});class BA{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,hs.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Dt.shared:new Dt,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}BA.extension=oe.Application;fe.add(BA);const LA=[];fe.handleByList(oe.Renderer,LA);function xD(t){for(const e of LA)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var _D=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,bD=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const wD=_D,UA=bD;class zA{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=vt.HIGH?this.multisample=vt.HIGH:r>=vt.MEDIUM?this.multisample=vt.MEDIUM:r>=vt.LOW?this.multisample=vt.LOW:this.multisample=vt.NONE}destroy(){}}zA.extension={type:oe.RendererSystem,name:"_multisample"};fe.add(zA);class SD{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class GA{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,o.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,r.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new SD(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}GA.extension={type:oe.RendererSystem,name:"buffer"};fe.add(GA);class jA{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let i,s,o,l;if(r&&(i=r.renderTexture,s=r.clear,o=r.transform,l=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(i||(this.lastObjectRendered=e),!l){const h=e.enableTempParent();e.updateTransform(),e.disableTempParent(h)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}jA.extension={type:oe.RendererSystem,name:"objectRenderer"};fe.add(jA);const Ac=class l0 extends gD{constructor(e){super(),this.type=kE.WEBGL,e=Object.assign({},ae.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new gn({projectionMatrix:new Ke},!0);const r={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:l0.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(r),"useContextAlpha"in e&&(Ae("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=l0.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e!=null&&e.forceCanvas?!1:Yk()}render(e,r){this.objectRenderer.render(e,r)}resize(e,r){this._view.resizeView(e,r)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Ae("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Ae("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Ae("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Ae("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){Ae("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return Ae("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){Ae("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return Ae("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,r){return this.textureGenerator.generateTexture(e,r)}};Ac.extension={type:oe.Renderer,priority:1},Ac.__plugins={},Ac.__systems={};let Xy=Ac;fe.handleByMap(oe.RendererPlugin,Xy.__plugins);fe.handleByMap(oe.RendererSystem,Xy.__systems);fe.add(Xy);class HA extends lu{constructor(e,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new we;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof lu?this.addResourceAt(e[n],n):this.addResourceAt(lA(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(e).then(()=>{const{realWidth:r,realHeight:n}=this.items[0];return this.resize(r,n),this.update(),Promise.resolve(this)}),this._load}}class ED extends HA{constructor(e,r){const{width:n,height:i}=r||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:n,height:i}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=la.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:i,itemDirtyIds:s,items:o}=this,{gl:l}=e;n.dirtyId<0&&l.texImage3D(l.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let h=0;h<i;h++){const c=o[h];s[h]<c.dirtyId&&(s[h]=c.dirtyId,c.valid&&l.texSubImage3D(l.TEXTURE_2D_ARRAY,0,0,0,h,c.resource.width,c.resource.height,1,r.format,n.type,c.resource.source))}return!0}}class AD extends _i{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const WA=class bl extends HA{constructor(e,r){const{width:n,height:i,autoLoad:s,linkBaseTexture:o}=r||{};if(e&&e.length!==bl.SIDES)throw new Error(`Invalid length. Got ${e.length}, expected 6`);super(6,{width:n,height:i});for(let l=0;l<bl.SIDES;l++)this.items[l].target=la.TEXTURE_CUBE_MAP_POSITIVE_X+l;this.linkBaseTexture=o!==!1,e&&this.initFromArray(e,r),s!==!1&&this.load()}bind(e){super.bind(e),e.target=la.TEXTURE_CUBE_MAP}addBaseTextureAt(e,r,n){if(n===void 0&&(n=this.linkBaseTexture),!this.items[r])throw new Error(`Index ${r} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0)if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("CubeResource does not support copying of renderTexture.");else e.target=la.TEXTURE_CUBE_MAP_POSITIVE_X+r,e.parentTextureArray=this.baseTexture,this.items[r]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[r]=e,this}upload(e,r,n){const i=this.itemDirtyIds;for(let s=0;s<bl.SIDES;s++){const o=this.items[s];(i[s]<o.dirtyId||n.dirtyId<r.dirtyId)&&(o.valid&&o.resource?(o.resource.upload(e,o,n),i[s]=o.dirtyId):i[s]<-1&&(e.gl.texImage2D(o.target,0,n.internalFormat,r.realWidth,r.realHeight,0,r.format,n.type,null),i[s]=-1))}return!0}static test(e){return Array.isArray(e)&&e.length===bl.SIDES}};WA.SIDES=6;let TD=WA;class ea extends _i{constructor(e,r){r=r||{};let n,i,s;typeof e=="string"?(n=ea.EMPTY,i=e,s=!0):(n=e,i=null,s=!1),super(n),this.url=i,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.ownsImageBitmap=r.ownsImageBitmap??s,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await ae.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===fr.UNPACK?"premultiply":"none"});if(this.destroyed){s.close();return}this.source=s,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return ea._EMPTY=ea._EMPTY??ae.ADAPTER.createCanvas(0,0),ea._EMPTY}}const u0=class Tc extends _i{constructor(e,r){r=r||{},super(ae.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=r.scale||1,this._overrideWidth=r.width,this._overrideHeight=r.height,this._resolve=null,this._crossorigin=r.crossorigin,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},Tc.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const e=new Image;_i.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=r=>{this._resolve&&(e.onerror=null,this.onError.emit(r))},e.onload=()=>{if(!this._resolve)return;const r=e.width,n=e.height;if(!r||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let i=r*this.scale,s=n*this.scale;(this._overrideWidth||this._overrideHeight)&&(i=this._overrideWidth||this._overrideHeight/n*r,s=this._overrideHeight||this._overrideWidth/r*n),i=Math.round(i),s=Math.round(s);const o=this.source;o.width=i,o.height=s,o._pixiId=`canvas_${no()}`,o.getContext("2d").drawImage(e,0,0,r,n,0,0,i,s),this._resolve(),this._resolve=null}}static getSize(e){const r=Tc.SVG_SIZE.exec(e),n={};return r&&(n[r[1]]=Math.round(parseFloat(r[3])),n[r[5]]=Math.round(parseFloat(r[7]))),n}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,r){return r==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&Tc.SVG_XML.test(e)}};u0.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,u0.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let h0=u0;class CD extends _i{constructor(e){super(e)}static test(e){return!!globalThis.VideoFrame&&e instanceof globalThis.VideoFrame}}const c0=class d0 extends _i{constructor(e,r){if(r=r||{},!(e instanceof HTMLVideoElement)){const n=document.createElement("video");r.autoLoad!==!1&&n.setAttribute("preload","auto"),r.playsinline!==!1&&(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline","")),r.muted===!0&&(n.setAttribute("muted",""),n.muted=!0),r.loop===!0&&n.setAttribute("loop",""),r.autoPlay!==!1&&n.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);const i=e[0].src||e[0];_i.crossOrigin(n,i,r.crossorigin);for(let s=0;s<e.length;++s){const o=document.createElement("source");let{src:l,mime:h}=e[s];if(l=l||e[s],l.startsWith("data:"))h=l.slice(5,l.indexOf(";"));else if(!l.startsWith("blob:")){const c=l.split("?").shift().toLowerCase(),f=c.slice(c.lastIndexOf(".")+1);h=h||d0.MIME_TYPES[f]||`video/${f}`}o.src=l,h&&(o.type=h),n.appendChild(o)}e=n}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=r.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),r.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const r=Dt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((r,n)=>{this.valid?r(this):(this._resolve=r,this._reject=n,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const r=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!r&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(Dt.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Dt.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Dt.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,r){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||d0.TYPES.includes(r)}};c0.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],c0.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let VA=c0;Zg.push(ea,yA,AD,VA,CD,h0,Vd,TD,ED);class PD{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(Dt.system.add(this.tickerUpdate,this,hs.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(Dt.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const Xi=new PD;class bu{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=bu.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Se,this.page=new Se,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,n,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class fd extends bu{constructor(){super(...arguments),this.client=new Se,this.movement=new Se,this.offset=new Se,this.global=new Se,this.screen=new Se}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,n,i,s,o,l,h,c,f,m,p,v,x,w){throw new Error("Method not implemented.")}}class sn extends fd{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class fa extends fd{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}fa.DOM_DELTA_PIXEL=0,fa.DOM_DELTA_LINE=1,fa.DOM_DELTA_PAGE=2;const ID=2048,RD=new Se,Sm=new Se;class kD{constructor(e){this.dispatch=new vu,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((n,i)=>n.priority-i.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let n=0,i=r.length;n<i;n++)r[n].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){Xi.pauseUpdate=!0;const n=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",i=this[n](this.rootTarget,this.rootTarget.eventMode,RD.set(e,r),this.hitTestFn,this.hitPruneFn);return i&&i[0]}propagate(e,r){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=n.length-1;i<s;i++)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const i=Array.isArray(r)?r:[r];for(let s=n.length-1;s>=0;s--)i.forEach(o=>{e.currentTarget=n[s],this.notifyTarget(e,o)})}propagationPath(e){const r=[e];for(let n=0;n<ID&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,n,i,s,o=!1){let l=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Xi.pauseUpdate=!1),e.interactiveChildren&&e.children){const f=e.children;for(let m=f.length-1;m>=0;m--){const p=f[m],v=this.hitTestMoveRecursive(p,this._isInteractive(r)?r:p.eventMode,n,i,s,o||s(e,n));if(v){if(v.length>0&&!v[v.length-1].parent)continue;const x=e.isInteractive();(v.length>0||x)&&(x&&this._allInteractiveElements.push(e),v.push(e)),this._hitElements.length===0&&(this._hitElements=v),l=!0}}}const h=this._isInteractive(r),c=e.isInteractive();return h&&c&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:l?this._hitElements:h&&!s(e,n)&&i(e,n)?c?[e]:[]:null}hitTestRecursive(e,r,n,i,s){if(this._interactivePrune(e)||s(e,n))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Xi.pauseUpdate=!1),e.interactiveChildren&&e.children){const h=e.children;for(let c=h.length-1;c>=0;c--){const f=h[c],m=this.hitTestRecursive(f,this._isInteractive(r)?r:f.eventMode,n,i,s);if(m){if(m.length>0&&!m[m.length-1].parent)continue;const p=e.isInteractive();return(m.length>0||p)&&m.push(e),m}}}const o=this._isInteractive(r),l=e.isInteractive();return o&&i(e,n)?l?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,r){var n;if(e.hitArea&&(e.worldTransform.applyInverse(r,Sm),!e.hitArea.contains(Sm.x,Sm.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((n=i.containsPoint)!=null&&n.call(i,r)))return!0}return!1}hitTestFn(e,r){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){var s,o;r=r??e.type;const n=`on${r}`;(o=(s=e.currentTarget)[n])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof sn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const i=r.button===2;this.dispatchEvent(r,i?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var h,c;if(!(e instanceof sn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((h=i.overTargets)==null?void 0:h.length)>0&&s!==r.target){const f=e.type==="mousemove"?"mouseout":"pointerout",m=this.createPointerEvent(e,f,s);if(this.dispatchEvent(m,"pointerout"),n&&this.dispatchEvent(m,"mouseout"),!r.composedPath().includes(s)){const p=this.createPointerEvent(e,"pointerleave",s);for(p.eventPhase=p.AT_TARGET;p.target&&!r.composedPath().includes(p.target);)p.currentTarget=p.target,this.notifyTarget(p),n&&this.notifyTarget(p,"mouseleave"),p.target=p.target.parent;this.freeEvent(p)}this.freeEvent(m)}if(s!==r.target){const f=e.type==="mousemove"?"mouseover":"pointerover",m=this.clonePointerEvent(r,f);this.dispatchEvent(m,"pointerover"),n&&this.dispatchEvent(m,"mouseover");let p=s==null?void 0:s.parent;for(;p&&p!==this.rootTarget.parent&&p!==r.target;)p=p.parent;if(!p||p===this.rootTarget.parent){const v=this.clonePointerEvent(r,"pointerenter");for(v.eventPhase=v.AT_TARGET;v.target&&v.target!==s&&v.target!==this.rootTarget.parent;)v.currentTarget=v.target,this.notifyTarget(v),n&&this.notifyTarget(v,"mouseenter"),v.target=v.target.parent;this.freeEvent(v)}this.freeEvent(m)}const o=[],l=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(r,"pointermove"),l&&o.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),l&&o.push("globaltouchmove")),n&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),l&&o.push("globalmousemove"),this.cursor=(c=r.target)==null?void 0:c.cursor),o.length>0&&this.all(r,o),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var o;if(!(e instanceof sn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.createPointerEvent(e),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(o=n.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(n,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof sn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),n&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof sn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const l=n.button===2;this.dispatchEvent(n,l?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!n.composedPath().includes(s)){let l=s;for(;l&&!n.composedPath().includes(l);){if(n.currentTarget=l,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const h=n.button===2;this.notifyTarget(n,h?"rightupoutside":"mouseupoutside")}l=l.parent}delete i.pressTargetsByButton[e.button],o=l}if(o){const l=this.clonePointerEvent(n,"click");l.target=o,l.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:l.target,timeStamp:r});const h=i.clicksByButton[e.button];if(h.target===l.target&&r-h.timeStamp<200?++h.clickCount:h.clickCount=1,h.target=l.target,h.timeStamp=r,l.detail=h.clickCount,l.pointerType==="mouse"){const c=l.button===2;this.dispatchEvent(l,c?"rightclick":"click")}else l.pointerType==="touch"&&this.dispatchEvent(l,"tap");this.dispatchEvent(l,"pointertap"),this.freeEvent(l)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof sn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(n){let s=n;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof fa)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let n=1;n<e.length&&e[n].parent===r;n++)r=e[n];return r}createPointerEvent(e,r,n){const i=this.allocateEvent(sn);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=n??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof r=="string"&&(i.type=r),i}createWheelEvent(e){const r=this.allocateEvent(fa);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const n=this.allocateEvent(sn);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=r??n.type,n}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof sn&&r instanceof sn&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof fd&&r instanceof fd&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const n=e.currentTarget._events[r];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let i=0,s=n.length;i<s&&!e.propagationImmediatelyStopped;i++)n[i].once&&e.currentTarget.removeListener(r,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,e)}}const MD=1,DD={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},f0=class p0{constructor(e){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=e,this.rootBoundary=new kD(null),Xi.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new sn(null),this.rootWheelEvent=new fa(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...p0.defaultEventFeatures},{set:(r,n,i)=>(n==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=i),r[n]=i,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(e){const{view:r,resolution:n}=this.renderer;this.setTargetElement(r),this.resolution=n,p0._defaultEventMode=e.eventMode??"auto",Object.assign(this.features,e.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(e){this.resolution=e}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(e){e=e||"default";let r=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(r=!1),this.currentCursor===e)return;this.currentCursor=e;const n=this.cursorStyles[e];if(n)switch(typeof n){case"string":r&&(this.domElement.style.cursor=n);break;case"function":n(e);break;case"object":r&&Object.assign(this.domElement.style,n);break}else r&&typeof e=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.domElement.style.cursor=e)}get pointer(){return this.rootPointerEvent}onPointerDown(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);this.autoPreventDefault&&r[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(let n=0,i=r.length;n<i;n++){const s=r[n],o=this.bootstrapEvent(this.rootPointerEvent,s);this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(e){if(!this.features.move)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,Xi.pointerMoved();const r=this.normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;let r=e.target;e.composedPath&&e.composedPath().length>0&&(r=e.composedPath()[0]);const n=r!==this.domElement?"outside":"",i=this.normalizeToPointerData(e);for(let s=0,o=i.length;s<o;s++){const l=this.bootstrapEvent(this.rootPointerEvent,i[s]);l.type+=n,this.rootBoundary.mapEvent(l)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(e){if(!this.features.click)return;this.rootBoundary.rootTarget=this.renderer.lastObjectRendered;const r=this.normalizeToPointerData(e);for(let n=0,i=r.length;n<i;n++){const s=this.bootstrapEvent(this.rootPointerEvent,r[n]);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onWheel(e){if(!this.features.wheel)return;const r=this.normalizeWheelEvent(e);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(r)}setTargetElement(e){this.removeEvents(),this.domElement=e,Xi.domElement=e,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;Xi.addTickerListener();const e=this.domElement.style;e&&(globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0))),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;Xi.removeTickerListener();const e=this.domElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0))),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(e,r,n){const i=this.domElement.isConnected?this.domElement.getBoundingClientRect():{x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0},s=1/this.resolution;e.x=(r-i.left)*(this.domElement.width/i.width)*s,e.y=(n-i.top)*(this.domElement.height/i.height)*s}normalizeToPointerData(e){const r=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(let n=0,i=e.changedTouches.length;n<i;n++){const s=e.changedTouches[n];typeof s.button>"u"&&(s.button=0),typeof s.buttons>"u"&&(s.buttons=1),typeof s.isPrimary>"u"&&(s.isPrimary=e.touches.length===1&&e.type==="touchstart"),typeof s.width>"u"&&(s.width=s.radiusX||1),typeof s.height>"u"&&(s.height=s.radiusY||1),typeof s.tiltX>"u"&&(s.tiltX=0),typeof s.tiltY>"u"&&(s.tiltY=0),typeof s.pointerType>"u"&&(s.pointerType="touch"),typeof s.pointerId>"u"&&(s.pointerId=s.identifier||0),typeof s.pressure>"u"&&(s.pressure=s.force||.5),typeof s.twist>"u"&&(s.twist=0),typeof s.tangentialPressure>"u"&&(s.tangentialPressure=0),typeof s.layerX>"u"&&(s.layerX=s.offsetX=s.clientX),typeof s.layerY>"u"&&(s.layerY=s.offsetY=s.clientY),s.isNormalized=!0,s.type=e.type,r.push(s)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&(!this.supportsPointerEvents||!(e instanceof globalThis.PointerEvent))){const n=e;typeof n.isPrimary>"u"&&(n.isPrimary=!0),typeof n.width>"u"&&(n.width=1),typeof n.height>"u"&&(n.height=1),typeof n.tiltX>"u"&&(n.tiltX=0),typeof n.tiltY>"u"&&(n.tiltY=0),typeof n.pointerType>"u"&&(n.pointerType="mouse"),typeof n.pointerId>"u"&&(n.pointerId=MD),typeof n.pressure>"u"&&(n.pressure=.5),typeof n.twist>"u"&&(n.twist=0),typeof n.tangentialPressure>"u"&&(n.tangentialPressure=0),n.isNormalized=!0,r.push(n)}else r.push(e);return r}normalizeWheelEvent(e){const r=this.rootWheelEvent;return this.transferMouseData(r,e),r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ,r.deltaMode=e.deltaMode,this.mapPositionToPoint(r.screen,e.clientX,e.clientY),r.global.copyFrom(r.screen),r.offset.copyFrom(r.screen),r.nativeEvent=e,r.type=e.type,r}bootstrapEvent(e,r){return e.originalEvent=null,e.nativeEvent=r,e.pointerId=r.pointerId,e.width=r.width,e.height=r.height,e.isPrimary=r.isPrimary,e.pointerType=r.pointerType,e.pressure=r.pressure,e.tangentialPressure=r.tangentialPressure,e.tiltX=r.tiltX,e.tiltY=r.tiltY,e.twist=r.twist,this.transferMouseData(e,r),this.mapPositionToPoint(e.screen,r.clientX,r.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.isTrusted=r.isTrusted,e.type==="pointerleave"&&(e.type="pointerout"),e.type.startsWith("mouse")&&(e.type=e.type.replace("mouse","pointer")),e.type.startsWith("touch")&&(e.type=DD[e.type]||e.type),e}transferMouseData(e,r){e.isTrusted=r.isTrusted,e.srcElement=r.srcElement,e.timeStamp=performance.now(),e.type=r.type,e.altKey=r.altKey,e.button=r.button,e.buttons=r.buttons,e.client.x=r.clientX,e.client.y=r.clientY,e.ctrlKey=r.ctrlKey,e.metaKey=r.metaKey,e.movement.x=r.movementX,e.movement.y=r.movementY,e.page.x=r.pageX,e.page.y=r.pageY,e.relatedTarget=null,e.shiftKey=r.shiftKey}};f0.extension={name:"events",type:[oe.RendererSystem,oe.CanvasRendererSystem]},f0.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0};let m0=f0;fe.add(m0);class pd{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?Ee.EMPTY:(e=e||new Ee(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:n,b:i,c:s,d:o,tx:l,ty:h}=e,c=n*r.x+s*r.y+l,f=i*r.x+o*r.y+h;this.minX=Math.min(this.minX,c),this.maxX=Math.max(this.maxX,c),this.minY=Math.min(this.minY,f),this.maxY=Math.max(this.maxY,f)}addQuad(e){let r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=e[0],l=e[1];r=o<r?o:r,n=l<n?l:n,i=o>i?o:i,s=l>s?l:s,o=e[2],l=e[3],r=o<r?o:r,n=l<n?l:n,i=o>i?o:i,s=l>s?l:s,o=e[4],l=e[5],r=o<r?o:r,n=l<n?l:n,i=o>i?o:i,s=l>s?l:s,o=e[6],l=e[7],r=o<r?o:r,n=l<n?l:n,i=o>i?o:i,s=l>s?l:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s}addFrame(e,r,n,i,s){this.addFrameMatrix(e.worldTransform,r,n,i,s)}addFrameMatrix(e,r,n,i,s){const o=e.a,l=e.b,h=e.c,c=e.d,f=e.tx,m=e.ty;let p=this.minX,v=this.minY,x=this.maxX,w=this.maxY,A=o*r+h*n+f,S=l*r+c*n+m;p=A<p?A:p,v=S<v?S:v,x=A>x?A:x,w=S>w?S:w,A=o*i+h*n+f,S=l*i+c*n+m,p=A<p?A:p,v=S<v?S:v,x=A>x?A:x,w=S>w?S:w,A=o*r+h*s+f,S=l*r+c*s+m,p=A<p?A:p,v=S<v?S:v,x=A>x?A:x,w=S>w?S:w,A=o*i+h*s+f,S=l*i+c*s+m,p=A<p?A:p,v=S<v?S:v,x=A>x?A:x,w=S>w?S:w,this.minX=p,this.minY=v,this.maxX=x,this.maxY=w}addVertexData(e,r,n){let i=this.minX,s=this.minY,o=this.maxX,l=this.maxY;for(let h=r;h<n;h+=2){const c=e[h],f=e[h+1];i=c<i?c:i,s=f<s?f:s,o=c>o?c:o,l=f>l?f:l}this.minX=i,this.minY=s,this.maxX=o,this.maxY=l}addVertices(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)}addVerticesMatrix(e,r,n,i,s=0,o=s){const l=e.a,h=e.b,c=e.c,f=e.d,m=e.tx,p=e.ty;let v=this.minX,x=this.minY,w=this.maxX,A=this.maxY;for(let S=n;S<i;S+=2){const E=r[S],b=r[S+1],T=l*E+c*b+m,R=f*b+h*E+p;v=Math.min(v,T-s),w=Math.max(w,T+s),x=Math.min(x,R-o),A=Math.max(A,R+o)}this.minX=v,this.minY=x,this.maxX=w,this.maxY=A}addBounds(e){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=s&&i<=o){const l=this.minX,h=this.minY,c=this.maxX,f=this.maxY;this.minX=n<l?n:l,this.minY=i<h?i:h,this.maxX=s>c?s:c,this.maxY=o>f?o:f}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=s&&i<=o){const l=this.minX,h=this.minY,c=this.maxX,f=this.maxY;this.minX=n<l?n:l,this.minY=i<h?i:h,this.maxX=s>c?s:c,this.maxY=o>f?o:f}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,n,i,s,o){e-=s,r-=o,n+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i}}class tt extends vu{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Qd,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new pd,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let n=0;n<r.length;++n){const i=r[n];Object.defineProperty(tt.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new Ee),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new Ee),e=this._localBoundsRect),this._localBounds||(this._localBounds=new pd);const r=this.transform,n=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=(n==null?void 0:n.worldAlpha)??1,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=n,this.transform=r,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,n,i){return r&&(e=r.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,n=1,i=1,s=0,o=0,l=0,h=0,c=0){return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=l,this.pivot.x=h,this.pivot.y=c,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new FD),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*bM}set angle(e){this.transform.rotation=e*uu}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex!==e&&(this._zIndex=e,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class FD extends tt{constructor(){super(...arguments),this.sortDirty=null}}tt.prototype.displayObjectUpdateTransform=tt.prototype.updateTransform;const OD=new Ke;function ND(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const XA=class g0 extends tt{constructor(){super(),this.children=[],this.sortableChildren=g0.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(e){}addChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.addChild(e[r]);else{const r=e[0];r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.push(r),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this)}return e[0]}addChildAt(e,r){if(r<0||r>this.children.length)throw new Error(`${e}addChildAt: The index ${r} supplied is out of bounds ${this.children.length}`);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(r,0,e),this._boundsID++,this.onChildrenChange(r),e.emit("added",this),this.emit("childAdded",e,this,r),e}swapChildren(e,r){if(e===r)return;const n=this.getChildIndex(e),i=this.getChildIndex(r);this.children[n]=r,this.children[i]=e,this.onChildrenChange(n<i?n:i)}getChildIndex(e){const r=this.children.indexOf(e);if(r===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return r}setChildIndex(e,r){if(r<0||r>=this.children.length)throw new Error(`The index ${r} supplied is out of bounds ${this.children.length}`);const n=this.getChildIndex(e);ca(this.children,n,1),this.children.splice(r,0,e),this.onChildrenChange(r)}getChildAt(e){if(e<0||e>=this.children.length)throw new Error(`getChildAt: Index (${e}) does not exist.`);return this.children[e]}removeChild(...e){if(e.length>1)for(let r=0;r<e.length;r++)this.removeChild(e[r]);else{const r=e[0],n=this.children.indexOf(r);if(n===-1)return null;r.parent=null,r.transform._parentID=-1,ca(this.children,n,1),this._boundsID++,this.onChildrenChange(n),r.emit("removed",this),this.emit("childRemoved",r,this,n)}return e[0]}removeChildAt(e){const r=this.getChildAt(e);return r.parent=null,r.transform._parentID=-1,ca(this.children,e,1),this._boundsID++,this.onChildrenChange(e),r.emit("removed",this),this.emit("childRemoved",r,this,e),r}removeChildren(e=0,r=this.children.length){const n=e,i=r,s=i-n;let o;if(s>0&&s<=i){o=this.children.splice(n,s);for(let l=0;l<o.length;++l)o[l].parent=null,o[l].transform&&(o[l].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(let l=0;l<o.length;++l)o[l].emit("removed",this),this.emit("childRemoved",o[l],this,l);return o}else if(s===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let e=!1;for(let r=0,n=this.children.length;r<n;++r){const i=this.children[r];i._lastSortedIndex=r,!e&&i.zIndex!==0&&(e=!0)}e&&this.children.length>1&&this.children.sort(ND),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let e=0,r=this.children.length;e<r;++e){const n=this.children[e];n.visible&&n.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let e=0;e<this.children.length;e++){const r=this.children[e];if(!(!r.visible||!r.renderable))if(r.calculateBounds(),r._mask){const n=r._mask.isMaskData?r._mask.maskObject:r._mask;n?(n.calculateBounds(),this._bounds.addBoundsMask(r._bounds,n._bounds)):this._bounds.addBounds(r._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(e,r=!1){const n=super.getLocalBounds(e);if(!r)for(let i=0,s=this.children.length;i<s;++i){const o=this.children[i];o.visible&&o.updateTransform()}return n}_calculateBounds(){}_renderWithCulling(e){const r=e.renderTexture.sourceFrame;if(!(r.width>0&&r.height>0))return;let n,i;this.cullArea?(n=this.cullArea,i=this.worldTransform):this._render!==g0.prototype._render&&(n=this.getBounds(!0));const s=e.projection.transform;if(s&&(i?(i=OD.copyFrom(i),i.prepend(s)):i=s),n&&r.intersects(n,i))this._render(e);else if(this.cullArea)return;for(let o=0,l=this.children.length;o<l;++o){const h=this.children[o],c=h.cullable;h.cullable=c||!this.cullArea,h.render(e),h.cullable=c}}render(e){var r;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(r=this.filters)!=null&&r.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(let n=0,i=this.children.length;n<i;++n)this.children[n].render(e)}}renderAdvanced(e){var s,o,l;const r=this.filters,n=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let h=0;h<r.length;h++)r[h].enabled&&this._enabledFilters.push(r[h])}const i=r&&((s=this._enabledFilters)==null?void 0:s.length)||n&&(!n.isMaskData||n.enabled&&(n.autoDetect||n.type!==wt.NONE));if(i&&e.batch.flush(),r&&((o=this._enabledFilters)!=null&&o.length)&&e.filter.push(this,this._enabledFilters),n&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e);for(let h=0,c=this.children.length;h<c;++h)this.children[h].render(e)}i&&e.batch.flush(),n&&e.mask.pop(this),r&&((l=this._enabledFilters)!=null&&l.length)&&e.filter.pop()}_render(e){}destroy(e){super.destroy(),this.sortDirty=!1;const r=typeof e=="boolean"?e:e==null?void 0:e.children,n=this.removeChildren(0,this.children.length);if(r)for(let i=0;i<n.length;++i)n[i].destroy(e)}get width(){return this.scale.x*this.getLocalBounds().width}set width(e){const r=this.getLocalBounds().width;r!==0?this.scale.x=e/r:this.scale.x=1,this._width=e}get height(){return this.scale.y*this.getLocalBounds().height}set height(e){const r=this.getLocalBounds().height;r!==0?this.scale.y=e/r:this.scale.y=1,this._height=e}};XA.defaultSortableChildren=!1;let ir=XA;ir.prototype.containerUpdateTransform=ir.prototype.updateTransform;Object.defineProperties(ae,{SORTABLE_CHILDREN:{get(){return ir.defaultSortableChildren},set(t){Ae("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),ir.defaultSortableChildren=t}}});function fb(t){return t==="dynamic"||t==="static"}const BD={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??fb(m0.defaultEventMode)},set interactive(t){Ae("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??m0.defaultEventMode},set eventMode(t){this._internalInteractive=fb(t),this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof r=="object"?r.signal:void 0,s=typeof r=="object"?r.once===!0:!1,o=typeof e=="function"?void 0:e;t=n?`${t}capture`:t;const l=typeof e=="function"?e:e.handleEvent,h=this;i&&i.addEventListener("abort",()=>{h.off(t,l,o)}),s?h.once(t,l,o):h.on(t,l,o)},removeEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof bu))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};tt.mixin(BD);var qd={exports:{}},Zd=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(Zd||{});const dl=new Se,LD=new Uint16Array([0,1,2,0,2,3]);class qn extends ir{constructor(e){super(),this._anchor=new cn(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new He(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=ve.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||ne.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=LD,this.pluginName="batch",this.isSprite=!0,this._roundPixels=ae.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Ki(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Ki(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,l=r.tx,h=r.ty,c=this.vertexData,f=e.trim,m=e.orig,p=this._anchor;let v=0,x=0,w=0,A=0;if(f?(x=f.x-p._x*m.width,v=x+f.width,A=f.y-p._y*m.height,w=A+f.height):(x=-p._x*m.width,v=x+m.width,A=-p._y*m.height,w=A+m.height),c[0]=n*x+s*A+l,c[1]=o*A+i*x+h,c[2]=n*v+s*A+l,c[3]=o*A+i*v+h,c[4]=n*v+s*w+l,c[5]=o*w+i*v+h,c[6]=n*x+s*w+l,c[7]=o*w+i*x+h,this._roundPixels){const S=ae.RESOLUTION;for(let E=0;E<c.length;++E)c[E]=Math.round(c[E]*S)/S}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,n=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,l=s.b,h=s.c,c=s.d,f=s.tx,m=s.ty,p=-i._x*n.width,v=p+n.width,x=-i._y*n.height,w=x+n.height;if(r[0]=o*p+h*x+f,r[1]=c*x+l*p+m,r[2]=o*v+h*x+f,r[3]=c*x+l*v+m,r[4]=o*v+h*w+f,r[5]=c*w+l*v+m,r[6]=o*p+h*w+f,r[7]=c*w+l*p+m,this._roundPixels){const A=ae.RESOLUTION;for(let S=0;S<r.length;++S)r[S]=Math.round(r[S]*A)/A}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new pd),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ee),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,dl);const r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x;let s=0;return dl.x>=i&&dl.x<i+r&&(s=-n*this.anchor.y,dl.y>=s&&dl.y<s+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,r){const n=e instanceof ne?e:ne.from(e,r);return new qn(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=Ki(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=Ki(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||ne.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const Wh={willReadFrequently:!0},Dn=class me{static get experimentalLetterSpacingSupported(){let e=me._experimentalLetterSpacingSupported;if(e!==void 0){const r=ae.ADAPTER.getCanvasRenderingContext2D().prototype;e=me._experimentalLetterSpacingSupported="letterSpacing"in r||"textLetterSpacing"in r}return e}constructor(e,r,n,i,s,o,l,h,c){this.text=e,this.style=r,this.width=n,this.height=i,this.lines=s,this.lineWidths=o,this.lineHeight=l,this.maxLineWidth=h,this.fontProperties=c}static measureText(e,r,n,i=me._canvas){n=n??r.wordWrap;const s=r.toFontString(),o=me.measureFont(s);o.fontSize===0&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);const l=i.getContext("2d",Wh);l.font=s;const h=(n?me.wordWrap(e,r,i):e).split(/(?:\r\n|\r|\n)/),c=new Array(h.length);let f=0;for(let x=0;x<h.length;x++){const w=me._measureText(h[x],r.letterSpacing,l);c[x]=w,f=Math.max(f,w)}let m=f+r.strokeThickness;r.dropShadow&&(m+=r.dropShadowDistance);const p=r.lineHeight||o.fontSize+r.strokeThickness;let v=Math.max(p,o.fontSize+r.strokeThickness*2)+r.leading+(h.length-1)*(p+r.leading);return r.dropShadow&&(v+=r.dropShadowDistance),new me(e,r,m,v,h,c,p+r.leading,f,o)}static _measureText(e,r,n){let i=!1;me.experimentalLetterSpacingSupported&&(me.experimentalLetterSpacing?(n.letterSpacing=`${r}px`,n.textLetterSpacing=`${r}px`,i=!0):(n.letterSpacing="0px",n.textLetterSpacing="0px"));let s=n.measureText(e).width;return s>0&&(i?s-=r:s+=(me.graphemeSegmenter(e).length-1)*r),s}static wordWrap(e,r,n=me._canvas){const i=n.getContext("2d",Wh);let s=0,o="",l="";const h=Object.create(null),{letterSpacing:c,whiteSpace:f}=r,m=me.collapseSpaces(f),p=me.collapseNewlines(f);let v=!m;const x=r.wordWrapWidth+c,w=me.tokenize(e);for(let A=0;A<w.length;A++){let S=w[A];if(me.isNewline(S)){if(!p){l+=me.addLine(o),v=!m,o="",s=0;continue}S=" "}if(m){const b=me.isBreakingSpace(S),T=me.isBreakingSpace(o[o.length-1]);if(b&&T)continue}const E=me.getFromCache(S,c,h,i);if(E>x)if(o!==""&&(l+=me.addLine(o),o="",s=0),me.canBreakWords(S,r.breakWords)){const b=me.wordWrapSplit(S);for(let T=0;T<b.length;T++){let R=b[T],B=R,M=1;for(;b[T+M];){const $=b[T+M];if(!me.canBreakChars(B,$,S,T,r.breakWords))R+=$;else break;B=$,M++}T+=M-1;const k=me.getFromCache(R,c,h,i);k+s>x&&(l+=me.addLine(o),v=!1,o="",s=0),o+=R,s+=k}}else{o.length>0&&(l+=me.addLine(o),o="",s=0);const b=A===w.length-1;l+=me.addLine(S,!b),v=!1,o="",s=0}else E+s>x&&(v=!1,l+=me.addLine(o),o="",s=0),(o.length>0||!me.isBreakingSpace(S)||v)&&(o+=S,s+=E)}return l+=me.addLine(o,!1),l}static addLine(e,r=!0){return e=me.trimRight(e),e=r?`${e}
`:e,e}static getFromCache(e,r,n,i){let s=n[e];return typeof s!="number"&&(s=me._measureText(e,r,i)+r,n[e]=s),s}static collapseSpaces(e){return e==="normal"||e==="pre-line"}static collapseNewlines(e){return e==="normal"}static trimRight(e){if(typeof e!="string")return"";for(let r=e.length-1;r>=0;r--){const n=e[r];if(!me.isBreakingSpace(n))break;e=e.slice(0,-1)}return e}static isNewline(e){return typeof e!="string"?!1:me._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,r){return typeof e!="string"?!1:me._breakingSpaces.includes(e.charCodeAt(0))}static tokenize(e){const r=[];let n="";if(typeof e!="string")return r;for(let i=0;i<e.length;i++){const s=e[i],o=e[i+1];if(me.isBreakingSpace(s,o)||me.isNewline(s)){n!==""&&(r.push(n),n=""),r.push(s);continue}n+=s}return n!==""&&r.push(n),r}static canBreakWords(e,r){return r}static canBreakChars(e,r,n,i,s){return!0}static wordWrapSplit(e){return me.graphemeSegmenter(e)}static measureFont(e){if(me._fonts[e])return me._fonts[e];const r={ascent:0,descent:0,fontSize:0},n=me._canvas,i=me._context;i.font=e;const s=me.METRICS_STRING+me.BASELINE_SYMBOL,o=Math.ceil(i.measureText(s).width);let l=Math.ceil(i.measureText(me.BASELINE_SYMBOL).width);const h=Math.ceil(me.HEIGHT_MULTIPLIER*l);if(l=l*me.BASELINE_MULTIPLIER|0,o===0||h===0)return me._fonts[e]=r,r;n.width=o,n.height=h,i.fillStyle="#f00",i.fillRect(0,0,o,h),i.font=e,i.textBaseline="alphabetic",i.fillStyle="#000",i.fillText(s,0,l);const c=i.getImageData(0,0,o,h).data,f=c.length,m=o*4;let p=0,v=0,x=!1;for(p=0;p<l;++p){for(let w=0;w<m;w+=4)if(c[v+w]!==255){x=!0;break}if(!x)v+=m;else break}for(r.ascent=l-p,v=f-m,x=!1,p=h;p>l;--p){for(let w=0;w<m;w+=4)if(c[v+w]!==255){x=!0;break}if(!x)v-=m;else break}return r.descent=p-l,r.fontSize=r.ascent+r.descent,me._fonts[e]=r,r}static clearMetrics(e=""){e?delete me._fonts[e]:me._fonts={}}static get _canvas(){var e;if(!me.__canvas){let r;try{const n=new OffscreenCanvas(0,0);if((e=n.getContext("2d",Wh))!=null&&e.measureText)return me.__canvas=n,n;r=ae.ADAPTER.createCanvas()}catch{r=ae.ADAPTER.createCanvas()}r.width=r.height=10,me.__canvas=r}return me.__canvas}static get _context(){return me.__context||(me.__context=me._canvas.getContext("2d",Wh)),me.__context}};Dn.METRICS_STRING="|q",Dn.BASELINE_SYMBOL="M",Dn.BASELINE_MULTIPLIER=1.4,Dn.HEIGHT_MULTIPLIER=2,Dn.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})(),Dn.experimentalLetterSpacing=!1,Dn._fonts={},Dn._newlines=[10,13],Dn._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];let Hi=Dn;const UD=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],$A=class wl{constructor(e){this.styleID=0,this.reset(),Am(this,e,e)}clone(){const e={};return Am(e,this,wl.defaultStyle),new wl(e)}reset(){Am(this,wl.defaultStyle,wl.defaultStyle)}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(e){const r=Em(e);this._dropShadowColor!==r&&(this._dropShadowColor=r,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}get fill(){return this._fill}set fill(e){const r=Em(e);this._fill!==r&&(this._fill=r,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(e){zD(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}get leading(){return this._leading}set leading(e){this._leading!==e&&(this._leading=e,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}get padding(){return this._padding}set padding(e){this._padding!==e&&(this._padding=e,this.styleID++)}get stroke(){return this._stroke}set stroke(e){const r=Em(e);this._stroke!==r&&(this._stroke=r,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}get trim(){return this._trim}set trim(e){this._trim!==e&&(this._trim=e,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}toFontString(){const e=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let r=this.fontFamily;Array.isArray(this.fontFamily)||(r=this.fontFamily.split(","));for(let n=r.length-1;n>=0;n--){let i=r[n].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!UD.includes(i)&&(i=`"${i}"`),r[n]=i}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${e} ${r.join(",")}`}};$A.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Zd.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let cs=$A;function Em(t){const e=He.shared,r=n=>{const i=e.setValue(n);return i.alpha===1?i.toHex():i.toRgbaString()};return Array.isArray(t)?t.map(r):r(t)}function zD(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function Am(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const GD={texture:!0,children:!1,baseTexture:!0},YA=class y0 extends qn{constructor(e,r,n){let i=!1;n||(n=ae.ADAPTER.createCanvas(),i=!0),n.width=3,n.height=3;const s=ne.from(n);s.orig=new Ee,s.trim=new Ee,super(s),this._ownCanvas=i,this.canvas=n,this.context=n.getContext("2d",{willReadFrequently:!0}),this._resolution=y0.defaultResolution??ae.RESOLUTION,this._autoResolution=y0.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=e,this.style=r,this.localStyleID=-1}static get experimentalLetterSpacing(){return Hi.experimentalLetterSpacing}static set experimentalLetterSpacing(e){Ae("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),Hi.experimentalLetterSpacing=e}updateText(e){const r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;this._font=this._style.toFontString();const n=this.context,i=Hi.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=i.width,o=i.height,l=i.lines,h=i.lineHeight,c=i.lineWidths,f=i.maxLineWidth,m=i.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+r.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+r.padding*2)*this._resolution),n.scale(this._resolution,this._resolution),n.clearRect(0,0,this.canvas.width,this.canvas.height),n.font=this._font,n.lineWidth=r.strokeThickness,n.textBaseline=r.textBaseline,n.lineJoin=r.lineJoin,n.miterLimit=r.miterLimit;let p,v;const x=r.dropShadow?2:1;for(let w=0;w<x;++w){const A=r.dropShadow&&w===0,S=A?Math.ceil(Math.max(1,o)+r.padding*2):0,E=S*this._resolution;if(A){n.fillStyle="black",n.strokeStyle="black";const T=r.dropShadowColor,R=r.dropShadowBlur*this._resolution,B=r.dropShadowDistance*this._resolution;n.shadowColor=He.shared.setValue(T).setAlpha(r.dropShadowAlpha).toRgbaString(),n.shadowBlur=R,n.shadowOffsetX=Math.cos(r.dropShadowAngle)*B,n.shadowOffsetY=Math.sin(r.dropShadowAngle)*B+E}else n.fillStyle=this._generateFillStyle(r,l,i),n.strokeStyle=r.stroke,n.shadowColor="black",n.shadowBlur=0,n.shadowOffsetX=0,n.shadowOffsetY=0;let b=(h-m.fontSize)/2;h-m.fontSize<0&&(b=0);for(let T=0;T<l.length;T++)p=r.strokeThickness/2,v=r.strokeThickness/2+T*h+m.ascent+b,r.align==="right"?p+=f-c[T]:r.align==="center"&&(p+=(f-c[T])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(l[T],p+r.padding,v+r.padding-S,!0),r.fill&&this.drawLetterSpacing(l[T],p+r.padding,v+r.padding-S)}this.updateTexture()}drawLetterSpacing(e,r,n,i=!1){const s=this._style.letterSpacing;let o=!1;if(Hi.experimentalLetterSpacingSupported&&(Hi.experimentalLetterSpacing?(this.context.letterSpacing=`${s}px`,this.context.textLetterSpacing=`${s}px`,o=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),s===0||o){i?this.context.strokeText(e,r,n):this.context.fillText(e,r,n);return}let l=r;const h=Hi.graphemeSegmenter(e);let c=this.context.measureText(e).width,f=0;for(let m=0;m<h.length;++m){const p=h[m];i?this.context.strokeText(p,l,n):this.context.fillText(p,l,n);let v="";for(let x=m+1;x<h.length;++x)v+=h[x];f=this.context.measureText(v).width,l+=c-f+s,c=f}}updateTexture(){const e=this.canvas;if(this._style.trim){const o=hM(e);o.data&&(e.width=o.width,e.height=o.height,this.context.putImageData(o.data,0,0))}const r=this._texture,n=this._style,i=n.trim?0:n.padding,s=r.baseTexture;r.trim.width=r._frame.width=e.width/this._resolution,r.trim.height=r._frame.height=e.height/this._resolution,r.trim.x=-i,r.trim.y=-i,r.orig.width=r._frame.width-i*2,r.orig.height=r._frame.height-i*2,this._onTextureUpdate(),s.setRealSize(e.width,e.height,this._resolution),r.updateUvs(),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(e,r){return this.updateText(!0),this._textureID===-1&&(e=!1),super.getBounds(e,r)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds.call(this,e)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(e,r,n){const i=e.fill;if(Array.isArray(i)){if(i.length===1)return i[0]}else return i;let s;const o=e.dropShadow?e.dropShadowDistance:0,l=e.padding||0,h=this.canvas.width/this._resolution-o-l*2,c=this.canvas.height/this._resolution-o-l*2,f=i.slice(),m=e.fillGradientStops.slice();if(!m.length){const p=f.length+1;for(let v=1;v<p;++v)m.push(v/p)}if(f.unshift(i[0]),m.unshift(0),f.push(i[i.length-1]),m.push(1),e.fillGradientType===Zd.LINEAR_VERTICAL){s=this.context.createLinearGradient(h/2,l,h/2,c+l);const p=n.fontProperties.fontSize+e.strokeThickness;for(let v=0;v<r.length;v++){const x=n.lineHeight*(v-1)+p,w=n.lineHeight*v;let A=w;v>0&&x>w&&(A=(w+x)/2);const S=w+p,E=n.lineHeight*(v+1);let b=S;v+1<r.length&&E<S&&(b=(S+E)/2);const T=(b-A)/c;for(let R=0;R<f.length;R++){let B=0;typeof m[R]=="number"?B=m[R]:B=R/f.length;let M=Math.min(1,Math.max(0,A/c+B*T));M=Number(M.toFixed(5)),s.addColorStop(M,f[R])}}}else{s=this.context.createLinearGradient(l,c/2,h+l,c/2);const p=f.length+1;let v=1;for(let x=0;x<f.length;x++){let w;typeof m[x]=="number"?w=m[x]:w=v/p,s.addColorStop(w,f[x]),v++}}return s}destroy(e){typeof e=="boolean"&&(e={children:e}),e=Object.assign({},GD,e),super.destroy(e),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this.updateText(!0);const r=Ki(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this.updateText(!0);const r=Ki(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get style(){return this._style}set style(e){e=e||{},e instanceof cs?this._style=e:this._style=new cs(e),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}};YA.defaultAutoResolution=!0;let $y=YA;class md{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Cc{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const o=r[s].match(/^[a-z]+/gm)[0],l=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),h={};for(const c in l){const f=l[c].split("="),m=f[0],p=f[1].replace(/"/gm,""),v=parseFloat(p),x=isNaN(v)?p:v;h[m]=x}n[o].push(h)}const i=new md;return n.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),n.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),n.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),n.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),n.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),n.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class v0{static test(e){const r=e;return typeof e!="string"&&"getElementsByTagName"in e&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new md,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),l=e.getElementsByTagName("kerning"),h=e.getElementsByTagName("distanceField");for(let c=0;c<n.length;c++)r.info.push({face:n[c].getAttribute("face"),size:parseInt(n[c].getAttribute("size"),10)});for(let c=0;c<i.length;c++)r.common.push({lineHeight:parseInt(i[c].getAttribute("lineHeight"),10)});for(let c=0;c<s.length;c++)r.page.push({id:parseInt(s[c].getAttribute("id"),10)||0,file:s[c].getAttribute("file")});for(let c=0;c<o.length;c++){const f=o[c];r.char.push({id:parseInt(f.getAttribute("id"),10),page:parseInt(f.getAttribute("page"),10)||0,x:parseInt(f.getAttribute("x"),10),y:parseInt(f.getAttribute("y"),10),width:parseInt(f.getAttribute("width"),10),height:parseInt(f.getAttribute("height"),10),xoffset:parseInt(f.getAttribute("xoffset"),10),yoffset:parseInt(f.getAttribute("yoffset"),10),xadvance:parseInt(f.getAttribute("xadvance"),10)})}for(let c=0;c<l.length;c++)r.kerning.push({first:parseInt(l[c].getAttribute("first"),10),second:parseInt(l[c].getAttribute("second"),10),amount:parseInt(l[c].getAttribute("amount"),10)});for(let c=0;c<h.length;c++)r.distanceField.push({fieldType:h[c].getAttribute("fieldType"),distanceRange:parseInt(h[c].getAttribute("distanceRange"),10)});return r}}class x0{static test(e){return typeof e=="string"&&e.includes("<font>")?v0.test(ae.ADAPTER.parseXML(e)):!1}static parse(e){return v0.parse(ae.ADAPTER.parseXML(e))}}const Tm=[Cc,v0,x0];function jD(t){for(let e=0;e<Tm.length;e++)if(Tm[e].test(t))return Tm[e];return null}function HD(t,e,r,n,i,s){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let l;const h=r.dropShadow?r.dropShadowDistance:0,c=r.padding||0,f=t.width/n-h-c*2,m=t.height/n-h-c*2,p=o.slice(),v=r.fillGradientStops.slice();if(!v.length){const x=p.length+1;for(let w=1;w<x;++w)v.push(w/x)}if(p.unshift(o[0]),v.unshift(0),p.push(o[o.length-1]),v.push(1),r.fillGradientType===Zd.LINEAR_VERTICAL){l=e.createLinearGradient(f/2,c,f/2,m+c);let x=0;const w=(s.fontProperties.fontSize+r.strokeThickness)/m;for(let A=0;A<i.length;A++){const S=s.lineHeight*A;for(let E=0;E<p.length;E++){let b=0;typeof v[E]=="number"?b=v[E]:b=E/p.length;const T=S/m+b*w;let R=Math.max(x,T);R=Math.min(R,1),l.addColorStop(R,p[E]),x=R}}}else{l=e.createLinearGradient(c,m/2,f+c,m/2);const x=p.length+1;let w=1;for(let A=0;A<p.length;A++){let S;typeof v[A]=="number"?S=v[A]:S=w/x,l.addColorStop(S,p[A]),w++}}return l}function WD(t,e,r,n,i,s,o){const l=r.text,h=r.fontProperties;e.translate(n,i),e.scale(s,s);const c=o.strokeThickness/2,f=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=HD(t,e,o,s,[l],r),e.strokeStyle=o.stroke,o.dropShadow){const m=o.dropShadowColor,p=o.dropShadowBlur*s,v=o.dropShadowDistance*s;e.shadowColor=He.shared.setValue(m).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=p,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*v,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*v}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(l,c,f+r.lineHeight-h.descent),o.fill&&e.fillText(l,c,f+r.lineHeight-h.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Pc(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function QA(t){return Array.from?Array.from(t):t.split("")}function VD(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let l=s,h=o;l<=h;l++)e.push(String.fromCharCode(l))}else e.push(...QA(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const Li=class Fn{constructor(e,r,n){var f;const[i]=e.info,[s]=e.common,[o]=e.page,[l]=e.distanceField,h=xi(o.file),c={};this._ownsTextures=n,this.font=i.face,this.size=i.size,this.lineHeight=s.lineHeight/h,this.chars={},this.pageTextures=c;for(let m=0;m<e.page.length;m++){const{id:p,file:v}=e.page[m];c[p]=r instanceof Array?r[m]:r[v],l!=null&&l.fieldType&&l.fieldType!=="none"&&(c[p].baseTexture.alphaMode=fr.NO_PREMULTIPLIED_ALPHA,c[p].baseTexture.mipmap=$n.OFF)}for(let m=0;m<e.char.length;m++){const{id:p,page:v}=e.char[m];let{x,y:w,width:A,height:S,xoffset:E,yoffset:b,xadvance:T}=e.char[m];x/=h,w/=h,A/=h,S/=h,E/=h,b/=h,T/=h;const R=new Ee(x+c[v].frame.x/h,w+c[v].frame.y/h,A,S);this.chars[p]={xOffset:E,yOffset:b,xAdvance:T,kerning:{},texture:new ne(c[v].baseTexture,R),page:v}}for(let m=0;m<e.kerning.length;m++){let{first:p,second:v,amount:x}=e.kerning[m];p/=h,v/=h,x/=h,this.chars[v]&&(this.chars[v].kerning[p]=x)}this.distanceFieldRange=l==null?void 0:l.distanceRange,this.distanceFieldType=((f=l==null?void 0:l.fieldType)==null?void 0:f.toLowerCase())??"none"}destroy(){for(const e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(const e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null}static install(e,r,n){let i;if(e instanceof md)i=e;else{const o=jD(e);if(!o)throw new Error("Unrecognized data format for font.");i=o.parse(e)}r instanceof ne&&(r=[r]);const s=new Fn(i,r,n);return Fn.available[s.font]=s,s}static uninstall(e){const r=Fn.available[e];if(!r)throw new Error(`No font found named '${e}'`);r.destroy(),delete Fn.available[e]}static from(e,r,n){if(!e)throw new Error("[BitmapFont] Property `name` is required.");const{chars:i,padding:s,resolution:o,textureWidth:l,textureHeight:h,...c}=Object.assign({},Fn.defaultOptions,n),f=VD(i),m=r instanceof cs?r:new cs(r),p=l,v=new md;v.info[0]={face:m.fontFamily,size:m.fontSize},v.common[0]={lineHeight:m.fontSize};let x=0,w=0,A,S,E,b=0;const T=[];for(let B=0;B<f.length;B++){A||(A=ae.ADAPTER.createCanvas(),A.width=l,A.height=h,S=A.getContext("2d"),E=new we(A,{resolution:o,...c}),T.push(new ne(E)),v.page.push({id:T.length-1,file:""}));const M=f[B],k=Hi.measureText(M,m,!1,A),$=k.width,X=Math.ceil(k.height),ie=Math.ceil((m.fontStyle==="italic"?2:1)*$);if(w>=h-X*o){if(w===0)throw new Error(`[BitmapFont] textureHeight ${h}px is too small (fontFamily: '${m.fontFamily}', fontSize: ${m.fontSize}px, char: '${M}')`);--B,A=null,S=null,E=null,w=0,x=0,b=0;continue}if(b=Math.max(X+k.fontProperties.descent,b),ie*o+x>=p){if(x===0)throw new Error(`[BitmapFont] textureWidth ${l}px is too small (fontFamily: '${m.fontFamily}', fontSize: ${m.fontSize}px, char: '${M}')`);--B,w+=b*o,w=Math.ceil(w),x=0,b=0;continue}WD(A,S,k,x,w,o,m);const ee=Pc(k.text);v.char.push({id:ee,page:T.length-1,x:x/o,y:w/o,width:ie,height:X,xoffset:0,yoffset:0,xadvance:$-(m.dropShadow?m.dropShadowDistance:0)-(m.stroke?m.strokeThickness:0)}),x+=(ie+2*s)*o,x=Math.ceil(x)}if(!(n!=null&&n.skipKerning))for(let B=0,M=f.length;B<M;B++){const k=f[B];for(let $=0;$<M;$++){const X=f[$],ie=S.measureText(k).width,ee=S.measureText(X).width,O=S.measureText(k+X).width-(ie+ee);O&&v.kerning.push({first:Pc(k),second:Pc(X),amount:O})}}const R=new Fn(v,T,!0);return Fn.available[e]!==void 0&&Fn.uninstall(e),Fn.available[e]=R,R}};Li.ALPHA=[["a","z"],["A","Z"]," "],Li.NUMERIC=[["0","9"]],Li.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],Li.ASCII=[[" ","~"]],Li.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:Li.ALPHANUMERIC},Li.available={};let Ui=Li;class XD{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const Cm=new Se,pb=new Qs,KA=class qA extends ir{constructor(e,r,n,i=hn.TRIANGLES){super(),this.geometry=e,this.shader=r,this.state=n||Kn.for2d(),this.drawMode=i,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=ae.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){const r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===hn.TRIANGLES&&r.length<qA.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){const r=this.shader;r.alpha=this.worldAlpha,r.update&&r.update(),e.batch.flush(),r.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(r),e.state.set(this.state),e.geometry.bind(this.geometry,r),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){const r=this.geometry,n=this.shader;n.uvMatrix&&(n.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=r.indexBuffer.data,this._tintRGB=n._tintRGB,this._texture=n.texture;const i=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[i]),e.plugins[i].render(this)}calculateVertices(){const e=this.geometry.buffers[0],r=e.data,n=e._updateID;if(n===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==r.length&&(this.vertexData=new Float32Array(r.length));const i=this.transform.worldTransform,s=i.a,o=i.b,l=i.c,h=i.d,c=i.tx,f=i.ty,m=this.vertexData;for(let p=0;p<m.length/2;p++){const v=r[p*2],x=r[p*2+1];m[p*2]=s*v+l*x+c,m[p*2+1]=o*v+h*x+f}if(this._roundPixels){const p=ae.RESOLUTION;for(let v=0;v<m.length;++v)m[v]=Math.round(m[v]*p)/p}this.vertexDirty=n}calculateUvs(){const e=this.geometry.buffers[1],r=this.shader;r.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new XD(e,r.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,Cm);const r=this.geometry.getBuffer("aVertexPosition").data,n=pb.points,i=this.geometry.getIndex().data,s=i.length,o=this.drawMode===4?3:1;for(let l=0;l+2<s;l+=o){const h=i[l]*2,c=i[l+1]*2,f=i[l+2]*2;if(n[0]=r[h],n[1]=r[h+1],n[2]=r[c],n[3]=r[c+1],n[4]=r[f],n[5]=r[f+1],pb.contains(Cm.x,Cm.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};KA.BATCHABLE_SIZE=100;let hu=KA;class Jd extends us{constructor(e,r,n){super();const i=new mt(e),s=new mt(r,!0),o=new mt(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,ge.FLOAT).addAttribute("aTextureCoord",s,2,!1,ge.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var $D=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,YD=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class cu extends Xn{constructor(e,r){const n={uSampler:e,alpha:1,uTextureMatrix:Ke.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||ci.from(YD,$D),n),this._colorDirty=!1,this.uvMatrix=new Vy(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new He(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;He.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}var QD=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,KD=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const mb=[],gb=[],yb=[],ZA=class JA extends ir{constructor(e,r={}){super();const{align:n,tint:i,maxWidth:s,letterSpacing:o,fontName:l,fontSize:h}=Object.assign({},JA.styleDefaults,r);if(!Ui.available[l])throw new Error(`Missing BitmapFont "${l}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=n,this._tintColor=new He(i),this._font=void 0,this._fontName=l,this._fontSize=h,this.text=e,this._maxWidth=s,this._maxLineHeight=0,this._letterSpacing=o,this._anchor=new cn(()=>{this.dirty=!0},this,0,0),this._roundPixels=ae.ROUND_PIXELS,this.dirty=!0,this._resolution=ae.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var ie;const e=Ui.available[this._fontName],r=this.fontSize,n=r/e.size,i=new Se,s=[],o=[],l=[],h=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",c=QA(h),f=this._maxWidth*e.size/r,m=e.distanceFieldType==="none"?mb:gb;let p=null,v=0,x=0,w=0,A=-1,S=0,E=0,b=0,T=0;for(let ee=0;ee<c.length;ee++){const O=c[ee],W=Pc(O);if(/(?:\s)/.test(O)&&(A=ee,S=v,T++),O==="\r"||O===`
`){o.push(v),l.push(-1),x=Math.max(x,v),++w,++E,i.x=0,i.y+=e.lineHeight,p=null,T=0;continue}const te=e.chars[W];if(!te)continue;p&&te.kerning[p]&&(i.x+=te.kerning[p]);const ue=yb.pop()||{texture:ne.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Se};ue.texture=te.texture,ue.line=w,ue.charCode=W,ue.position.x=Math.round(i.x+te.xOffset+this._letterSpacing/2),ue.position.y=Math.round(i.y+te.yOffset),ue.prevSpaces=T,s.push(ue),v=ue.position.x+Math.max(te.xAdvance-te.xOffset,te.texture.orig.width),i.x+=te.xAdvance+this._letterSpacing,b=Math.max(b,te.yOffset+te.texture.height),p=W,A!==-1&&f>0&&i.x>f&&(++E,ca(s,1+A-E,1+ee-A),ee=A,A=-1,o.push(S),l.push(s.length>0?s[s.length-1].prevSpaces:0),x=Math.max(x,S),w++,i.x=0,i.y+=e.lineHeight,p=null,T=0)}const R=c[c.length-1];R!=="\r"&&R!==`
`&&(/(?:\s)/.test(R)&&(v=S),o.push(v),x=Math.max(x,v),l.push(-1));const B=[];for(let ee=0;ee<=w;ee++){let O=0;this._align==="right"?O=x-o[ee]:this._align==="center"?O=(x-o[ee])/2:this._align==="justify"&&(O=l[ee]<0?0:(x-o[ee])/l[ee]),B.push(O)}const M=s.length,k={},$=[],X=this._activePagesMeshData;m.push(...X);for(let ee=0;ee<M;ee++){const O=s[ee].texture,W=O.baseTexture.uid;if(!k[W]){let te=m.pop();if(!te){const H=new Jd;let P,U;e.distanceFieldType==="none"?(P=new cu(ne.EMPTY),U=ve.NORMAL):(P=new cu(ne.EMPTY,{program:ci.from(KD,QD),uniforms:{uFWidth:0}}),U=ve.NORMAL_NPM);const D=new hu(H,P);D.blendMode=U,te={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:D,vertices:null,uvs:null,indices:null}}te.index=0,te.indexCount=0,te.vertexCount=0,te.uvsCount=0,te.total=0;const{_textureCache:ue}=this;ue[W]=ue[W]||new ne(O.baseTexture),te.mesh.texture=ue[W],te.mesh.tint=this._tintColor.value,$.push(te),k[W]=te}k[W].total++}for(let ee=0;ee<X.length;ee++)$.includes(X[ee])||this.removeChild(X[ee].mesh);for(let ee=0;ee<$.length;ee++)$[ee].mesh.parent!==this&&this.addChild($[ee].mesh);this._activePagesMeshData=$;for(const ee in k){const O=k[ee],W=O.total;if(!(((ie=O.indices)==null?void 0:ie.length)>6*W)||O.vertices.length<hu.BATCHABLE_SIZE*2)O.vertices=new Float32Array(4*2*W),O.uvs=new Float32Array(4*2*W),O.indices=new Uint16Array(6*W);else{const te=O.total,ue=O.vertices;for(let H=te*4*2;H<ue.length;H++)ue[H]=0}O.mesh.size=6*W}for(let ee=0;ee<M;ee++){const O=s[ee];let W=O.position.x+B[O.line]*(this._align==="justify"?O.prevSpaces:1);this._roundPixels&&(W=Math.round(W));const te=W*n,ue=O.position.y*n,H=O.texture,P=k[H.baseTexture.uid],U=H.frame,D=H._uvs,G=P.index++;P.indices[G*6+0]=0+G*4,P.indices[G*6+1]=1+G*4,P.indices[G*6+2]=2+G*4,P.indices[G*6+3]=0+G*4,P.indices[G*6+4]=2+G*4,P.indices[G*6+5]=3+G*4,P.vertices[G*8+0]=te,P.vertices[G*8+1]=ue,P.vertices[G*8+2]=te+U.width*n,P.vertices[G*8+3]=ue,P.vertices[G*8+4]=te+U.width*n,P.vertices[G*8+5]=ue+U.height*n,P.vertices[G*8+6]=te,P.vertices[G*8+7]=ue+U.height*n,P.uvs[G*8+0]=D.x0,P.uvs[G*8+1]=D.y0,P.uvs[G*8+2]=D.x1,P.uvs[G*8+3]=D.y1,P.uvs[G*8+4]=D.x2,P.uvs[G*8+5]=D.y2,P.uvs[G*8+6]=D.x3,P.uvs[G*8+7]=D.y3}this._textWidth=x*n,this._textHeight=(i.y+e.lineHeight)*n;for(const ee in k){const O=k[ee];if(this.anchor.x!==0||this.anchor.y!==0){let H=0;const P=this._textWidth*this.anchor.x,U=this._textHeight*this.anchor.y;for(let D=0;D<O.total;D++)O.vertices[H++]-=P,O.vertices[H++]-=U,O.vertices[H++]-=P,O.vertices[H++]-=U,O.vertices[H++]-=P,O.vertices[H++]-=U,O.vertices[H++]-=P,O.vertices[H++]-=U}this._maxLineHeight=b*n;const W=O.mesh.geometry.getBuffer("aVertexPosition"),te=O.mesh.geometry.getBuffer("aTextureCoord"),ue=O.mesh.geometry.getIndex();W.data=O.vertices,te.data=O.uvs,ue.data=O.indices,W.update(),te.update(),ue.update()}for(let ee=0;ee<s.length;ee++)yb.push(s[ee]);this._font=e,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0);const{distanceFieldRange:r,distanceFieldType:n,size:i}=Ui.available[this._fontName];if(n!=="none"){const{a:s,b:o,c:l,d:h}=this.worldTransform,c=Math.sqrt(s*s+o*o),f=Math.sqrt(l*l+h*h),m=(Math.abs(c)+Math.abs(f))/2,p=this.fontSize/i,v=e._view.resolution;for(const x of this._activePagesMeshData)x.mesh.shader.uniforms.uFWidth=m*r*p*v}super._render(e)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const e=Ui.available[this._fontName];if(!e)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==e&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(e){if(this.tint!==e){this._tintColor.setValue(e);for(let r=0;r<this._activePagesMeshData.length;r++)this._activePagesMeshData[r].mesh.tint=e}}get align(){return this._align}set align(e){this._align!==e&&(this._align=e,this.dirty=!0)}get fontName(){return this._fontName}set fontName(e){if(!Ui.available[e])throw new Error(`Missing BitmapFont "${e}"`);this._fontName!==e&&(this._fontName=e,this.dirty=!0)}get fontSize(){return this._fontSize??Ui.available[this._fontName].size}set fontSize(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get text(){return this._text}set text(e){e=String(e??""),this._text!==e&&(this._text=e,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}destroy(e){const{_textureCache:r}=this,n=Ui.available[this._fontName].distanceFieldType==="none"?mb:gb;n.push(...this._activePagesMeshData);for(const i of this._activePagesMeshData)this.removeChild(i.mesh);this._activePagesMeshData=[],n.filter(i=>r[i.mesh.texture.baseTexture.uid]).forEach(i=>{i.mesh.texture=ne.EMPTY});for(const i in r)r[i].destroy(),delete r[i];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(e)}};ZA.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};let qD=ZA;const vb={loader:oe.LoadParser,resolver:oe.ResolveParser,cache:oe.CacheParser,detection:oe.DetectionParser};fe.handle(oe.Asset,t=>{const e=t.ref;Object.entries(vb).filter(([r])=>!!e[r]).forEach(([r,n])=>fe.add(Object.assign(e[r],{extension:e[r].extension??n})))},t=>{const e=t.ref;Object.keys(vb).filter(r=>!!e[r]).forEach(r=>fe.remove(e[r]))});class ZD{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function Ma(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function gs(t,e){const r=t.split("?")[0],n=Ot.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const un=(t,e,r=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(n=>typeof n=="string"||r?e(n):n):t),_0=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function eT(t,e,r,n,i){const s=e[r];for(let o=0;o<s.length;o++){const l=s[o];r<e.length-1?eT(t.replace(n[r],l),e,r+1,n,i):i.push(t.replace(n[r],l))}}function JD(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const i=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),eT(t,i,0,r,n)}else n.push(t);return n}const gd=t=>!Array.isArray(t);class e4{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=un(e);let i;for(let l=0;l<this.parsers.length;l++){const h=this.parsers[l];if(h.test(r)){i=h.getCacheableAssets(n,r);break}}i||(i={},n.forEach(l=>{i[l]=r}));const s=Object.keys(i),o={cacheKeys:s,keys:n};if(n.forEach(l=>{this._cacheMap.set(l,o)}),s.forEach(l=>{this._cache.has(l)&&this._cache.get(l)!==r&&console.warn("[Cache] already has key:",l),this._cache.set(l,i[l])}),r instanceof ne){const l=r;n.forEach(h=>{l.baseTexture!==ne.EMPTY.baseTexture&&we.addToCache(l.baseTexture,h),ne.addToCache(l,h)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(n=>{this._cache.delete(n)}),r.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const Gs=new e4;class t4{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var o,l;let i=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!s){for(let h=0;h<this.parsers.length;h++){const c=this.parsers[h];if(c.load&&((o=c.test)!=null&&o.call(c,e,r,this))){s=c;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,r,this),n.parser=s;for(let h=0;h<this.parsers.length;h++){const c=this.parsers[h];c.parse&&c.parse&&await((l=c.testParse)==null?void 0:l.call(c,i,r,this))&&(i=await c.parse(i,r,this)||i,n.parser=c)}return i})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const i={},s=gd(e),o=un(e,c=>({alias:[c],src:c})),l=o.length,h=o.map(async c=>{const f=Ot.toAbsolute(c.src);if(!i[c.src])try{this.promiseCache[f]||(this.promiseCache[f]=this._getLoadPromiseAndParser(f,c)),i[c.src]=await this.promiseCache[f].promise,r&&r(++n/l)}catch(m){throw delete this.promiseCache[f],delete i[c.src],new Error(`[Loader.load] Failed to load ${f}.
${m}`)}});return await Promise.all(h),s?i[o[0].src]:i}async unload(e){const r=un(e,n=>({alias:[n],src:n})).map(async n=>{var o,l;const i=Ot.toAbsolute(n.src),s=this.promiseCache[i];if(s){const h=await s.promise;delete this.promiseCache[i],(l=(o=s.parser)==null?void 0:o.unload)==null||l.call(o,h,n,this)}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...e,[r.name]:r}),{})}}var vn=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(vn||{});const r4=".json",n4="application/json",i4={extension:{type:oe.LoadParser,priority:vn.Low},name:"loadJson",test(t){return Ma(t,n4)||gs(t,r4)},async load(t){return await(await ae.ADAPTER.fetch(t)).json()}};fe.add(i4);const s4=".txt",o4="text/plain",a4={name:"loadTxt",extension:{type:oe.LoadParser,priority:vn.Low},test(t){return Ma(t,o4)||gs(t,s4)},async load(t){return await(await ae.ADAPTER.fetch(t)).text()}};fe.add(a4);const l4=["normal","bold","100","200","300","400","500","600","700","800","900"],u4=[".ttf",".otf",".woff",".woff2"],h4=["font/ttf","font/otf","font/woff","font/woff2"],c4=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function d4(t){const e=Ot.extname(t),r=Ot.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1));let n=r.length>0;for(const s of r)if(!s.match(c4)){n=!1;break}let i=r.join(" ");return n||(i=`"${i.replace(/[\\"]/g,"\\$&")}"`),i}const f4=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function p4(t){return f4.test(t)?t:encodeURI(t)}const m4={extension:{type:oe.LoadParser,priority:vn.Low},name:"loadWebFont",test(t){return Ma(t,h4)||gs(t,u4)},async load(t,e){var n,i,s;const r=ae.ADAPTER.getFontFaceSet();if(r){const o=[],l=((n=e.data)==null?void 0:n.family)??d4(t),h=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(f=>l4.includes(f)))??["normal"],c=e.data??{};for(let f=0;f<h.length;f++){const m=h[f],p=new FontFace(l,`url(${p4(t)})`,{...c,weight:m});await p.load(),r.add(p),o.push(p)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>ae.ADAPTER.getFontFaceSet().delete(e))}};fe.add(m4);const g4=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`;let pa=null,b0=class{constructor(){pa||(pa=URL.createObjectURL(new Blob([g4],{type:"application/javascript"}))),this.worker=new Worker(pa)}};b0.revokeObjectURL=function(){pa&&(URL.revokeObjectURL(pa),pa=null)};const y4=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`;let ma=null;class tT{constructor(){ma||(ma=URL.createObjectURL(new Blob([y4],{type:"application/javascript"}))),this.worker=new Worker(ma)}}tT.revokeObjectURL=function(){ma&&(URL.revokeObjectURL(ma),ma=null)};let xb=0,Pm;class v4{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:r}=new b0;r.addEventListener("message",n=>{r.terminate(),b0.revokeObjectURL(),e(n.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){Pm===void 0&&(Pm=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<Pm&&(this._createdWorkers++,e=new tT().worker,e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((i,s)=>{this.queue.push({id:e,arguments:r,resolve:i,reject:s})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),n=r.id;this.resolveHash[xb]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:xb++,id:n})}}const _b=new v4;function wu(t,e,r){t.resource.internal=!0;const n=new ne(t),i=()=>{delete e.promiseCache[r],Gs.has(r)&&Gs.remove(r)};return n.baseTexture.once("destroyed",()=>{r in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),i())}),n.once("destroyed",()=>{t.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),n}const x4=[".jpeg",".jpg",".png",".webp",".avif"],_4=["image/jpeg","image/png","image/webp","image/avif"];async function b4(t){const e=await ae.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const ef={name:"loadTextures",extension:{type:oe.LoadParser,priority:vn.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return Ma(t,_4)||gs(t,x4)},async load(t,e,r){var l;const n=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap;let i;n?this.config.preferWorkers&&await _b.isImageBitmapSupported()?i=await _b.loadImageBitmap(t):i=await b4(t):i=await new Promise((h,c)=>{const f=new Image;f.crossOrigin=this.config.crossOrigin,f.src=t,f.complete?h(f):(f.onload=()=>h(f),f.onerror=m=>c(m))});const s={...e.data};s.resolution??(s.resolution=xi(t)),n&&((l=s.resourceOptions)==null?void 0:l.ownsImageBitmap)===void 0&&(s.resourceOptions={...s.resourceOptions},s.resourceOptions.ownsImageBitmap=!0);const o=new we(i,s);return o.resource.src=t,wu(o,r,t)},unload(t){t.destroy(!0)}};fe.add(ef);const w4=".svg",S4="image/svg+xml",E4={extension:{type:oe.LoadParser,priority:vn.High},name:"loadSVG",test(t){return Ma(t,S4)||gs(t,w4)},async testParse(t){return h0.test(t)},async parse(t,e,r){var s;const n=new h0(t,(s=e==null?void 0:e.data)==null?void 0:s.resourceOptions);await n.load();const i=new we(n,{resolution:xi(t),...e==null?void 0:e.data});return i.resource.src=e.src,wu(i,r,e.src)},async load(t,e){return(await ae.ADAPTER.fetch(t)).text()},unload:ef.unload};fe.add(E4);const A4=[".mp4",".m4v",".webm",".ogv"],T4=["video/mp4","video/webm","video/ogg"],C4={name:"loadVideo",extension:{type:oe.LoadParser,priority:vn.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(t){return Ma(t,T4)||gs(t,A4)},async load(t,e,r){var o;let n;const i=await(await ae.ADAPTER.fetch(t)).blob(),s=URL.createObjectURL(i);try{const l={autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline,...(o=e==null?void 0:e.data)==null?void 0:o.resourceOptions,autoLoad:!0},h=new VA(s,l);await h.load();const c=new we(h,{alphaMode:await $k(),resolution:xi(t),...e==null?void 0:e.data});c.resource.src=t,n=wu(c,r,t),n.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(s)})}catch(l){throw URL.revokeObjectURL(s),l}return n},unload(t){t.destroy(!0)}};fe.add(C4);class P4{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}getAlias(e){const{alias:r,name:n,src:i,srcs:s}=e;return un(r||n||i||s,o=>typeof o=="string"?o:Array.isArray(o)?o.map(l=>(l==null?void 0:l.src)??(l==null?void 0:l.srcs)??l):o!=null&&o.src||o!=null&&o.srcs?o.src??o.srcs:o,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];Array.isArray(r)?r.forEach(i=>{const s=i.src??i.srcs,o=i.alias??i.name;let l;if(typeof o=="string"){const h=this._createBundleAssetId(e,o);n.push(h),l=[o,h]}else{const h=o.map(c=>this._createBundleAssetId(e,c));n.push(...h),l=[...o,...h]}this.add({...i,alias:l,src:s})}):Object.keys(r).forEach(i=>{const s=[i,this._createBundleAssetId(e,i)];if(typeof r[i]=="string")this.add({alias:s,src:r[i]});else if(Array.isArray(r[i]))this.add({alias:s,src:r[i]});else{const o=r[i],l=o.src??o.srcs;this.add({...o,alias:s,src:Array.isArray(l)?l:[l]})}n.push(...s)}),this._bundles[e]=n}add(e,r,n,i,s){const o=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(Ae("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),o.push({alias:e,src:r,data:n,format:i,loadParser:s})):Array.isArray(e)?o.push(...e):o.push(e);let l;l=h=>{this.hasKey(h)&&console.warn(`[Resolver] already has key: ${h} overwriting`)},un(o).forEach(h=>{const{src:c,srcs:f}=h;let{data:m,format:p,loadParser:v}=h;const x=un(c||f).map(S=>typeof S=="string"?JD(S):Array.isArray(S)?S:[S]),w=this.getAlias(h);Array.isArray(w)?w.forEach(l):l(w);const A=[];x.forEach(S=>{S.forEach(E=>{let b={};if(typeof E!="object"){b.src=E;for(let T=0;T<this._parsers.length;T++){const R=this._parsers[T];if(R.test(E)){b=R.parse(E);break}}}else m=E.data??m,p=E.format??p,v=E.loadParser??v,b={...b,...E};if(!w)throw new Error(`[Resolver] alias is undefined for this asset: ${b.src}`);b=this.buildResolvedAsset(b,{aliases:w,data:m,format:p,loadParser:v}),A.push(b)})}),w.forEach(S=>{this._assetMap[S]=A})})}resolveBundle(e){const r=gd(e);e=un(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),l={};for(const h in o){const c=o[h];l[this._extractAssetIdFromBundle(i,h)]=c}n[i]=l}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(e){const r=gd(e);e=un(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=s[0],l=this._getPreferredOrder(s);l==null||l.priority.forEach(h=>{l.params[h].forEach(c=>{const f=s.filter(m=>m[h]?m[h]===c:!1);f.length&&(s=f)})}),this._resolverHash[i]=s[0]??o}else this._resolverHash[i]=this.buildResolvedAsset({alias:[i],src:i},{});n[i]=this._resolverHash[i]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}buildResolvedAsset(e,r){const{aliases:n,data:i,loadParser:s,format:o}=r;return(this._basePath||this._rootPath)&&(e.src=Ot.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=n??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...i||{},...e.data},e.loadParser=s??e.loadParser,e.format=o??e.format??Ot.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}}class I4{constructor(){this._detections=[],this._initialized=!1,this.resolver=new P4,this.loader=new t4,this.cache=Gs,this._backgroundLoader=new ZD(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let l=e.manifest;typeof l=="string"&&(l=await this.load(l)),this.resolver.addManifest(l)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,n=typeof r=="number"?[r]:r,i=await this._detectFormats({preferredFormats:(o=e.texturePreference)==null?void 0:o.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,n,i,s){this.resolver.add(e,r,n,i,s)}async load(e,r){this._initialized||await this.init();const n=gd(e),i=un(e).map(l=>{if(typeof l!="string"){const h=this.resolver.getAlias(l);return h.some(c=>!this.resolver.hasKey(c))&&this.add(l),Array.isArray(h)?h[0]:h}return this.resolver.hasKey(l)||this.add({alias:l,src:l}),l}),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,r);return n?o[i[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let l=0,h=0;const c=()=>{r==null||r(++l/h)},f=o.map(m=>{const p=i[m];return h+=Object.keys(p).length,this._mapLoadToResolve(p,c).then(v=>{s[m]=v})});return await Promise.all(f),n?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Gs.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=Gs.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(n,r);this._backgroundLoader.active=!0;const o={};return n.forEach((l,h)=>{const c=s[l.src],f=[l.src];l.alias&&f.push(...l.alias),o[i[h]]=c,Gs.set(f,c)}),o}async unload(e){this._initialized||await this.init();const r=un(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=un(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{Gs.remove(n.src)}),await this.loader.unload(r)}async _detectFormats(e){let r=[];e.preferredFormats&&(r=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const n of e.detections)e.skipDetections||await n.test()?r=await n.add(r):e.skipDetections||(r=await n.remove(r));return r=r.filter((n,i)=>r.indexOf(n)===i),r}get detections(){return this._detections}get preferWorkers(){return ef.config.preferWorkers}set preferWorkers(e){Ae("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const Sl=new I4;fe.handleByList(oe.LoadParser,Sl.loader.parsers).handleByList(oe.ResolveParser,Sl.resolver.parsers).handleByList(oe.CacheParser,Sl.cache.parsers).handleByList(oe.DetectionParser,Sl.detections);const R4={extension:oe.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof ne),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((i,s)=>{r[n+(s===0?"":s+1)]=i})}),r}};fe.add(R4);async function rT(t){if("Image"in globalThis)return new Promise(e=>{const r=new Image;r.onload=()=>{e(!0)},r.onerror=()=>{e(!1)},r.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const k4={extension:{type:oe.DetectionParser,priority:1},test:async()=>rT("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};fe.add(k4);const M4={extension:{type:oe.DetectionParser,priority:0},test:async()=>rT("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};fe.add(M4);const bb=["png","jpg","jpeg"],D4={extension:{type:oe.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...bb],remove:async t=>t.filter(e=>!bb.includes(e))};fe.add(D4);const F4="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function Yy(t){return F4?!1:document.createElement("video").canPlayType(t)!==""}const O4={extension:{type:oe.DetectionParser,priority:0},test:async()=>Yy("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")};fe.add(O4);const N4={extension:{type:oe.DetectionParser,priority:0},test:async()=>Yy("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")};fe.add(N4);const B4={extension:{type:oe.DetectionParser,priority:0},test:async()=>Yy("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")};fe.add(B4);const L4={extension:oe.ResolveParser,test:ef.test,parse:t=>{var e;return{resolution:parseFloat(((e=ae.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:Ot.extname(t).slice(1),src:t}}};fe.add(L4);const U4=[".xml",".fnt"],z4={extension:{type:oe.LoadParser,priority:vn.Normal},name:"loadBitmapFont",test(t){return U4.includes(Ot.extname(t).toLowerCase())},async testParse(t){return Cc.test(t)||x0.test(t)},async parse(t,e,r){const n=Cc.test(t)?Cc.parse(t):x0.parse(t),{src:i}=e,{page:s}=n,o=[];for(let c=0;c<s.length;++c){const f=s[c].file;let m=Ot.join(Ot.dirname(i),f);m=_0(m,i),o.push(m)}const l=await r.load(o),h=o.map(c=>l[c]);return Ui.install(n,h,!0)},async load(t,e){return(await ae.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};fe.add(z4);const yd={build(t){const e=t.points;let r,n,i,s,o,l;if(t.type===Gt.CIRC){const x=t.shape;r=x.x,n=x.y,o=l=x.radius,i=s=0}else if(t.type===Gt.ELIP){const x=t.shape;r=x.x,n=x.y,o=x.width,l=x.height,i=s=0}else{const x=t.shape,w=x.width/2,A=x.height/2;r=x.x+w,n=x.y+A,o=l=Math.max(0,Math.min(x.radius,Math.min(w,A))),i=w-o,s=A-l}if(!(o>=0&&l>=0&&i>=0&&s>=0)){e.length=0;return}const h=Math.ceil(2.3*Math.sqrt(o+l)),c=h*8+(i?4:0)+(s?4:0);if(e.length=c,c===0)return;if(h===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s;return}let f=0,m=h*4+(i?2:0)+2,p=m,v=c;{const x=i+o,w=s,A=r+x,S=r-x,E=n+w;if(e[f++]=A,e[f++]=E,e[--m]=E,e[--m]=S,s){const b=n-w;e[p++]=S,e[p++]=b,e[--v]=b,e[--v]=A}}for(let x=1;x<h;x++){const w=Math.PI/2*(x/h),A=i+Math.cos(w)*o,S=s+Math.sin(w)*l,E=r+A,b=r-A,T=n+S,R=n-S;e[f++]=E,e[f++]=T,e[--m]=T,e[--m]=b,e[p++]=b,e[p++]=R,e[--v]=R,e[--v]=E}{const x=i,w=s+l,A=r+x,S=r-x,E=n+w,b=n-w;e[f++]=A,e[f++]=E,e[--v]=b,e[--v]=A,i&&(e[f++]=S,e[f++]=E,e[--v]=b,e[--v]=S)}},triangulate(t,e){const r=t.points,n=e.points,i=e.indices;if(r.length===0)return;let s=n.length/2;const o=s;let l,h;if(t.type!==Gt.RREC){const f=t.shape;l=f.x,h=f.y}else{const f=t.shape;l=f.x+f.width/2,h=f.y+f.height/2}const c=t.matrix;n.push(t.matrix?c.a*l+c.c*h+c.tx:l,t.matrix?c.b*l+c.d*h+c.ty:h),s++,n.push(r[0],r[1]);for(let f=2;f<r.length;f+=2)n.push(r[f],r[f+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function wb(t,e=!1){const r=t.length;if(r<6)return;let n=0;for(let i=0,s=t[r-2],o=t[r-1];i<r;i+=2){const l=t[i],h=t[i+1];n+=(l-s)*(h+o),s=l,o=h}if(!e&&n>0||e&&n<=0){const i=r/2;for(let s=i+i%2;s<r;s+=2){const o=r-s-2,l=r-s-1,h=s,c=s+1;[t[o],t[h]]=[t[h],t[o]],[t[l],t[c]]=[t[c],t[l]]}}}const nT={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,i=e.points,s=e.indices;if(r.length>=6){wb(r,!1);const o=[];for(let c=0;c<n.length;c++){const f=n[c];wb(f.points,!0),o.push(r.length/2),r=r.concat(f.points)}const l=p3(r,o,2);if(!l)return;const h=i.length/2;for(let c=0;c<l.length;c+=3)s.push(l[c]+h),s.push(l[c+1]+h),s.push(l[c+2]+h);for(let c=0;c<r.length;c++)i.push(r[c])}}},G4={build(t){const e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate(t,e){const r=t.points,n=e.points;if(r.length===0)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},j4={build(t){yd.build(t)},triangulate(t,e){yd.triangulate(t,e)}};var zr=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(zr||{}),qi=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(qi||{});const Ta={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class Sb{static curveTo(e,r,n,i,s,o){const l=o[o.length-2],h=o[o.length-1]-r,c=l-e,f=i-r,m=n-e,p=Math.abs(h*m-c*f);if(p<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;const v=h*h+c*c,x=f*f+m*m,w=h*f+c*m,A=s*Math.sqrt(v)/p,S=s*Math.sqrt(x)/p,E=A*w/v,b=S*w/x,T=A*m+S*c,R=A*f+S*h,B=c*(S+E),M=h*(S+E),k=m*(A+b),$=f*(A+b),X=Math.atan2(M-R,B-T),ie=Math.atan2($-R,k-T);return{cx:T+e,cy:R+r,radius:s,startAngle:X,endAngle:ie,anticlockwise:c*f>m*h}}static arc(e,r,n,i,s,o,l,h,c){const f=l-o,m=Ta._segmentsCount(Math.abs(f)*s,Math.ceil(Math.abs(f)/ld)*40),p=f/(m*2),v=p*2,x=Math.cos(p),w=Math.sin(p),A=m-1,S=A%1/A;for(let E=0;E<=A;++E){const b=E+S*E,T=p+o+v*b,R=Math.cos(T),B=-Math.sin(T);c.push((x*R+w*B)*s+n,(x*-B+w*R)*s+i)}}}class H4{constructor(){this.reset()}begin(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class Qy{static curveLength(e,r,n,i,s,o,l,h){let c=0,f=0,m=0,p=0,v=0,x=0,w=0,A=0,S=0,E=0,b=0,T=e,R=r;for(let B=1;B<=10;++B)f=B/10,m=f*f,p=m*f,v=1-f,x=v*v,w=x*v,A=w*e+3*x*f*n+3*v*m*s+p*l,S=w*r+3*x*f*i+3*v*m*o+p*h,E=T-A,b=R-S,T=A,R=S,c+=Math.sqrt(E*E+b*b);return c}static curveTo(e,r,n,i,s,o,l){const h=l[l.length-2],c=l[l.length-1];l.length-=2;const f=Ta._segmentsCount(Qy.curveLength(h,c,e,r,n,i,s,o));let m=0,p=0,v=0,x=0,w=0;l.push(h,c);for(let A=1,S=0;A<=f;++A)S=A/f,m=1-S,p=m*m,v=p*m,x=S*S,w=x*S,l.push(v*h+3*p*S*e+3*m*x*n+w*s,v*c+3*p*S*r+3*m*x*i+w*o)}}function Eb(t,e,r,n,i,s,o,l){const h=t-r*i,c=e-n*i,f=t+r*s,m=e+n*s;let p,v;o?(p=n,v=-r):(p=-n,v=r);const x=h+p,w=c+v,A=f+p,S=m+v;return l.push(x,w,A,S),2}function Is(t,e,r,n,i,s,o,l){const h=r-t,c=n-e;let f=Math.atan2(h,c),m=Math.atan2(i-t,s-e);l&&f<m?f+=Math.PI*2:!l&&f>m&&(m+=Math.PI*2);let p=f;const v=m-f,x=Math.abs(v),w=Math.sqrt(h*h+c*c),A=(15*x*Math.sqrt(w)/Math.PI>>0)+1,S=v/A;if(p+=S,l){o.push(t,e,r,n);for(let E=1,b=p;E<A;E++,b+=S)o.push(t,e,t+Math.sin(b)*w,e+Math.cos(b)*w);o.push(t,e,i,s)}else{o.push(r,n,t,e);for(let E=1,b=p;E<A;E++,b+=S)o.push(t+Math.sin(b)*w,e+Math.cos(b)*w,t,e);o.push(i,s,t,e)}return A*2}function W4(t,e){const r=t.shape;let n=t.points||r.points.slice();const i=e.closePointEps;if(n.length===0)return;const s=t.lineStyle,o=new Se(n[0],n[1]),l=new Se(n[n.length-2],n[n.length-1]),h=r.type!==Gt.POLY||r.closeStroke,c=Math.abs(o.x-l.x)<i&&Math.abs(o.y-l.y)<i;if(h){n=n.slice(),c&&(n.pop(),n.pop(),l.set(n[n.length-2],n[n.length-1]));const H=(o.x+l.x)*.5,P=(l.y+o.y)*.5;n.unshift(H,P),n.push(H,P)}const f=e.points,m=n.length/2;let p=n.length;const v=f.length/2,x=s.width/2,w=x*x,A=s.miterLimit*s.miterLimit;let S=n[0],E=n[1],b=n[2],T=n[3],R=0,B=0,M=-(E-T),k=S-b,$=0,X=0,ie=Math.sqrt(M*M+k*k);M/=ie,k/=ie,M*=x,k*=x;const ee=s.alignment,O=(1-ee)*2,W=ee*2;h||(s.cap===qi.ROUND?p+=Is(S-M*(O-W)*.5,E-k*(O-W)*.5,S-M*O,E-k*O,S+M*W,E+k*W,f,!0)+2:s.cap===qi.SQUARE&&(p+=Eb(S,E,M,k,O,W,!0,f))),f.push(S-M*O,E-k*O,S+M*W,E+k*W);for(let H=1;H<m-1;++H){S=n[(H-1)*2],E=n[(H-1)*2+1],b=n[H*2],T=n[H*2+1],R=n[(H+1)*2],B=n[(H+1)*2+1],M=-(E-T),k=S-b,ie=Math.sqrt(M*M+k*k),M/=ie,k/=ie,M*=x,k*=x,$=-(T-B),X=b-R,ie=Math.sqrt($*$+X*X),$/=ie,X/=ie,$*=x,X*=x;const P=b-S,U=E-T,D=b-R,G=B-T,re=P*D+U*G,_e=U*D-G*P,be=_e<0;if(Math.abs(_e)<.001*Math.abs(re)){f.push(b-M*O,T-k*O,b+M*W,T+k*W),re>=0&&(s.join===zr.ROUND?p+=Is(b,T,b-M*O,T-k*O,b-$*O,T-X*O,f,!1)+4:p+=2,f.push(b-$*W,T-X*W,b+$*O,T+X*O));continue}const Ue=(-M+S)*(-k+T)-(-M+b)*(-k+E),Pe=(-$+R)*(-X+T)-(-$+b)*(-X+B),Le=(P*Pe-D*Ue)/_e,At=(G*Ue-U*Pe)/_e,Nt=(Le-b)*(Le-b)+(At-T)*(At-T),lt=b+(Le-b)*O,Ie=T+(At-T)*O,Xe=b-(Le-b)*W,Oe=T-(At-T)*W,Rr=Math.min(P*P+U*U,D*D+G*G),kr=be?O:W,vs=Rr+kr*kr*w,of=Nt<=vs;let uo=s.join;if(uo===zr.MITER&&Nt/w>A&&(uo=zr.BEVEL),of)switch(uo){case zr.MITER:{f.push(lt,Ie,Xe,Oe);break}case zr.BEVEL:{be?f.push(lt,Ie,b+M*W,T+k*W,lt,Ie,b+$*W,T+X*W):f.push(b-M*O,T-k*O,Xe,Oe,b-$*O,T-X*O,Xe,Oe),p+=2;break}case zr.ROUND:{be?(f.push(lt,Ie,b+M*W,T+k*W),p+=Is(b,T,b+M*W,T+k*W,b+$*W,T+X*W,f,!0)+4,f.push(lt,Ie,b+$*W,T+X*W)):(f.push(b-M*O,T-k*O,Xe,Oe),p+=Is(b,T,b-M*O,T-k*O,b-$*O,T-X*O,f,!1)+4,f.push(b-$*O,T-X*O,Xe,Oe));break}}else{switch(f.push(b-M*O,T-k*O,b+M*W,T+k*W),uo){case zr.MITER:{be?f.push(Xe,Oe,Xe,Oe):f.push(lt,Ie,lt,Ie),p+=2;break}case zr.ROUND:{be?p+=Is(b,T,b+M*W,T+k*W,b+$*W,T+X*W,f,!0)+2:p+=Is(b,T,b-M*O,T-k*O,b-$*O,T-X*O,f,!1)+2;break}}f.push(b-$*O,T-X*O,b+$*W,T+X*W),p+=2}}S=n[(m-2)*2],E=n[(m-2)*2+1],b=n[(m-1)*2],T=n[(m-1)*2+1],M=-(E-T),k=S-b,ie=Math.sqrt(M*M+k*k),M/=ie,k/=ie,M*=x,k*=x,f.push(b-M*O,T-k*O,b+M*W,T+k*W),h||(s.cap===qi.ROUND?p+=Is(b-M*(O-W)*.5,T-k*(O-W)*.5,b-M*O,T-k*O,b+M*W,T+k*W,f,!1)+2:s.cap===qi.SQUARE&&(p+=Eb(b,T,M,k,O,W,!1,f)));const te=e.indices,ue=Ta.epsilon*Ta.epsilon;for(let H=v;H<p+v-2;++H)S=f[H*2],E=f[H*2+1],b=f[(H+1)*2],T=f[(H+1)*2+1],R=f[(H+2)*2],B=f[(H+2)*2+1],!(Math.abs(S*(T-B)+b*(B-E)+R*(E-T))<ue)&&te.push(H,H+1,H+2)}function V4(t,e){let r=0;const n=t.shape,i=t.points||n.points,s=n.type!==Gt.POLY||n.closeStroke;if(i.length===0)return;const o=e.points,l=e.indices,h=i.length/2,c=o.length/2;let f=c;for(o.push(i[0],i[1]),r=1;r<h;r++)o.push(i[r*2],i[r*2+1]),l.push(f,f+1),f++;s&&l.push(f,c)}function Ab(t,e){t.lineStyle.native?V4(t,e):W4(t,e)}class Ky{static curveLength(e,r,n,i,s,o){const l=e-2*n+s,h=r-2*i+o,c=2*n-2*e,f=2*i-2*r,m=4*(l*l+h*h),p=4*(l*c+h*f),v=c*c+f*f,x=2*Math.sqrt(m+p+v),w=Math.sqrt(m),A=2*m*w,S=2*Math.sqrt(v),E=p/w;return(A*x+w*p*(x-S)+(4*v*m-p*p)*Math.log((2*w+E+x)/(E+S)))/(4*A)}static curveTo(e,r,n,i,s){const o=s[s.length-2],l=s[s.length-1],h=Ta._segmentsCount(Ky.curveLength(o,l,e,r,n,i));let c=0,f=0;for(let m=1;m<=h;++m){const p=m/h;c=o+(e-o)*p,f=l+(r-l)*p,s.push(c+(e+(n-e)*p-c)*p,f+(r+(i-r)*p-f)*p)}}}const Im={[Gt.POLY]:nT,[Gt.CIRC]:yd,[Gt.ELIP]:yd,[Gt.RECT]:G4,[Gt.RREC]:j4},Tb=[],Vh=[];class vd{constructor(e,r=null,n=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}clone(){return new vd(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const ko=new Se,iT=class sT extends uA{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new pd,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),Vh.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r.reset(),Tb.push(r)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,r=null,n=null,i=null){const s=new vd(e,r,n,i);return this.graphicsData.push(s),this.dirty++,this}drawHole(e,r=null){if(!this.graphicsData.length)return null;const n=new vd(e,null,null,r),i=this.graphicsData[this.graphicsData.length-1];return n.lineStyle=i.lineStyle,i.holes.push(n),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){const r=this.graphicsData;for(let n=0;n<r.length;++n){const i=r[n];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(e,ko):ko.copyFrom(e),i.shape.contains(ko.x,ko.y))){let s=!1;if(i.holes){for(let o=0;o<i.holes.length;o++)if(i.holes[o].shape.contains(ko.x,ko.y)){s=!0;break}}if(!s)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const e=this.uvs,r=this.graphicsData;let n=null,i=null;this.batches.length>0&&(n=this.batches[this.batches.length-1],i=n.style);for(let h=this.shapeIndex;h<r.length;h++){this.shapeIndex++;const c=r[h],f=c.fillStyle,m=c.lineStyle;Im[c.type].build(c),c.matrix&&this.transformPoints(c.points,c.matrix),(f.visible||m.visible)&&this.processHoles(c.holes);for(let p=0;p<2;p++){const v=p===0?f:m;if(!v.visible)continue;const x=v.texture.baseTexture,w=this.indices.length,A=this.points.length/2;x.wrapMode=fi.REPEAT,p===0?this.processFill(c):this.processLine(c);const S=this.points.length/2-A;S!==0&&(n&&!this._compareStyles(i,v)&&(n.end(w,A),n=null),n||(n=Tb.pop()||new H4,n.begin(v,w,A),this.batches.push(n),i=v),this.addUvs(this.points,e,v.texture,A,S,v.matrix))}}const s=this.indices.length,o=this.points.length/2;if(n&&n.end(s,o),this.batches.length===0){this.batchable=!0;return}const l=o>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&l===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=l?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,r){return!(!e||!r||e.texture.baseTexture!==r.texture.baseTexture||e.color+e.alpha!==r.color+r.alpha||!!e.native!=!!r.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,r=this.graphicsData.length;e<r;e++){const n=this.graphicsData[e],i=n.fillStyle,s=n.lineStyle;if(i&&!i.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const e=this.batches;for(let r=0,n=e.length;r<n;r++){const i=e[r];for(let s=0;s<i.size;s++){const o=i.start+s;this.indicesUint16[o]=this.indicesUint16[o]-i.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const e=this.batches;for(let r=0;r<e.length;r++)if(e[r].style.native)return!1;return this.points.length<sT.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++we._globalBatch;for(let m=0;m<this.drawCalls.length;m++)this.drawCalls[m].texArray.clear(),Vh.push(this.drawCalls[m]);this.drawCalls.length=0;const r=this.colors,n=this.textureIds;let i=Vh.pop();i||(i=new e0,i.texArray=new i0),i.texArray.count=0,i.start=0,i.size=0,i.type=hn.TRIANGLES;let s=0,o=null,l=0,h=!1,c=hn.TRIANGLES,f=0;this.drawCalls.push(i);for(let m=0;m<this.batches.length;m++){const p=this.batches[m],v=8,x=p.style,w=x.texture.baseTexture;h!==!!x.native&&(h=!!x.native,c=h?hn.LINES:hn.TRIANGLES,o=null,s=v,e++),o!==w&&(o=w,w._batchEnabled!==e&&(s===v&&(e++,s=0,i.size>0&&(i=Vh.pop(),i||(i=new e0,i.texArray=new i0),this.drawCalls.push(i)),i.start=f,i.size=0,i.texArray.count=0,i.type=c),w.touched=1,w._batchEnabled=e,w._batchLocation=s,w.wrapMode=fi.REPEAT,i.texArray.elements[i.texArray.count++]=w,s++)),i.size+=p.size,f+=p.size,l=w._batchLocation,this.addColors(r,x.color,x.alpha,p.attribSize,p.attribStart),this.addTextureIds(n,l,p.attribSize,p.attribStart)}we._globalBatch=e,this.packAttributes()}packAttributes(){const e=this.points,r=this.uvs,n=this.colors,i=this.textureIds,s=new ArrayBuffer(e.length*3*4),o=new Float32Array(s),l=new Uint32Array(s);let h=0;for(let c=0;c<e.length/2;c++)o[h++]=e[c*2],o[h++]=e[c*2+1],o[h++]=r[c*2],o[h++]=r[c*2+1],l[h++]=n[c],o[h++]=i[c];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?nT.triangulate(e,this):Im[e.type].triangulate(e,this)}processLine(e){Ab(e,this);for(let r=0;r<e.holes.length;r++)Ab(e.holes[r],this)}processHoles(e){for(let r=0;r<e.length;r++){const n=e[r];Im[n.type].build(n),n.matrix&&this.transformPoints(n.points,n.matrix)}}calculateBounds(){const e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,r){for(let n=0;n<e.length/2;n++){const i=e[n*2],s=e[n*2+1];e[n*2]=r.a*i+r.c*s+r.tx,e[n*2+1]=r.b*i+r.d*s+r.ty}}addColors(e,r,n,i,s=0){const o=He.shared.setValue(r).toLittleEndianNumber(),l=He.shared.setValue(o).toPremultiplied(n);e.length=Math.max(e.length,s+i);for(let h=0;h<i;h++)e[s+h]=l}addTextureIds(e,r,n,i=0){e.length=Math.max(e.length,i+n);for(let s=0;s<n;s++)e[i+s]=r}addUvs(e,r,n,i,s,o=null){let l=0;const h=r.length,c=n.frame;for(;l<s;){let m=e[(i+l)*2],p=e[(i+l)*2+1];if(o){const v=o.a*m+o.c*p+o.tx;p=o.b*m+o.d*p+o.ty,m=v}l++,r.push(m/c.width,p/c.height)}const f=n.baseTexture;(c.width<f.width||c.height<f.height)&&this.adjustUvs(r,n,h,s)}adjustUvs(e,r,n,i){const s=r.baseTexture,o=1e-6,l=n+i*2,h=r.frame,c=h.width/s.width,f=h.height/s.height;let m=h.x/h.width,p=h.y/h.height,v=Math.floor(e[n]+o),x=Math.floor(e[n+1]+o);for(let w=n+2;w<l;w+=2)v=Math.min(v,Math.floor(e[w]+o)),x=Math.min(x,Math.floor(e[w+1]+o));m-=v,p-=x;for(let w=n;w<l;w+=2)e[w]=(e[w]+m)*c,e[w+1]=(e[w+1]+p)*f}};iT.BATCHABLE_SIZE=100;let X4=iT;class tf{constructor(){this.color=16777215,this.alpha=1,this.texture=ne.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new tf;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=ne.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class qy extends tf{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=qi.BUTT,this.join=zr.MITER,this.miterLimit=10}clone(){const e=new qy;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=qi.BUTT,this.join=zr.MITER,this.miterLimit=10}}const Rm={},w0=class Ic extends ir{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new tf,this._lineStyle=new qy,this._matrix=null,this._holeMode=!1,this.state=Kn.for2d(),this._geometry=e||new X4,this._geometry.refCount++,this._transformID=-1,this._tintColor=new He(16777215),this.blendMode=ve.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Ic(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,r=0,n,i=.5,s=!1){return typeof e=="number"&&(e={width:e,color:r,alpha:n,alignment:i,native:s}),this.lineTextureStyle(e)}lineTextureStyle(e){const r={width:0,texture:ne.WHITE,color:e!=null&&e.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:qi.BUTT,join:zr.MITER,miterLimit:10};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.width>0&&e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:n},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const e=this.currentPath.points,r=this.currentPath.points.length;r>2&&(this.drawShape(this.currentPath),this.currentPath=new Qs,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[r-2],e[r-1]))}else this.currentPath=new Qs,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,r){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=r,this}lineTo(e,r){this.currentPath||this.moveTo(0,0);const n=this.currentPath.points,i=n[n.length-2],s=n[n.length-1];return(i!==e||s!==r)&&n.push(e,r),this}_initCurve(e=0,r=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,r]):this.moveTo(e,r)}quadraticCurveTo(e,r,n,i){this._initCurve();const s=this.currentPath.points;return s.length===0&&this.moveTo(0,0),Ky.curveTo(e,r,n,i,s),this}bezierCurveTo(e,r,n,i,s,o){return this._initCurve(),Qy.curveTo(e,r,n,i,s,o,this.currentPath.points),this}arcTo(e,r,n,i,s){this._initCurve(e,r);const o=this.currentPath.points,l=Sb.curveTo(e,r,n,i,s,o);if(l){const{cx:h,cy:c,radius:f,startAngle:m,endAngle:p,anticlockwise:v}=l;this.arc(h,c,f,m,p,v)}return this}arc(e,r,n,i,s,o=!1){if(i===s)return this;if(!o&&s<=i?s+=ld:o&&i<=s&&(i+=ld),s-i===0)return this;const l=e+Math.cos(i)*n,h=r+Math.sin(i)*n,c=this._geometry.closePointEps;let f=this.currentPath?this.currentPath.points:null;if(f){const m=Math.abs(f[f.length-2]-l),p=Math.abs(f[f.length-1]-h);m<c&&p<c||f.push(l,h)}else this.moveTo(l,h),f=this.currentPath.points;return Sb.arc(l,h,e,r,n,i,s,o,f),this}beginFill(e=0,r){return this.beginTextureFill({texture:ne.WHITE,color:e,alpha:r})}normalizeColor(e){const r=He.shared.setValue(e.color??0);e.color=r.toNumber(),e.alpha??(e.alpha=r.alpha)}beginTextureFill(e){const r={texture:ne.WHITE,color:16777215,matrix:null};e=Object.assign(r,e),this.normalizeColor(e),this.currentPath&&this.startPoly();const n=e.alpha>0;return n?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:n},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,r,n,i){return this.drawShape(new Ee(e,r,n,i))}drawRoundedRect(e,r,n,i,s){return this.drawShape(new Yd(e,r,n,i,s))}drawCircle(e,r,n){return this.drawShape(new Xd(e,r,n))}drawEllipse(e,r,n,i){return this.drawShape(new $d(e,r,n,i))}drawPolygon(...e){let r,n=!0;const i=e[0];i.points?(n=i.closeStroke,r=i.points):Array.isArray(e[0])?r=e[0]:r=e;const s=new Qs(r);return s.closeStroke=n,this.drawShape(s),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===Gt.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();const r=this._geometry;r.updateBatches(),r.batchable?(this.batchDirty!==r.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){const e=this._geometry,r=this.blendMode,n=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=n,this.vertexData=new Float32Array(e.points);for(let i=0;i<n;i++){const s=e.batches[i],o=s.style.color,l=new Float32Array(this.vertexData.buffer,s.attribStart*4*2,s.attribSize*2),h=new Float32Array(e.uvsFloat32.buffer,s.attribStart*4*2,s.attribSize*2),c=new Uint16Array(e.indicesUint16.buffer,s.start*2,s.size),f={vertexData:l,blendMode:r,indices:c,uvs:h,_batchRGB:He.shared.setValue(o).toRgbArray(),_tintRGB:o,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[i]=f}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let r=0,n=this.batches.length;r<n;r++){const i=this.batches[r];i.worldAlpha=this.worldAlpha*i.alpha,e.plugins[this.pluginName].render(i)}}}_renderDirect(e){const r=this._resolveDirectShader(e),n=this._geometry,i=this.worldAlpha,s=r.uniforms,o=n.drawCalls;s.translationMatrix=this.transform.worldTransform,He.shared.setValue(this._tintColor).premultiply(i).toArray(s.tint),e.shader.bind(r),e.geometry.bind(n,r),e.state.set(this.state);for(let l=0,h=o.length;l<h;l++)this._renderDrawCallDirect(e,n.drawCalls[l])}_renderDrawCallDirect(e,r){const{texArray:n,type:i,size:s,start:o}=r,l=n.count;for(let h=0;h<l;h++)e.texture.bind(n.elements[h],h);e.geometry.draw(i,s,o)}_resolveDirectShader(e){let r=this.shader;const n=this.pluginName;if(!r){if(!Rm[n]){const{maxTextures:i}=e.plugins[n],s=new Int32Array(i);for(let h=0;h<i;h++)s[h]=h;const o={tint:new Float32Array([1,1,1,1]),translationMatrix:new Ke,default:gn.from({uSamplers:s},!0)},l=e.plugins[n]._shader.program;Rm[n]=new Xn(l,o)}r=Rm[n]}return r}_calculateBounds(){this.finishPoly();const e=this._geometry;if(!e.graphicsData.length)return;const{minX:r,minY:n,maxX:i,maxY:s}=e.bounds;this._bounds.addFrame(this.transform,r,n,i,s)}containsPoint(e){return this.worldTransform.applyInverse(e,Ic._TEMP_POINT),this._geometry.containsPoint(Ic._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){const r=this.batches[e];r._tintRGB=He.shared.setValue(this._tintColor).multiply(r._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,l=r.tx,h=r.ty,c=this._geometry.points,f=this.vertexData;let m=0;for(let p=0;p<c.length;p+=2){const v=c[p],x=c[p+1];f[m++]=n*v+s*x+l,f[m++]=o*x+i*v+h}}closePath(){const e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};w0.curves=Ta,w0._TEMP_POINT=new Se;let zl=w0;class $4 extends Jd{constructor(e=100,r=100,n=10,i=10){super(),this.segWidth=n,this.segHeight=i,this.width=e,this.height=r,this.build()}build(){const e=this.segWidth*this.segHeight,r=[],n=[],i=[],s=this.segWidth-1,o=this.segHeight-1,l=this.width/s,h=this.height/o;for(let f=0;f<e;f++){const m=f%this.segWidth,p=f/this.segWidth|0;r.push(m*l,p*h),n.push(m/s,p/o)}const c=s*o;for(let f=0;f<c;f++){const m=f%s,p=f/s|0,v=p*this.segWidth+m,x=p*this.segWidth+m+1,w=(p+1)*this.segWidth+m,A=(p+1)*this.segWidth+m+1;i.push(v,x,w,x,A,w)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class Y4 extends Jd{constructor(e=200,r,n=0){super(new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6)),this.points=r,this._width=e,this.textureScale=n,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const r=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;r.data.length/4!==e.length&&(r.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=n.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let l=0,h=e[0];const c=this._width*this.textureScale,f=e.length;for(let p=0;p<f;p++){const v=p*4;if(this.textureScale>0){const x=h.x-e[p].x,w=h.y-e[p].y,A=Math.sqrt(x*x+w*w);h=e[p],l+=A/c}else l=p/(f-1);s[v]=l,s[v+1]=0,s[v+2]=l,s[v+3]=1}let m=0;for(let p=0;p<f-1;p++){const v=p*2;o[m++]=v,o[m++]=v+1,o[m++]=v+2,o[m++]=v+2,o[m++]=v+1,o[m++]=v+3}n.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let r=e[0],n,i=0,s=0;const o=this.buffers[0].data,l=e.length,h=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let c=0;c<l;c++){const f=e[c],m=c*4;c<e.length-1?n=e[c+1]:n=f,s=-(n.x-r.x),i=n.y-r.y;const p=Math.sqrt(i*i+s*s);p<1e-6?(i=0,s=0):(i/=p,s/=p,i*=h,s*=h),o[m]=f.x+i,o[m+1]=f.y+s,o[m+2]=f.x-i,o[m+3]=f.y-s,r=f}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class Q4 extends hu{constructor(e,r,n){const i=new $4(e.width,e.height,r,n),s=new cu(ne.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:r,height:n}=this.shader.texture;this.autoResize&&(e.width!==r||e.height!==n)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const Xh=10;class K4 extends Q4{constructor(e,r,n,i,s){var o,l,h,c;super(ne.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=r??((o=e.defaultBorders)==null?void 0:o.left)??Xh,this._rightWidth=i??((l=e.defaultBorders)==null?void 0:l.right)??Xh,this._topHeight=n??((h=e.defaultBorders)==null?void 0:h.top)??Xh,this._bottomHeight=s??((c=e.defaultBorders)==null?void 0:c.bottom)??Xh,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,r=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,r=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,i=this._height>n?1:this._height/n;return Math.min(r,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,r=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const n=1/this._origWidth,i=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=n*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-n*this._rightWidth,r[9]=r[11]=r[13]=r[15]=i*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class q4 extends hu{constructor(e=ne.EMPTY,r,n,i,s){const o=new Jd(r,n,i);o.getBuffer("aVertexPosition").static=!1;const l=new cu(e);super(o,l,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class Z4 extends hu{constructor(e,r,n=0){const i=new Y4(e.height,r,n),s=new cu(e);n>0&&(e.baseTexture.wrapMode=fi.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),super._render(e)}}class J4 extends ir{constructor(e=1500,r,n=16384,i=!1){super();const s=16384;n>s&&(n=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=ve.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tintColor=new He(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const r=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class Cb{constructor(e,r,n){this.geometry=new us,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||ge.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new mt(oM(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const l=this.dynamicProperties[o];l.offset=r,r+=l.size,this.dynamicStride+=l.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new mt(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const l=this.staticProperties[o];l.offset=i,i+=l.size,this.staticStride+=l.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new mt(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const l=this.dynamicProperties[o];e.addAttribute(l.attributeName,this.dynamicBuffer,0,l.type===ge.UNSIGNED_BYTE,l.type,this.dynamicStride*4,l.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const l=this.staticProperties[o];e.addAttribute(l.attributeName,this.staticBuffer,0,l.type===ge.UNSIGNED_BYTE,l.type,this.staticStride*4,l.offset*4)}}uploadDynamic(e,r,n){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,r,n,s.type===ge.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,n){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,r,n,s.type===ge.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var eF=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,tF=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class oT extends Kd{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new Ke,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:ge.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=Xn.from(tF,eF,{}),this.state=Kn.for2d()}render(e){const r=e.children,n=e._maxSize,i=e._batchSize,s=this.renderer;let o=r.length;if(o===0)return;o>n&&!e.autoResize&&(o=n);let l=e._buffers;l||(l=e._buffers=this.generateBuffers(e));const h=r[0]._texture.baseTexture,c=h.alphaMode>0;this.state.blendMode=oA(e.blendMode,c),s.state.set(this.state);const f=s.gl,m=e.worldTransform.copyTo(this.tempMatrix);m.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=m.toArray(!0),this.shader.uniforms.uColor=He.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,c).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=h,this.renderer.shader.bind(this.shader);let p=!1;for(let v=0,x=0;v<o;v+=i,x+=1){let w=o-v;w>i&&(w=i),x>=l.length&&l.push(this._generateOneMoreBuffer(e));const A=l[x];A.uploadDynamic(r,v,w);const S=e._bufferUpdateIDs[x]||0;p=p||A._updateID<S,p&&(A._updateID=e._updateID,A.uploadStatic(r,v,w)),s.geometry.bind(A.geometry),f.drawElements(f.TRIANGLES,w*6,f.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],n=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<n;o+=i)r.push(new Cb(this.properties,s,i));return r}_generateOneMoreBuffer(e){const r=e._batchSize,n=e._properties;return new Cb(this.properties,n,r)}uploadVertices(e,r,n,i,s,o){let l=0,h=0,c=0,f=0;for(let m=0;m<n;++m){const p=e[r+m],v=p._texture,x=p.scale.x,w=p.scale.y,A=v.trim,S=v.orig;A?(h=A.x-p.anchor.x*S.width,l=h+A.width,f=A.y-p.anchor.y*S.height,c=f+A.height):(l=S.width*(1-p.anchor.x),h=S.width*-p.anchor.x,c=S.height*(1-p.anchor.y),f=S.height*-p.anchor.y),i[o]=h*x,i[o+1]=f*w,i[o+s]=l*x,i[o+s+1]=f*w,i[o+s*2]=l*x,i[o+s*2+1]=c*w,i[o+s*3]=h*x,i[o+s*3+1]=c*w,o+=s*4}}uploadPosition(e,r,n,i,s,o){for(let l=0;l<n;l++){const h=e[r+l].position;i[o]=h.x,i[o+1]=h.y,i[o+s]=h.x,i[o+s+1]=h.y,i[o+s*2]=h.x,i[o+s*2+1]=h.y,i[o+s*3]=h.x,i[o+s*3+1]=h.y,o+=s*4}}uploadRotation(e,r,n,i,s,o){for(let l=0;l<n;l++){const h=e[r+l].rotation;i[o]=h,i[o+s]=h,i[o+s*2]=h,i[o+s*3]=h,o+=s*4}}uploadUvs(e,r,n,i,s,o){for(let l=0;l<n;++l){const h=e[r+l]._texture._uvs;h?(i[o]=h.x0,i[o+1]=h.y0,i[o+s]=h.x1,i[o+s+1]=h.y1,i[o+s*2]=h.x2,i[o+s*2+1]=h.y2,i[o+s*3]=h.x3,i[o+s*3+1]=h.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,r,n,i,s,o){for(let l=0;l<n;++l){const h=e[r+l],c=He.shared.setValue(h._tintRGB).toPremultiplied(h.alpha,h.texture.baseTexture.alphaMode>0);i[o]=c,i[o+s]=c,i[o+s*2]=c,i[o+s*3]=c,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}oT.extension={name:"particle",type:oe.RendererPlugin};fe.add(oT);let Pb=class S0 extends qn{constructor(e,r=!0){super(e[0]instanceof ne?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Dt.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Dt.shared.add(this.update,this,hs.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const r=this.animationSpeed*e,n=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=r/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const r=[];for(let n=0;n<e.length;++n)r.push(ne.from(e[n]));return new S0(r)}static fromImages(e){const r=[];for(let n=0;n<e.length;++n)r.push(ne.from(e[n]));return new S0(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof ne)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Dt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Dt.shared.add(this.update,this),this._isConnectedToTicker=!0))}};const fl=new Se;class Zy extends qn{constructor(e,r=100,n=100){super(e),this.tileTransform=new Qd,this._width=r,this._height=n,this.uvMatrix=this.texture.uvMatrix||new Vy(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,r=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,r,n,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ee),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,fl);const r=this._width,n=this._height,i=-r*this.anchor._x;if(fl.x>=i&&fl.x<i+r){const s=-n*this.anchor._y;if(fl.y>=s&&fl.y<s+n)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,r){const n=e instanceof ne?e:ne.from(e,r);return new Zy(n,r.width,r.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var rF=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,nF=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,iF=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,Ib=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,sF=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const $h=new Ke;class aT extends Kd{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new xA,this.state=Kn.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=Xn.from(Ib,sF,r),this.shader=e.context.webGLVersion>1?Xn.from(nF,rF,r):Xn.from(Ib,iF,r)}render(e){const r=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=n.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,n.invalidate();const l=e._texture,h=l.baseTexture,c=h.alphaMode>0,f=e.tileTransform.localTransform,m=e.uvMatrix;let p=h.isPowerOfTwo&&l.frame.width===h.width&&l.frame.height===h.height;p&&(h._glTextures[r.CONTEXT_UID]?p=h.wrapMode!==fi.CLAMP:h.wrapMode===fi.CLAMP&&(h.wrapMode=fi.REPEAT));const v=p?this.simpleShader:this.shader,x=l.width,w=l.height,A=e._width,S=e._height;$h.set(f.a*x/A,f.b*x/S,f.c*w/A,f.d*w/S,f.tx/A,f.ty/S),$h.invert(),p?$h.prepend(m.mapCoord):(v.uniforms.uMapCoord=m.mapCoord.toArray(!0),v.uniforms.uClampFrame=m.uClampFrame,v.uniforms.uClampOffset=m.uClampOffset),v.uniforms.uTransform=$h.toArray(!0),v.uniforms.uColor=He.shared.setValue(e.tint).premultiply(e.worldAlpha,c).toArray(v.uniforms.uColor),v.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),v.uniforms.uSampler=l,r.shader.bind(v),r.geometry.bind(n),this.state.blendMode=oA(e.blendMode,c),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}aT.extension={name:"tilingSprite",type:oe.RendererPlugin};fe.add(aT);const lT=class E0{constructor(e){this.stage=new ir,e=Object.assign({forceCanvas:!1},e),this.renderer=xD(e),E0._plugins.forEach(r=>{r.init.call(this,e)})}render(){this.renderer.render(this.stage)}get view(){var e;return(e=this.renderer)==null?void 0:e.view}get screen(){var e;return(e=this.renderer)==null?void 0:e.screen}destroy(e,r){const n=E0._plugins.slice(0);n.reverse(),n.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(e),this.renderer=null}};lT._plugins=[];let rf=lT;fe.handleByList(oe.Application,rf._plugins);class uT{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;r=i,n=s}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}uT.extension=oe.Application;fe.add(uT);var hT={exports:{}},oF="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",aF=oF,lF=aF;function cT(){}function dT(){}dT.resetWarningCache=cT;var uF=function(){function t(n,i,s,o,l,h){if(h!==lF){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:dT,resetWarningCache:cT};return r.PropTypes=r,r};hT.exports=uF();var hF=hT.exports;const Ye=Ed(hF);function Tr(t){return Tr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tr(t)}function fT(t){var e=function(r,n){if(Tr(r)!=="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,n||"default");if(Tr(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(t,"string");return Tr(e)==="symbol"?e:String(e)}function pt(t,e,r){return(e=fT(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function km(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bi(t){return function(e){if(Array.isArray(e))return km(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,r){if(e){if(typeof e=="string")return km(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?km(e,r):void 0}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function dt(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i]}var cF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dF(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var fF=function(t){return t==null};function El(t){var e=[];if(t===void 0)return e;if(typeof t=="string")e=t.split(",");else if(typeof t=="number")e=[t];else if(Array.isArray(t))e=bi(t);else{if(t===null||Tr(t)!=="object")return e;e=[t&&(t==null?void 0:t.x)||0,t&&(t==null?void 0:t.y)||0]}return e.filter(function(r){return!fF(r)&&!isNaN(r)}).map(Number)}function Rb(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Mm(t){return t instanceof Se||t instanceof cn}var xd=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function Dm(t,e,r){if(Mm(t[e])&&Mm(r))t[e].copyFrom(r);else if(Mm(t[e])){var n=El(r);dt(n!==void 0&&n.length>0&&n.length<3,"The property `%s` is a `Point` and must be set to a comma-separated string of either coordinates, an array containing coordinates, or a Point.",e,JSON.stringify(r),Tr(r)),t[e].set(n.shift(),n.shift())}else t[e]=r}var Mo,pT=function(t){var e,r=t;if(!Array.isArray(r)){if(e=t,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");r=Object.keys(t)}var n={};return r.forEach(function(i){n[i]=!0}),function(i){return n[i]!==void 0}},mT=function(t){return function(){return!t.apply(void 0,arguments)}},A0="children",pF=(pt(Mo={},A0,!0),pt(Mo,"parent",!0),pt(Mo,"worldAlpha",!0),pt(Mo,"worldTransform",!0),pt(Mo,"worldVisible",!0),Mo),T0={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},Yn=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=function(l){return requestAnimationFrame(function(){var h,c;l==null||(h=l.__reactpixi)===null||h===void 0||(c=h.root)===null||c===void 0||c.emit("__REACT_PIXI_REQUEST_RENDER__")})},i=function(l,h){if(r.hasOwnProperty(l))return dt(h.typeofs.some(function(c){return Tr(r[l])===c})||h.instanceofs.some(function(c){return r[l]instanceof c}),"".concat(t," ").concat(l," prop is invalid")),r[l]};if(r.texture)return dt(r.texture instanceof ne,"".concat(t," texture needs to be typeof `Texture`")),r.texture;var s=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,ne]});dt(!!s,"".concat(t," could not get texture from props"));var o=ne.from(s);return o.__reactpixi={root:e},o.once("update",n),o.once("loaded",n),o.valid&&n(o),o},mF=mT(pT([].concat(bi(Object.keys(pF)),bi(xd))));function Qn(t,e,r){var n=!1;if(dt(tt.prototype.isPrototypeOf(t),"instance needs to be typeof `DisplayObject`, got `%s`",Tr(t)),!r.ignoreEvents)for(var i=typeof t.removeListener=="function",s=typeof t.on=="function",o=0;o<xd.length;o++){var l=xd[o];e[l]!==r[l]&&(n=!0,typeof e[l]=="function"&&i&&t.removeListener(l,e[l]),typeof r[l]=="function"&&s&&t.on(l,r[l]))}var h=Object.keys(r||{});if(r.overwriteProps){for(var c=0;c<h.length;c++){var f=h[c];e[f]!==r[f]&&(n=!0,Dm(t,f,r[f]))}return n}for(var m=h.filter(mF),p=0;p<m.length;p++){var v=m[p],x=r[v];r[v]!==e[v]&&(n=!0),x!==void 0?Dm(t,v,x):v in T0?(console.warn("setting default value: ".concat(v,", from: ").concat(t[v]," to: ").concat(x," for"),t),n=!0,Dm(t,v,T0[v])):console.warn("ignoring prop: ".concat(v,", from ").concat(t[v]," to ").concat(x," for"),t)}return n}var gF=function(t,e){var r=e.text,n=e.style;return new qD(r,n)},yF=function(){return new ir};function ys(t,e){if(t==null)return{};var r,n,i=function(o,l){if(o==null)return{};var h,c,f={},m=Object.keys(o);for(c=0;c<m.length;c++)h=m[c],l.indexOf(h)>=0||(f[h]=o[h]);return f}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var vF=["draw","geometry"],xF=function(t,e){var r=e.geometry;dt(!r||r instanceof zl,"Graphics geometry needs to be a `Graphics`");var n=r?new zl(r.geometry):new zl;return n.applyProps=function(i,s,o){var l=o.draw;o.geometry;var h=Qn(i,s,ys(o,vF));return s.draw!==l&&typeof l=="function"&&(h=!0,l.call(n,n)),h},n},_F=["image","texture"],bF=function(t,e){var r=e.leftWidth,n=r===void 0?10:r,i=e.topHeight,s=i===void 0?10:i,o=e.rightWidth,l=o===void 0?10:o,h=e.bottomHeight,c=h===void 0?10:h,f=Yn("NineSlicePlane",t,e),m=new K4(f,n,s,l,c);return m.applyProps=function(p,v,x){var w=x.image,A=x.texture,S=Qn(p,v,ys(x,_F));return(w||A)&&(A!==v.texture&&(S=!0),p.texture=Yn("NineSlicePlane",t,x)),S},m};function kb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kb(Object(r),!0).forEach(function(n){pt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var wF=function(t,e){var r=e.maxSize,n=r===void 0?1500:r,i=e.batchSize,s=i===void 0?16384:i,o=e.autoResize,l=o!==void 0&&o,h=Yh(Yh({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),c=Yh(Yh({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),f=new J4(n,h,s,l);return f.willUnmount=function(m,p,v){m.destroy(c)},f},SF=["image","texture"],EF=function(t,e){var r=new qn(Yn("Sprite",t,e));return r.applyProps=function(n,i,s){var o=s.image,l=s.texture,h=Qn(n,i,ys(s,SF));return(l&&i.texture!==s.texture||o&&i.image!==s.image)&&(i.texture!==s.texture&&(h=!0),n.texture=Yn("Sprite",t,s)),h},r},AF=["textures","isPlaying","initialFrame","images"],TF=function(t,e){var r=e.textures,n=e.images,i=e.isPlaying,s=i===void 0||i,o=e.initialFrame,l=function(c){return c.map(function(f){return dt(f instanceof ne||(f==null?void 0:f.texture),"AnimationSprite texture needs to be an array of `Texture` or `{ texture: Texture, time:\n                number }`"),f})},h=n?Pb.fromImages(n):new Pb(l(r));return h[s?"gotoAndPlay":"gotoAndStop"](o||0),h.applyProps=function(c,f,m){var p=m.textures,v=m.isPlaying,x=m.initialFrame,w=m.images,A=Qn(c,f,ys(m,AF));if(w&&f.images!==w){for(var S=[],E=0;E<w.length;++E)S.push(ne.from(w[E]));c.textures=S,A=!0}if(p&&f.textures!==p&&(c.textures=l(p),A=!0),v!==f.isPlaying||x!==f.initialFrame){var b=typeof x=="number"?x:h.currentFrame||0;h[v?"gotoAndPlay":"gotoAndStop"](b),A=!0}return A},h},CF=function(t,e){var r=e.text,n=r===void 0?"":r,i=e.style,s=i===void 0?{}:i,o=e.isSprite,l=new $y(n,s);return o?(l.updateText(),new qn(l.texture)):l},PF=["tileScale","tilePosition","image","texture"],IF=function(t,e){var r=e.width,n=r===void 0?100:r,i=e.height,s=i===void 0?100:i,o=Yn("TilingSprite",t,e),l=new Zy(o,n,s);return l.applyProps=function(h,c,f){var m=f.tileScale,p=f.tilePosition,v=f.image,x=f.texture,w=Qn(h,c,ys(f,PF));if(p){var A,S=El(p);(A=h.tilePosition).set.apply(A,bi(S)),w=!Rb(El(c.tilePosition),S)||w}if(m){var E,b=El(m);(E=h.tileScale).set.apply(E,bi(b)),w=!Rb(El(c.tileScale),b)||w}return(v||x)&&(x!==c.texture&&(w=!0),h.texture=Yn("Sprite",t,f)),w},l},RF=["image","texture"],kF=function(t,e){var r=Yn("Mesh",t,e),n=e.vertices,i=e.uvs,s=e.indices,o=e.drawMode,l=o===void 0?hn.TRIANGLES:o,h=new q4(r,n,i,s,l);return h.applyProps=function(c,f,m){var p=m.image,v=m.texture,x=Qn(c,f,ys(m,RF));return(p||v)&&(v!==f.texture&&(x=!0),c.texture=Yn("Mesh",t,m)),x},h},MF=["image","texture"],DF=function(t,e){var r=Yn("SimpleRope",t,e),n=e.points,i=new Z4(r,n);return i.applyProps=function(s,o,l){var h=l.image,c=l.texture,f=ys(l,MF);dt(Array.isArray(l.points),"SimpleRope points needs to be %s","Array<Point>");var m=Qn(s,o,f);return(h||c)&&(c!==o.texture&&(m=!0),s.texture=Yn("SimpleRope",t,l)),m},i},FF=Object.freeze({__proto__:null,BitmapText:gF,Container:yF,Graphics:xF,NineSlicePlane:bF,ParticleContainer:wF,Sprite:EF,Text:CF,TilingSprite:IF,SimpleMesh:kF,SimpleRope:DF,AnimatedSprite:TF});function Mb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Db(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Mb(Object(r),!0).forEach(function(n){pt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Mb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var yr={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},OF=Object.keys(yr).reduce(function(t,e){return Db(Db({},t),{},pt({},e,FF[e]))},{}),gT={};function NF(t,e){return dt(!!t,"Expect type to be defined, got `%s`",t),dt(!yr[t],"Component `%s` could not be created, already exists in default components.",t),gT[t]=e,t}var Fb,Ob,Nb,Bb,C0={},P0={},BF={get exports(){return P0},set exports(t){P0=t}},Lb={};function LF(){return Ob||(Ob=1,BF.exports=(Fb||(Fb=1,function(t){function e(P,U){var D=P.length;P.push(U);e:for(;0<D;){var G=D-1>>>1,re=P[G];if(!(0<i(re,U)))break e;P[G]=U,P[D]=re,D=G}}function r(P){return P.length===0?null:P[0]}function n(P){if(P.length===0)return null;var U=P[0],D=P.pop();if(D!==U){P[0]=D;e:for(var G=0,re=P.length,_e=re>>>1;G<_e;){var be=2*(G+1)-1,Ue=P[be],Pe=be+1,Le=P[Pe];if(0>i(Ue,D))Pe<re&&0>i(Le,Ue)?(P[G]=Le,P[Pe]=D,G=Pe):(P[G]=Ue,P[be]=D,G=be);else{if(!(Pe<re&&0>i(Le,D)))break e;P[G]=Le,P[Pe]=D,G=Pe}}}return U}function i(P,U){var D=P.sortIndex-U.sortIndex;return D!==0?D:P.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var h=[],c=[],f=1,m=null,p=3,v=!1,x=!1,w=!1,A=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;function b(P){for(var U=r(c);U!==null;){if(U.callback===null)n(c);else{if(!(U.startTime<=P))break;n(c),U.sortIndex=U.expirationTime,e(h,U)}U=r(c)}}function T(P){if(w=!1,b(P),!x)if(r(h)!==null)x=!0,ue(R);else{var U=r(c);U!==null&&H(T,U.startTime-P)}}function R(P,U){x=!1,w&&(w=!1,S($),$=-1),v=!0;var D=p;try{for(b(U),m=r(h);m!==null&&(!(m.expirationTime>U)||P&&!ee());){var G=m.callback;if(typeof G=="function"){m.callback=null,p=m.priorityLevel;var re=G(m.expirationTime<=U);U=t.unstable_now(),typeof re=="function"?m.callback=re:m===r(h)&&n(h),b(U)}else n(h);m=r(h)}if(m!==null)var _e=!0;else{var be=r(c);be!==null&&H(T,be.startTime-U),_e=!1}return _e}finally{m=null,p=D,v=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var B,M=!1,k=null,$=-1,X=5,ie=-1;function ee(){return!(t.unstable_now()-ie<X)}function O(){if(k!==null){var P=t.unstable_now();ie=P;var U=!0;try{U=k(!0,P)}finally{U?B():(M=!1,k=null)}}else M=!1}if(typeof E=="function")B=function(){E(O)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,te=W.port2;W.port1.onmessage=O,B=function(){te.postMessage(null)}}else B=function(){A(O,0)};function ue(P){k=P,M||(M=!0,B())}function H(P,U){$=A(function(){P(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){x||v||(x=!0,ue(R))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(P){switch(p){case 1:case 2:case 3:var U=3;break;default:U=p}var D=p;p=U;try{return P()}finally{p=D}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,U){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var D=p;p=P;try{return U()}finally{p=D}},t.unstable_scheduleCallback=function(P,U,D){var G=t.unstable_now();switch(D=typeof D=="object"&&D!==null&&typeof(D=D.delay)=="number"&&0<D?G+D:G,P){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return P={id:f++,callback:U,priorityLevel:P,startTime:D,expirationTime:re=D+re,sortIndex:-1},D>G?(P.sortIndex=D,e(c,P),r(h)===null&&P===r(c)&&(w?(S($),$=-1):w=!0,H(T,D-G))):(P.sortIndex=re,e(h,P),x||v||(x=!0,ue(R))),P},t.unstable_shouldYield=ee,t.unstable_wrapCallback=function(P){var U=p;return function(){var D=p;p=U;try{return P.apply(this,arguments)}finally{p=D}}}}(Lb)),Lb)),P0}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function UF(){return Bb||(Bb=1,Nb=function(t){var e={},r=qt,n=LF(),i=Object.assign;function s(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=1;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),h=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),v=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),T=Symbol.iterator;function R(a){return a===null||typeof a!="object"?null:typeof(a=T&&a[T]||a["@@iterator"])=="function"?a:null}function B(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case c:return"Fragment";case h:return"Portal";case m:return"Profiler";case f:return"StrictMode";case w:return"Suspense";case A:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case v:return(a.displayName||"Context")+".Consumer";case p:return(a._context.displayName||"Context")+".Provider";case x:var u=a.render;return(a=a.displayName)||(a=(a=u.displayName||u.name||"")!==""?"ForwardRef("+a+")":"ForwardRef"),a;case S:return(u=a.displayName||null)!==null?u:B(a.type)||"Memo";case E:u=a._payload,a=a._init;try{return B(a(u))}catch{}}return null}function M(a){var u=a.type;switch(a.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=(a=u.render).displayName||a.name||"",u.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(u);case 8:return u===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function k(a){var u=a,d=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do 4098&(u=a).flags&&(d=u.return),a=u.return;while(a)}return u.tag===3?d:null}function $(a){if(k(a)!==a)throw Error(s(188))}function X(a){var u=a.alternate;if(!u){if((u=k(a))===null)throw Error(s(188));return u!==a?null:a}for(var d=a,g=u;;){var y=d.return;if(y===null)break;var _=y.alternate;if(_===null){if((g=y.return)!==null){d=g;continue}break}if(y.child===_.child){for(_=y.child;_;){if(_===d)return $(y),a;if(_===g)return $(y),u;_=_.sibling}throw Error(s(188))}if(d.return!==g.return)d=y,g=_;else{for(var C=!1,I=y.child;I;){if(I===d){C=!0,d=y,g=_;break}if(I===g){C=!0,g=y,d=_;break}I=I.sibling}if(!C){for(I=_.child;I;){if(I===d){C=!0,d=_,g=y;break}if(I===g){C=!0,g=_,d=y;break}I=I.sibling}if(!C)throw Error(s(189))}}if(d.alternate!==g)throw Error(s(190))}if(d.tag!==3)throw Error(s(188));return d.stateNode.current===d?a:u}function ie(a){return(a=X(a))!==null?ee(a):null}function ee(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var u=ee(a);if(u!==null)return u;a=a.sibling}return null}function O(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){if(a.tag!==4){var u=O(a);if(u!==null)return u}a=a.sibling}return null}var W,te=Array.isArray,ue=t.getPublicInstance,H=t.getRootHostContext,P=t.getChildHostContext,U=t.prepareForCommit,D=t.resetAfterCommit,G=t.createInstance,re=t.appendInitialChild,_e=t.finalizeInitialChildren,be=t.prepareUpdate,Ue=t.shouldSetTextContent,Pe=t.createTextInstance,Le=t.scheduleTimeout,At=t.cancelTimeout,Nt=t.noTimeout,lt=t.isPrimaryRenderer,Ie=t.supportsMutation,Xe=t.supportsPersistence,Oe=t.supportsHydration,Rr=t.getInstanceFromNode,kr=t.preparePortalMount,vs=t.getCurrentEventPriority,of=t.detachDeletedInstance,uo=t.supportsMicrotasks,JT=t.scheduleMicrotask,Da=t.supportsTestSelectors,e2=t.findFiberRoot,t2=t.getBoundingRect,r2=t.getTextContent,Fa=t.isHiddenSubtree,n2=t.matchAccessibilityRole,i2=t.setFocusIfFocusable,s2=t.setupIntersectionObserver,o2=t.appendChild,a2=t.appendChildToContainer,l2=t.commitTextUpdate,u2=t.commitMount,h2=t.commitUpdate,c2=t.insertBefore,d2=t.insertInContainerBefore,f2=t.removeChild,p2=t.removeChildFromContainer,nv=t.resetTextContent,m2=t.hideInstance,g2=t.hideTextInstance,y2=t.unhideInstance,v2=t.unhideTextInstance,x2=t.clearContainer,_2=t.cloneInstance,iv=t.createContainerChildSet,sv=t.appendChildToContainerChildSet,b2=t.finalizeContainerChildren,af=t.replaceContainerChildren,ov=t.cloneHiddenInstance,av=t.cloneHiddenTextInstance,w2=t.canHydrateInstance,S2=t.canHydrateTextInstance,E2=t.canHydrateSuspenseInstance,lv=t.isSuspenseInstancePending,lf=t.isSuspenseInstanceFallback,A2=t.getSuspenseInstanceFallbackErrorDetails,T2=t.registerSuspenseInstanceRetry,Su=t.getNextHydratableSibling,C2=t.getFirstHydratableChild,P2=t.getFirstHydratableChildWithinContainer,I2=t.getFirstHydratableChildWithinSuspenseInstance,R2=t.hydrateInstance,k2=t.hydrateTextInstance,M2=t.hydrateSuspenseInstance,D2=t.getNextHydratableInstanceAfterSuspenseInstance,F2=t.commitHydratedContainer,O2=t.commitHydratedSuspenseInstance,N2=t.clearSuspenseBoundary,B2=t.clearSuspenseBoundaryFromContainer,L2=t.shouldDeleteUnhydratedTailInstances,U2=t.didNotMatchHydratedContainerTextInstance,z2=t.didNotMatchHydratedTextInstance;function Oa(a){if(W===void 0)try{throw Error()}catch(d){var u=d.stack.trim().match(/\n( *(at )?)/);W=u&&u[1]||""}return`
`+W+a}var uf=!1;function hf(a,u){if(!a||uf)return"";uf=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(j){var g=j}Reflect.construct(a,[],u)}else{try{u.call()}catch(j){g=j}a.call(u.prototype)}else{try{throw Error()}catch(j){g=j}a()}}catch(j){if(j&&g&&typeof j.stack=="string"){for(var y=j.stack.split(`
`),_=g.stack.split(`
`),C=y.length-1,I=_.length-1;1<=C&&0<=I&&y[C]!==_[I];)I--;for(;1<=C&&0<=I;C--,I--)if(y[C]!==_[I]){if(C!==1||I!==1)do if(C--,0>--I||y[C]!==_[I]){var N=`
`+y[C].replace(" at new "," at ");return a.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",a.displayName)),N}while(1<=C&&0<=I);break}}}finally{uf=!1,Error.prepareStackTrace=d}return(a=a?a.displayName||a.name:"")?Oa(a):""}var G2=Object.prototype.hasOwnProperty,cf=[],ho=-1;function Si(a){return{current:a}}function qe(a){0>ho||(a.current=cf[ho],cf[ho]=null,ho--)}function We(a,u){ho++,cf[ho]=a.current,a.current=u}var Ei={},Wt=Si(Ei),ar=Si(!1),xs=Ei;function co(a,u){var d=a.type.contextTypes;if(!d)return Ei;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===u)return g.__reactInternalMemoizedMaskedChildContext;var y,_={};for(y in d)_[y]=u[y];return g&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=_),_}function vr(a){return(a=a.childContextTypes)!=null}function df(){qe(ar),qe(Wt)}function uv(a,u,d){if(Wt.current!==Ei)throw Error(s(168));We(Wt,u),We(ar,d)}function hv(a,u,d){var g=a.stateNode;if(u=u.childContextTypes,typeof g.getChildContext!="function")return d;for(var y in g=g.getChildContext())if(!(y in u))throw Error(s(108,M(a)||"Unknown",y));return i({},d,g)}function Eu(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Ei,xs=Wt.current,We(Wt,a),We(ar,ar.current),!0}function cv(a,u,d){var g=a.stateNode;if(!g)throw Error(s(169));d?(a=hv(a,u,xs),g.__reactInternalMemoizedMergedChildContext=a,qe(ar),qe(Wt),We(Wt,a)):qe(ar),We(ar,d)}var Qr=Math.clz32?Math.clz32:function(a){return(a>>>=0)===0?32:31-(j2(a)/H2|0)|0},j2=Math.log,H2=Math.LN2,ff=64,pf=4194304;function Na(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&a;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&a;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Au(a,u){var d=a.pendingLanes;if(d===0)return 0;var g=0,y=a.suspendedLanes,_=a.pingedLanes,C=268435455&d;if(C!==0){var I=C&~y;I!==0?g=Na(I):(_&=C)!==0&&(g=Na(_))}else(C=d&~y)!==0?g=Na(C):_!==0&&(g=Na(_));if(g===0)return 0;if(u!==0&&u!==g&&!(u&y)&&((y=g&-g)>=(_=u&-u)||y===16&&4194240&_))return u;if(4&g&&(g|=16&d),(u=a.entangledLanes)!==0)for(a=a.entanglements,u&=g;0<u;)y=1<<(d=31-Qr(u)),g|=a[d],u&=~y;return g}function W2(a,u){switch(a){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;default:return-1}}function mf(a){return(a=-1073741825&a.pendingLanes)!==0?a:1073741824&a?1073741824:0}function dv(){var a=ff;return!(4194240&(ff<<=1))&&(ff=64),a}function gf(a){for(var u=[],d=0;31>d;d++)u.push(a);return u}function Ba(a,u,d){a.pendingLanes|=u,u!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),(a=a.eventTimes)[u=31-Qr(u)]=d}function yf(a,u){var d=a.entangledLanes|=u;for(a=a.entanglements;d;){var g=31-Qr(d),y=1<<g;y&u|a[g]&u&&(a[g]|=u),d&=~y}}var Ne=0;function fv(a){return 1<(a&=-a)?4<a?268435455&a?16:536870912:4:1}var vf=n.unstable_scheduleCallback,pv=n.unstable_cancelCallback,V2=n.unstable_shouldYield,X2=n.unstable_requestPaint,Tt=n.unstable_now,xf=n.unstable_ImmediatePriority,$2=n.unstable_UserBlockingPriority,mv=n.unstable_NormalPriority,Y2=n.unstable_IdlePriority,Tu=null,xn=null,Kr=typeof Object.is=="function"?Object.is:function(a,u){return a===u&&(a!==0||1/a==1/u)||a!=a&&u!=u},Zn=null,Cu=!1,_f=!1;function gv(a){Zn===null?Zn=[a]:Zn.push(a)}function _n(){if(!_f&&Zn!==null){_f=!0;var a=0,u=Ne;try{var d=Zn;for(Ne=1;a<d.length;a++){var g=d[a];do g=g(!0);while(g!==null)}Zn=null,Cu=!1}catch(y){throw Zn!==null&&(Zn=Zn.slice(a+1)),vf(xf,_n),y}finally{Ne=u,_f=!1}}return null}var fo=[],po=0,Pu=null,Iu=0,Mr=[],Dr=0,_s=null,bn=1,Jn="";function bs(a,u){fo[po++]=Iu,fo[po++]=Pu,Pu=a,Iu=u}function yv(a,u,d){Mr[Dr++]=bn,Mr[Dr++]=Jn,Mr[Dr++]=_s,_s=a;var g=bn;a=Jn;var y=32-Qr(g)-1;g&=~(1<<y),d+=1;var _=32-Qr(u)+y;if(30<_){var C=y-y%5;_=(g&(1<<C)-1).toString(32),g>>=C,y-=C,bn=1<<32-Qr(u)+y|d<<y|g,Jn=_+a}else bn=1<<_|d<<y|g,Jn=a}function bf(a){a.return!==null&&(bs(a,1),yv(a,1,0))}function wf(a){for(;a===Pu;)Pu=fo[--po],fo[po]=null,Iu=fo[--po],fo[po]=null;for(;a===_s;)_s=Mr[--Dr],Mr[Dr]=null,Jn=Mr[--Dr],Mr[Dr]=null,bn=Mr[--Dr],Mr[Dr]=null}var xr=null,Fr=null,Ze=!1,La=!1,qr=null;function vv(a,u){var d=Ur(5,null,null,0);d.elementType="DELETED",d.stateNode=u,d.return=a,(u=a.deletions)===null?(a.deletions=[d],a.flags|=16):u.push(d)}function xv(a,u){switch(a.tag){case 5:return(u=w2(u,a.type,a.pendingProps))!==null&&(a.stateNode=u,xr=a,Fr=C2(u),!0);case 6:return(u=S2(u,a.pendingProps))!==null&&(a.stateNode=u,xr=a,Fr=null,!0);case 13:if((u=E2(u))!==null){var d=_s!==null?{id:bn,overflow:Jn}:null;return a.memoizedState={dehydrated:u,treeContext:d,retryLane:1073741824},(d=Ur(18,null,null,0)).stateNode=u,d.return=a,a.child=d,xr=a,Fr=null,!0}return!1;default:return!1}}function Sf(a){return(1&a.mode)!=0&&(128&a.flags)==0}function Ef(a){if(Ze){var u=Fr;if(u){var d=u;if(!xv(a,u)){if(Sf(a))throw Error(s(418));u=Su(d);var g=xr;u&&xv(a,u)?vv(g,d):(a.flags=-4097&a.flags|2,Ze=!1,xr=a)}}else{if(Sf(a))throw Error(s(418));a.flags=-4097&a.flags|2,Ze=!1,xr=a}}}function _v(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;xr=a}function Ru(a){if(!Oe||a!==xr)return!1;if(!Ze)return _v(a),Ze=!0,!1;if(a.tag!==3&&(a.tag!==5||L2(a.type)&&!Ue(a.type,a.memoizedProps))){var u=Fr;if(u){if(Sf(a))throw bv(),Error(s(418));for(;u;)vv(a,u),u=Su(u)}}if(_v(a),a.tag===13){if(!Oe)throw Error(s(316));if(!(a=(a=a.memoizedState)!==null?a.dehydrated:null))throw Error(s(317));Fr=D2(a)}else Fr=xr?Su(a.stateNode):null;return!0}function bv(){for(var a=Fr;a;)a=Su(a)}function mo(){Oe&&(Fr=xr=null,La=Ze=!1)}function Af(a){qr===null?qr=[a]:qr.push(a)}var Q2=o.ReactCurrentBatchConfig;function ku(a,u){if(Kr(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var d=Object.keys(a),g=Object.keys(u);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var y=d[g];if(!G2.call(u,y)||!Kr(a[y],u[y]))return!1}return!0}function K2(a){switch(a.tag){case 5:return Oa(a.type);case 16:return Oa("Lazy");case 13:return Oa("Suspense");case 19:return Oa("SuspenseList");case 0:case 2:case 15:return a=hf(a.type,!1);case 11:return a=hf(a.type.render,!1);case 1:return a=hf(a.type,!0);default:return""}}function Zr(a,u){if(a&&a.defaultProps){for(var d in u=i({},u),a=a.defaultProps)u[d]===void 0&&(u[d]=a[d]);return u}return u}var Mu=Si(null),Du=null,go=null,Tf=null;function Cf(){Tf=go=Du=null}function wv(a,u,d){lt?(We(Mu,u._currentValue),u._currentValue=d):(We(Mu,u._currentValue2),u._currentValue2=d)}function Pf(a){var u=Mu.current;qe(Mu),lt?a._currentValue=u:a._currentValue2=u}function If(a,u,d){for(;a!==null;){var g=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),a===d)break;a=a.return}}function yo(a,u){Du=a,Tf=go=null,(a=a.dependencies)!==null&&a.firstContext!==null&&(a.lanes&u&&(lr=!0),a.firstContext=null)}function Or(a){var u=lt?a._currentValue:a._currentValue2;if(Tf!==a)if(a={context:a,memoizedValue:u,next:null},go===null){if(Du===null)throw Error(s(308));go=a,Du.dependencies={lanes:0,firstContext:a}}else go=go.next=a;return u}var ws=null;function Rf(a){ws===null?ws=[a]:ws.push(a)}function Sv(a,u,d,g){var y=u.interleaved;return y===null?(d.next=d,Rf(u)):(d.next=y.next,y.next=d),u.interleaved=d,wn(a,g)}function wn(a,u){a.lanes|=u;var d=a.alternate;for(d!==null&&(d.lanes|=u),d=a,a=a.return;a!==null;)a.childLanes|=u,(d=a.alternate)!==null&&(d.childLanes|=u),d=a,a=a.return;return d.tag===3?d.stateNode:null}var Ai=!1;function kf(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ev(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function ei(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function Ti(a,u,d){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(2&Me)!=0){var y=g.pending;return y===null?u.next=u:(u.next=y.next,y.next=u),g.pending=u,wn(a,d)}return(y=g.interleaved)===null?(u.next=u,Rf(g)):(u.next=y.next,y.next=u),g.interleaved=u,wn(a,d)}function Fu(a,u,d){if((u=u.updateQueue)!==null&&(u=u.shared,(4194240&d)!=0)){var g=u.lanes;d|=g&=a.pendingLanes,u.lanes=d,yf(a,d)}}function Av(a,u){var d=a.updateQueue,g=a.alternate;if(g!==null&&d===(g=g.updateQueue)){var y=null,_=null;if((d=d.firstBaseUpdate)!==null){do{var C={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};_===null?y=_=C:_=_.next=C,d=d.next}while(d!==null);_===null?y=_=u:_=_.next=u}else y=_=u;return d={baseState:g.baseState,firstBaseUpdate:y,lastBaseUpdate:_,shared:g.shared,effects:g.effects},void(a.updateQueue=d)}(a=d.lastBaseUpdate)===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=u}function Ou(a,u,d,g){var y=a.updateQueue;Ai=!1;var _=y.firstBaseUpdate,C=y.lastBaseUpdate,I=y.shared.pending;if(I!==null){y.shared.pending=null;var N=I,j=N.next;N.next=null,C===null?_=j:C.next=j,C=N;var Y=a.alternate;Y!==null&&(I=(Y=Y.updateQueue).lastBaseUpdate)!==C&&(I===null?Y.firstBaseUpdate=j:I.next=j,Y.lastBaseUpdate=N)}if(_!==null){var se=y.baseState;for(C=0,Y=j=N=null,I=_;;){var V=I.lane,Z=I.eventTime;if((g&V)===V){Y!==null&&(Y=Y.next={eventTime:Z,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var de=a,Te=I;switch(V=u,Z=d,Te.tag){case 1:if(typeof(de=Te.payload)=="function"){se=de.call(Z,se,V);break e}se=de;break e;case 3:de.flags=-65537&de.flags|128;case 0:if((V=typeof(de=Te.payload)=="function"?de.call(Z,se,V):de)==null)break e;se=i({},se,V);break e;case 2:Ai=!0}}I.callback!==null&&I.lane!==0&&(a.flags|=64,(V=y.effects)===null?y.effects=[I]:V.push(I))}else Z={eventTime:Z,lane:V,tag:I.tag,payload:I.payload,callback:I.callback,next:null},Y===null?(j=Y=Z,N=se):Y=Y.next=Z,C|=V;if((I=I.next)===null){if((I=y.shared.pending)===null)break;I=(V=I).next,V.next=null,y.lastBaseUpdate=V,y.shared.pending=null}}if(Y===null&&(N=se),y.baseState=N,y.firstBaseUpdate=j,y.lastBaseUpdate=Y,(u=y.shared.interleaved)!==null){y=u;do C|=y.lane,y=y.next;while(y!==u)}else _===null&&(y.shared.lanes=0);Es|=C,a.lanes=C,a.memoizedState=se}}function Tv(a,u,d){if(a=u.effects,u.effects=null,a!==null)for(u=0;u<a.length;u++){var g=a[u],y=g.callback;if(y!==null){if(g.callback=null,g=d,typeof y!="function")throw Error(s(191,y));y.call(g)}}}var Cv=new r.Component().refs;function Mf(a,u,d,g){d=(d=d(g,u=a.memoizedState))==null?u:i({},u,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var Nu={isMounted:function(a){return!!(a=a._reactInternals)&&k(a)===a},enqueueSetState:function(a,u,d){a=a._reactInternals;var g=$t(),y=Ri(a),_=ei(g,y);_.payload=u,d!=null&&(_.callback=d),(u=Ti(a,_,y))!==null&&(Lr(u,a,y,g),Fu(u,a,y))},enqueueReplaceState:function(a,u,d){a=a._reactInternals;var g=$t(),y=Ri(a),_=ei(g,y);_.tag=1,_.payload=u,d!=null&&(_.callback=d),(u=Ti(a,_,y))!==null&&(Lr(u,a,y,g),Fu(u,a,y))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var d=$t(),g=Ri(a),y=ei(d,g);y.tag=2,u!=null&&(y.callback=u),(u=Ti(a,y,g))!==null&&(Lr(u,a,g,d),Fu(u,a,g))}};function Pv(a,u,d,g,y,_,C){return typeof(a=a.stateNode).shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,_,C):!u.prototype||!u.prototype.isPureReactComponent||!ku(d,g)||!ku(y,_)}function Iv(a,u,d){var g=!1,y=Ei,_=u.contextType;return typeof _=="object"&&_!==null?_=Or(_):(y=vr(u)?xs:Wt.current,_=(g=(g=u.contextTypes)!=null)?co(a,y):Ei),u=new u(d,_),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=Nu,a.stateNode=u,u._reactInternals=a,g&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=y,a.__reactInternalMemoizedMaskedChildContext=_),u}function Rv(a,u,d,g){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(d,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(d,g),u.state!==a&&Nu.enqueueReplaceState(u,u.state,null)}function Df(a,u,d,g){var y=a.stateNode;y.props=d,y.state=a.memoizedState,y.refs=Cv,kf(a);var _=u.contextType;typeof _=="object"&&_!==null?y.context=Or(_):(_=vr(u)?xs:Wt.current,y.context=co(a,_)),y.state=a.memoizedState,typeof(_=u.getDerivedStateFromProps)=="function"&&(Mf(a,u,_,d),y.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(u=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),u!==y.state&&Nu.enqueueReplaceState(y,y.state,null),Ou(a,d,y,g),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308)}function Ua(a,u,d){if((a=d.ref)!==null&&typeof a!="function"&&typeof a!="object"){if(d._owner){if(d=d._owner){if(d.tag!==1)throw Error(s(309));var g=d.stateNode}if(!g)throw Error(s(147,a));var y=g,_=""+a;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===_?u.ref:(u=function(C){var I=y.refs;I===Cv&&(I=y.refs={}),C===null?delete I[_]:I[_]=C},u._stringRef=_,u)}if(typeof a!="string")throw Error(s(284));if(!d._owner)throw Error(s(290,a))}return a}function Bu(a,u){throw a=Object.prototype.toString.call(u),Error(s(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a))}function kv(a){return(0,a._init)(a._payload)}function Mv(a){function u(Q,F){if(a){var z=Q.deletions;z===null?(Q.deletions=[F],Q.flags|=16):z.push(F)}}function d(Q,F){if(!a)return null;for(;F!==null;)u(Q,F),F=F.sibling;return null}function g(Q,F){for(Q=new Map;F!==null;)F.key!==null?Q.set(F.key,F):Q.set(F.index,F),F=F.sibling;return Q}function y(Q,F){return(Q=Mi(Q,F)).index=0,Q.sibling=null,Q}function _(Q,F,z){return Q.index=z,a?(z=Q.alternate)!==null?(z=z.index)<F?(Q.flags|=2,F):z:(Q.flags|=2,F):(Q.flags|=1048576,F)}function C(Q){return a&&Q.alternate===null&&(Q.flags|=2),Q}function I(Q,F,z,K){return F===null||F.tag!==6?((F=xp(z,Q.mode,K)).return=Q,F):((F=y(F,z)).return=Q,F)}function N(Q,F,z,K){var ye=z.type;return ye===c?Y(Q,F,z.props.children,K,z.key):F!==null&&(F.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===E&&kv(ye)===F.type)?((K=y(F,z.props)).ref=Ua(Q,F,z),K.return=Q,K):((K=uh(z.type,z.key,z.props,null,Q.mode,K)).ref=Ua(Q,F,z),K.return=Q,K)}function j(Q,F,z,K){return F===null||F.tag!==4||F.stateNode.containerInfo!==z.containerInfo||F.stateNode.implementation!==z.implementation?((F=_p(z,Q.mode,K)).return=Q,F):((F=y(F,z.children||[])).return=Q,F)}function Y(Q,F,z,K,ye){return F===null||F.tag!==7?((F=Cs(z,Q.mode,K,ye)).return=Q,F):((F=y(F,z)).return=Q,F)}function se(Q,F,z){if(typeof F=="string"&&F!==""||typeof F=="number")return(F=xp(""+F,Q.mode,z)).return=Q,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case l:return(z=uh(F.type,F.key,F.props,null,Q.mode,z)).ref=Ua(Q,null,F),z.return=Q,z;case h:return(F=_p(F,Q.mode,z)).return=Q,F;case E:return se(Q,(0,F._init)(F._payload),z)}if(te(F)||R(F))return(F=Cs(F,Q.mode,z,null)).return=Q,F;Bu(Q,F)}return null}function V(Q,F,z,K){var ye=F!==null?F.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return ye!==null?null:I(Q,F,""+z,K);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case l:return z.key===ye?N(Q,F,z,K):null;case h:return z.key===ye?j(Q,F,z,K):null;case E:return V(Q,F,(ye=z._init)(z._payload),K)}if(te(z)||R(z))return ye!==null?null:Y(Q,F,z,K,null);Bu(Q,z)}return null}function Z(Q,F,z,K,ye){if(typeof K=="string"&&K!==""||typeof K=="number")return I(F,Q=Q.get(z)||null,""+K,ye);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case l:return N(F,Q=Q.get(K.key===null?z:K.key)||null,K,ye);case h:return j(F,Q=Q.get(K.key===null?z:K.key)||null,K,ye);case E:return Z(Q,F,z,(0,K._init)(K._payload),ye)}if(te(K)||R(K))return Y(F,Q=Q.get(z)||null,K,ye,null);Bu(F,K)}return null}function de(Q,F,z,K){for(var ye=null,ze=null,pe=F,Be=F=0,Lt=null;pe!==null&&Be<z.length;Be++){pe.index>Be?(Lt=pe,pe=null):Lt=pe.sibling;var Ge=V(Q,pe,z[Be],K);if(Ge===null){pe===null&&(pe=Lt);break}a&&pe&&Ge.alternate===null&&u(Q,pe),F=_(Ge,F,Be),ze===null?ye=Ge:ze.sibling=Ge,ze=Ge,pe=Lt}if(Be===z.length)return d(Q,pe),Ze&&bs(Q,Be),ye;if(pe===null){for(;Be<z.length;Be++)(pe=se(Q,z[Be],K))!==null&&(F=_(pe,F,Be),ze===null?ye=pe:ze.sibling=pe,ze=pe);return Ze&&bs(Q,Be),ye}for(pe=g(Q,pe);Be<z.length;Be++)(Lt=Z(pe,Q,Be,z[Be],K))!==null&&(a&&Lt.alternate!==null&&pe.delete(Lt.key===null?Be:Lt.key),F=_(Lt,F,Be),ze===null?ye=Lt:ze.sibling=Lt,ze=Lt);return a&&pe.forEach(function(Di){return u(Q,Di)}),Ze&&bs(Q,Be),ye}function Te(Q,F,z,K){var ye=R(z);if(typeof ye!="function")throw Error(s(150));if((z=ye.call(z))==null)throw Error(s(151));for(var ze=ye=null,pe=F,Be=F=0,Lt=null,Ge=z.next();pe!==null&&!Ge.done;Be++,Ge=z.next()){pe.index>Be?(Lt=pe,pe=null):Lt=pe.sibling;var Di=V(Q,pe,Ge.value,K);if(Di===null){pe===null&&(pe=Lt);break}a&&pe&&Di.alternate===null&&u(Q,pe),F=_(Di,F,Be),ze===null?ye=Di:ze.sibling=Di,ze=Di,pe=Lt}if(Ge.done)return d(Q,pe),Ze&&bs(Q,Be),ye;if(pe===null){for(;!Ge.done;Be++,Ge=z.next())(Ge=se(Q,Ge.value,K))!==null&&(F=_(Ge,F,Be),ze===null?ye=Ge:ze.sibling=Ge,ze=Ge);return Ze&&bs(Q,Be),ye}for(pe=g(Q,pe);!Ge.done;Be++,Ge=z.next())(Ge=Z(pe,Q,Be,Ge.value,K))!==null&&(a&&Ge.alternate!==null&&pe.delete(Ge.key===null?Be:Ge.key),F=_(Ge,F,Be),ze===null?ye=Ge:ze.sibling=Ge,ze=Ge);return a&&pe.forEach(function(_C){return u(Q,_C)}),Ze&&bs(Q,Be),ye}return function Q(F,z,K,ye){if(typeof K=="object"&&K!==null&&K.type===c&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case l:e:{for(var ze=K.key,pe=z;pe!==null;){if(pe.key===ze){if((ze=K.type)===c){if(pe.tag===7){d(F,pe.sibling),(z=y(pe,K.props.children)).return=F,F=z;break e}}else if(pe.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===E&&kv(ze)===pe.type){d(F,pe.sibling),(z=y(pe,K.props)).ref=Ua(F,pe,K),z.return=F,F=z;break e}d(F,pe);break}u(F,pe),pe=pe.sibling}K.type===c?((z=Cs(K.props.children,F.mode,ye,K.key)).return=F,F=z):((ye=uh(K.type,K.key,K.props,null,F.mode,ye)).ref=Ua(F,z,K),ye.return=F,F=ye)}return C(F);case h:e:{for(pe=K.key;z!==null;){if(z.key===pe){if(z.tag===4&&z.stateNode.containerInfo===K.containerInfo&&z.stateNode.implementation===K.implementation){d(F,z.sibling),(z=y(z,K.children||[])).return=F,F=z;break e}d(F,z);break}u(F,z),z=z.sibling}(z=_p(K,F.mode,ye)).return=F,F=z}return C(F);case E:return Q(F,z,(pe=K._init)(K._payload),ye)}if(te(K))return de(F,z,K,ye);if(R(K))return Te(F,z,K,ye);Bu(F,K)}return typeof K=="string"&&K!==""||typeof K=="number"?(K=""+K,z!==null&&z.tag===6?(d(F,z.sibling),(z=y(z,K)).return=F,F=z):(d(F,z),(z=xp(K,F.mode,ye)).return=F,F=z),C(F)):d(F,z)}}var vo=Mv(!0),Dv=Mv(!1),za={},Nr=Si(za),Ga=Si(za),xo=Si(za);function Sn(a){if(a===za)throw Error(s(174));return a}function Ff(a,u){We(xo,u),We(Ga,a),We(Nr,za),a=H(u),qe(Nr),We(Nr,a)}function _o(){qe(Nr),qe(Ga),qe(xo)}function Fv(a){var u=Sn(xo.current),d=Sn(Nr.current);d!==(u=P(d,a.type,u))&&(We(Ga,a),We(Nr,u))}function Of(a){Ga.current===a&&(qe(Nr),qe(Ga))}var ut=Si(0);function Lu(a){for(var u=a;u!==null;){if(u.tag===13){var d=u.memoizedState;if(d!==null&&((d=d.dehydrated)===null||lv(d)||lf(d)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(128&u.flags)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Nf=[];function Bf(){for(var a=0;a<Nf.length;a++){var u=Nf[a];lt?u._workInProgressVersionPrimary=null:u._workInProgressVersionSecondary=null}Nf.length=0}var Uu=o.ReactCurrentDispatcher,Lf=o.ReactCurrentBatchConfig,Ss=0,rt=null,Ct=null,Pt=null,zu=!1,ja=!1,Ha=0,q2=0;function Vt(){throw Error(s(321))}function Uf(a,u){if(u===null)return!1;for(var d=0;d<u.length&&d<a.length;d++)if(!Kr(a[d],u[d]))return!1;return!0}function zf(a,u,d,g,y,_){if(Ss=_,rt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Uu.current=a===null||a.memoizedState===null?tC:rC,a=d(g,y),ja){_=0;do{if(ja=!1,Ha=0,25<=_)throw Error(s(301));_+=1,Pt=Ct=null,u.updateQueue=null,Uu.current=nC,a=d(g,y)}while(ja)}if(Uu.current=Hu,u=Ct!==null&&Ct.next!==null,Ss=0,Pt=Ct=rt=null,zu=!1,u)throw Error(s(300));return a}function Gf(){var a=Ha!==0;return Ha=0,a}function En(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?rt.memoizedState=Pt=a:Pt=Pt.next=a,Pt}function Br(){if(Ct===null){var a=rt.alternate;a=a!==null?a.memoizedState:null}else a=Ct.next;var u=Pt===null?rt.memoizedState:Pt.next;if(u!==null)Pt=u,Ct=a;else{if(a===null)throw Error(s(310));a={memoizedState:(Ct=a).memoizedState,baseState:Ct.baseState,baseQueue:Ct.baseQueue,queue:Ct.queue,next:null},Pt===null?rt.memoizedState=Pt=a:Pt=Pt.next=a}return Pt}function Wa(a,u){return typeof u=="function"?u(a):u}function jf(a){var u=Br(),d=u.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=a;var g=Ct,y=g.baseQueue,_=d.pending;if(_!==null){if(y!==null){var C=y.next;y.next=_.next,_.next=C}g.baseQueue=y=_,d.pending=null}if(y!==null){_=y.next,g=g.baseState;var I=C=null,N=null,j=_;do{var Y=j.lane;if((Ss&Y)===Y)N!==null&&(N=N.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),g=j.hasEagerState?j.eagerState:a(g,j.action);else{var se={lane:Y,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};N===null?(I=N=se,C=g):N=N.next=se,rt.lanes|=Y,Es|=Y}j=j.next}while(j!==null&&j!==_);N===null?C=g:N.next=I,Kr(g,u.memoizedState)||(lr=!0),u.memoizedState=g,u.baseState=C,u.baseQueue=N,d.lastRenderedState=g}if((a=d.interleaved)!==null){y=a;do _=y.lane,rt.lanes|=_,Es|=_,y=y.next;while(y!==a)}else y===null&&(d.lanes=0);return[u.memoizedState,d.dispatch]}function Hf(a){var u=Br(),d=u.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=a;var g=d.dispatch,y=d.pending,_=u.memoizedState;if(y!==null){d.pending=null;var C=y=y.next;do _=a(_,C.action),C=C.next;while(C!==y);Kr(_,u.memoizedState)||(lr=!0),u.memoizedState=_,u.baseQueue===null&&(u.baseState=_),d.lastRenderedState=_}return[_,g]}function Ov(){}function Nv(a,u){var d=rt,g=Br(),y=u(),_=!Kr(g.memoizedState,y);if(_&&(g.memoizedState=y,lr=!0),g=g.queue,Wf(Uv.bind(null,d,g,a),[a]),g.getSnapshot!==u||_||Pt!==null&&1&Pt.memoizedState.tag){if(d.flags|=2048,Va(9,Lv.bind(null,d,g,y,u),void 0,null),It===null)throw Error(s(349));30&Ss||Bv(d,u,y)}return y}function Bv(a,u,d){a.flags|=16384,a={getSnapshot:u,value:d},(u=rt.updateQueue)===null?(u={lastEffect:null,stores:null},rt.updateQueue=u,u.stores=[a]):(d=u.stores)===null?u.stores=[a]:d.push(a)}function Lv(a,u,d,g){u.value=d,u.getSnapshot=g,zv(u)&&Gv(a)}function Uv(a,u,d){return d(function(){zv(u)&&Gv(a)})}function zv(a){var u=a.getSnapshot;a=a.value;try{var d=u();return!Kr(a,d)}catch{return!0}}function Gv(a){var u=wn(a,1);u!==null&&Lr(u,a,1,-1)}function jv(a){var u=En();return typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:a},u.queue=a,a=a.dispatch=eC.bind(null,rt,a),[u.memoizedState,a]}function Va(a,u,d,g){return a={tag:a,create:u,destroy:d,deps:g,next:null},(u=rt.updateQueue)===null?(u={lastEffect:null,stores:null},rt.updateQueue=u,u.lastEffect=a.next=a):(d=u.lastEffect)===null?u.lastEffect=a.next=a:(g=d.next,d.next=a,a.next=g,u.lastEffect=a),a}function Hv(){return Br().memoizedState}function Gu(a,u,d,g){var y=En();rt.flags|=a,y.memoizedState=Va(1|u,d,void 0,g===void 0?null:g)}function ju(a,u,d,g){var y=Br();g=g===void 0?null:g;var _=void 0;if(Ct!==null){var C=Ct.memoizedState;if(_=C.destroy,g!==null&&Uf(g,C.deps))return void(y.memoizedState=Va(u,d,_,g))}rt.flags|=a,y.memoizedState=Va(1|u,d,_,g)}function Wv(a,u){return Gu(8390656,8,a,u)}function Wf(a,u){return ju(2048,8,a,u)}function Vv(a,u){return ju(4,2,a,u)}function Xv(a,u){return ju(4,4,a,u)}function $v(a,u){return typeof u=="function"?(a=a(),u(a),function(){u(null)}):u!=null?(a=a(),u.current=a,function(){u.current=null}):void 0}function Yv(a,u,d){return d=d!=null?d.concat([a]):null,ju(4,4,$v.bind(null,u,a),d)}function Vf(){}function Qv(a,u){var d=Br();u=u===void 0?null:u;var g=d.memoizedState;return g!==null&&u!==null&&Uf(u,g[1])?g[0]:(d.memoizedState=[a,u],a)}function Kv(a,u){var d=Br();u=u===void 0?null:u;var g=d.memoizedState;return g!==null&&u!==null&&Uf(u,g[1])?g[0]:(a=a(),d.memoizedState=[a,u],a)}function qv(a,u,d){return 21&Ss?(Kr(d,u)||(d=dv(),rt.lanes|=d,Es|=d,a.baseState=!0),u):(a.baseState&&(a.baseState=!1,lr=!0),a.memoizedState=d)}function Z2(a,u){var d=Ne;Ne=d!==0&&4>d?d:4,a(!0);var g=Lf.transition;Lf.transition={};try{a(!1),u()}finally{Ne=d,Lf.transition=g}}function Zv(){return Br().memoizedState}function J2(a,u,d){var g=Ri(a);d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},Jv(a)?e1(u,d):(d=Sv(a,u,d,g))!==null&&(Lr(d,a,g,$t()),t1(d,u,g))}function eC(a,u,d){var g=Ri(a),y={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(Jv(a))e1(u,y);else{var _=a.alternate;if(a.lanes===0&&(_===null||_.lanes===0)&&(_=u.lastRenderedReducer)!==null)try{var C=u.lastRenderedState,I=_(C,d);if(y.hasEagerState=!0,y.eagerState=I,Kr(I,C)){var N=u.interleaved;return N===null?(y.next=y,Rf(u)):(y.next=N.next,N.next=y),void(u.interleaved=y)}}catch{}(d=Sv(a,u,y,g))!==null&&(Lr(d,a,g,y=$t()),t1(d,u,g))}}function Jv(a){var u=a.alternate;return a===rt||u!==null&&u===rt}function e1(a,u){ja=zu=!0;var d=a.pending;d===null?u.next=u:(u.next=d.next,d.next=u),a.pending=u}function t1(a,u,d){if(4194240&d){var g=u.lanes;d|=g&=a.pendingLanes,u.lanes=d,yf(a,d)}}var Hu={readContext:Or,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},tC={readContext:Or,useCallback:function(a,u){return En().memoizedState=[a,u===void 0?null:u],a},useContext:Or,useEffect:Wv,useImperativeHandle:function(a,u,d){return d=d!=null?d.concat([a]):null,Gu(4194308,4,$v.bind(null,u,a),d)},useLayoutEffect:function(a,u){return Gu(4194308,4,a,u)},useInsertionEffect:function(a,u){return Gu(4,2,a,u)},useMemo:function(a,u){var d=En();return u=u===void 0?null:u,a=a(),d.memoizedState=[a,u],a},useReducer:function(a,u,d){var g=En();return u=d!==void 0?d(u):u,g.memoizedState=g.baseState=u,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:u},g.queue=a,a=a.dispatch=J2.bind(null,rt,a),[g.memoizedState,a]},useRef:function(a){return a={current:a},En().memoizedState=a},useState:jv,useDebugValue:Vf,useDeferredValue:function(a){return En().memoizedState=a},useTransition:function(){var a=jv(!1),u=a[0];return a=Z2.bind(null,a[1]),En().memoizedState=a,[u,a]},useMutableSource:function(){},useSyncExternalStore:function(a,u,d){var g=rt,y=En();if(Ze){if(d===void 0)throw Error(s(407));d=d()}else{if(d=u(),It===null)throw Error(s(349));30&Ss||Bv(g,u,d)}y.memoizedState=d;var _={value:d,getSnapshot:u};return y.queue=_,Wv(Uv.bind(null,g,_,a),[a]),g.flags|=2048,Va(9,Lv.bind(null,g,_,d,u),void 0,null),d},useId:function(){var a=En(),u=It.identifierPrefix;if(Ze){var d=Jn;u=":"+u+"R"+(d=(bn&~(1<<32-Qr(bn)-1)).toString(32)+d),0<(d=Ha++)&&(u+="H"+d.toString(32)),u+=":"}else u=":"+u+"r"+(d=q2++).toString(32)+":";return a.memoizedState=u},unstable_isNewReconciler:!1},rC={readContext:Or,useCallback:Qv,useContext:Or,useEffect:Wf,useImperativeHandle:Yv,useInsertionEffect:Vv,useLayoutEffect:Xv,useMemo:Kv,useReducer:jf,useRef:Hv,useState:function(){return jf(Wa)},useDebugValue:Vf,useDeferredValue:function(a){return qv(Br(),Ct.memoizedState,a)},useTransition:function(){return[jf(Wa)[0],Br().memoizedState]},useMutableSource:Ov,useSyncExternalStore:Nv,useId:Zv,unstable_isNewReconciler:!1},nC={readContext:Or,useCallback:Qv,useContext:Or,useEffect:Wf,useImperativeHandle:Yv,useInsertionEffect:Vv,useLayoutEffect:Xv,useMemo:Kv,useReducer:Hf,useRef:Hv,useState:function(){return Hf(Wa)},useDebugValue:Vf,useDeferredValue:function(a){var u=Br();return Ct===null?u.memoizedState=a:qv(u,Ct.memoizedState,a)},useTransition:function(){return[Hf(Wa)[0],Br().memoizedState]},useMutableSource:Ov,useSyncExternalStore:Nv,useId:Zv,unstable_isNewReconciler:!1};function bo(a,u){try{var d="",g=u;do d+=K2(g),g=g.return;while(g);var y=d}catch(_){y=`
Error generating stack: `+_.message+`
`+_.stack}return{value:a,source:u,stack:y,digest:null}}function Xf(a,u,d){return{value:a,source:null,stack:d??null,digest:u??null}}function $f(a,u){try{console.error(u.value)}catch(d){setTimeout(function(){throw d})}}var iC=typeof WeakMap=="function"?WeakMap:Map;function r1(a,u,d){(d=ei(-1,d)).tag=3,d.payload={element:null};var g=u.value;return d.callback=function(){nh||(nh=!0,dp=g),$f(0,u)},d}function n1(a,u,d){(d=ei(-1,d)).tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var y=u.value;d.payload=function(){return g(y)},d.callback=function(){$f(0,u)}}var _=a.stateNode;return _!==null&&typeof _.componentDidCatch=="function"&&(d.callback=function(){$f(0,u),typeof g!="function"&&(Pi===null?Pi=new Set([this]):Pi.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})}),d}function i1(a,u,d){var g=a.pingCache;if(g===null){g=a.pingCache=new iC;var y=new Set;g.set(u,y)}else(y=g.get(u))===void 0&&(y=new Set,g.set(u,y));y.has(d)||(y.add(d),a=fC.bind(null,a,u,d),u.then(a,a))}function s1(a){do{var u;if((u=a.tag===13)&&(u=(u=a.memoizedState)===null||u.dehydrated!==null),u)return a;a=a.return}while(a!==null);return null}function o1(a,u,d,g,y){return 1&a.mode?(a.flags|=65536,a.lanes=y,a):(a===u?a.flags|=65536:(a.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:((u=ei(-1,1)).tag=2,Ti(d,u,1))),d.lanes|=1),a)}var sC=o.ReactCurrentOwner,lr=!1;function ur(a,u,d,g){u.child=a===null?Dv(u,null,d,g):vo(u,a.child,d,g)}function a1(a,u,d,g,y){d=d.render;var _=u.ref;return yo(u,y),g=zf(a,u,d,g,_,y),d=Gf(),a===null||lr?(Ze&&d&&bf(u),u.flags|=1,ur(a,u,g,y),u.child):(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~y,ti(a,u,y))}function l1(a,u,d,g,y){if(a===null){var _=d.type;return typeof _!="function"||vp(_)||_.defaultProps!==void 0||d.compare!==null||d.defaultProps!==void 0?((a=uh(d.type,null,g,u,u.mode,y)).ref=u.ref,a.return=u,u.child=a):(u.tag=15,u.type=_,u1(a,u,_,g,y))}if(_=a.child,(a.lanes&y)==0){var C=_.memoizedProps;if((d=(d=d.compare)!==null?d:ku)(C,g)&&a.ref===u.ref)return ti(a,u,y)}return u.flags|=1,(a=Mi(_,g)).ref=u.ref,a.return=u,u.child=a}function u1(a,u,d,g,y){if(a!==null){var _=a.memoizedProps;if(ku(_,g)&&a.ref===u.ref){if(lr=!1,u.pendingProps=g=_,(a.lanes&y)==0)return u.lanes=a.lanes,ti(a,u,y);131072&a.flags&&(lr=!0)}}return Yf(a,u,d,g,y)}function h1(a,u,d){var g=u.pendingProps,y=g.children,_=a!==null?a.memoizedState:null;if(g.mode==="hidden")if(!(1&u.mode))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},We(So,_r),_r|=d;else{if(!(1073741824&d))return a=_!==null?_.baseLanes|d:d,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:a,cachePool:null,transitions:null},u.updateQueue=null,We(So,_r),_r|=a,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=_!==null?_.baseLanes:d,We(So,_r),_r|=g}else _!==null?(g=_.baseLanes|d,u.memoizedState=null):g=d,We(So,_r),_r|=g;return ur(a,u,y,d),u.child}function c1(a,u){var d=u.ref;(a===null&&d!==null||a!==null&&a.ref!==d)&&(u.flags|=512,u.flags|=2097152)}function Yf(a,u,d,g,y){var _=vr(d)?xs:Wt.current;return _=co(u,_),yo(u,y),d=zf(a,u,d,g,_,y),g=Gf(),a===null||lr?(Ze&&g&&bf(u),u.flags|=1,ur(a,u,d,y),u.child):(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~y,ti(a,u,y))}function d1(a,u,d,g,y){if(vr(d)){var _=!0;Eu(u)}else _=!1;if(yo(u,y),u.stateNode===null)$u(a,u),Iv(u,d,g),Df(u,d,g,y),g=!0;else if(a===null){var C=u.stateNode,I=u.memoizedProps;C.props=I;var N=C.context,j=d.contextType;typeof j=="object"&&j!==null?j=Or(j):j=co(u,j=vr(d)?xs:Wt.current);var Y=d.getDerivedStateFromProps,se=typeof Y=="function"||typeof C.getSnapshotBeforeUpdate=="function";se||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(I!==g||N!==j)&&Rv(u,C,g,j),Ai=!1;var V=u.memoizedState;C.state=V,Ou(u,g,C,y),N=u.memoizedState,I!==g||V!==N||ar.current||Ai?(typeof Y=="function"&&(Mf(u,d,Y,g),N=u.memoizedState),(I=Ai||Pv(u,d,I,g,V,N,j))?(se||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(u.flags|=4194308)):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=N),C.props=g,C.state=N,C.context=j,g=I):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{C=u.stateNode,Ev(a,u),I=u.memoizedProps,j=u.type===u.elementType?I:Zr(u.type,I),C.props=j,se=u.pendingProps,V=C.context,typeof(N=d.contextType)=="object"&&N!==null?N=Or(N):N=co(u,N=vr(d)?xs:Wt.current);var Z=d.getDerivedStateFromProps;(Y=typeof Z=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(I!==se||V!==N)&&Rv(u,C,g,N),Ai=!1,V=u.memoizedState,C.state=V,Ou(u,g,C,y);var de=u.memoizedState;I!==se||V!==de||ar.current||Ai?(typeof Z=="function"&&(Mf(u,d,Z,g),de=u.memoizedState),(j=Ai||Pv(u,d,j,g,V,de,N)||!1)?(Y||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(g,de,N),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(g,de,N)),typeof C.componentDidUpdate=="function"&&(u.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof C.componentDidUpdate!="function"||I===a.memoizedProps&&V===a.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&V===a.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=de),C.props=g,C.state=de,C.context=N,g=j):(typeof C.componentDidUpdate!="function"||I===a.memoizedProps&&V===a.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||I===a.memoizedProps&&V===a.memoizedState||(u.flags|=1024),g=!1)}return Qf(a,u,d,g,_,y)}function Qf(a,u,d,g,y,_){c1(a,u);var C=(128&u.flags)!=0;if(!g&&!C)return y&&cv(u,d,!1),ti(a,u,_);g=u.stateNode,sC.current=u;var I=C&&typeof d.getDerivedStateFromError!="function"?null:g.render();return u.flags|=1,a!==null&&C?(u.child=vo(u,a.child,null,_),u.child=vo(u,null,I,_)):ur(a,u,I,_),u.memoizedState=g.state,y&&cv(u,d,!0),u.child}function f1(a){var u=a.stateNode;u.pendingContext?uv(0,u.pendingContext,u.pendingContext!==u.context):u.context&&uv(0,u.context,!1),Ff(a,u.containerInfo)}function p1(a,u,d,g,y){return mo(),Af(y),u.flags|=256,ur(a,u,d,g),u.child}var Xa,$a,Wu,Vu,Kf={dehydrated:null,treeContext:null,retryLane:0};function qf(a){return{baseLanes:a,cachePool:null,transitions:null}}function m1(a,u,d){var g,y=u.pendingProps,_=ut.current,C=!1,I=(128&u.flags)!=0;if((g=I)||(g=(a===null||a.memoizedState!==null)&&(2&_)!=0),g?(C=!0,u.flags&=-129):a!==null&&a.memoizedState===null||(_|=1),We(ut,1&_),a===null)return Ef(u),(a=u.memoizedState)!==null&&(a=a.dehydrated)!==null?(1&u.mode?lf(a)?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(I=y.children,a=y.fallback,C?(y=u.mode,C=u.child,I={mode:"hidden",children:I},!(1&y)&&C!==null?(C.childLanes=0,C.pendingProps=I):C=hh(I,y,0,null),a=Cs(a,y,d,null),C.return=u,a.return=u,C.sibling=a,u.child=C,u.child.memoizedState=qf(d),u.memoizedState=Kf,a):Zf(u,I));if((_=a.memoizedState)!==null&&(g=_.dehydrated)!==null)return function(j,Y,se,V,Z,de,Te){if(se)return 256&Y.flags?(Y.flags&=-257,Xu(j,Y,Te,V=Xf(Error(s(422))))):Y.memoizedState!==null?(Y.child=j.child,Y.flags|=128,null):(de=V.fallback,Z=Y.mode,V=hh({mode:"visible",children:V.children},Z,0,null),(de=Cs(de,Z,Te,null)).flags|=2,V.return=Y,de.return=Y,V.sibling=de,Y.child=V,1&Y.mode&&vo(Y,j.child,null,Te),Y.child.memoizedState=qf(Te),Y.memoizedState=Kf,de);if(!(1&Y.mode))return Xu(j,Y,Te,null);if(lf(Z))return V=A2(Z).digest,de=Error(s(419)),V=Xf(de,V,void 0),Xu(j,Y,Te,V);if(se=(Te&j.childLanes)!=0,lr||se){if((V=It)!==null){switch(Te&-Te){case 4:Z=2;break;case 16:Z=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:Z=32;break;case 536870912:Z=268435456;break;default:Z=0}(Z=Z&(V.suspendedLanes|Te)?0:Z)!==0&&Z!==de.retryLane&&(de.retryLane=Z,wn(j,Z),Lr(V,j,Z,-1))}return yp(),Xu(j,Y,Te,V=Xf(Error(s(421))))}return lv(Z)?(Y.flags|=128,Y.child=j.child,Y=pC.bind(null,j),T2(Z,Y),null):(j=de.treeContext,Oe&&(Fr=I2(Z),xr=Y,Ze=!0,qr=null,La=!1,j!==null&&(Mr[Dr++]=bn,Mr[Dr++]=Jn,Mr[Dr++]=_s,bn=j.id,Jn=j.overflow,_s=Y)),Y=Zf(Y,V.children),Y.flags|=4096,Y)}(a,u,I,y,g,_,d);if(C){C=y.fallback,I=u.mode,g=(_=a.child).sibling;var N={mode:"hidden",children:y.children};return!(1&I)&&u.child!==_?((y=u.child).childLanes=0,y.pendingProps=N,u.deletions=null):(y=Mi(_,N)).subtreeFlags=14680064&_.subtreeFlags,g!==null?C=Mi(g,C):(C=Cs(C,I,d,null)).flags|=2,C.return=u,y.return=u,y.sibling=C,u.child=y,y=C,C=u.child,I=(I=a.child.memoizedState)===null?qf(d):{baseLanes:I.baseLanes|d,cachePool:null,transitions:I.transitions},C.memoizedState=I,C.childLanes=a.childLanes&~d,u.memoizedState=Kf,y}return a=(C=a.child).sibling,y=Mi(C,{mode:"visible",children:y.children}),!(1&u.mode)&&(y.lanes=d),y.return=u,y.sibling=null,a!==null&&((d=u.deletions)===null?(u.deletions=[a],u.flags|=16):d.push(a)),u.child=y,u.memoizedState=null,y}function Zf(a,u){return(u=hh({mode:"visible",children:u},a.mode,0,null)).return=a,a.child=u}function Xu(a,u,d,g){return g!==null&&Af(g),vo(u,a.child,null,d),(a=Zf(u,u.pendingProps.children)).flags|=2,u.memoizedState=null,a}function g1(a,u,d){a.lanes|=u;var g=a.alternate;g!==null&&(g.lanes|=u),If(a.return,u,d)}function Jf(a,u,d,g,y){var _=a.memoizedState;_===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:y}:(_.isBackwards=u,_.rendering=null,_.renderingStartTime=0,_.last=g,_.tail=d,_.tailMode=y)}function y1(a,u,d){var g=u.pendingProps,y=g.revealOrder,_=g.tail;if(ur(a,u,g.children,d),(2&(g=ut.current))!=0)g=1&g|2,u.flags|=128;else{if(a!==null&&128&a.flags)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&g1(a,d,u);else if(a.tag===19)g1(a,d,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(We(ut,g),(1&u.mode)==0)u.memoizedState=null;else switch(y){case"forwards":for(d=u.child,y=null;d!==null;)(a=d.alternate)!==null&&Lu(a)===null&&(y=d),d=d.sibling;(d=y)===null?(y=u.child,u.child=null):(y=d.sibling,d.sibling=null),Jf(u,!1,y,d,_);break;case"backwards":for(d=null,y=u.child,u.child=null;y!==null;){if((a=y.alternate)!==null&&Lu(a)===null){u.child=y;break}a=y.sibling,y.sibling=d,d=y,y=a}Jf(u,!0,d,null,_);break;case"together":Jf(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function $u(a,u){!(1&u.mode)&&a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2)}function ti(a,u,d){if(a!==null&&(u.dependencies=a.dependencies),Es|=u.lanes,(d&u.childLanes)==0)return null;if(a!==null&&u.child!==a.child)throw Error(s(153));if(u.child!==null){for(d=Mi(a=u.child,a.pendingProps),u.child=d,d.return=u;a.sibling!==null;)a=a.sibling,(d=d.sibling=Mi(a,a.pendingProps)).return=u;d.sibling=null}return u.child}function An(a){a.flags|=4}function v1(a,u){if(a!==null&&a.child===u.child)return!0;if(16&u.flags)return!1;for(a=u.child;a!==null;){if(12854&a.flags||12854&a.subtreeFlags)return!1;a=a.sibling}return!0}if(Ie)Xa=function(a,u){for(var d=u.child;d!==null;){if(d.tag===5||d.tag===6)re(a,d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},$a=function(){},Wu=function(a,u,d,g,y){if((a=a.memoizedProps)!==g){var _=u.stateNode,C=Sn(Nr.current);d=be(_,d,a,g,y,C),(u.updateQueue=d)&&An(u)}},Vu=function(a,u,d,g){d!==g&&An(u)};else if(Xe){Xa=function(a,u,d,g){for(var y=u.child;y!==null;){if(y.tag===5){var _=y.stateNode;d&&g&&(_=ov(_,y.type,y.memoizedProps,y)),re(a,_)}else if(y.tag===6)_=y.stateNode,d&&g&&(_=av(_,y.memoizedProps,y)),re(a,_);else if(y.tag!==4){if(y.tag===22&&y.memoizedState!==null)(_=y.child)!==null&&(_.return=y),Xa(a,y,!0,!0);else if(y.child!==null){y.child.return=y,y=y.child;continue}}if(y===u)break;for(;y.sibling===null;){if(y.return===null||y.return===u)return;y=y.return}y.sibling.return=y.return,y=y.sibling}};var x1=function(a,u,d,g){for(var y=u.child;y!==null;){if(y.tag===5){var _=y.stateNode;d&&g&&(_=ov(_,y.type,y.memoizedProps,y)),sv(a,_)}else if(y.tag===6)_=y.stateNode,d&&g&&(_=av(_,y.memoizedProps,y)),sv(a,_);else if(y.tag!==4){if(y.tag===22&&y.memoizedState!==null)(_=y.child)!==null&&(_.return=y),x1(a,y,!0,!0);else if(y.child!==null){y.child.return=y,y=y.child;continue}}if(y===u)break;for(;y.sibling===null;){if(y.return===null||y.return===u)return;y=y.return}y.sibling.return=y.return,y=y.sibling}};$a=function(a,u){var d=u.stateNode;if(!v1(a,u)){a=d.containerInfo;var g=iv(a);x1(g,u,!1,!1),d.pendingChildren=g,An(u),b2(a,g)}},Wu=function(a,u,d,g,y){var _=a.stateNode,C=a.memoizedProps;if((a=v1(a,u))&&C===g)u.stateNode=_;else{var I=u.stateNode,N=Sn(Nr.current),j=null;C!==g&&(j=be(I,d,C,g,y,N)),a&&j===null?u.stateNode=_:(_=_2(_,j,d,C,g,u,a,I),_e(_,d,g,y,N)&&An(u),u.stateNode=_,a?An(u):Xa(_,u,!1,!1))}},Vu=function(a,u,d,g){d!==g?(a=Sn(xo.current),d=Sn(Nr.current),u.stateNode=Pe(g,a,d,u),An(u)):u.stateNode=a.stateNode}}else $a=function(){},Wu=function(){},Vu=function(){};function Ya(a,u){if(!Ze)switch(a.tailMode){case"hidden":u=a.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function er(a){var u=a.alternate!==null&&a.alternate.child===a.child,d=0,g=0;if(u)for(var y=a.child;y!==null;)d|=y.lanes|y.childLanes,g|=14680064&y.subtreeFlags,g|=14680064&y.flags,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)d|=y.lanes|y.childLanes,g|=y.subtreeFlags,g|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=g,a.childLanes=d,u}function oC(a,u,d){var g=u.pendingProps;switch(wf(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return er(u),null;case 1:case 17:return vr(u.type)&&df(),er(u),null;case 3:return d=u.stateNode,_o(),qe(ar),qe(Wt),Bf(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),a!==null&&a.child!==null||(Ru(u)?An(u):a===null||a.memoizedState.isDehydrated&&!(256&u.flags)||(u.flags|=1024,qr!==null&&(mp(qr),qr=null))),$a(a,u),er(u),null;case 5:Of(u),d=Sn(xo.current);var y=u.type;if(a!==null&&u.stateNode!=null)Wu(a,u,y,g,d),a.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!g){if(u.stateNode===null)throw Error(s(166));return er(u),null}if(a=Sn(Nr.current),Ru(u)){if(!Oe)throw Error(s(175));a=R2(u.stateNode,u.type,u.memoizedProps,d,a,u,!La),u.updateQueue=a,a!==null&&An(u)}else{var _=G(y,g,d,a,u);Xa(_,u,!1,!1),u.stateNode=_,_e(_,y,g,d,a)&&An(u)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return er(u),null;case 6:if(a&&u.stateNode!=null)Vu(a,u,a.memoizedProps,g);else{if(typeof g!="string"&&u.stateNode===null)throw Error(s(166));if(a=Sn(xo.current),d=Sn(Nr.current),Ru(u)){if(!Oe)throw Error(s(176));if(a=u.stateNode,d=u.memoizedProps,(g=k2(a,d,u,!La))&&(y=xr)!==null)switch(y.tag){case 3:U2(y.stateNode.containerInfo,a,d,(1&y.mode)!=0);break;case 5:z2(y.type,y.memoizedProps,y.stateNode,a,d,(1&y.mode)!=0)}g&&An(u)}else u.stateNode=Pe(g,a,d,u)}return er(u),null;case 13:if(qe(ut),g=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(Ze&&Fr!==null&&1&u.mode&&!(128&u.flags))bv(),mo(),u.flags|=98560,y=!1;else if(y=Ru(u),g!==null&&g.dehydrated!==null){if(a===null){if(!y)throw Error(s(318));if(!Oe)throw Error(s(344));if(!(y=(y=u.memoizedState)!==null?y.dehydrated:null))throw Error(s(317));M2(y,u)}else mo(),!(128&u.flags)&&(u.memoizedState=null),u.flags|=4;er(u),y=!1}else qr!==null&&(mp(qr),qr=null),y=!0;if(!y)return 65536&u.flags?u:null}return 128&u.flags?(u.lanes=d,u):((d=g!==null)!=(a!==null&&a.memoizedState!==null)&&d&&(u.child.flags|=8192,1&u.mode&&(a===null||1&ut.current?_t===0&&(_t=3):yp())),u.updateQueue!==null&&(u.flags|=4),er(u),null);case 4:return _o(),$a(a,u),a===null&&kr(u.stateNode.containerInfo),er(u),null;case 10:return Pf(u.type._context),er(u),null;case 19:if(qe(ut),(y=u.memoizedState)===null)return er(u),null;if(g=(128&u.flags)!=0,(_=y.rendering)===null)if(g)Ya(y,!1);else{if(_t!==0||a!==null&&128&a.flags)for(a=u.child;a!==null;){if((_=Lu(a))!==null){for(u.flags|=128,Ya(y,!1),(a=_.updateQueue)!==null&&(u.updateQueue=a,u.flags|=4),u.subtreeFlags=0,a=d,d=u.child;d!==null;)y=a,(g=d).flags&=14680066,(_=g.alternate)===null?(g.childLanes=0,g.lanes=y,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=_.childLanes,g.lanes=_.lanes,g.child=_.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=_.memoizedProps,g.memoizedState=_.memoizedState,g.updateQueue=_.updateQueue,g.type=_.type,y=_.dependencies,g.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext}),d=d.sibling;return We(ut,1&ut.current|2),u.child}a=a.sibling}y.tail!==null&&Tt()>cp&&(u.flags|=128,g=!0,Ya(y,!1),u.lanes=4194304)}else{if(!g)if((a=Lu(_))!==null){if(u.flags|=128,g=!0,(a=a.updateQueue)!==null&&(u.updateQueue=a,u.flags|=4),Ya(y,!0),y.tail===null&&y.tailMode==="hidden"&&!_.alternate&&!Ze)return er(u),null}else 2*Tt()-y.renderingStartTime>cp&&d!==1073741824&&(u.flags|=128,g=!0,Ya(y,!1),u.lanes=4194304);y.isBackwards?(_.sibling=u.child,u.child=_):((a=y.last)!==null?a.sibling=_:u.child=_,y.last=_)}return y.tail!==null?(u=y.tail,y.rendering=u,y.tail=u.sibling,y.renderingStartTime=Tt(),u.sibling=null,a=ut.current,We(ut,g?1&a|2:1&a),u):(er(u),null);case 22:case 23:return gp(),d=u.memoizedState!==null,a!==null&&a.memoizedState!==null!==d&&(u.flags|=8192),d&&1&u.mode?1073741824&_r&&(er(u),Ie&&6&u.subtreeFlags&&(u.flags|=8192)):er(u),null;case 24:case 25:return null}throw Error(s(156,u.tag))}function aC(a,u){switch(wf(u),u.tag){case 1:return vr(u.type)&&df(),65536&(a=u.flags)?(u.flags=-65537&a|128,u):null;case 3:return _o(),qe(ar),qe(Wt),Bf(),65536&(a=u.flags)&&!(128&a)?(u.flags=-65537&a|128,u):null;case 5:return Of(u),null;case 13:if(qe(ut),(a=u.memoizedState)!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(s(340));mo()}return 65536&(a=u.flags)?(u.flags=-65537&a|128,u):null;case 19:return qe(ut),null;case 4:return _o(),null;case 10:return Pf(u.type._context),null;case 22:case 23:return gp(),null;default:return null}}var Yu=!1,Xt=!1,lC=typeof WeakSet=="function"?WeakSet:Set,he=null;function wo(a,u){var d=a.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){Je(a,u,g)}else d.current=null}function _1(a,u,d){try{d()}catch(g){Je(a,u,g)}}var b1=!1;function Qa(a,u,d){var g=u.updateQueue;if((g=g!==null?g.lastEffect:null)!==null){var y=g=g.next;do{if((y.tag&a)===a){var _=y.destroy;y.destroy=void 0,_!==void 0&&_1(u,d,_)}y=y.next}while(y!==g)}}function Qu(a,u){if((u=(u=u.updateQueue)!==null?u.lastEffect:null)!==null){var d=u=u.next;do{if((d.tag&a)===a){var g=d.create;d.destroy=g()}d=d.next}while(d!==u)}}function ep(a){var u=a.ref;if(u!==null){var d=a.stateNode;a.tag===5?a=ue(d):a=d,typeof u=="function"?u(a):u.current=a}}function w1(a){var u=a.alternate;u!==null&&(a.alternate=null,w1(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode)!==null&&of(u),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function S1(a){return a.tag===5||a.tag===3||a.tag===4}function E1(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||S1(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(2&a.flags||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(2&a.flags))return a.stateNode}}function tp(a,u,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,u?d2(d,a,u):a2(d,a);else if(g!==4&&(a=a.child)!==null)for(tp(a,u,d),a=a.sibling;a!==null;)tp(a,u,d),a=a.sibling}function rp(a,u,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,u?c2(d,a,u):o2(d,a);else if(g!==4&&(a=a.child)!==null)for(rp(a,u,d),a=a.sibling;a!==null;)rp(a,u,d),a=a.sibling}var tr=null,Tn=!1;function Cn(a,u,d){for(d=d.child;d!==null;)np(a,u,d),d=d.sibling}function np(a,u,d){if(xn&&typeof xn.onCommitFiberUnmount=="function")try{xn.onCommitFiberUnmount(Tu,d)}catch{}switch(d.tag){case 5:Xt||wo(d,u);case 6:if(Ie){var g=tr,y=Tn;tr=null,Cn(a,u,d),Tn=y,(tr=g)!==null&&(Tn?p2(tr,d.stateNode):f2(tr,d.stateNode))}else Cn(a,u,d);break;case 18:Ie&&tr!==null&&(Tn?B2(tr,d.stateNode):N2(tr,d.stateNode));break;case 4:Ie?(g=tr,y=Tn,tr=d.stateNode.containerInfo,Tn=!0,Cn(a,u,d),tr=g,Tn=y):(Xe&&(g=d.stateNode.containerInfo,y=iv(g),af(g,y)),Cn(a,u,d));break;case 0:case 11:case 14:case 15:if(!Xt&&(g=d.updateQueue)!==null&&(g=g.lastEffect)!==null){y=g=g.next;do{var _=y,C=_.destroy;_=_.tag,C!==void 0&&(2&_||4&_)&&_1(d,u,C),y=y.next}while(y!==g)}Cn(a,u,d);break;case 1:if(!Xt&&(wo(d,u),typeof(g=d.stateNode).componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(I){Je(d,u,I)}Cn(a,u,d);break;case 21:Cn(a,u,d);break;case 22:1&d.mode?(Xt=(g=Xt)||d.memoizedState!==null,Cn(a,u,d),Xt=g):Cn(a,u,d);break;default:Cn(a,u,d)}}function A1(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var d=a.stateNode;d===null&&(d=a.stateNode=new lC),u.forEach(function(g){var y=mC.bind(null,a,g);d.has(g)||(d.add(g),g.then(y,y))})}}function Jr(a,u){var d=u.deletions;if(d!==null)for(var g=0;g<d.length;g++){var y=d[g];try{var _=a,C=u;if(Ie){var I=C;e:for(;I!==null;){switch(I.tag){case 5:tr=I.stateNode,Tn=!1;break e;case 3:case 4:tr=I.stateNode.containerInfo,Tn=!0;break e}I=I.return}if(tr===null)throw Error(s(160));np(_,C,y),tr=null,Tn=!1}else np(_,C,y);var N=y.alternate;N!==null&&(N.return=null),y.return=null}catch(j){Je(y,u,j)}}if(12854&u.subtreeFlags)for(u=u.child;u!==null;)T1(u,a),u=u.sibling}function T1(a,u){var d=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Jr(u,a),Pn(a),4&g){try{Qa(3,a,a.return),Qu(3,a)}catch(V){Je(a,a.return,V)}try{Qa(5,a,a.return)}catch(V){Je(a,a.return,V)}}break;case 1:Jr(u,a),Pn(a),512&g&&d!==null&&wo(d,d.return);break;case 5:if(Jr(u,a),Pn(a),512&g&&d!==null&&wo(d,d.return),Ie){if(32&a.flags){var y=a.stateNode;try{nv(y)}catch(V){Je(a,a.return,V)}}if(4&g&&(y=a.stateNode)!=null){var _=a.memoizedProps;if(d=d!==null?d.memoizedProps:_,g=a.type,u=a.updateQueue,a.updateQueue=null,u!==null)try{h2(y,u,g,d,_,a)}catch(V){Je(a,a.return,V)}}}break;case 6:if(Jr(u,a),Pn(a),4&g&&Ie){if(a.stateNode===null)throw Error(s(162));y=a.stateNode,_=a.memoizedProps,d=d!==null?d.memoizedProps:_;try{l2(y,d,_)}catch(V){Je(a,a.return,V)}}break;case 3:if(Jr(u,a),Pn(a),4&g){if(Ie&&Oe&&d!==null&&d.memoizedState.isDehydrated)try{F2(u.containerInfo)}catch(V){Je(a,a.return,V)}if(Xe){y=u.containerInfo,_=u.pendingChildren;try{af(y,_)}catch(V){Je(a,a.return,V)}}}break;case 4:if(Jr(u,a),Pn(a),4&g&&Xe){y=(_=a.stateNode).containerInfo,_=_.pendingChildren;try{af(y,_)}catch(V){Je(a,a.return,V)}}break;case 13:Jr(u,a),Pn(a),8192&(y=a.child).flags&&(_=y.memoizedState!==null,y.stateNode.isHidden=_,!_||y.alternate!==null&&y.alternate.memoizedState!==null||(hp=Tt())),4&g&&A1(a);break;case 22:var C=d!==null&&d.memoizedState!==null;if(1&a.mode?(Xt=(d=Xt)||C,Jr(u,a),Xt=d):Jr(u,a),Pn(a),8192&g){if(d=a.memoizedState!==null,(a.stateNode.isHidden=d)&&!C&&(1&a.mode)!=0)for(he=a,g=a.child;g!==null;){for(u=he=g;he!==null;){var I=(C=he).child;switch(C.tag){case 0:case 11:case 14:case 15:Qa(4,C,C.return);break;case 1:wo(C,C.return);var N=C.stateNode;if(typeof N.componentWillUnmount=="function"){var j=C,Y=C.return;try{var se=j;N.props=se.memoizedProps,N.state=se.memoizedState,N.componentWillUnmount()}catch(V){Je(j,Y,V)}}break;case 5:wo(C,C.return);break;case 22:if(C.memoizedState!==null){I1(u);continue}}I!==null?(I.return=C,he=I):I1(u)}g=g.sibling}if(Ie){e:if(g=null,Ie)for(u=a;;){if(u.tag===5){if(g===null){g=u;try{y=u.stateNode,d?m2(y):y2(u.stateNode,u.memoizedProps)}catch(V){Je(a,a.return,V)}}}else if(u.tag===6){if(g===null)try{_=u.stateNode,d?g2(_):v2(_,u.memoizedProps)}catch(V){Je(a,a.return,V)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===a)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break e;for(;u.sibling===null;){if(u.return===null||u.return===a)break e;g===u&&(g=null),u=u.return}g===u&&(g=null),u.sibling.return=u.return,u=u.sibling}}}break;case 19:Jr(u,a),Pn(a),4&g&&A1(a);break;case 21:break;default:Jr(u,a),Pn(a)}}function Pn(a){var u=a.flags;if(2&u){try{if(Ie){e:{for(var d=a.return;d!==null;){if(S1(d)){var g=d;break e}d=d.return}throw Error(s(160))}switch(g.tag){case 5:var y=g.stateNode;32&g.flags&&(nv(y),g.flags&=-33),rp(a,E1(a),y);break;case 3:case 4:var _=g.stateNode.containerInfo;tp(a,E1(a),_);break;default:throw Error(s(161))}}}catch(C){Je(a,a.return,C)}a.flags&=-3}4096&u&&(a.flags&=-4097)}function uC(a,u,d){he=a,C1(a)}function C1(a,u,d){for(var g=(1&a.mode)!=0;he!==null;){var y=he,_=y.child;if(y.tag===22&&g){var C=y.memoizedState!==null||Yu;if(!C){var I=y.alternate,N=I!==null&&I.memoizedState!==null||Xt;I=Yu;var j=Xt;if(Yu=C,(Xt=N)&&!j)for(he=y;he!==null;)N=(C=he).child,C.tag===22&&C.memoizedState!==null?R1(y):N!==null?(N.return=C,he=N):R1(y);for(;_!==null;)he=_,C1(_),_=_.sibling;he=y,Yu=I,Xt=j}P1(a)}else 8772&y.subtreeFlags&&_!==null?(_.return=y,he=_):P1(a)}}function P1(a){for(;he!==null;){var u=he;if(8772&u.flags){var d=u.alternate;try{if(8772&u.flags)switch(u.tag){case 0:case 11:case 15:Xt||Qu(5,u);break;case 1:var g=u.stateNode;if(4&u.flags&&!Xt)if(d===null)g.componentDidMount();else{var y=u.elementType===u.type?d.memoizedProps:Zr(u.type,d.memoizedProps);g.componentDidUpdate(y,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var _=u.updateQueue;_!==null&&Tv(u,_,g);break;case 3:var C=u.updateQueue;if(C!==null){if(d=null,u.child!==null)switch(u.child.tag){case 5:d=ue(u.child.stateNode);break;case 1:d=u.child.stateNode}Tv(u,C,d)}break;case 5:var I=u.stateNode;d===null&&4&u.flags&&u2(I,u.type,u.memoizedProps,u);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(Oe&&u.memoizedState===null){var N=u.alternate;if(N!==null){var j=N.memoizedState;if(j!==null){var Y=j.dehydrated;Y!==null&&O2(Y)}}}break;default:throw Error(s(163))}Xt||512&u.flags&&ep(u)}catch(se){Je(u,u.return,se)}}if(u===a){he=null;break}if((d=u.sibling)!==null){d.return=u.return,he=d;break}he=u.return}}function I1(a){for(;he!==null;){var u=he;if(u===a){he=null;break}var d=u.sibling;if(d!==null){d.return=u.return,he=d;break}he=u.return}}function R1(a){for(;he!==null;){var u=he;try{switch(u.tag){case 0:case 11:case 15:var d=u.return;try{Qu(4,u)}catch(N){Je(u,d,N)}break;case 1:var g=u.stateNode;if(typeof g.componentDidMount=="function"){var y=u.return;try{g.componentDidMount()}catch(N){Je(u,y,N)}}var _=u.return;try{ep(u)}catch(N){Je(u,_,N)}break;case 5:var C=u.return;try{ep(u)}catch(N){Je(u,C,N)}}}catch(N){Je(u,u.return,N)}if(u===a){he=null;break}var I=u.sibling;if(I!==null){I.return=u.return,he=I;break}he=u.return}}var Ku=0,qu=1,Zu=2,Ju=3,eh=4;if(typeof Symbol=="function"&&Symbol.for){var Ka=Symbol.for;Ku=Ka("selector.component"),qu=Ka("selector.has_pseudo_class"),Zu=Ka("selector.role"),Ju=Ka("selector.test_id"),eh=Ka("selector.text")}function ip(a){var u=Rr(a);if(u!=null){if(typeof u.memoizedProps["data-testname"]!="string")throw Error(s(364));return u}if((a=e2(a))===null)throw Error(s(362));return a.stateNode.current}function sp(a,u){switch(u.$$typeof){case Ku:if(a.type===u.value)return!0;break;case qu:e:{u=u.value,a=[a,0];for(var d=0;d<a.length;){var g=a[d++],y=a[d++],_=u[y];if(g.tag!==5||!Fa(g)){for(;_!=null&&sp(g,_);)_=u[++y];if(y===u.length){u=!0;break e}for(g=g.child;g!==null;)a.push(g,y),g=g.sibling}}u=!1}return u;case Zu:if(a.tag===5&&n2(a.stateNode,u.value))return!0;break;case eh:if((a.tag===5||a.tag===6)&&(a=r2(a))!==null&&0<=a.indexOf(u.value))return!0;break;case Ju:if(a.tag===5&&typeof(a=a.memoizedProps["data-testname"])=="string"&&a.toLowerCase()===u.value.toLowerCase())return!0;break;default:throw Error(s(365))}return!1}function op(a){switch(a.$$typeof){case Ku:return"<"+(B(a.value)||"Unknown")+">";case qu:return":has("+(op(a)||"")+")";case Zu:return'[role="'+a.value+'"]';case eh:return'"'+a.value+'"';case Ju:return'[data-testname="'+a.value+'"]';default:throw Error(s(365))}}function k1(a,u){var d=[];a=[a,0];for(var g=0;g<a.length;){var y=a[g++],_=a[g++],C=u[_];if(y.tag!==5||!Fa(y)){for(;C!=null&&sp(y,C);)C=u[++_];if(_===u.length)d.push(y);else for(y=y.child;y!==null;)a.push(y,_),y=y.sibling}}return d}function ap(a,u){if(!Da)throw Error(s(363));a=k1(a=ip(a),u),u=[],a=Array.from(a);for(var d=0;d<a.length;){var g=a[d++];if(g.tag===5)Fa(g)||u.push(g.stateNode);else for(g=g.child;g!==null;)a.push(g),g=g.sibling}return u}var hC=Math.ceil,th=o.ReactCurrentDispatcher,lp=o.ReactCurrentOwner,ft=o.ReactCurrentBatchConfig,Me=0,It=null,yt=null,Bt=0,_r=0,So=Si(0),_t=0,qa=null,Es=0,rh=0,up=0,Za=null,br=null,hp=0,cp=1/0,Ci=null;function Eo(){cp=Tt()+500}var M1,nh=!1,dp=null,Pi=null,ih=!1,Ii=null,sh=0,Ja=0,fp=null,oh=-1,ah=0;function $t(){return 6&Me?Tt():oh!==-1?oh:oh=Tt()}function Ri(a){return 1&a.mode?2&Me&&Bt!==0?Bt&-Bt:Q2.transition!==null?(ah===0&&(ah=dv()),ah):(a=Ne)!==0?a:vs():1}function Lr(a,u,d,g){if(50<Ja)throw Ja=0,fp=null,Error(s(185));Ba(a,d,g),2&Me&&a===It||(a===It&&(!(2&Me)&&(rh|=d),_t===4&&ki(a,Bt)),hr(a,g),d===1&&Me===0&&!(1&u.mode)&&(Eo(),Cu&&_n()))}function hr(a,u){var d=a.callbackNode;(function(y,_){for(var C=y.suspendedLanes,I=y.pingedLanes,N=y.expirationTimes,j=y.pendingLanes;0<j;){var Y=31-Qr(j),se=1<<Y,V=N[Y];V===-1?se&C&&!(se&I)||(N[Y]=W2(se,_)):V<=_&&(y.expiredLanes|=se),j&=~se}})(a,u);var g=Au(a,a===It?Bt:0);if(g===0)d!==null&&pv(d),a.callbackNode=null,a.callbackPriority=0;else if(u=g&-g,a.callbackPriority!==u){if(d!=null&&pv(d),u===1)a.tag===0?function(y){Cu=!0,gv(y)}(F1.bind(null,a)):gv(F1.bind(null,a)),uo?JT(function(){!(6&Me)&&_n()}):vf(xf,_n),d=null;else{switch(fv(g)){case 1:d=xf;break;case 4:d=$2;break;case 16:default:d=mv;break;case 536870912:d=Y2}d=j1(d,D1.bind(null,a))}a.callbackPriority=u,a.callbackNode=d}}function D1(a,u){if(oh=-1,ah=0,(6&Me)!=0)throw Error(s(327));var d=a.callbackNode;if(Ts()&&a.callbackNode!==d)return null;var g=Au(a,a===It?Bt:0);if(g===0)return null;if(30&g||g&a.expiredLanes||u)u=lh(a,g);else{u=g;var y=Me;Me|=2;var _=B1();for(It===a&&Bt===u||(Ci=null,Eo(),As(a,u));;)try{dC();break}catch(I){N1(a,I)}Cf(),th.current=_,Me=y,yt!==null?u=0:(It=null,Bt=0,u=_t)}if(u!==0){if(u===2&&(y=mf(a))!==0&&(g=y,u=pp(a,y)),u===1)throw d=qa,As(a,0),ki(a,g),hr(a,Tt()),d;if(u===6)ki(a,g);else{if(y=a.current.alternate,(30&g)==0&&!function(I){for(var N=I;;){if(16384&N.flags){var j=N.updateQueue;if(j!==null&&(j=j.stores)!==null)for(var Y=0;Y<j.length;Y++){var se=j[Y],V=se.getSnapshot;se=se.value;try{if(!Kr(V(),se))return!1}catch{return!1}}}if(j=N.child,16384&N.subtreeFlags&&j!==null)j.return=N,N=j;else{if(N===I)break;for(;N.sibling===null;){if(N.return===null||N.return===I)return!0;N=N.return}N.sibling.return=N.return,N=N.sibling}}return!0}(y)&&((u=lh(a,g))===2&&(_=mf(a))!==0&&(g=_,u=pp(a,_)),u===1))throw d=qa,As(a,0),ki(a,g),hr(a,Tt()),d;switch(a.finishedWork=y,a.finishedLanes=g,u){case 0:case 1:throw Error(s(345));case 2:case 5:Ao(a,br,Ci);break;case 3:if(ki(a,g),(130023424&g)===g&&10<(u=hp+500-Tt())){if(Au(a,0)!==0)break;if(((y=a.suspendedLanes)&g)!==g){$t(),a.pingedLanes|=a.suspendedLanes&y;break}a.timeoutHandle=Le(Ao.bind(null,a,br,Ci),u);break}Ao(a,br,Ci);break;case 4:if(ki(a,g),(4194240&g)===g)break;for(u=a.eventTimes,y=-1;0<g;){var C=31-Qr(g);_=1<<C,(C=u[C])>y&&(y=C),g&=~_}if(g=y,10<(g=(120>(g=Tt()-g)?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*hC(g/1960))-g)){a.timeoutHandle=Le(Ao.bind(null,a,br,Ci),g);break}Ao(a,br,Ci);break;default:throw Error(s(329))}}}return hr(a,Tt()),a.callbackNode===d?D1.bind(null,a):null}function pp(a,u){var d=Za;return a.current.memoizedState.isDehydrated&&(As(a,u).flags|=256),(a=lh(a,u))!==2&&(u=br,br=d,u!==null&&mp(u)),a}function mp(a){br===null?br=a:br.push.apply(br,a)}function ki(a,u){for(u&=~up,u&=~rh,a.suspendedLanes|=u,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var d=31-Qr(u),g=1<<d;a[d]=-1,u&=~g}}function F1(a){if(6&Me)throw Error(s(327));Ts();var u=Au(a,0);if(!(1&u))return hr(a,Tt()),null;var d=lh(a,u);if(a.tag!==0&&d===2){var g=mf(a);g!==0&&(u=g,d=pp(a,g))}if(d===1)throw d=qa,As(a,0),ki(a,u),hr(a,Tt()),d;if(d===6)throw Error(s(345));return a.finishedWork=a.current.alternate,a.finishedLanes=u,Ao(a,br,Ci),hr(a,Tt()),null}function O1(a){Ii!==null&&Ii.tag===0&&!(6&Me)&&Ts();var u=Me;Me|=1;var d=ft.transition,g=Ne;try{if(ft.transition=null,Ne=1,a)return a()}finally{Ne=g,ft.transition=d,!(6&(Me=u))&&_n()}}function gp(){_r=So.current,qe(So)}function As(a,u){a.finishedWork=null,a.finishedLanes=0;var d=a.timeoutHandle;if(d!==Nt&&(a.timeoutHandle=Nt,At(d)),yt!==null)for(d=yt.return;d!==null;){var g=d;switch(wf(g),g.tag){case 1:(g=g.type.childContextTypes)!=null&&df();break;case 3:_o(),qe(ar),qe(Wt),Bf();break;case 5:Of(g);break;case 4:_o();break;case 13:case 19:qe(ut);break;case 10:Pf(g.type._context);break;case 22:case 23:gp()}d=d.return}if(It=a,yt=a=Mi(a.current,null),Bt=_r=u,_t=0,qa=null,up=rh=Es=0,br=Za=null,ws!==null){for(u=0;u<ws.length;u++)if((g=(d=ws[u]).interleaved)!==null){d.interleaved=null;var y=g.next,_=d.pending;if(_!==null){var C=_.next;_.next=y,g.next=C}d.pending=g}ws=null}return a}function N1(a,u){for(;;){var d=yt;try{if(Cf(),Uu.current=Hu,zu){for(var g=rt.memoizedState;g!==null;){var y=g.queue;y!==null&&(y.pending=null),g=g.next}zu=!1}if(Ss=0,Pt=Ct=rt=null,ja=!1,Ha=0,lp.current=null,d===null||d.return===null){_t=1,qa=u,yt=null;break}e:{var _=a,C=d.return,I=d,N=u;if(u=Bt,I.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var j=N,Y=I,se=Y.tag;if(!(1&Y.mode)&&(se===0||se===11||se===15)){var V=Y.alternate;V?(Y.updateQueue=V.updateQueue,Y.memoizedState=V.memoizedState,Y.lanes=V.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var Z=s1(C);if(Z!==null){Z.flags&=-257,o1(Z,C,I,0,u),1&Z.mode&&i1(_,j,u),N=j;var de=(u=Z).updateQueue;if(de===null){var Te=new Set;Te.add(N),u.updateQueue=Te}else de.add(N);break e}if(!(1&u)){i1(_,j,u),yp();break e}N=Error(s(426))}else if(Ze&&1&I.mode){var Q=s1(C);if(Q!==null){!(65536&Q.flags)&&(Q.flags|=256),o1(Q,C,I,0,u),Af(bo(N,I));break e}}_=N=bo(N,I),_t!==4&&(_t=2),Za===null?Za=[_]:Za.push(_),_=C;do{switch(_.tag){case 3:_.flags|=65536,u&=-u,_.lanes|=u,Av(_,r1(0,N,u));break e;case 1:I=N;var F=_.type,z=_.stateNode;if(!(128&_.flags)&&(typeof F.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(Pi===null||!Pi.has(z)))){_.flags|=65536,u&=-u,_.lanes|=u,Av(_,n1(_,I,u));break e}}_=_.return}while(_!==null)}U1(d)}catch(K){u=K,yt===d&&d!==null&&(yt=d=d.return);continue}break}}function B1(){var a=th.current;return th.current=Hu,a===null?Hu:a}function yp(){_t!==0&&_t!==3&&_t!==2||(_t=4),It===null||!(268435455&Es)&&!(268435455&rh)||ki(It,Bt)}function lh(a,u){var d=Me;Me|=2;var g=B1();for(It===a&&Bt===u||(Ci=null,As(a,u));;)try{cC();break}catch(y){N1(a,y)}if(Cf(),Me=d,th.current=g,yt!==null)throw Error(s(261));return It=null,Bt=0,_t}function cC(){for(;yt!==null;)L1(yt)}function dC(){for(;yt!==null&&!V2();)L1(yt)}function L1(a){var u=M1(a.alternate,a,_r);a.memoizedProps=a.pendingProps,u===null?U1(a):yt=u,lp.current=null}function U1(a){var u=a;do{var d=u.alternate;if(a=u.return,(32768&u.flags)==0){if((d=oC(d,u,_r))!==null)return void(yt=d)}else{if((d=aC(d,u))!==null)return d.flags&=32767,void(yt=d);if(a===null)return _t=6,void(yt=null);a.flags|=32768,a.subtreeFlags=0,a.deletions=null}if((u=u.sibling)!==null)return void(yt=u);yt=u=a}while(u!==null);_t===0&&(_t=5)}function Ao(a,u,d){var g=Ne,y=ft.transition;try{ft.transition=null,Ne=1,function(_,C,I,N){do Ts();while(Ii!==null);if(6&Me)throw Error(s(327));I=_.finishedWork;var j=_.finishedLanes;if(I===null)return null;if(_.finishedWork=null,_.finishedLanes=0,I===_.current)throw Error(s(177));_.callbackNode=null,_.callbackPriority=0;var Y=I.lanes|I.childLanes;if(function(Z,de){var Te=Z.pendingLanes&~de;Z.pendingLanes=de,Z.suspendedLanes=0,Z.pingedLanes=0,Z.expiredLanes&=de,Z.mutableReadLanes&=de,Z.entangledLanes&=de,de=Z.entanglements;var Q=Z.eventTimes;for(Z=Z.expirationTimes;0<Te;){var F=31-Qr(Te),z=1<<F;de[F]=0,Q[F]=-1,Z[F]=-1,Te&=~z}}(_,Y),_===It&&(yt=It=null,Bt=0),!(2064&I.subtreeFlags)&&!(2064&I.flags)||ih||(ih=!0,j1(mv,function(){return Ts(),null})),Y=(15990&I.flags)!=0,(15990&I.subtreeFlags)!=0||Y){Y=ft.transition,ft.transition=null;var se=Ne;Ne=1;var V=Me;Me|=4,lp.current=null,function(Z,de){for(U(Z.containerInfo),he=de;he!==null;)if(de=(Z=he).child,(1028&Z.subtreeFlags)!=0&&de!==null)de.return=Z,he=de;else for(;he!==null;){Z=he;try{var Te=Z.alternate;if(1024&Z.flags)switch(Z.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(Te!==null){var Q=Te.memoizedProps,F=Te.memoizedState,z=Z.stateNode,K=z.getSnapshotBeforeUpdate(Z.elementType===Z.type?Q:Zr(Z.type,Q),F);z.__reactInternalSnapshotBeforeUpdate=K}break;case 3:Ie&&x2(Z.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(ye){Je(Z,Z.return,ye)}if((de=Z.sibling)!==null){de.return=Z.return,he=de;break}he=Z.return}Te=b1,b1=!1}(_,I),T1(I,_),D(_.containerInfo),_.current=I,uC(I),X2(),Me=V,Ne=se,ft.transition=Y}else _.current=I;if(ih&&(ih=!1,Ii=_,sh=j),Y=_.pendingLanes,Y===0&&(Pi=null),function(Z){if(xn&&typeof xn.onCommitFiberRoot=="function")try{xn.onCommitFiberRoot(Tu,Z,void 0,(128&Z.current.flags)==128)}catch{}}(I.stateNode),hr(_,Tt()),C!==null)for(N=_.onRecoverableError,I=0;I<C.length;I++)j=C[I],N(j.value,{componentStack:j.stack,digest:j.digest});if(nh)throw nh=!1,_=dp,dp=null,_;1&sh&&_.tag!==0&&Ts(),Y=_.pendingLanes,1&Y?_===fp?Ja++:(Ja=0,fp=_):Ja=0,_n()}(a,u,d,g)}finally{ft.transition=y,Ne=g}return null}function Ts(){if(Ii!==null){var a=fv(sh),u=ft.transition,d=Ne;try{if(ft.transition=null,Ne=16>a?16:a,Ii===null)var g=!1;else{if(a=Ii,Ii=null,sh=0,(6&Me)!=0)throw Error(s(331));var y=Me;for(Me|=4,he=a.current;he!==null;){var _=he,C=_.child;if(16&he.flags){var I=_.deletions;if(I!==null){for(var N=0;N<I.length;N++){var j=I[N];for(he=j;he!==null;){var Y=he;switch(Y.tag){case 0:case 11:case 15:Qa(8,Y,_)}var se=Y.child;if(se!==null)se.return=Y,he=se;else for(;he!==null;){var V=(Y=he).sibling,Z=Y.return;if(w1(Y),Y===j){he=null;break}if(V!==null){V.return=Z,he=V;break}he=Z}}}var de=_.alternate;if(de!==null){var Te=de.child;if(Te!==null){de.child=null;do{var Q=Te.sibling;Te.sibling=null,Te=Q}while(Te!==null)}}he=_}}if(2064&_.subtreeFlags&&C!==null)C.return=_,he=C;else e:for(;he!==null;){if(2048&(_=he).flags)switch(_.tag){case 0:case 11:case 15:Qa(9,_,_.return)}var F=_.sibling;if(F!==null){F.return=_.return,he=F;break e}he=_.return}}var z=a.current;for(he=z;he!==null;){var K=(C=he).child;if(2064&C.subtreeFlags&&K!==null)K.return=C,he=K;else e:for(C=z;he!==null;){if(2048&(I=he).flags)try{switch(I.tag){case 0:case 11:case 15:Qu(9,I)}}catch(ze){Je(I,I.return,ze)}if(I===C){he=null;break e}var ye=I.sibling;if(ye!==null){ye.return=I.return,he=ye;break e}he=I.return}}if(Me=y,_n(),xn&&typeof xn.onPostCommitFiberRoot=="function")try{xn.onPostCommitFiberRoot(Tu,a)}catch{}g=!0}return g}finally{Ne=d,ft.transition=u}}return!1}function z1(a,u,d){a=Ti(a,u=r1(0,u=bo(d,u),1),1),u=$t(),a!==null&&(Ba(a,1,u),hr(a,u))}function Je(a,u,d){if(a.tag===3)z1(a,a,d);else for(;u!==null;){if(u.tag===3){z1(u,a,d);break}if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Pi===null||!Pi.has(g))){u=Ti(u,a=n1(u,a=bo(d,a),1),1),a=$t(),u!==null&&(Ba(u,1,a),hr(u,a));break}}u=u.return}}function fC(a,u,d){var g=a.pingCache;g!==null&&g.delete(u),u=$t(),a.pingedLanes|=a.suspendedLanes&d,It===a&&(Bt&d)===d&&(_t===4||_t===3&&(130023424&Bt)===Bt&&500>Tt()-hp?As(a,0):up|=d),hr(a,u)}function G1(a,u){u===0&&(1&a.mode?(u=pf,!(130023424&(pf<<=1))&&(pf=4194304)):u=1);var d=$t();(a=wn(a,u))!==null&&(Ba(a,u,d),hr(a,d))}function pC(a){var u=a.memoizedState,d=0;u!==null&&(d=u.retryLane),G1(a,d)}function mC(a,u){var d=0;switch(a.tag){case 13:var g=a.stateNode,y=a.memoizedState;y!==null&&(d=y.retryLane);break;case 19:g=a.stateNode;break;default:throw Error(s(314))}g!==null&&g.delete(u),G1(a,d)}function j1(a,u){return vf(a,u)}function gC(a,u,d,g){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(a,u,d,g){return new gC(a,u,d,g)}function vp(a){return!(!(a=a.prototype)||!a.isReactComponent)}function Mi(a,u){var d=a.alternate;return d===null?((d=Ur(a.tag,u,a.key,a.mode)).elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=u,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=14680064&a.flags,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,u=a.dependencies,d.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d}function uh(a,u,d,g,y,_){var C=2;if(g=a,typeof a=="function")vp(a)&&(C=1);else if(typeof a=="string")C=5;else e:switch(a){case c:return Cs(d.children,y,_,u);case f:C=8,y|=8;break;case m:return(a=Ur(12,d,u,2|y)).elementType=m,a.lanes=_,a;case w:return(a=Ur(13,d,u,y)).elementType=w,a.lanes=_,a;case A:return(a=Ur(19,d,u,y)).elementType=A,a.lanes=_,a;case b:return hh(d,y,_,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case p:C=10;break e;case v:C=9;break e;case x:C=11;break e;case S:C=14;break e;case E:C=16,g=null;break e}throw Error(s(130,a==null?a:typeof a,""))}return(u=Ur(C,d,u,y)).elementType=a,u.type=g,u.lanes=_,u}function Cs(a,u,d,g){return(a=Ur(7,a,g,u)).lanes=d,a}function hh(a,u,d,g){return(a=Ur(22,a,g,u)).elementType=b,a.lanes=d,a.stateNode={isHidden:!1},a}function xp(a,u,d){return(a=Ur(6,a,null,u)).lanes=d,a}function _p(a,u,d){return(u=Ur(4,a.children!==null?a.children:[],a.key,u)).lanes=d,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function yC(a,u,d,g,y){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Nt,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gf(0),this.expirationTimes=gf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gf(0),this.identifierPrefix=g,this.onRecoverableError=y,Oe&&(this.mutableSourceEagerHydrationData=null)}function H1(a,u,d,g,y,_,C,I,N){return a=new yC(a,u,d,I,N),u===1?(u=1,_===!0&&(u|=8)):u=0,_=Ur(3,null,null,u),a.current=_,_.stateNode=a,_.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},kf(_),a}function W1(a){if(!a)return Ei;e:{if(k(a=a._reactInternals)!==a||a.tag!==1)throw Error(s(170));var u=a;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(vr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(s(171))}if(a.tag===1){var d=a.type;if(vr(d))return hv(a,d,u)}return u}function V1(a){var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(s(188)):(a=Object.keys(a).join(","),Error(s(268,a)));return(a=ie(u))===null?null:a.stateNode}function X1(a,u){if((a=a.memoizedState)!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<u?d:u}}function ch(a,u){X1(a,u),(a=a.alternate)&&X1(a,u)}function vC(a){return(a=ie(a))===null?null:a.stateNode}function xC(){return null}return M1=function(a,u,d){if(a!==null)if(a.memoizedProps!==u.pendingProps||ar.current)lr=!0;else{if(!(a.lanes&d)&&!(128&u.flags))return lr=!1,function(se,V,Z){switch(V.tag){case 3:f1(V),mo();break;case 5:Fv(V);break;case 1:vr(V.type)&&Eu(V);break;case 4:Ff(V,V.stateNode.containerInfo);break;case 10:wv(0,V.type._context,V.memoizedProps.value);break;case 13:var de=V.memoizedState;if(de!==null)return de.dehydrated!==null?(We(ut,1&ut.current),V.flags|=128,null):Z&V.child.childLanes?m1(se,V,Z):(We(ut,1&ut.current),(se=ti(se,V,Z))!==null?se.sibling:null);We(ut,1&ut.current);break;case 19:if(de=(Z&V.childLanes)!=0,(128&se.flags)!=0){if(de)return y1(se,V,Z);V.flags|=128}var Te=V.memoizedState;if(Te!==null&&(Te.rendering=null,Te.tail=null,Te.lastEffect=null),We(ut,ut.current),de)break;return null;case 22:case 23:return V.lanes=0,h1(se,V,Z)}return ti(se,V,Z)}(a,u,d);lr=(131072&a.flags)!=0}else lr=!1,Ze&&1048576&u.flags&&yv(u,Iu,u.index);switch(u.lanes=0,u.tag){case 2:var g=u.type;$u(a,u),a=u.pendingProps;var y=co(u,Wt.current);yo(u,d),y=zf(null,u,g,a,y,d);var _=Gf();return u.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,vr(g)?(_=!0,Eu(u)):_=!1,u.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,kf(u),y.updater=Nu,u.stateNode=y,y._reactInternals=u,Df(u,g,a,d),u=Qf(null,u,g,!0,_,d)):(u.tag=0,Ze&&_&&bf(u),ur(null,u,y,d),u=u.child),u;case 16:g=u.elementType;e:{switch($u(a,u),a=u.pendingProps,g=(y=g._init)(g._payload),u.type=g,y=u.tag=function(se){if(typeof se=="function")return vp(se)?1:0;if(se!=null){if((se=se.$$typeof)===x)return 11;if(se===S)return 14}return 2}(g),a=Zr(g,a),y){case 0:u=Yf(null,u,g,a,d);break e;case 1:u=d1(null,u,g,a,d);break e;case 11:u=a1(null,u,g,a,d);break e;case 14:u=l1(null,u,g,Zr(g.type,a),d);break e}throw Error(s(306,g,""))}return u;case 0:return g=u.type,y=u.pendingProps,Yf(a,u,g,y=u.elementType===g?y:Zr(g,y),d);case 1:return g=u.type,y=u.pendingProps,d1(a,u,g,y=u.elementType===g?y:Zr(g,y),d);case 3:e:{if(f1(u),a===null)throw Error(s(387));g=u.pendingProps,y=(_=u.memoizedState).element,Ev(a,u),Ou(u,g,null,d);var C=u.memoizedState;if(g=C.element,Oe&&_.isDehydrated){if(_={element:g,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},u.updateQueue.baseState=_,u.memoizedState=_,256&u.flags){u=p1(a,u,g,d,y=bo(Error(s(423)),u));break e}if(g!==y){u=p1(a,u,g,d,y=bo(Error(s(424)),u));break e}for(Oe&&(Fr=P2(u.stateNode.containerInfo),xr=u,Ze=!0,qr=null,La=!1),d=Dv(u,null,g,d),u.child=d;d;)d.flags=-3&d.flags|4096,d=d.sibling}else{if(mo(),g===y){u=ti(a,u,d);break e}ur(a,u,g,d)}u=u.child}return u;case 5:return Fv(u),a===null&&Ef(u),g=u.type,y=u.pendingProps,_=a!==null?a.memoizedProps:null,C=y.children,Ue(g,y)?C=null:_!==null&&Ue(g,_)&&(u.flags|=32),c1(a,u),ur(a,u,C,d),u.child;case 6:return a===null&&Ef(u),null;case 13:return m1(a,u,d);case 4:return Ff(u,u.stateNode.containerInfo),g=u.pendingProps,a===null?u.child=vo(u,null,g,d):ur(a,u,g,d),u.child;case 11:return g=u.type,y=u.pendingProps,a1(a,u,g,y=u.elementType===g?y:Zr(g,y),d);case 7:return ur(a,u,u.pendingProps,d),u.child;case 8:case 12:return ur(a,u,u.pendingProps.children,d),u.child;case 10:e:{if(g=u.type._context,y=u.pendingProps,_=u.memoizedProps,wv(0,g,C=y.value),_!==null)if(Kr(_.value,C)){if(_.children===y.children&&!ar.current){u=ti(a,u,d);break e}}else for((_=u.child)!==null&&(_.return=u);_!==null;){var I=_.dependencies;if(I!==null){C=_.child;for(var N=I.firstContext;N!==null;){if(N.context===g){if(_.tag===1){(N=ei(-1,d&-d)).tag=2;var j=_.updateQueue;if(j!==null){var Y=(j=j.shared).pending;Y===null?N.next=N:(N.next=Y.next,Y.next=N),j.pending=N}}_.lanes|=d,(N=_.alternate)!==null&&(N.lanes|=d),If(_.return,d,u),I.lanes|=d;break}N=N.next}}else if(_.tag===10)C=_.type===u.type?null:_.child;else if(_.tag===18){if((C=_.return)===null)throw Error(s(341));C.lanes|=d,(I=C.alternate)!==null&&(I.lanes|=d),If(C,d,u),C=_.sibling}else C=_.child;if(C!==null)C.return=_;else for(C=_;C!==null;){if(C===u){C=null;break}if((_=C.sibling)!==null){_.return=C.return,C=_;break}C=C.return}_=C}ur(a,u,y.children,d),u=u.child}return u;case 9:return y=u.type,g=u.pendingProps.children,yo(u,d),g=g(y=Or(y)),u.flags|=1,ur(a,u,g,d),u.child;case 14:return y=Zr(g=u.type,u.pendingProps),l1(a,u,g,y=Zr(g.type,y),d);case 15:return u1(a,u,u.type,u.pendingProps,d);case 17:return g=u.type,y=u.pendingProps,y=u.elementType===g?y:Zr(g,y),$u(a,u),u.tag=1,vr(g)?(a=!0,Eu(u)):a=!1,yo(u,d),Iv(u,g,y),Df(u,g,y,d),Qf(null,u,g,!0,a,d);case 19:return y1(a,u,d);case 22:return h1(a,u,d)}throw Error(s(156,u.tag))},e.attemptContinuousHydration=function(a){if(a.tag===13){var u=wn(a,134217728);u!==null&&Lr(u,a,134217728,$t()),ch(a,134217728)}},e.attemptDiscreteHydration=function(a){if(a.tag===13){var u=wn(a,1);u!==null&&Lr(u,a,1,$t()),ch(a,1)}},e.attemptHydrationAtCurrentPriority=function(a){if(a.tag===13){var u=Ri(a),d=wn(a,u);d!==null&&Lr(d,a,u,$t()),ch(a,u)}},e.attemptSynchronousHydration=function(a){switch(a.tag){case 3:var u=a.stateNode;if(u.current.memoizedState.isDehydrated){var d=Na(u.pendingLanes);d!==0&&(yf(u,1|d),hr(u,Tt()),!(6&Me)&&(Eo(),_n()))}break;case 13:O1(function(){var g=wn(a,1);if(g!==null){var y=$t();Lr(g,a,1,y)}}),ch(a,1)}},e.batchedUpdates=function(a,u){var d=Me;Me|=1;try{return a(u)}finally{(Me=d)===0&&(Eo(),Cu&&_n())}},e.createComponentSelector=function(a){return{$$typeof:Ku,value:a}},e.createContainer=function(a,u,d,g,y,_,C){return H1(a,u,!1,null,0,g,0,_,C)},e.createHasPseudoClassSelector=function(a){return{$$typeof:qu,value:a}},e.createHydrationContainer=function(a,u,d,g,y,_,C,I,N){return(a=H1(d,g,!0,a,0,_,0,I,N)).context=W1(null),d=a.current,(_=ei(g=$t(),y=Ri(d))).callback=u??null,Ti(d,_,y),a.current.lanes=y,Ba(a,y,g),hr(a,g),a},e.createPortal=function(a,u,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:g==null?null:""+g,children:a,containerInfo:u,implementation:d}},e.createRoleSelector=function(a){return{$$typeof:Zu,value:a}},e.createTestNameSelector=function(a){return{$$typeof:Ju,value:a}},e.createTextSelector=function(a){return{$$typeof:eh,value:a}},e.deferredUpdates=function(a){var u=Ne,d=ft.transition;try{return ft.transition=null,Ne=16,a()}finally{Ne=u,ft.transition=d}},e.discreteUpdates=function(a,u,d,g,y){var _=Ne,C=ft.transition;try{return ft.transition=null,Ne=1,a(u,d,g,y)}finally{Ne=_,ft.transition=C,Me===0&&Eo()}},e.findAllNodes=ap,e.findBoundingRects=function(a,u){if(!Da)throw Error(s(363));u=ap(a,u),a=[];for(var d=0;d<u.length;d++)a.push(t2(u[d]));for(u=a.length-1;0<u;u--)for(var g=(d=a[u]).x,y=g+d.width,_=d.y,C=_+d.height,I=u-1;0<=I;I--)if(u!==I){var N=a[I],j=N.x,Y=j+N.width,se=N.y,V=se+N.height;if(g>=j&&_>=se&&y<=Y&&C<=V){a.splice(u,1);break}if(!(g!==j||d.width!==N.width||V<_||se>C)){se>_&&(N.height+=se-_,N.y=_),V<C&&(N.height=C-se),a.splice(u,1);break}if(!(_!==se||d.height!==N.height||Y<g||j>y)){j>g&&(N.width+=j-g,N.x=g),Y<y&&(N.width=y-j),a.splice(u,1);break}}return a},e.findHostInstance=V1,e.findHostInstanceWithNoPortals=function(a){return(a=(a=X(a))!==null?O(a):null)===null?null:a.stateNode},e.findHostInstanceWithWarning=function(a){return V1(a)},e.flushControlled=function(a){var u=Me;Me|=1;var d=ft.transition,g=Ne;try{ft.transition=null,Ne=1,a()}finally{Ne=g,ft.transition=d,(Me=u)===0&&(Eo(),_n())}},e.flushPassiveEffects=Ts,e.flushSync=O1,e.focusWithin=function(a,u){if(!Da)throw Error(s(363));for(u=k1(a=ip(a),u),u=Array.from(u),a=0;a<u.length;){var d=u[a++];if(!Fa(d)){if(d.tag===5&&i2(d.stateNode))return!0;for(d=d.child;d!==null;)u.push(d),d=d.sibling}}return!1},e.getCurrentUpdatePriority=function(){return Ne},e.getFindAllNodesFailureDescription=function(a,u){if(!Da)throw Error(s(363));var d=0,g=[];a=[ip(a),0];for(var y=0;y<a.length;){var _=a[y++],C=a[y++],I=u[C];if((_.tag!==5||!Fa(_))&&(sp(_,I)&&(g.push(op(I)),++C>d&&(d=C)),C<u.length))for(_=_.child;_!==null;)a.push(_,C),_=_.sibling}if(d<u.length){for(a=[];d<u.length;d++)a.push(op(u[d]));return`findAllNodes was able to match part of the selector:
  `+g.join(" > ")+`

No matching component was found for:
  `+a.join(" > ")}return null},e.getPublicRootInstance=function(a){return(a=a.current).child?a.child.tag===5?ue(a.child.stateNode):a.child.stateNode:null},e.injectIntoDevTools=function(a){if(a={bundleType:a.bundleType,version:a.version,rendererPackageName:a.rendererPackageName,rendererConfig:a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:vC,findFiberByHostInstance:a.findFiberByHostInstance||xC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")a=!1;else{var u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(u.isDisabled||!u.supportsFiber)a=!0;else{try{Tu=u.inject(a),xn=u}catch{}a=!!u.checkDCE}}return a},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(a,u,d,g){if(!Da)throw Error(s(363));a=ap(a,u);var y=s2(a,d,g).disconnect;return{disconnect:function(){y()}}},e.registerMutableSourceForHydration=function(a,u){var d=u._getVersion;d=d(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,d]:a.mutableSourceEagerHydrationData.push(u,d)},e.runWithPriority=function(a,u){var d=Ne;try{return Ne=a,u()}finally{Ne=d}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(a,u,d,g){var y=u.current,_=$t(),C=Ri(y);return d=W1(d),u.context===null?u.context=d:u.pendingContext=d,(u=ei(_,C)).payload={element:a},(g=g===void 0?null:g)!==null&&(u.callback=g),(a=Ti(y,u,C))!==null&&(Lr(a,y,C,_),Fu(a,y,C)),C},e}),Nb}({get exports(){return C0},set exports(t){C0=t}}).exports=UF();var zF=dF(C0),yT={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:ci":"nx run-many --target=test:ci --all --parallel","test:ci:force":"nx run-many --target=test:ci --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},I0={},Qh={get exports(){return I0},set exports(t){I0=t}};(function(){var t,e,r,n,i,s;typeof performance<"u"&&performance!==null&&performance.now?Qh.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Qh.exports=function(){return(t()-i)/1e6},e=process.hrtime,n=(t=function(){var o;return 1e9*(o=e())[0]+o[1]})(),s=1e9*process.uptime(),i=n-s):Date.now?(Qh.exports=function(){return Date.now()-r},r=Date.now()):(Qh.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(cF);var Ub,ta={},Rs={};({get exports(){return ta},set exports(t){ta=t}}).exports=(Ub||(Ub=1,Rs.ConcurrentRoot=1,Rs.ContinuousEventPriority=4,Rs.DefaultEventPriority=16,Rs.DiscreteEventPriority=1,Rs.IdleEventPriority=536870912,Rs.LegacyRoot=0),Rs);var GF={};function Fm(t,e){t.addChild&&(t.addChild(e),typeof e.didMount=="function"&&e.didMount(e,t))}function vT(t,e){var r,n,i;(r=t.willUnmount)===null||r===void 0||r.call(t,t,e),((n=t.config)===null||n===void 0?void 0:n.destroyChildren)!==!1&&(i=t.children)!==null&&i!==void 0&&i.length&&bi(t.children).forEach(function(s){vT(s,t)})}function zb(t,e){var r;vT(e,t),t.removeChild(e);var n=(r=e.config)!==null&&r!==void 0?r:{},i=n.destroy,s=i===void 0||i,o=n.destroyChildren,l=o===void 0||o,h=n.destroyTexture,c=h!==void 0&&h,f=n.destroyBaseTexture,m=f!==void 0&&f;s&&e.destroy({children:l,texture:c,baseTexture:m})}function Gb(t,e,r){var n,i;dt(e!==r,"Cannot insert node before itself"),t.children.indexOf(e)!==-1&&t.removeChild(e);var s=t.getChildIndex(r);t.addChildAt(e,s),(n=t.__reactpixi)===null||n===void 0||(i=n.root)===null||i===void 0||i.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertBefore"})}var jb=null,dn=zF({getRootHostContext:function(){return GF},getChildHostContext:function(t){return t},getChildHostContextForEventComponent:function(t){return t},getPublicInstance:function(t){return t},getCurrentEventPriority:function(){return function(){var t,e;if(typeof window>"u")return ta.DefaultEventPriority;switch((t=window)===null||t===void 0||(e=t.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return ta.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return ta.ContinuousEventPriority;default:return ta.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(t){var e,r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=OF[t];if(typeof s=="function"&&(e=s(i,n)),!e){var o=gT[t];o&&((e=o.create(n,{root:i})).didMount=o.didMount?o.didMount.bind(e):void 0,e.willUnmount=o.willUnmount?o.willUnmount.bind(e):void 0,e.applyProps=o.applyProps?o.applyProps.bind(e):void 0,e.config=o.config)}return e&&(e.__reactpixi={root:i},(typeof((r=e)===null||r===void 0?void 0:r.applyProps)=="function"?e.applyProps:Qn)(e,{},n)),e},hideInstance:function(t){t.visible=!1},unhideInstance:function(t,e){var r=e==null||!e.hasOwnProperty("visible")||e.visible;t.visible=r},finalizeInitialChildren:function(t,e,r){return!1},prepareUpdate:function(t,e,r,n,i,s){return jb=function(o,l,h,c){var f=null;for(var m in h)!c.hasOwnProperty(m)&&h.hasOwnProperty(m)&&h[m]!==null&&(m===A0||(f||(f=[]),f.push(m,null)));for(var p in c){var v=c[p],x=h!==null?h[p]:void 0;!c.hasOwnProperty(p)||v===x||v===null&&x===null||p===A0||(f||(f=[]),f.push(p,v))}return f}(0,0,r,n)},shouldSetTextContent:function(t,e){return!1},shouldDeprioritizeSubtree:function(t,e){var r=e.alpha===void 0||e.alpha>0,n=e.renderable===void 0||e.renderable===!0,i=e.visible===void 0||e.visible===!0;return!(r&&n&&i)},createTextInstance:function(t,e,r){dt(!1,'Error trying to add text node "'.concat(t,'"'),"text strings as children of a Pixi component is not supported. To add some text, use &lt;Text text={string} /&gt;")},unhideTextInstance:function(t,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:I0,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Fm.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Fm.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Fm.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=zb.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=zb.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:Gb,insertInContainerBefore:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Gb.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(t,e,r,n,i){var s,o,l=t&&t.applyProps;typeof l!="function"&&(l=Qn),(l(t,n,i)||jb)&&((s=t.__reactpixi)===null||s===void 0||(o=s.root)===null||o===void 0||o.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(t,e,r,n,i){},commitTextUpdate:function(t,e,r){},resetTextContent:function(t){},clearContainer:function(t){},getFundamentalComponentInstance:function(t){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(t){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},getInstanceFromNode:function(t){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(t){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(t){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(t){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(t){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(t){}}),jF=yT.dependencies["react-dom"].replace(/[^0-9.]/g,""),HF=yT.name;dn.injectIntoDevTools({bundleType:0,version:jF,rendererPackageName:HF,findHostInstanceByFiber:dn.findHostInstance});var os=new Map;function xT(t){if(dt(ir.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `Container`."),os.has(t)){var e=os.get(t).pixiFiberContainer;dn.updateContainer(null,e,void 0,function(){os.delete(t)})}}function _T(t){dt(ir.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `Container`.");var e=os.get(t);if(dt(!e,"createRoot should only be called once"),!e){var r=dn.createContainer(t);e={pixiFiberContainer:r,reactRoot:{render:function(n){return dn.updateContainer(n,r,void 0),dn.getPublicRootInstance(r)},unmount:function(){xT(t),os.delete(t)}}},os.set(t,e)}return e.reactRoot}function WF(t,e,r){var n;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),r!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),os.has(e)?n=os.get(e).reactRoot:n=_T(e),n.render(t)}function VF(t){xT(t)}function du(){return du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},du.apply(this,arguments)}function XF(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $F(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fT(n.key),n)}}function ii(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _d(t,e){return _d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},_d(t,e)}function YF(t,e){if(e&&(Tr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ii(t)}function bd(t){return bd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bd(t)}var nf=qt.createContext(null),bT=nf.Provider,wT=nf.Consumer,QF=function(t){var e=qt.forwardRef(function(r,n){return qt.createElement(wT,null,function(i){return qt.createElement(t,du({},r,{ref:n,app:i}))})});return e.displayName="withPIXIApp(".concat(t.displayName||t.name,")"),e};function KF(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=bd(t);if(e){var i=bd(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return YF(this,r)}}function Hb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Kh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Hb(Object(r),!0).forEach(function(n){pt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Hb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Wb=function(){},ST={width:Ye.number,height:Ye.number,onMount:Ye.func,onUnmount:Ye.func,raf:Ye.bool,renderOnComponentChange:Ye.bool,children:Ye.node,options:Ye.shape({autoStart:Ye.bool,width:Ye.number,height:Ye.number,useContextAlpha:Ye.bool,backgroundAlpha:Ye.number,autoDensity:Ye.bool,antialias:Ye.bool,preserveDrawingBuffer:Ye.bool,resolution:Ye.number,forceCanvas:Ye.bool,backgroundColor:Ye.number,clearBeforeRender:Ye.bool,powerPreference:Ye.string,sharedTicker:Ye.bool,sharedLoader:Ye.bool,resizeTo:function(t,e){var r=t[e];r&&dt(r===window||r instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(Tr(r),", expect `window` or an `HTMLElement`."))},view:function(t,e,r){var n=t[e];n&&dt(n instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(Tr(n),", supplied to ").concat(r,", expected `<canvas> Element`"))}})},qF={width:800,height:600,onMount:Wb,onUnmount:Wb,raf:!0,renderOnComponentChange:!0},R0=function(t){(function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),o&&_d(s,o)})(i,qt.Component);var e,r,n=KF(i);function i(){var s;XF(this,i);for(var o=arguments.length,l=new Array(o),h=0;h<o;h++)l[h]=arguments[h];return pt(ii(s=n.call.apply(n,[this].concat(l))),"_canvas",null),pt(ii(s),"_mediaQuery",null),pt(ii(s),"_ticker",null),pt(ii(s),"_needsUpdate",!0),pt(ii(s),"app",null),pt(ii(s),"updateSize",function(){var c=s.props,f=c.width,m=c.height,p=c.options;p!=null&&p.resolution||(s.app.renderer.resolution=window.devicePixelRatio,s.resetInteractionManager()),s.app.renderer.resize(f,m)}),pt(ii(s),"needsRenderUpdate",function(){s._needsUpdate=!0}),pt(ii(s),"renderStage",function(){var c=s.props,f=c.renderOnComponentChange;!c.raf&&f&&s._needsUpdate&&(s._needsUpdate=!1,s.app.renderer.render(s.app.stage))}),s}return e=i,(r=[{key:"componentDidMount",value:function(){var s=this.props,o=s.onMount,l=s.width,h=s.height,c=s.options,f=s.raf,m=s.renderOnComponentChange;this.app=new rf(Kh(Kh({width:l,height:h,view:this._canvas},c),{},{autoDensity:(c==null?void 0:c.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[f?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=dn.createContainer(this.app.stage),dn.updateContainer(this.getChildren(),this.mountNode,this),o(this.app),c!=null&&c.autoDensity&&window.matchMedia&&(c==null?void 0:c.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),m&&!f&&(this._ticker=new Dt,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(s,o,l){var h,c=this.props,f=c.width,m=c.height,p=c.raf,v=c.renderOnComponentChange,x=c.options;(x==null?void 0:x.resolution)!==void 0&&(s==null?void 0:s.options.resolution)!==(x==null?void 0:x.resolution)&&(this.app.renderer.resolution=x.resolution,this.resetInteractionManager()),s.height===m&&s.width===f&&((h=s.options)===null||h===void 0?void 0:h.resolution)===(x==null?void 0:x.resolution)||this.updateSize(),s.raf!==p&&this.app.ticker[p?"start":"stop"](),dn.updateContainer(this.getChildren(),this.mountNode,this),s.width===f&&s.height===m&&s.raf===p&&s.renderOnComponentChange===v&&s.options===x||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var s=this.app.renderer.plugins.interaction;s!=null&&s.resolution&&(s.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var s=this.props.children;return qt.createElement(bT,{value:this.app},s)}},{key:"componentDidCatch",value:function(s,o){console.error("Error occurred in `Stage`."),console.error(s),console.error(o)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),dn.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var s,o,l=this,h=this.props.options;return h&&h.view?(dt(h.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):qt.createElement("canvas",du({},(s=this.props,o=[].concat(bi(Object.keys(ST)),bi(Object.keys(T0))),Object.keys(s).filter(function(c){return!o.includes(c)}).reduce(function(c,f){return Kh(Kh({},c),{},pt({},f,s[f]))},{})),{ref:function(c){return l._canvas=c}}))}}])&&$F(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),i}();R0.propTypes=ST,R0.defaultProps=qF;var ZF=R0;function ET(){var t=Ce.useContext(nf);return dt(t instanceof rf,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider"),t}function JF(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=ET();dt(typeof t=="function","`useTick` needs a callback function."),dt(r instanceof rf,"No Context found with `%s`. Make sure to wrap component with `%s`","Application","AppProvider");var n=Ce.useRef(null);Ce.useEffect(function(){n.current=t},[t]),Ce.useEffect(function(){if(e){var i=function(s){return n.current.apply(r.ticker,[s,r.ticker])};return r.ticker.add(i),function(){r.ticker&&r.ticker.remove(i)}}},[e])}function eO(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function k0(t,e,r){return k0=eO()?Reflect.construct.bind():function(n,i,s){var o=[null];o.push.apply(o,i);var l=new(Function.bind.apply(n,o));return s&&_d(l,s.prototype),l},k0.apply(null,arguments)}var tO=["children","apply"];function Vb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Vb(Object(r),!0).forEach(function(n){pt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vb(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var rO=function(t,e){dt(Tr(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var r=Object.keys(e),n=function(i){var s=i.children,o=i.apply,l=ys(i,tO),h=Ce.useRef(Ce.useMemo(function(){return r.map(function(m){var p,v=(l==null||(p=l[m])===null||p===void 0?void 0:p.construct)||[];return k0(e[m],bi(v))})},[r])),c=Ce.useMemo(function(){return r.reduce(function(m,p,v){return qh(qh({},m),{},pt({},p,h.current[v]))},{})},[r]),f=Ce.useMemo(function(){return Object.keys(l).filter(mT(pT(r))).reduce(function(m,p){return qh(qh({},m),{},pt({},p,l[p]))},{})},[l,r]);return r.forEach(function(m,p){return Object.assign(h.current[p],l[m])}),o&&function(){for(var m=arguments.length,p=new Array(m),v=0;v<m;v++)p[v]=arguments[v];return p.every(function(x){return typeof x=="function"})}(o)&&o.call(t,c),qt.createElement(t,du({},f,{filters:h.current}),s)};return n.displayName="FilterWrapper",n.propTypes={children:Ye.node,apply:Ye.func},n},nO=yr.BitmapText,iO=yr.Container,sO=yr.Graphics,oO=yr.NineSlicePlane,aO=yr.ParticleContainer,lO=yr.Sprite,uO=yr.AnimatedSprite,hO=yr.Text,cO=yr.TilingSprite,dO=yr.SimpleMesh,fO=yr.SimpleRope;const pO=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:uO,AppConsumer:wT,AppContext:nf,AppProvider:bT,BitmapText:nO,Container:iO,Graphics:sO,NineSlicePlane:oO,ParticleContainer:aO,PixiComponent:NF,PixiFiber:dn,SimpleMesh:dO,SimpleRope:fO,Sprite:lO,Stage:ZF,TYPES:yr,Text:hO,TilingSprite:cO,applyDefaultProps:Qn,createRoot:_T,eventHandlers:xd,render:WF,unmountComponentAtNode:VF,useApp:ET,useTick:JF,withFilters:rO,withPixiApp:QF},Symbol.toStringTag,{value:"Module"})),mO=yw(pO);qd.exports=mO;var jn=qd.exports;const gO="/assets/Creativeans-world-Base%20layer-BWmamQwg.webp",yO="/assets/Creativeans-bridge-top-3dnkGJFY.webp",vO="/assets/Creativeans-brain-CIeGYKr9.webp",xO="/assets/Creativeans-Brain-Factory-Shadow-LdGZiXEq.webp",_O="/assets/Creativeans-C-building-Cv_44mFL.webp",bO="/assets/Creativeans-C-House-Shadow-BjXvlDOf.webp",wO="/assets/Creativeans-train-BPD1_LUi.webp",SO="/assets/Creativeans-train-platform-B9TbVGDv.webp",EO="/assets/Creativeans-building1-BYNpam_o.webp",AO="/assets/Creativeans-Depot-Shadow-KaX5_yuo.webp",TO="/assets/Creativeans-building3-VwJU4Mbw.webp",CO="/assets/Creativeans-Main-Factory-Shadow-C7wb7Cv7.webp",PO="/assets/Creativeans-building4-D5fkL18W.webp",IO="/assets/Creativeans-Power-Plant-Shadow-Yffqx1rp.webp",RO="/assets/Creativeans-building6-B1uCaDxZ.webp",kO="/assets/Creativeans-building7-BI7S4Ymb.webp",Xb="data:image/webp;base64,UklGRhwFAABXRUJQVlA4WAoAAAAQAAAAOQAANgAAQUxQSN0CAAABkHDb2vG4C3qCsWvbtm1jPLVtG3HyPW9c27Zt27btjr+3TL7viYgJAIlVEAwQAPQzZm3WZsqIuVM00yPrV/EnlL308I0nEj+LPJEnp/GHJzaPKUxDEdxpyT0uco9TUj+tbCSfAuJ3vubS7o4KkMen8AyeyiVOfze3rFo6BXQ/wuVMPtxMuox9ktNk4fzn0FCJMljecNnfjZEmYsJXTnGoWopxHznJ19He+TZ+yYm+q+RVlY2c7N4MXvg6vtIRR3lR/zkn/CGfZ6tTKXGtwpPiPzjpV7k8MXPiA5X/i7gj0hKPwf8jEznxxDL/UVrJpTtD/5VrPSd/MybDP3JepffS2SH4r9JJ9L7ZWKu/2ifT+zQPdUUBIPoTPT7P4O4fDNCZ0/+6zGi1VgHonEovfZkGXb38oZ1I7+c8CzoMBaBuKr23s3XIsKGy6Ht6L51GZO7Oqgy36N3TCYiOQaGwg95howXRPjKDYiS5xNVGAdE5IjtUTab2bI6GIbOPygyhR4mJZy2mv/pmABhB7OPGqQwR7R1CAAq/ICXecuoR0W5oogJQTRIpfdmiQUR0TSgDAJDlMaXzTi1DZKx7hr+gm0jny3yDgIjuKbUV/whYkk4ldb/ehIjM3iMH/DvPNSJpl9EsIFod4yuo/gNVbtK4PXcqQ0S7pXko/F/Z6i2FR3OMZkTm0nfKBB63viXKJd6aOx0RmYN1zg+e+za/LNPPC7O1JoY2u6lTTpUXAHnmv5dBfHPYrEFkVvf0yBwK8FqRdcjVn1J9ubFEpxfQbrcOrRUO0layP0tLlyDp8hbTNAFtDsfkmCJqkLyG5dLnH559e3F+oUtjdNhmm6d0KB0Oshbts/Dona+fvqS+T37+4vKxZXOnm5lthiAMjiwZqgB5FRBYJXIkulYunbvaOFdvQ8Glmdq7fbncoACSoblKV2ueEN2/S6/use1rV8mVFdRAV6GEkBC/zH6h/qAGBUgKAFZQOCAYAgAA8AwAnQEqOgA3AD55MpVHpKMiITX7nmCQDwloAKkn2n+/vn5M/ir0iXp305ZPHKqekjVraTSO4PWL+H8fBchbBks33jxZCzVapGL/rvw1MygHjRNh8Qrp8QaNI0mDFt37gi7TcUxWNyRgMf2wY/RAAAD9zS8OsatujjtZdqT/kBhEdv/sZdd+jM/zB//UEXgrU+4UUvo60fjvEam+QZwY5Xwe2GONtNL11DZ+v0B6IYMIEbagTeFY765kj+C/WbJmqL32wtTTB5A/Gv//61lCv+e0DrTn9nMMJ5sZ5jNrGPh+0pgCqMcVlrXuFZbhJ+T7Oc/DYMbKhg9utlM4tfuG6UsJwMzenu+S+0gGIwzZOFvvYY60f5NzJPM1S9+JLPQiscj+eDpiul7S6hpqllx/KmC6bSJxPrgH8FHDQUBc8NlVWg05qWGbnYNNL1Nd6IQ3CAX8iBLgyxvut+DsuSSBYMpjC66y4je4BzuOdwhe0+XToltsh5pwbIkjhiVHz+/mon7FcWI3a7S0GytlKsRDmCM5gjTuyvCDOYwPWJbJXGNUZW+iwDQBOfS1wpS2LVe5+Lxi5x+asWssAuZqnn3a4BPj8nRMsQ9s+R/aHc8IOsTEf5oLWyDHuns3Whl/Tq1Ys8XS6t901EB6AOgKhsLRizFlkaJTHIhGmfqNlLpdavOPS0aw5nEVSDqF/I8NtRajnX2EAJIAAAA=",$b="data:image/webp;base64,UklGRtwEAABXRUJQVlA4WAoAAAAQAAAAOgAANAAAQUxQSCsDAAANoGZtmyFpeiIyysyutt1j27ZtawHagI3ftm3btmfaLCsd8bEq611BREwAfBVSjUm7vzbHgyUDlCPmbv27jq1uwX4a6f51Xi5/97NBhKntdz1lxbRsqQK6CmzREW0bD3/+3u82geTEaYOGp7BJBjAWSiZHdhqefv6Plk0eu62p0CyDSA8fuMUXj9ZaEjngkIqCvzy8zRmDd37SgtRZwzb818J7HPn1k75FrrQkWhrY/vSl231qvzSHVmu9Z4avd/0QV3gg2HVK+DY/LlEg2Xlq4bHmdt+fCAZOe+fHZlLnSVDd/qg7jSaOtUFWO6j3wcaG95Z0oJ/24nJDh+ZAmI3t9FRDJ3mUED3h3ZUGtg2DNN9ihye9zR3j0ELslMWvi5vZ3yPGh7dwf1jdxJiniEF0dPd+Wtxo62lyWjq7k/6pBfCEAnUeLfE9rB8AHtHoxY1yZte/FyE7PXIsWuX2aO9XSsYcTk15EYuprdeyIquDvMZNze3M/CPtgEaN8XrcRmhwQRZSgpqqhYIKsqeKf8ZBXVZ0RwNCISxr7YyYZ8Q0CS4EFle348RMKxxz4QUl3E/3Y7RUzcowBdga8O5OOi2vLPvqHKIsgD/KO2ukjJyu24CqS8B55sQwJZU3BqDAzVIAwHOT21ByFuP9dcZEMQ8Axn1n6YRyuaGExZiXtTbCo21HMDLmvx19DsBKy4FNyJtPHaMi56vbaBbX3PkaNv3zyxd3EVn9b6LHUZxl54Kbwf3OqTqJ8t9tWziSsfy0hgavHTsqRaD6Z2hHbvJA9S8DjdrXbHtCW8vK/9Z3Sxrg5l8l3hDsm1Kn9LZG5X8Tu8VrQVX4u4BmC3fbZ48HW+Bmf+rcPm5wtTRdho8PfHz4QWnhk6z+/98WW2vKc6b/F/D1i3uSR22bET541sK/YscBbpnL/2fht/XUlz0Hbh0RvBGlZHVhxpvcOipzpb8LAi3897V3Mvvs0i2iAabAXG5UygtVMTmZqBVnsktRtLj43ttLnVt0phMxpdyiMLXx8AhbXlvMczAQnPnhl7xQQR3pTrc3vRZdzQlPAFAUAJSXKhWD1ZEsOXGba/AXAFZQOCCKAQAA0AoAnQEqOwA1AD59LpNHsKKhoTf6rfoQD4liALs5wNiegU/XJ5txOeqAsdVczj2Xc+UJA3F5qXaAEBWyCnNiUuQmTWBse2FvaQ16stYZFnB1IxIpwcBPE+K5iu7BYAAA/uIfZBo33gUz+5/Ev6tD/6GRyH+1Xh0pAQFQ0/3W5obE1/av+TqQnfzl5F0L7wL1G50imWvm0Ekr8vKwKuPva19J5DYtJPdaKnTFbVtO3v1vXiHwo9X3U7oLyu7aPVVJTml5i0va9HKNBc6z0GbZYYtQuPGoZVz0OjMAkv5lFfVnJpF2WqKpUHRQZogqeNOgYdeRCA0jCukoRblyxcKeCDzKJp7N9pht9K9qL1JgzWyeU0T1cdM8kBW4Zt/Wqx4UAL4muiYlG+VcMTIibmtmRthWW8CpX7rzUjG0A3nctPow3EDRDW+aX2Gmvqb6b/2+PeVARs98ybmT3Y29Tvk7Vq0RozVgCMGBcgekobJ+s2VYzAS9xXd3kQe0AHj+uerfw/sapw5jFwAAAA==",MO="data:image/webp;base64,UklGRvoOAABXRUJQVlA4WAoAAAAQAAAAUgAA6wAAQUxQSPgGAAAN8L9tnyFJ/v9v6g5kZpfVGOwYi9HTtm3btm3btm2s7d2xre5hTbUKnZUZET90ISrjERETgAEzll++crSUldH0uYnDE21m4Hxwj4csjKdmmqEWQ/liJj500wHX7vHYezVmtTbzeTCUGVuyYAm77fLDDt3zdem6NuiZ8fKSNetWVn93hyNLXrN0zsAiZ/nV93xA6ze3ufDYZ9U1bHN/xYMecPJn44l79foYg2T+yiet/scVCXtbRWPAPPugJxz5YZikN+UNBi9XPYd9r5ac14wgkWzk2ZnvN5LypHUmGUDlKUM/TMjK52kkduFT679LhPfxNpLLVj9p2w1J+OA0kszv8ei/HR7cU8aQbPmQe/1kZlDLXmQShsxjc78e1PtDJH7h4w7fPJiHlJB8tu4+f5sZyPu1A0g9MPuvQdybw8klD735xADe1HZD3mPBf+xdsgSOlh+8/YS1F8+5IjYs/q+t1OOMKxi+/9ZTlu49CWflZaUbLL0gdAcj973jgpXi/YxDwSbcaeUe03CYja643coDmy4hvWnihI17RU55qys3W8iuME6hdOnmsL9Lp+H20LrZA/1taDomlhS39bcpdAyZ5bv7W69c89dOTvSTG4FzK9Jb+1k17RwrL9zVz9qGcwgWn2n2sWbOPW9RPNHHPWL35ELdR2q1cY+Vi4d7G2UgcGjJwd4ualIgK416TytbFIgiP9/TmpACWYkv9LQkpkCU4qmeFikKkJYzvQxVDAmydL6XsgcSvbHxnkIaZGWm1UNljoiCqXVji0IihtX5bmZVRIMY4+PdsDKmAfniiW5sgSJCls53Q0UTwYvTqosfGCJEOZ7skjFkVHS1Sw5Uypya6VIIqWA5M9ulTEfWv9ClSAb8fLVLng5RqHXJtcng2ZluERkiG851KtPBy7rWJSZDVHS104gig5fUVAc+rMlgOV3v4KcNHZ7X6JBjoFNkZjqkBCG8WOuQjgiR+U6ZNiE8E7bn5SlhGd2cV44I4WnTAMBGYkqyug7AjJGSj+ehoiipqBoAlteEsIw/D6RA5juUDSU8MwsgyJDC0g0AWQ+U8lTTADmQyjLxHJBtkyLSpk4Oy6s6UIpI4Sk0wMq0sJQKwcZiUnhg5oBFmhSkVQgM08LSrA6UDSnw/TqQI0amZyBSxLB0A54gSHJieNCCz0BsEOmUoSat51KaGJFWrcAQw7O6HsTEsJyupxUxPI16ihqWUS2PGqR0SA7zTCyogSeURw4PYkkO87WgxzOSnoAgBFqQwyS4pga+ISgAPdxj9DDBQa8UQpETSEkOC4Tm1CAQKU0N88UyQ48sk8N9wchBIAwjx+egVwh6mGD0QIAZchgDwRRpYxg5bU2PiZQS1CCM2z41OozDgBrTUs00Oe2okWbEoBXVsyDWhKaeYcRAqdkciDWRqWfJmVNTRWr0tDkzLKmpyjOZHDHRtKyhxEgxU2Dh7DBIjU8GDPvXMlrGJfTtD+Ck6CqAnetoUVMAjpSLpITnAdQm1nFCdE0DUFvvzQhRNQkA1zxCUDLuzdu8dISSs5g/edOTJB3xiQ7mb0+nQ51odsBti5cwKqLDolPz9y+XVLQPo+vvn1gkwjSPdJvY+WiPhmi77qZ/8mpBQ3gn64Y7ph4tKVDHz6HH6Dtv8Shob0bPtzYfId3TJ7f2Fn3lPZ577au93nDn1ld5rqm9u9Gn+vozVjHHZv8l+8HEtz7tuxVffhr9X37uxcIls+UWWIw+8+T7MofO/UXYwOnPf6roTvMnadjd/KsvBa6EP+SwbP6892PMDf29JqyHP269m7tQ/wbHAGe/m3+TA8e/WsBAJ7+de2fibvtJgAGf//HBj6xKVPMnd2Pw1csvf+GTE7T7O8NIYnz3b9PvWJiQ2k+2+Ejo0f/c8ogXFBMw9efrSkhu667r9jzy6QsHtOPKzQuR7DM7bt9buMcDLg0stTffut0bRvJPH9g3nn7JEgu1W3dUJyoluFqVBdaf2X5NKODyiir619VZOM1GZm2EnmOFOQtqirsFbizEdbhtFOf9mcgxKM76g3LNMPRvnLOqtGvMWNDOcW0BrjEGixquS20hck9ZUNoxJrQFYxyDbyxoOM580MM9ggS3YYxj3AqYcUtIGxzaLY9TpCiKrfDYLQ6bHiK3PGVDQNEDrt2S2gYHQZK36WGea8oGZOyWZ0WkmtqpILYhc+2GU6nIhsjoulO+ssEyuumUtOMjdIrBJveNY8YGAh05pTiz4boGt+GbyC0Om3kz6xZjNnJshp5ANpyy7Pt1pwyz4smWU0JbqdbhlrIxdXnRrT2zG4Z4H7r2lyYc+4X/qHsWGMDmGZjG5v8X4Pr4n3dULl05Vsl6TLWmzh7fcQYUjl91qjg2nJNMtSbPnPORUFZQOCDcBwAA8CsAnQEqUwDsAD6RPplIpaOioSzTm9iwEgliL6VYAV+BnqNfueZ77Ek/7vf7L1wc3r0nc9b6PvOq6j/0AOmD/z7CjXly8NNy1iNngKtclLVajJOirgIVRlXjuT3vzSgvDuOfrtnw8eCzcH4QmJ/Pl1iEta3ci4ky7xEQQ1WKNP4K3ad7De+cxdFQeeBjvTSnBc5QOhq3aSrBaHP7Y3BAmmzlUPsbj7U5p7/uieyRlGN/c7lTEYGPG+ZG5Z+LmWmmabFgnhPc7tgHpEDdHKBv8iQf/hxB+voawkLr4WVPJ7A0Rl/gFjLzCBZwQJv+z6Q2fAqwiqFKW7ndf7AcbebGn41yi8xg/xpFtkQHfFMddiLLGg3IMef4z5EOQExjisT/uCW+HA7BEUBT6OCma9P06XEGJIf8Oh32PdzQRmzjCH4wEyIP80ZZIoCkgPv8L3biWVpoiDlnqfIESMQZ3+bWyZtaoA/ANvQAAP705XKv/998P974f73w+jPuLeJWsZfdIj8zsgsgsuN8tgwlxKz2YeLzbpoC5+iRU48rq7CQDxzw2ralZj3NQC4D1mjCxsLE4/xFJPwUiGKBW30uFygwqHo/bae/1BPXAl5215gnwOTWnMomdSzPgD0toZTH1mYJ5bbLhQDCB+cJs4zYbzceOsFfCBVX7/5cmqvu+aUSnV4J6GT5v6PELts+udw6P6HExVMWC3RPNCksQw9tOxcS4VH+fTqR9m878T8ztdEICI9RcqE1k2Oe52lPH0DJHQFnVIGB1PBNf52Z104cYCWG383doFmxuwhr2EaOs0b3V2xfVq58IRelSvXmjAV4BJ66ranCoCz0/Hwty458lBG2ZQTu2+yR+5pRUVgz5+/851HMqWmw9da6YrEyQsPKstTkvfosWVd8S/lfT7El9h2Qq8dVGRS3zz4zJ528Av/e7JIj4iwNulpXejZ5DExgA8MidF6Z9G93q+POmp2Lk8X33w0D4XU2AqnullIHpwzpT2DQx9x5RAKCIoCib/88ghmBQqF87dadXddjAzpYXcjQtNZQkLsbovyU+nUy062cSEqqOTarEzSdDuV3sraw9PWPdMFcRdgncl0J4fQAhwHQAY2EUzJpUzzm806yoiBAOZunILtjkI3rCMvhdLeCi72jF8QbuEHAmJyfzYFF8w8CtlM4jsEOwa6eopD/ZrN5ZHX3UoSe/UDxoMwjWkNoTtUBjzfnkpcaO3KXXSELDwfTURSdlQ9c1YoY8bF3xz5B82NkgIJUzCo1J/M1uhfFKYTQNwFOBNqgArtg0boWQO6qtndkWgOZ7Vv5HdxZhZbzxz7y9suWxxzLVo195it0/TXb+Sb2EYZbFlGBLfkAb/d69vGoZKe+8jKbufQEG/VNH64B/miaf+Mf59QkCyJxg8/slmkAe/VtdP6pxCjN8MBbh3S8lTwxPaEq5sEf6zWgBk9PqAeKfsrIRA2epxxpymjzRcCnPqrt+AlGxZBxClmjjnMh9DKLk4y+qYn3KZ7jxoWIlAqzxXGjuxOnudlaOWA8IOIQ79shcH2h8kHHoXIa/WwxwyWNNnDUuMHeVo8I5Pv+Xe90GkjefZ/vEf0c3ABr6zvWERLV8M7NNylcEu6ElxoQg/1iK4yYY+RueU/ogReswPNVXEW82ubOPH3LvgR5o09x0B9R8nJGLjd6WtNCTn9v5tKncD+ay0pwT6vtvXeQoua8qEfkjXsB+L8tTjtvD5RI8Z9H07bu52siQsrMW5nNJb0sqaBazgdfRu3ven/wo6w2bV9u+sIRHDZZoiZFpXw9YQfgS2iOCFbLQ3i3FabzFsa7IJ4qXAaYzV77sUhZmSqUoXTxPhtuASKY+WJDYsjnRBdhx6A9i4gOIc8AxeFL8YBwAlQcF/vDELJ1SB++3070uxZpGJEcqgmxd4nGZ/TDS1pAzfkA1C+uuvkd8Z+iFzZfqdxqp97UuerSEdMZvxbVYXgDcSNIFDwg4EUS8AoGGMccVcZdtl0tqGAodcckRdLEr3/0rW0MwAM/JuIABbT/WcOr/VM/zG8C+ov4SeeeEXaRKkFawkNSsbA22g37Sd3Nwtv15bHVd2GDMKaIqFDN4gawMFv8fpbB4r4RjlPD9wj1TmVx1LQaxdKu8TKuUGuPiNx4MVwDAttoLyE6UUGr5pM+gzQV/WzD5ej8sJmj4Q+YUNjBLlEfsxFybxbgYVNc4rzUPi2fRfGrX13En6qD4ageE8f/kJP4bR+KolSJVpcpX3MYr98fYZx7J2RQ5DwOWJo4pTx0QkHNkFssZCGdkdWVJ9amz4JOkXeUrMBlJR+P+Rv3EZ/j+NRDPhZjGsQeMFFNMMc9u7dk2W9ylnXZlRuxzqgIS7uETOAqiuxJoCdcQ14rvWmKu6o6D1DlD5J79fajIUNhNAHOSgfugEpEJ8pN/kEoSa+594fykfyrnLlsfNqcguvZLCcMLe4OA2IlC+l1ukfj8sqNediV5U7ApTmKtnikNQwoRDpQ0aSyo6yMmpnbGmjl+Ot2ECBzGibiDt5ixGMyoXRf4n4osjYLnx750Gwvryd8/XUvQaGLCA4LYotrIO6/FzF/gFiBhwwUsKc0YPVB6g14cP31O1Lb3cXs0GOOeaxZDONE9FJVpNX7+RcsKaA72JUtEZ/hWAnRs2Rmcozs6x7s4qUwf64NUcQWU2AAAAA=",DO="/assets/Creativeans-globe-BjdyEW8x.webp",FO="/assets/Creativeans-Train-Strawberry-BUVT-GwU.webp",OO="/assets/Creativeans-Pink-Train-Strawberry-Shadow-BQVtvEJD.webp",NO="/assets/Creativeans-Train-Chocolate-WUQ31NrS.webp",BO="/assets/Creativeans-train-hole-top-layer-DLU74pyl.webp",LO="/assets/Creativeans-yellow-fish-6BeHF0-B.webp",UO="/assets/Creativeans-pink-fish-DuScjcmZ.webp",zO="/assets/Creativeans-blue-fish-Bl9NXOoR.webp",GO="/assets/Creativeans-blue-german-fish-y0QJpD9W.webp",Yb="/assets/Creativeans-angel-fish-BODy4C88.webp",jO="/assets/Creativeans-pipes-Bvp-Wk0J.webp",Zh="/assets/Creativeans-red-lollipop-top-FuU-Es6k.webp",Jh="/assets/Creativeans-purple-lollipop-top-BmbPnK7E.webp",HO="/assets/Creativeans-orange-fish-B_UQ5UKW.webp",WO="/assets/Creativeans-orange-fish-partial-uPOvhRd3.webp",VO="data:image/webp;base64,UklGRuANAABXRUJQVlA4WAoAAAAQAAAAkAAAVgAAQUxQSKAIAAANHIFAcv7aQ0TEBPQY3/s/GZK2bdsvstgYe2bncZy2bdu2bfs8/wL7XLJt2+dh2xhPY6ZRVRkRC9OV+3FW1cxyREyAb0mSLEmSbItILPJSfe/++Xt/Ufdrf8q9w4QezDxuGR8QEROAYj7wedPf/4XFIfIpD+/273vJt7PDw72fIMCxe/55VQ8LM29hALjL3F/tISF83BD7p+/+t+yQcOtHyghz+2t7bsFCvbcqB4SJUnagBw4xeqF+PTuES/e8w1T7r2cMDgKKb39y86I259zxdM7xlm+SPHrsi1R15aGfOIcPgOl33m14ZOOT5+qo2ywib7KVN/H+KQsAS7c6v119k89NATzkoT85W/ZFd0gdGrs66tjHOhh9q62OVt5dHgAA4YPu8M3WvpNNzjNhKiPu9roMuZ4Kqj68u92H4AmN71kAd4o1D0aw/64vyJDfCanyjizICEw88Y8bCtw+Q76q2XfHZ2VwvGoMlb9c01G4/R1+wvCOWpckBHDsRSkc9RKv+sa9vInH/byPEz124GEEhK8ewPWMBaq+yEf+nSbPSE4MxUH3QuANCZx/MYvq941D9MRfDWcydbC9AI+fE6fWGXQAgFwedHZr0rpIm8afn8DV/nYeByBLkIfjU+eOCRx7W3j/Lpx73/UPgkxCyqNH/LGmLjcHD1lSJ/1nE1V9+tFmtnFNe0RiG3B81Hl7mYNc23hXBuebf+yNaI55w61KmXvMrScj29u5+PzrAexlUw56u8ZVKeVtJ8/pwv2vARAvLN92PiBp/fOSrDIWn3sXVq2duPvdrvzHWTvopLOUR3jAFQMvb7D4Ena74IxgZuVudziZWubareg7/+WqeNxdsZ9M/anP/Nd3r18fHHMA7nPjnkPzrhbuv2vc7zl3TlkBgOh+x3/eqYpHI9+LXneHz/xh96TTXTpD5E+swP2fRz9+twyOZoq2tSLu6gAE93/J1z95+9hlzoiD57np6Y/vK5xXfVTlhBPCOz7toguPk4NPuOXnJ+C+e2lUGa0pJ5gHLm8qCkkGp/jdeVTmuXdzg5kilPKCs73q+PNDjRtQjq3PhajOv/HDT6WU25+so0Kv/sqrjlLZVj/bQJXq2V/+4LGS/e33P/G5Jv/54kseX6Z//vXv3/hsB+d/x7z8TqXp/anh85Ur/3LpYx9DJQn+8Y3PWHv/m7o7Sqpf//8pAcpBWTa+fvmk5LIjYyXZ+vr0SeGc1sOpHJZPa284i3Kmc3wEoY+XcVyS/vFeIkBAHy2rl2TAvI+alMVHL8/wiW+cW28iQ0AQIORNHyLlmMqhv3ya53Y7n+l1ZpiBEhAQQu+XcB3lNL/9+f/O3X2O59162XWkQoFw+bjab5Tld9//X7vtyXlu0SMRZSkwDAwkkN4Lew0qB379dalol9o9604ZdzcYgZJrIB+yW/fLwd+/qQVs1LYFiVjncjhTiywxGLcGeOmtZLIUIk9fbJ4Eu7IsOBGcK4QBW6LJXAqBLgK9wWBvlsowxPfhwJmRajk4qOezPAGCU1i5CvIw3rnfWkEZd/2fEcxMzsCTzD7vuazPkLjryeMOgwXCi3TpTdpLVIZu/M0V3Bk9DjrPsxjnZBdI1jtRYtdAAIlrvOWgs4gy9sJvIcU0I9XJiEPtEiC3qnEuq1zE5T2H3TkqQz/8koEuGMpx2PZ80sFVQhjc2C2uAgThmw1ayyjjbvwtwAgDfUL23AU7LjU41u4mV7kumLw9r87GZdirf1mSa3J1V0E0yGasfS4UL0kxAEFvhS0zRcXjJH4KSpOEEDqIkVw4aDt3cLgNQq4lgPQmWWvWFG9I4VECCWESKiPBDpzLwoEBxH2XEJAQ6GWm5gWXzVDxulEEJiFJEF401tnaQjMvtwIRyouFHpkobqSXTZag1QgBM24lrh2zBa0rCSZXYSDeWrrzPc8b3LSA4rebQbzauK9WAuWhiBTvr1AkW9ON4nXr4ZIm3SW3gYTA1AMBW66+lY1iNrxt5r2icWfCr4FogtDurmIIlCHXFkQAb3oNjhBhpf7usl+0HW/cWyC5tSTBFUMEdiKJaUnkKl0SuvjgXllU7PrRqGDSjWLiRlZuJa7lIMEsBLiA3EoAYby2HLbGu/54ULSt6UBlMQBDCKBBFuVWPCGQF94I4E13MVqFgnjd1AuGzakAi0ASU+DFBSYacAGMFxsCAdLNbTw2QRB47c1xr1hpbwog5HEYIEBiDbcZAQICxOvjxSYIA2OT1XpYrA6NE4/lXcj9KtaO0Fi8Ogl82StN5JFarDaDQkk7rgNhPJYQkh2upQBmDwwC5L638Q1gYTbrUaGy9jTBBJhpmZcwIAW0AAMwCEBu460NgSyg3bBWqHRngQRDAG5OoIuAy62sGvfJC+NdFQCr108m/CL1kxkhDYyQFyZSc0nXhvVCL3lnFQYE3JpsFilNGwoIJEhIFwkEC4GVD6/CyoDS6lK9QHLtckRQXmgPwBoXkJTo41mrohpt7J5eK0z3orE7QxVhAk2EhgAuE+AmxIdntlagJBclpy/WCjHYuCG4zRyLkjxcARMpI8A9h9CPB2szFpHa+sW9xWPzcfB/4qR1c3vhds0EAIV2ISNigUWWIUF+zMxmVpUDWr+i3VxZmg0N3UKq3N3cGMydPkupAiRQVEBERSgpOPLjWrYpW8Bob229Z+bmZ8Ya/inpsN9ttWxzaWkMNoUKLNi2m0IbD4ZxRn50ZptZZiVVGfTbvYSC+lgch75noGItJ0lfTFyfHK8hS1PLAlHoQszYHIfO0wwjn6QIZzazIlARztgOU6sKD2SM8Yzx/SjyyVibJpmFIZCBj2P4cjjHl0NHPltRa22WMauoqIhYVRUQCAYwIGRixYrnhb7n++Qb43uofOKqzNZatiyWBSoqqgxRhTJEyHheGPrGEBHhoFSIsLX7LKsVUWUABCLje4ZwMCsgKio6EjTiwARWUDggGgUAADAbAJ0BKpEAVwA+kUKcSaWjoqEoFEswsBIJZADTWLUEV9R8mfzK2Nwj2qfVfuAvMl+znrKejH/Pekz1MG8h+VU0pt46DV4ItpYckeh7vCXT6Yg0h2IXXUa9z0Ss4nNS0/w3dmfc1WL4ZHlKEDQsAi+Owl0d//jClmOn3RlwhikkJFKcrtLH3WQo+hRSIb73j8aJNRVcmueLgBQnrV7Wz/2NeDgWzzYBsyYtdrWz8vtUTeeRx8tOgFZybIhd/pU5PNjx72ClZIeOVC2k3ONE8jb8WPuP6ZZXE3pqi3vTmI4I1BAA/q4S2fOH/+mkXGs0H0pOf//ppFeC6J5H3tuF1241JxvAyzVcPwckO0mtdJLeu1Y82sw4+fN6nI/cAinWhwqzLZpgkKqKAIOPrQn7u+/zQ65kyhS+pvIj5S79/KYn5ZmASLEfENqxh4PV5CLON/I1E9N5vNpZA3bhXODbDQev7GT+2piPQDDBE2Ou7pDF6cukTIp8WFek/XAvrNKNDL/GMdqJe4vQIDLwa3ZyIlU2XTaJmSQyFOpwV5wvGUhZr4fZyN37ayP5eIAKG0SM5k2PNLFvOIeHKsS4FBYvNW0zT5ho6vkHy3o7NyF4WcG/1ds4qkCgtZYav5wSDzuo0iKUI8gol3xBsxPrEvfgrZtP2cjiNnsOLrfbMcSdJvkiN+xxooS7zVgSP9VlbShg1HnubLrhJ6cd4X+CgDejO9jVXuiIlm1QsLZpd6gFEfFfkLHCiaiqzzdwqpr79uW2u+2yt36zer/9EIH6DkhM/7tl7AFtBzmg8Z/rZ313lAPGcyqyPYJ7saJUqiBlCvL437kiM26QtiWmAW4nqn5UQqZ3bx6Z+6EjHkSV03hgXDQFQsafiAEh99rTYmJwg3PET4u9FtO/KRnJXmlMEw37ag3CRYcGo9GYQHmLKJXeChzf/4jRY3yfowFvn9ssaT6Nlx6xD7vWpP4fSPx59PTL6IsbbT+pMLf1W2WIVukIyIx4IP+/e3WhtWk8fHGa47kc0Mm5N11sGigOZ+GHHfFzPPAIEg97IJiN5ADOz2jH9bi9rTWZsFFu6KdaR8PONbOUJ6yWrBojSEUzTgae/Qz8C8nLpiBKBFSGoxYIlwQBIdzl7RjJgE/7SAORSfcbgtOCgdOjxbojUStBD8BXo4xPH5RONKVvWLrnLSsgmSprA9J0ruNU3LZQenpMxEP/3sIcRrWDpE/yI3ZOfQKZfYM5PH4Q6xuJKfG4L59WzMz8GhLKX9kms8uR5zUvr6/g4sWFxFjWHxRfn3iYYg6lqx3myjRABxWVYkvuQgxRfUmdBDdghgGyORfc69fxZvTNgvR1LREhOsbTuXcbtTlquNvaHUBab22oIWC9FkTPEeoAPM4gDiJxGlExCXJrsaaqLvdSnZWx/zuXBl35U1m3vhxJkRB7MQlviCFJ6B22g+rd83Y1ocS93Jc1StsQSjUh7HOerUryxju3DiEDPuqaJcVbw4/Rn4YwGQ3rTZmSr3WTxW18N73Yn+tmWp3BXTiv4/Y12oeCr9f1mZhcutnBU01x/TaNg8HKRmrwpSmKhe+qHSECqxxL73ohvRdNLLtyjzblikjIxdRcc57dq5+SkcYle7Jlf7SFoQMSD1EEF3NSjhl1UepBffz1eqbSoeibsXvl1UGIkyUiLiPDmSQA8sh8mgJfnSPMcQfDrjjq/mY6n6Tox/ez8I7/eXh/mz0w+nsNwfDngdCPEAAAAAA=",XO="data:image/webp;base64,UklGRuYOAABXRUJQVlA4WAoAAAAQAAAAiwAAbgAAQUxQSLoIAAANHIJsm9Vf+zlDRExAN4bnbdsMSdu2bz8iIrMyS11t923btm3bvu/h/UfcM9u2bdv3aRutqmpmRsRxDKo7+zozK85xREwA5UiS5EiSWaCXf4YbYQ8AdfQsARExAbiB9ee+ZfJH7zuJm8L4KbfPcZ/2d5ZvBszTHghg5qU7H+GQUaOznIHu/XAMRs+8+oeAqds/Z/rfX9vpPF72wD3nfiLBoju/Fpj5wtrdFrDvXa6uB2v8VQBcFD/e77fUPBysOz0IQA+Lt8f+8/UToVLTADBSS1BwIr4cLE8All60vFbA1DckUO5saxoYfz6kAJq7LlA4+aVXTyYAqEg986Ha+txvHnun6alOocTbUMH/+Zv/M69+rikkWbAAy1tpA0W1sgEDWlMoHFEetMZYMaOzoI2YYgq8h25xP0A0sVkMJAPmkY/c/d6h8Oh2r5gmN/Cwx6EeffZscKJkp1hEOYCx5wF4oXw3C41OD6DJAbjdCAC87G/HQ2OS3WIKDGCmO3Avdyg0OrUHIA+gvTOA217KAmNiLgbFADypgfnNXmBUhOIkALAT64GZja3A4CAKDCCL1EA73w2MogNoZQFEDoOx94HBQQxZQN+ht4fVCLs2GXDrO2DPbhIcr4txH5h/5uZeVxuhYR8ViybjxSf0sPeFKDg2UoVmnnd3yrF3dgqh9VlNF2rccwT7/2g6OC5PVKHC575PweHdW+zkx2oIrs9q+hbZ+davNW4SVn/6vXmE2GeJOsDuhSO/OTmLMLvdVBfKvvLNeD5BqKXfMMUOLSPk3SQpZLTzIdt27UKRzjlIjfseWgOQb4wXUmCEePIld77y3h6QbR5AuRCpOz0O92+/F3Abo4UoshKiGaDzlP//D3Y7jYvA+CA1AdzhCR+E3WjUgicEwDzozOXtq7NpIfEI0U4dwPTdfumvjTQKtXkTd3ng//4lQfGrYwboPPRyM76Owg980GnzyKT7xUMk4dBRvtYB4me8YzeTYnd+3r2cxwMes3Hk3+vOSgBIjz344RkDQJzioCrSAJInPfCOCxf+8qujOzLs9GNeds/cCW6s1mrybg95BH/l6+tDzTz/jb1cUEqt0ju/4u4f/+bO0FL3f3fXo8Ra3/ld7j0nh5R5xSMdSk7x8x78qX8NJfX8O6GC+ol3/OLyMLrdy1DNJ/jf50Poeajo3K3/uTuE7m+jaoiCDKFL86hm71qKIfztx4xUo7sdDaPfzd6OKuFFDyO+PKsrYe1QImtQycyrYSSbdV0Ja1FGRVjor2B9RFXDQwEQ9LlBcIOwv9JtV4ONTomZZXejDzhYrCTkTd9b7ehK6OnEe+/Zdm7nbm9oBIMLSkAk0FdkZawatbkkc96z7Nm5e7b7EnukUiRIQEJIX8DKmKqEGquxMLHE2Rnndq49yQHshkgSxr19Yb2tK5E3a0IRCEvL0nZy1o3+1NmiA7EaO5AA9jHZTKIqyHYaQykymDA2lv2lYNA6WZhBNjYTMYyrT72Evm5UIbd1RQSQOjyaNmoPrlsbAUlFIEgqkcg+2Utb2VgVMkkIAgL1Xz9O0AzG/p7VgsB5kiK3miFrfJqXJ3QFck60BwGCg3PIDJx77iJbAVQ8j1QEEn4I52ZqVZCUCYAQwTgz7v4uO8fQtiUgjx5RG4QICAG9Judmq5BxQ0BeYe8c2R08sl1KnoXRPZeduB0orvE6X5qJKrCl62CQEEAWWY6Dw/b8rdHuRIXOE+I6wAKBvH95ylRgs5YwCQlgmQQz0LLsMEikgxvnpgLoQoB89tx4s3x+t66EAGLArIS2QwAHkitqbbugILgAIhHQO7Kaz5VvW+qahQCFc8K4SugwskZYuzuo3K9AUshH+cRto9LtSkogERLMggYEKGMJUFuNOyZ0AYIAEfCpOzkx2ypdJqkoBkBizGIAKTjs3kUq8eKQBMi7EkDbS9Nx6XZUCgYghKQpL/dmFVBj6UVBCJLPSiCcm6iXrh/XwSSA6J1K7IW4Fog82wAbCCC9dWVzyiyWjTeS1IMUC2FOhoznNInrLGYCzdoiIBDSWwK0fu12pmTb3FBMGCQiuSYJJDDJtWYNrUJB4rmLT0DAxxdaJetTCyARInAH8bqcRyJAEFeXq0jcxydF6F+3Gi/ZetRmQECACGSI4SIQD9cuGfJy+IEAj8OdhZJ107oXEEiEApAEEmKI0DvrgtyGXQS86yEA6O7121Kp8qxuGAQIQDwGuDKFXL2ExKuSEO/Hra7pE61GqTZUSkQMAgSmLMNiQmYChiThXgQEiHwnHimumeOmU6qubkFAGJRZAEMSCCSuguwAcWsEIPc9PJPSFJ+OR0rVi+tMAgAEQUhKgbg1SYHcyYe4CtDlgxpkrtmJUm0kMVhAgECtYEgYIERDTInxwfgiCW33JkyJdl2qQBAABLEAxLhKQkw7xqshEN8VMOT4xFSJ+tTQngASgATMwGKSRZAa474uEF8XZuHoeGuhPBtnlsZYhEgwmIkBs01MQGAggavd/EWxns3G76YeEJdDTl9cWEwYgv2N5CohkADWzd8W5x2ro//nu9+1eeP85XPR3GwkAgBCQgIBM4SYMG43lmn+GFvnRZZPruq5panmjfC9lVV05joQAQiAkECVCERALBYUAyh/3Vnn2PC1s+tIW7OjrVQfTOzuVq/PpjEzpj2DCIJBAhP8PmwQgIyDyj/oc+ecaNlZXtlytbTWaDVjo0kBIuyd3dlxnnVjdLQhHgIREQ8WsEDYjYLgJz1wRpB/lq2zGRgKdrO7aYVVVDMRaRCLMOmo1ug0Y/EObL3nzIOcCBMLQMdxPGZ+mOG+fwdwOWfOMoO0sOXceRGiSEVRnMSxATl23jmXWes9QYhIkSLS/vznHDPyv+qd9bkfFAggIE3QAMAQ8ey8td4KtDGxUTpSSiuliP9rcd5ybtmz88IQJ+IIzBAm9iIwJq5pRUSEIIoT750Vtt6xOIYXiIgSpY0mBFhEvAezF4hAAFIIJVZQOCAGBgAAEBwAnQEqjABvAD6RQJlKJaOiIag0DMCwEgloANKkmItXn/5MflV8w1sfwfFO93uqvWbtu/2R9QH7M+tD6Nf87vofoQdLJXi33Hwtr4q1PCGYm1r0uP7iupQDd303VVU1GseTg29WOqWsZVsZRLBRA6IwYoWThfS10bw+olcjdJTxnVpnZ9LLwoJEAfl6fb7chQ7HYZvNYBkyBL9yHB3nUo3JcH3EPBEQA4qb5B2KkU5XsCqD0FKjJDLJJvnZ879PQWsESLZ+5SBCpZc3CWU0ZiueOgkG4FQahm6l6hjqMlBp/zCCUuC//ZAA/sqYuv8F6+nR24f/6nDFnT1XhR//hT95H/KOZjht27DHeEicVpqXJxeSclVxHs+8vWNT+i3Y0mD3mFYqB5+a1oIivHIcubOiMVI7yM6EiE6xmt1Jnzjuub8Evz3HR3K0Sh4/zQITN7kx1XERH7Vv9pnQ2en5TiOCXMBYXBZIDBHGsP/9juQoppm+rb4ojw9UsDKs1wctb6sd9ytfYpymepmZXqz9WsGnJoi+U1DPSl5kdJ5pXjrpyUm/9sniuz9rU7X5ZFo4PR/T8/pjdcDytsTsZKCqQG+GtkqUQN99CLwmwrf+cm2nW5rCkY56Q3RQHcRuo2tnG+XAJfVK6ec49Efi6RBG8ETSOx6YuWDSAUDQJlLPOGCqyU3P6z9S8e81UYtZPsGoXEcvk1xjHuhvxy8C/Sx+wjCgpmzfrahASp064X5DaXScVW2aoT8dyxcjWL72X6eblf5sngnA794XOJ1XJYwffi+8ed/F7AYqXxxU1yuwCvZ21l3/qXtvpHWLM8x5jv+my3sduJ/l/feP2b/okwtO/3cQhCnJhkzp7+FK9Xp/eW8ozqhOIZ6nDN42Y2ImJraO4VJ+//xNz3OhxnHuPAPPOILqyCK9Np8zXAXrPXCfeLpK/VNTBDi+8H0qSAztIwpOXHPWZ+WvAqqHpOmImDcD5D3o7MOw0WuG3v8/9GSkVy7/zyS7Ig69PaKy6Bp/5n3Q2syGCB3RcjhMl3bkJPMpBA7PlnqMdDnMhx1NFJBHMHn/Vh1Hm63Pkk1hFCHBoda8PJ/oFfv6CBUa33Wk4nM5H4zy84iiC5FI7iHLtd3/FVCqCsMjSGLEa1XrP0fF1H9G47UsTWy6tiH0z1S2RBVmDUrGCapMaWB2pCBb+1gD/TtQrb6JdqDGsQNhprUB48qZJBj5DLiZlRgrsK13z9UYGPzdv4xe3nrnqI2MHqyxCi4svvrHPznMp75i1d1KkeKsW3KL5jdufBZSO1W77fKjP9txRiAF6mnBSap55flaFU/3NpIDn3K1A5MJdGQDEQbC7adE98uM+899Zpq5yVEyfRxlmxxLrKzNu9IJn6LtOZFWxMgG9cTWQq9hAJh0L6X8kMuqR8hDHHbntErl6lJ8wMrJoq9EZbeu/w6nf3wWczs2Ffx9/Xn6ycft6pR2DKCB5XSlPBJGbilnuUBcKPSoqmYP+ixpw1E20D+Re+Z/R/V2UoUSluxgAZyFvUuAgHzXA0o29s1SJXnukpcUvgQN01GK95bISpcLm09wvCeWNQTBSoBITVtf9wPS/fyo6sx6vbVoL40xvhRjxcCUlAmKU7SEjHRBrfJDz/9KrLsVa565hoChueWHxG0ZpjrL5UeoA0l85G52dsawg9FnvC6ZAXujK8I4ZP/oO4f2e8nmkhj0qvKGfSTKUww/DlaLcSgR2y9m2AMFOGXm0gCQ1KBVCb83fSHNXO+mYQ77rp9E3IpXvPxRQsIxca81CvFb2pMjNjEi7FgbP1JsGBscIuC5k7z1kbsGfs6AWJeJ39Fx2v7ACf68UiG0AATJfyW+xwmZPvmUy2VKn13N6qONi7+jXhPBYX5MgS0lS4v3Z90gEnhSkYJfKJBKv7MLmh0P1omgy8TW/xN2V7nennS9OfJIaS2WfWxUjfTwwU6erhqB3o8uyKyFl7E+3rahYU+TxPg60XsVdUgDUkDgtR0r5K57v3N5mZeRaLgJOOCowF2usBEossWYF7AZRXRBvzo/E1B8NKAAAAAA",$O="/assets/Creativeans-plant-pot3-DEyFvY-G.webp",YO="data:image/webp;base64,UklGRiYNAABXRUJQVlA4WAoAAAAQAAAAqAAAhwAAQUxQSDQHAAAB8IZt29q2trbdDo+kzMzM3HowMzN68pzuYA8eo8wMGdOJpXCZmZmZGcOcmXIbsKX7/GHF1nUr0qQ/ETEBzNrWrNu2bgizqBEdn3dOWbbt6In0nJvl0LyXd/HQliUOK9HGmbo7W4XOOwYyqxj1/MxLCPxeYNfeZBaxnnPdAwR7YXwgd7+PYNaw0eS7ANID4th3Wa2qcERDZg2bz3oAKDcRKAcUcGgf/yyCWcOmcRVAOvS//DSziLY/3wLSEbxahW9yFLOIbbfyynQEzjW41tn+zCKGfHMf/ObNIFRAhTb/ZySziE12gd8E4c03mVV8JA8+6MK1itswq/iVl4NUeYpZxJgF4Aica6gB/MQsYtuz8CFIVYNXNd9mERpew03Q7ohg1jD6MALnGmpAZ2szaxi6BkGqGjyQmy2YRYwH+S/MIv6C4FXwwAqiq50wmzEeVXTgCHIos4Y100FeGG4RkkA/k1nD16HJSfpbg5BcLZXiXyHW4HEA4KBdzKpBW1hkVHRMjTr1GjZu0rRZ8+bNmjZpWK9WTPRDkeGhNlFmAeAg/rvRQsKjarbu/+w7n/7Z+bXrh59//W3YiBHDh/36k+vLvznee+nhHs1qRoWLYMsFuErVw1Ah4THtHn3v81/HTJnt9shBS3Gx0yeM+umLD8de/YBuAMBVUDc0ji2kZqcnP/x2skyduFNF+cIoqs/huwNqn80otsgG3d/4OV4m96wpBYDKnf2IEgFOVsiMGRLZaMg/YmV6aWEmtPmaCJpjEPCcIWwhLd8Z9Xu8TJ9yXEHVyrc0FSLkG8Bma/X+8FmSTJ+w6wEC3hxBAhErDdD85e9jZRFXlyBI5U9GQ23RYvoPjZVkAeekI/hlhusgVkij16d4ZAETjyrQUXnMaD3FaveVW5LpE3bchb4eMxnys1sWcGUR9F5tHlEvjY6X6Rdcgv5H65pFrTemSTJ5wmEvCB+8aBJ13p4uk8dvuQPaYeYQ/c4MmXx5HqhHE/Dq5M2ZMvXc0xyUit/zBGo18vREmTj5UCVI997wsxMo1Uf3ERKNtOYOSLO2A8DtikEG6yNEg2/jZdJFuSC9uf06AFwH2hnsXRGi34iVKdPOcVAqHP5XAeONEaH3ZJkwcVcZKFUVuIaK69BsQuATYoUAjf7sIVh/A6QK/FVU2ZigUojLJGEaz06RdJuXDlIfgq5tMOUhinC/hl94ZJ2TzqigVKBjtMHQn8Lm9+gESZ+EPWWg9CnQM9xoDgrNd3+XdV1TDNLiTfk3UBkco+RCjKOK+Gu8HvOugjR3VwZ09ZF4hZhHVcflCS7lhALKggPwL9ShiKRCiANULX6VgonbfR+Utw5DswQ6ZpOwShHyqbqODEJaVQTSowr8c6DrLpoKVQDehGjQ2MAWXQLppWvQvAl9N9GwCk6H74keHx9I8j4fKAsOQ7MYeq8iYl6F7lI0zbMTAthwF5QlhxRoZkF3NxXz+siwJpTk+Yla8YvyQJl5Etrl5dA/lowxL6fCVJIXJ/l5Ui9yEGZfQZU5IMwTgXl9VPiG4tXJkiwnHKwEYeUZVJkL0p1MTK9KhNQY/Z6fLMWtvQHKC2XQzgFxmiCMeTkNLvXQrd/EJdmgVI5BOwfUW93CMJ9XJcGDP+v15BEOykuZ0CwA+dZYJrRXoQCW1NVnTgkIi49BMwf0W2OZ6F6FEyDnKV3C5JO63ToE7WLQL4tlBvT5VP2gTqmjA2PSOp2OlkHzNuhLk9zMoD6F6wXclxvpwObMydPhcja0c0G/yc2M7FO4TkCsHowlbwqm4hC0s0F/UJKY0X0+levyoIEuLFk6END5dGjmg9y3ye1m1aSiKIqqcn9VVTnnqjpGH8aSkw+Uad3dBM1bPlBnL3Mzk/5h2qY8KAf2QDMXxLd3JrmZmf/w55PQfADa23vT3Mz0s3JvlCsoBuH9o6uSJGYV7yLn6IUiHcrPnFw1X3IzK3kkeQFjSZrzl63STEuSJIn9P3GLQK1Mi072YXNQddm6pUvHv/ee3f60xWjR6dWZudB5qdPe2zK06OTYAdp1r/a2Ar17Ow5CwFKn3ex628dD1DKn3czsvcdD4JPthzxtWvb3IPSzjDXvalK9x0PoLcy/dk8z6r0DQqu9NEy592mIncZMu7cHYqstTcvuhOBnmGk/DdHjTKt3rnAfmZXdBeFbmhaEz2Jm7RJvgWldEW+oaZWKN9CsnjZAT9OC+H2t06P/gXrRrF41wCv/8XivzDKx/+pdEc9hWh7xppjWTPHWm5ZHvEzTmiPagbgRNot0uSUz7WGiIaONaTmFQ3YHs3KNFw4FXU2KOecIh+Iok2KOdcKhqVkxx1LhupoWc3hEe9i8mNMl2CsmxlyOpUJ9amaMOZ07BPrI3BhzOOeIUbrU8w+zY8zpcK2jurLU42EW0eFweg7qlbvD4/Ewa+l0uoYNW7du3brTZUDp6YMHTx/0+DMr63ING8YMCVZQOCDMBQAA8CMAnQEqqQCIAD6RQpxJpaQioSaUC9iwEglN28lAEpKXv87/IDv6Q0+c/Kr8Vesp6UmTvQ7dTzI+cB6Vf/B6dHUq7yz+2mEzf4Dty/zm3G4JxjdpDfpiD8YFit3zvjXZxNVfLlS/ykx57G+jwJ658Nu6lot8E66ZNPUGBt5oGNi6wYmGxp1nuJDWMOhrW2DuvijtI/2Ryaa9hQ9hBnyDbl2oJxyIIHRaioNPvm5a79juBBcp12uVAldrASbmSPL9IfU1SNtY7S/pJp4AXwbvP//XRMc8kjDuSpddY6H8combdsQ9qib4vM2u4dvE2Z/j4LLlAuuNdZFpa2qJr0CtkF6COkqvCaz4Tw97SNUj0UdAz2cKN/Ug9bw48XMSplzmYaeujGhJR1AA/vshgAC55uWQvlDZG0SDGKcNJrMroEuc9FSrNJM138HPjIhMN+871DEe33nxjyOL0h3XPph87/q2iikOloojnzbcLiMSSt78gezNN2MnZ8bN4mP3WTEQCv0Pf/3Wc7e8sXehpb5u+OUuJXzxpIWKnuQyBhmM2d4QKBa5ieNHEDj++7qwTJShJQfaiT0Ww7s3s1A5+V2f3/f/3/IdTnSMUMQv7Ju6EW/1MU/8euMPsecujvm9n9ZY3BwRfaOOw04hOaik50ZyFhABXN1ktARqFioEJd7SbyZN+Jb9PQB9Q3/vzZWCOM/PhnVC8hZ//Ihs7M25Z7ASQhI1t82RkS6Dc7WyX5GAvGtioo+U0kfoO1AgJS+vh4hjBGjDRMmfzCVi801/nrApAQ0m2OSF6REqPZFst4mCmhn37ZF6TUyaMVqqbDLVFSpwu/51aFMZPqeL2/D+XpAFbKhbeylD2E0C8OC70x8QeIKb09HPtq5u3vQDfnLpTu9ggik+mzI+sf+brmCQSYWPIhxQWuL6RmDF4+k7E3A8U2mYP5PIYXndRvatMOV3wZ7X+hTs184RNDjt+zIU31m2GHTBr3GuUg+mkqixxwqCkJtMDH26g+PLfhQri/Rrqn4Wu2TzVptdtcXdbSrQ3C8XNvooS1KYM0CZVhOelCZ0b/YWBqCqyRSehwZ1M8PLS8YKgr9Am8bRYLZqBTBLM6ikQLVWnR06tJlU20yWYlpkvO3iUKp62XlI+FPMEFIe1FoAAD6qJSOLSgmwMVKlfkIcapRiaGgMkoJyEu5qMysuJPptC5Pv6LDWt4dJOYcCACO9LWcDw7zxqscUNXuStZSabwie3cXgowqoGagUwhQB3bSVJ6WNXVLIX/AMoLfhZOTen3KMM+nLP0DP+jUz2XEcMA4Xfd6ZDXyEdLN7tWLH37vv5KMa3tOep8346yJvHS7q0D9bMcN63sB6IJkOOSevqXWdn+v+vlPdzE2ilNuN0/T4Ov7BF+ugl0f1nVt9ZNe0+vOf8UMbMUIOuyNzBqVLvbWKcryRCVA1FKUhpVb8l7oiazszxGER8b7lZB+4T8mTA2w70UTqxI3ES+GoPxGpXH1BjDoZrSP6OMklvFqaz/e5+TaFXsw7pA3FFmwo9U4Sy3iK9X1+qEm5Cw9G1ZwDXpUGP8Tsfx/gicPBoPt//eiOEDWImCGDG4Q0aEedPtQcNoPDGPeUiYHJ5SRfbLCsDFnEtso5JHWVg+5zKFD7UObRPQBMFwkW14WuMhayYFbfXj7QH0Bux/5mvTOIkp6NNZOehYPEObHbz4PJU9+OuySUoCqY8r4A78OWnf6A1Ucbf6t/3i34s1FPydjBkzjSLSHu7667mOkTSgwStjhq/QJ5/02FjZ20TLRv6ZXDOsuGT9NTwADY2DlIMje2Vl95xqVNGkzDhLd5ES9LC0uXEB23//6WbkWQgZ9Gb4BEOU12B03ugzDSVle27LB2ger3EBnN6F/rrjDntCo2LP04AfJaznig/LgEPsOYXNkOwqaSGlIRoijUcHKbUmCDaYgZxVGsdvgCuDqDjTE5MZ6v6zEvvt82t8/asZmgAAA=",QO="data:image/webp;base64,UklGRnoFAABXRUJQVlA4WAoAAAAQAAAAMwAAMAAAQUxQSH8CAAABkHRt2xnJI3pTatu2ba7G1sozO9v2FKbssW3b9kzb7rGNqiTfopR8ETEB4KCTb8ZYxbmqt99/fOl8eGBxr2hPAtgWRI0+8sVM0TSypGnKVLemyIdghQibXPGfQg7S5i87yt1ZcB744B+NmCTfShIJpoJF72jE9P87PTnMJJ/4hVikOifwmMi4YULsvp4ucCzhKonYfj+R64jfsf+I/a6Bjgh/IRwrEu3r8xZhSW7xsMfrDsL06zCeHRN+44JuBtjyeEJj82e4wBrR/y/Clj4aYI2zi8IHfSgkrIR1IYzJ6b5WBppwoo+XWFluxgm1TrWyj8Lq1yYrt2msqDuERTVedIePRSte6HNfHgC0YfZtZSoA1GH20TDBBeAeXnSXRppIwCEKK/KlfPNwLqwzY/Xnosww2x1GmLB6u0NiWB4F0R+weiqV6UU5IDhJYUQeFMq0imKCGP0fo4+aDXK1oogHfvU0NvSt9Uq5RpxNACz4j80P7Tq1XLMsHgCCKnCh7qyTydW6iYEAAGM+YvJOKVFKdapBrhbOxn9Y/N0vVCjkhmXJXAuIvIWD+fpapUKuU45wBuv5FTRr5PP1YpVcpZ0VDbbLKymWyIp1Yrlco1tSxLUDiu+aWDE/WyVSyDSb1vRwB7uj935n4c/ltSK5Qmtc0cMDHORMqzUxRLZvWSFVKbT62XkCcDxJ3WFigPxwWiiW6XTKVaNigUkCMiXVP0i7qD/tZ9asVxk2atdMyPMBhjm8wH76l5/+khRFmf99bby6U6vUGjdJ547M9eABi/zYocKTD2ubmusfHNuilQlXzps0vCDKBXDk+4WmZBeXl+TnJAa6CriAK0EAAJcHzAIAVlA4INQCAABQDgCdASo0ADEAPok6l0elI6IhMBgM+KARCWwAxQvCvxfC8nrztIWeZ26fmAxzz0AOlVcCs6Uqym6tmGV8ZLDjSdX+FgdEfbSNx5gWBGKyR2VcF07U3xtO4sXac1+kiF6dkc+7Jrn26gTqZelWz6keoDo6YjCoIswM+IAA/p2blhkw6rU/qC3s4ooz9MalsQ53PSkVk7m2mOJNXsHr5/+mkCebTXsv/31Ryy/qGkV9pzDf6ocqGVs9J1mwNOc339oHK17UF7KYi5B5wDrTshqlnsX6J3VmhFQKDhipSDJYHj9NZRgx8AyG12oOAg7fOdmtlmC9EzPZyDcwJ/1SxCEVNe8jOLs3V1cZYf75CbiphuzJcn5nm2tfGkfeGMfAK6W2AlRcfNqdWi8A/teLC7Iv/j8ba/GifzjgzrMJb1v83llHEUprDEGpBwBnO0cTfNn/t1Rf5fbrWPcTPUoUqsG4P7Ad2af2tch2BBT0W3OEUwi257J5OWfsiGxT8rbfC/8gHCQPUyEP0p/O1o+cjTkks5qjJmvrCrItudfdPVnxekIxXRTzoW6qnNkb0mN8/M0v5v64jb4LoxQftCs9n1y7hcuEqnxaX5EBdxL2kp3L8Ns98PvmTwkl05epYCXIwVnVbOhF06o/bRx/Zf+3/BIalkibRubsXxNz2ClwqYG9OzkP085VQq+yf7bB+5A1/P7lWCz+ecW8uof9Hr/dSqSI9kvBGL/M/po+sk7c+335v6S2UCu71SPy5wv8m+qNbqPSobLiSMqZY0kWGL/3sgO5mTJv3mb7z7UryhXVwWhIGYsdviw45m3tA2bRKHFYkdm5F/2yVDgWdtHH92arfqSeGT7NLFEWNrGH1efC82kR//SjGt6ZOX7N2Y3ZIaezYampQtpY4AAQIq46YlfIgAzf9ZRC+tVUj0T27wCnDcD59UMhDPrNyQCGw+BYu8J5tMAAAAAA",KO="data:image/webp;base64,UklGRiYGAABXRUJQVlA4WAoAAAAQAAAAMwAAMAAAQUxQSFUCAAABkHDb1hnJ6l9KY9u2bdu2bVuFdoflsW3btm3bLuX7BoXkRcQEgKJMqpSgTaY3ANaUpQYuvfDk/ddvH19eWDe+SCoMOYYf+yITGpKQ72eM5RmVco5+4KcRy6/Y/Gro2533U0XlRyOTK5Zd/EIV92wopFCR7TJVkVwsrUiJY4Sq+7CWAkUOU9XvlY0o02qiHj2dNQLtRC9FKM/Xh1fnDUX5u2dY6TZRpLczh9P6FxZ5MhMq/XaK9mHaUDW/4wl0CWFgCR56UBss02WK+EP+YFW+YvIPDjbQi4muZIJwflT3cjH/rZFRfe+W7r/DBNUvqYkOAC5T1L8XGYsDwEVcv+yuPskADhBUPxJtbGEGVgVQfYri57bTQqIP1VMj5xqbEgZ4MJFLxgTXzDxQ8SOmwGYz54wrBxlOY/rmiOXsQlVGb/EjuhWbyFuFKjqo+g6Pb7VJ5G3xZRlIuwbPi7hoK2+bURAAmr/H4t9s5nirY3BmAEi9iCB5GJ8gsg6pZXIAgEp3cfxYHCsIvGtGUe1/upEeDIE9FlHgHWL7pBA0hUNWj1y0xEu8ZB+TF0LmWa0auZkQz/M2x7Qq2lBQeKWsDrmRECdwtjmW+ikh3Hzun2oEzvFxvGB3z6qfCsJPM+aOch+2W1hJsDvHVjBAxHWWflXGc35+POdwiKZu+UHJdB03/IjMc21pouSabbf0qZAOFM7S3HZNDifw+vR6p909hx3ftXwqHajKZCxWtV2/CcZZk4wsG2ucMKRdpTzJAKM+Q/ZiZavWrFaxXOHMyQ1awMowAKDVgbIAVlA4IKoDAAAQEQCdASo0ADEAPo06k0elI6GhMfjraKARiWwAwQ+JyV/IX29vo/V6OdtL4u3rO+jbzXf6T1snoAeWd7NXlS3cfim5xwAqgRxt7Hwh0r7RIdPzaThdGsakkC4eZ5TcPhViS+eMmtYFvg4/pZkDTU1tqO66s0WxeJMxMoxvUzMW67//gyt9kfgpJGN86b18tUEAAP76FafE2zW8c59OkUXoxkH0DPoTafDpQhJaBDoYn3KlvJGypwXuyPfp3vYomfQHc8hEar6t7mCVr+Pz9NviTt8ITx3//NFgTes+ZLJ3+jzIhmMuVT68gucLNXpSObmiFlpeRg3X2ZqgL63yHQxS1/DvfRWzdPTQnZmbsNvR42CXvtzHuZui/WwUPzLucctYVeqeFCeQpce5GAZ1fPDEqd+0dUsK+Oc+Gzb60QefZeJD3Hpphr4nOql0+iVxUwrTodDMJLSITKl9YGU17fINuQf8/BSU2Nbd2x8lUxLDdnj8CDTNg/U/kBTWkrzZ07MBIWGBfKZj/y3XDIFpeZPrzpXfaqOdu28P+4yn19yPuDWGavWRnt1FI8WTkFED2M/+NiPedK4jBPtWKR5TV6QZ8PPyfFlRWxVIMMrEQM82F6Bg/P+4SF3JSchPZ9KAhrfQbsR9P6+8HMswMRdnLOxBeMoiuvsbIPwnzGPnceIMuRby5drhLWr6+cOPqhfn72/Ef+9M5NBks+icqDcXal3RxqAYhfDKs+as0JxJVaV7vyLKgDp1kwpdUDMciPslzluicM43N4fLKiI3+MIvo/Rn+7MTmSZoCzhbXkmsE5tC5axl5+6EandN644zLa+i1h/jNNPqGEx1BtelJ8jmWLAsJVxByYyhs0bp8cBD7kkTj43J2wGXOQ0GpvNairLTXHf6oXx7Mwno7VEIBAUIkc1jtrIfB765rR7Qr3YnkSnICE6p7ziO8CWa7qI1/i9b1LsxKG6kt8A5wR7wU/+CTj39e/1dFTkPo73Ov4HZdRwijcakDw5XGcuoQDtRtrL2KeOZS/GRpJgBvQrStjC44qpcULltbAuilUiGLGtsyMeq+dLuiL4/JNtw1NjZBFzih8dzUY5TOahq+jyiJr9HXachamV6WncnvGHQRn5cKQz3I+KRTFgEYG2Qtq8VjkN8+v7aAAcNxbEDNi4lihwnf1P/Vw5hpZol1bA6wJM4+BJ5+KCxT7ryJjKRzsMDQ87gwKd5NBvbmH6rnIBX4YAMMXkAlbra3kdYAAAAAA==",qO=.025,Ni=t=>{const[e,r]=Ce.useState(()=>Math.random()*Math.PI*2);return jn.useTick(n=>{r(i=>i+qO*n)}),L.jsx(jn.Sprite,{...t,rotation:e})},ZO="/assets/Creativeans-Cotton-Tree-DTETvJZF.webp",JO="/assets/Creativeans-shadow-human-8-BHQuH5MN.webp",eN="/assets/Creativeans-shadow-human-5-dJPRR_Ww.webp",tN="/assets/Creativeans-shadow-human-25-Bqr8Bxwg.webp",rN="/assets/Creativeans-shadow-human-4-M8ObTDi4.webp",Bi="/assets/Creativeans-shadow-generic-all-human-Cz2WdMAV.webp",Jy=qt.createContext(null),nN=({children:t,scale:e,width:r,height:n})=>{const[i,s]=Ce.useState({x:window.innerWidth/2+653*e,y:window.innerHeight/2+710*e}),[o,l]=Ce.useState(!1),[h,c]=Ce.useState({x:0,y:0}),f=A=>{l(!0),c({x:A.clientX,y:A.clientY})},m=A=>{if(o){const S=A.clientX-h.x,E=A.clientY-h.y;s(b=>{const T=b.x+S,R=b.y+E,B=r*e,M=n*e,k=window.innerWidth/2-B/3,$=window.innerWidth/2+B/3,X=window.innerHeight/2-M/3,ie=window.innerHeight/2+M/3;return{x:Math.max(k,Math.min(T,$)),y:Math.max(X,Math.min(R,ie))}}),c({x:A.clientX,y:A.clientY})}},p=()=>{l(!1)},v=A=>{A.touches.length===1&&(l(!0),c({x:A.touches[0].clientX,y:A.touches[0].clientY}))},x=A=>{if(o&&A.touches.length===1){const S=A.touches[0].clientX-h.x,E=A.touches[0].clientY-h.y;s(b=>{const T=b.x+S,R=b.y+E,B=r*e,M=n*e,k=window.innerWidth/2-B/2.5,$=window.innerWidth/2+B/2.5,X=window.innerHeight/2-M/4,ie=window.innerHeight/2+M/4;return{x:Math.max(k,Math.min(T,$)),y:Math.max(X,Math.min(R,ie))}}),c({x:A.touches[0].clientX,y:A.touches[0].clientY})}},w=()=>{l(!1)};return Ce.useEffect(()=>(window.addEventListener("mouseup",p),()=>{window.removeEventListener("mouseup",p)}),[]),L.jsx(Jy.Provider,{value:{position:i,scale:e,isDragging:o,handleMouseDown:f,handleMouseMove:m,handleMouseUp:p,handleTouchStart:v,handleTouchMove:x,handleTouchEnd:w},children:t})},AT=()=>{const t=qt.useContext(Jy);if(!t)throw new Error("useWorld must be used within a WorldProvider");return t};var iN=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,sN=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample top right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y));

    // Sample bottom right pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y));

    // Sample bottom left pixel
    color += texture2D(uSampler, vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}`,oN=`
varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec2 uOffset;
uniform vec4 filterClamp;

void main(void)
{
    vec4 color = vec4(0.0);

    // Sample top left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample top right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y + uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom right pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x + uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Sample bottom left pixel
    color += texture2D(uSampler, clamp(vec2(vTextureCoord.x - uOffset.x, vTextureCoord.y - uOffset.y), filterClamp.xy, filterClamp.zw));

    // Average
    color *= 0.25;

    gl_FragColor = color;
}
`;let wd=class extends De{constructor(e=4,r=3,n=!1){super(iN,n?oN:sN),this._kernels=[],this._blur=4,this._quality=3,this.uniforms.uOffset=new Float32Array(2),this._pixelSize=new Se,this.pixelSize=1,this._clamp=n,Array.isArray(e)?this.kernels=e:(this._blur=e,this.quality=r)}apply(e,r,n,i){const s=this._pixelSize.x/r._frame.width,o=this._pixelSize.y/r._frame.height;let l;if(this._quality===1||this._blur===0)l=this._kernels[0]+.5,this.uniforms.uOffset[0]=l*s,this.uniforms.uOffset[1]=l*o,e.applyFilter(this,r,n,i);else{const h=e.getFilterTexture();let c=r,f=h,m;const p=this._quality-1;for(let v=0;v<p;v++)l=this._kernels[v]+.5,this.uniforms.uOffset[0]=l*s,this.uniforms.uOffset[1]=l*o,e.applyFilter(this,c,f,1),m=c,c=f,f=m;l=this._kernels[p]+.5,this.uniforms.uOffset[0]=l*s,this.uniforms.uOffset[1]=l*o,e.applyFilter(this,c,n,i),e.returnFilterTexture(h)}}_updatePadding(){this.padding=Math.ceil(this._kernels.reduce((e,r)=>e+r+.5,0))}_generateKernels(){const e=this._blur,r=this._quality,n=[e];if(e>0){let i=e;const s=e/r;for(let o=1;o<r;o++)i-=s,n.push(i)}this._kernels=n,this._updatePadding()}get kernels(){return this._kernels}set kernels(e){Array.isArray(e)&&e.length>0?(this._kernels=e,this._quality=e.length,this._blur=Math.max(...e)):(this._kernels=[0],this._quality=1)}get clamp(){return this._clamp}set pixelSize(e){typeof e=="number"?(this._pixelSize.x=e,this._pixelSize.y=e):Array.isArray(e)?(this._pixelSize.x=e[0],this._pixelSize.y=e[1]):e instanceof Se?(this._pixelSize.x=e.x,this._pixelSize.y=e.y):(this._pixelSize.x=1,this._pixelSize.y=1)}get pixelSize(){return this._pixelSize}get quality(){return this._quality}set quality(e){this._quality=Math.max(1,Math.round(e)),this._generateKernels()}get blur(){return this._blur}set blur(e){this._blur=e,this._generateKernels()}};var TT=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,aN=`
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform float threshold;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);

    // A simple & fast algorithm for getting brightness.
    // It's inaccuracy , but good enought for this feature.
    float _max = max(max(color.r, color.g), color.b);
    float _min = min(min(color.r, color.g), color.b);
    float brightness = (_max + _min) * 0.5;

    if(brightness > threshold) {
        gl_FragColor = color;
    } else {
        gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
    }
}
`;let lN=class extends De{constructor(e=.5){super(TT,aN),this.threshold=e}get threshold(){return this.uniforms.threshold}set threshold(e){this.uniforms.threshold=e}};var uN=`uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform sampler2D bloomTexture;
uniform float bloomScale;
uniform float brightness;

void main() {
    vec4 color = texture2D(uSampler, vTextureCoord);
    color.rgb *= brightness;
    vec4 bloomColor = vec4(texture2D(bloomTexture, vTextureCoord).rgb, 0.0);
    bloomColor.rgb *= bloomScale;
    gl_FragColor = color + bloomColor;
}
`;const CT=class extends De{constructor(e){super(TT,uN),this.bloomScale=1,this.brightness=1,this._resolution=ae.FILTER_RESOLUTION,typeof e=="number"&&(e={threshold:e});const r=Object.assign(CT.defaults,e);this.bloomScale=r.bloomScale,this.brightness=r.brightness;const{kernels:n,blur:i,quality:s,pixelSize:o,resolution:l}=r;this._extractFilter=new lN(r.threshold),this._extractFilter.resolution=l,this._blurFilter=n?new wd(n):new wd(i,s),this.pixelSize=o,this.resolution=l}apply(e,r,n,i,s){const o=e.getFilterTexture();this._extractFilter.apply(e,r,o,1,s);const l=e.getFilterTexture();this._blurFilter.apply(e,o,l,1),this.uniforms.bloomScale=this.bloomScale,this.uniforms.brightness=this.brightness,this.uniforms.bloomTexture=l,e.applyFilter(this,r,n,i),e.returnFilterTexture(l),e.returnFilterTexture(o)}get resolution(){return this._resolution}set resolution(e){this._resolution=e,this._extractFilter&&(this._extractFilter.resolution=e),this._blurFilter&&(this._blurFilter.resolution=e)}get threshold(){return this._extractFilter.threshold}set threshold(e){this._extractFilter.threshold=e}get kernels(){return this._blurFilter.kernels}set kernels(e){this._blurFilter.kernels=e}get blur(){return this._blurFilter.blur}set blur(e){this._blurFilter.blur=e}get quality(){return this._blurFilter.quality}set quality(e){this._blurFilter.quality=e}get pixelSize(){return this._blurFilter.pixelSize}set pixelSize(e){this._blurFilter.pixelSize=e}};let hN=CT;hN.defaults={threshold:.5,bloomScale:1,brightness:1,kernels:null,blur:8,quality:4,pixelSize:1,resolution:ae.FILTER_RESOLUTION};var cN=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class dN extends De{constructor(e=1){super(wD,cN,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const fN={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},pN=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function mN(t){const e=fN[t],r=e.length;let n=pN,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let l=0;l<t;l++){let h=s.replace("%index%",l.toString());o=l,l>=r&&(o=t-l-1),h=h.replace("%value%",e[o].toString()),i+=h,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}const gN=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function yN(t,e){const r=Math.ceil(t/2);let n=gN,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let l=s.replace("%index%",o.toString());l=l.replace("%sampleIndex%",`${o-(r-1)}.0`),i+=l,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}class M0 extends De{constructor(e,r=8,n=4,i=De.defaultResolution,s=5){const o=yN(s,e),l=mN(s);super(o,l),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=n,this.blur=r}apply(e,r,n,i){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/r.width):this.uniforms.strength=1/n.height*(n.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,n,i);else{const s=e.getFilterTexture(),o=e.renderer;let l=r,h=s;this.state.blend=!1,e.applyFilter(this,l,h,Ln.CLEAR);for(let c=1;c<this.passes-1;c++){e.bindAndClear(l,Ln.BLIT),this.uniforms.uSampler=h;const f=h;h=l,l=f,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,h,n,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class vN extends De{constructor(e=8,r=4,n=De.defaultResolution,i=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new M0(!0,e,r,n,i),this.blurYFilter=new M0(!1,e,r,n,i),this.resolution=n,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,n,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const l=e.getFilterTexture();this.blurXFilter.apply(e,r,l,Ln.CLEAR),this.blurYFilter.apply(e,l,n,i),e.returnFilterTexture(l)}else o?this.blurYFilter.apply(e,r,n,i):this.blurXFilter.apply(e,r,n,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var xN=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,_N=`uniform float radius;
uniform float strength;
uniform vec2 center;
uniform sampler2D uSampler;
varying vec2 vTextureCoord;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

void main()
{
    vec2 coord = vTextureCoord * filterArea.xy;
    coord -= center * dimensions.xy;
    float distance = length(coord);
    if (distance < radius) {
        float percent = distance / radius;
        if (strength > 0.0) {
            coord *= mix(1.0, smoothstep(0.0, radius / distance, percent), strength * 0.75);
        } else {
            coord *= mix(1.0, pow(percent, 1.0 + strength * 0.75) * radius / distance, 1.0 - percent);
        }
    }
    coord += center * dimensions.xy;
    coord /= filterArea.xy;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    gl_FragColor = color;
}
`;const PT=class extends De{constructor(e){super(xN,_N),this.uniforms.dimensions=new Float32Array(2),Object.assign(this,PT.defaults,e)}apply(e,r,n,i){const{width:s,height:o}=r.filterFrame;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=o,e.applyFilter(this,r,n,i)}get radius(){return this.uniforms.radius}set radius(e){this.uniforms.radius=e}get strength(){return this.uniforms.strength}set strength(e){this.uniforms.strength=e}get center(){return this.uniforms.center}set center(e){this.uniforms.center=e}};let bN=PT;bN.defaults={center:[.5,.5],radius:100,strength:1};var wN=`const float PI = 3.1415926538;
const float PI_2 = PI*2.;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;
uniform sampler2D uSampler;

const int TYPE_LINEAR = 0;
const int TYPE_RADIAL = 1;
const int TYPE_CONIC = 2;
const int MAX_STOPS = 32;

uniform int uNumStops;
uniform float uAlphas[3*MAX_STOPS];
uniform vec3 uColors[MAX_STOPS];
uniform float uOffsets[MAX_STOPS];
uniform int uType;
uniform float uAngle;
uniform float uAlpha;
uniform int uMaxColors;
uniform bool uReplace;

struct ColorStop {
    float offset;
    vec3 color;
    float alpha;
};

mat2 rotate2d(float angle){
    return mat2(cos(angle), -sin(angle),
    sin(angle), cos(angle));
}

float projectLinearPosition(vec2 pos, float angle){
    vec2 center = vec2(0.5);
    vec2 result = pos - center;
    result = rotate2d(angle) * result;
    result = result + center;
    return clamp(result.x, 0., 1.);
}

float projectRadialPosition(vec2 pos) {
    float r = distance(vFilterCoord, vec2(0.5));
    return clamp(2.*r, 0., 1.);
}

float projectAnglePosition(vec2 pos, float angle) {
    vec2 center = pos - vec2(0.5);
    float polarAngle=atan(-center.y, center.x);
    return mod(polarAngle + angle, PI_2) / PI_2;
}

float projectPosition(vec2 pos, int type, float angle) {
    if (type == TYPE_LINEAR) {
        return projectLinearPosition(pos, angle);
    } else if (type == TYPE_RADIAL) {
        return projectRadialPosition(pos);
    } else if (type == TYPE_CONIC) {
        return projectAnglePosition(pos, angle);
    }

    return pos.y;
}

void main(void) {
    // current/original color
    vec4 currentColor = texture2D(uSampler, vTextureCoord);

    // skip calculations if gradient alpha is 0
    if (0.0 == uAlpha) {
        gl_FragColor = currentColor;
        return;
    }

    // project position
    float y = projectPosition(vFilterCoord, uType, radians(uAngle));

    // check gradient bounds
    float offsetMin = uOffsets[0];
    float offsetMax = 0.0;

    for (int i = 0; i < MAX_STOPS; i++) {
        if (i == uNumStops-1){ // last index
            offsetMax = uOffsets[i];
        }
    }

    if (y  < offsetMin || y > offsetMax) {
        gl_FragColor = currentColor;
        return;
    }

    // limit colors
    if (uMaxColors > 0) {
        float stepSize = 1./float(uMaxColors);
        float stepNumber = float(floor(y/stepSize));
        y = stepSize * (stepNumber + 0.5);// offset by 0.5 to use color from middle of segment
    }

    // find color stops
    ColorStop from;
    ColorStop to;

    for (int i = 0; i < MAX_STOPS; i++) {
        if (y >= uOffsets[i]) {
            from = ColorStop(uOffsets[i], uColors[i], uAlphas[i]);
            to = ColorStop(uOffsets[i+1], uColors[i+1], uAlphas[i+1]);
        }

        if (i == uNumStops-1){ // last index
            break;
        }
    }

    // mix colors from stops
    vec4 colorFrom = vec4(from.color * from.alpha, from.alpha);
    vec4 colorTo = vec4(to.color * to.alpha, to.alpha);

    float segmentHeight = to.offset - from.offset;
    float relativePos = y - from.offset;// position from 0 to [segmentHeight]
    float relativePercent = relativePos / segmentHeight;// position in percent between [from.offset] and [to.offset].

    float gradientAlpha = uAlpha * currentColor.a;
    vec4 gradientColor = mix(colorFrom, colorTo, relativePercent) * gradientAlpha;

    if (uReplace == false) {
        // mix resulting color with current color
        gl_FragColor = gradientColor + currentColor*(1.-gradientColor.a);
    } else {
        // replace with gradient color
        gl_FragColor = gradientColor;
    }
}
`,SN=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform vec4 inputSize;
uniform vec4 outputFrame;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
    vFilterCoord = vTextureCoord * inputSize.xy / outputFrame.zw;
}
`,lo=lo||{};lo.stringify=function(){var t={"visit_linear-gradient":function(e){return t.visit_gradient(e)},"visit_repeating-linear-gradient":function(e){return t.visit_gradient(e)},"visit_radial-gradient":function(e){return t.visit_gradient(e)},"visit_repeating-radial-gradient":function(e){return t.visit_gradient(e)},visit_gradient:function(e){var r=t.visit(e.orientation);return r&&(r+=", "),e.type+"("+r+t.visit(e.colorStops)+")"},visit_shape:function(e){var r=e.value,n=t.visit(e.at),i=t.visit(e.style);return i&&(r+=" "+i),n&&(r+=" at "+n),r},"visit_default-radial":function(e){var r="",n=t.visit(e.at);return n&&(r+=n),r},"visit_extent-keyword":function(e){var r=e.value,n=t.visit(e.at);return n&&(r+=" at "+n),r},"visit_position-keyword":function(e){return e.value},visit_position:function(e){return t.visit(e.value.x)+" "+t.visit(e.value.y)},"visit_%":function(e){return e.value+"%"},visit_em:function(e){return e.value+"em"},visit_px:function(e){return e.value+"px"},visit_literal:function(e){return t.visit_color(e.value,e)},visit_hex:function(e){return t.visit_color("#"+e.value,e)},visit_rgb:function(e){return t.visit_color("rgb("+e.value.join(", ")+")",e)},visit_rgba:function(e){return t.visit_color("rgba("+e.value.join(", ")+")",e)},visit_color:function(e,r){var n=e,i=t.visit(r.length);return i&&(n+=" "+i),n},visit_angular:function(e){return e.value+"deg"},visit_directional:function(e){return"to "+e.value},visit_array:function(e){var r="",n=e.length;return e.forEach(function(i,s){r+=t.visit(i),s<n-1&&(r+=", ")}),r},visit:function(e){if(!e)return"";var r="";if(e instanceof Array)return t.visit_array(e,r);if(e.type){var n=t["visit_"+e.type];if(n)return n(e);throw Error("Missing visitor visit_"+e.type)}else throw Error("Invalid node.")}};return function(e){return t.visit(e)}}();var lo=lo||{};lo.parse=function(){var t={linearGradient:/^(\-(webkit|o|ms|moz)\-)?(linear\-gradient)/i,repeatingLinearGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-linear\-gradient)/i,radialGradient:/^(\-(webkit|o|ms|moz)\-)?(radial\-gradient)/i,repeatingRadialGradient:/^(\-(webkit|o|ms|moz)\-)?(repeating\-radial\-gradient)/i,sideOrCorner:/^to (left (top|bottom)|right (top|bottom)|left|right|top|bottom)/i,extentKeywords:/^(closest\-side|closest\-corner|farthest\-side|farthest\-corner|contain|cover)/,positionKeywords:/^(left|center|right|top|bottom)/i,pixelValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))px/,percentageValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))\%/,emValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))em/,angleValue:/^(-?(([0-9]*\.[0-9]+)|([0-9]+\.?)))deg/,startCall:/^\(/,endCall:/^\)/,comma:/^,/,hexColor:/^\#([0-9a-fA-F]+)/,literalColor:/^([a-zA-Z]+)/,rgbColor:/^rgb/i,rgbaColor:/^rgba/i,number:/^(([0-9]*\.[0-9]+)|([0-9]+\.?))/},e="";function r(H){var P=new Error(e+": "+H);throw P.source=e,P}function n(){var H=i();return e.length>0&&r("Invalid input not EOF"),H}function i(){return b(s)}function s(){return o("linear-gradient",t.linearGradient,h)||o("repeating-linear-gradient",t.repeatingLinearGradient,h)||o("radial-gradient",t.radialGradient,m)||o("repeating-radial-gradient",t.repeatingRadialGradient,m)}function o(H,P,U){return l(P,function(D){var G=U();return G&&(te(t.comma)||r("Missing comma before color stops")),{type:H,orientation:G,colorStops:b(T)}})}function l(H,P){var U=te(H);if(U){te(t.startCall)||r("Missing (");var D=P(U);return te(t.endCall)||r("Missing )"),D}}function h(){return c()||f()}function c(){return W("directional",t.sideOrCorner,1)}function f(){return W("angular",t.angleValue,1)}function m(){var H,P=p(),U;return P&&(H=[],H.push(P),U=e,te(t.comma)&&(P=p(),P?H.push(P):e=U)),H}function p(){var H=v()||x();if(H)H.at=A();else{var P=w();if(P){H=P;var U=A();U&&(H.at=U)}else{var D=S();D&&(H={type:"default-radial",at:D})}}return H}function v(){var H=W("shape",/^(circle)/i,0);return H&&(H.style=O()||w()),H}function x(){var H=W("shape",/^(ellipse)/i,0);return H&&(H.style=ie()||w()),H}function w(){return W("extent-keyword",t.extentKeywords,1)}function A(){if(W("position",/^at/,0)){var H=S();return H||r("Missing positioning value"),H}}function S(){var H=E();if(H.x||H.y)return{type:"position",value:H}}function E(){return{x:ie(),y:ie()}}function b(H){var P=H(),U=[];if(P)for(U.push(P);te(t.comma);)P=H(),P?U.push(P):r("One extra comma");return U}function T(){var H=R();return H||r("Expected color definition"),H.length=ie(),H}function R(){return M()||$()||k()||B()}function B(){return W("literal",t.literalColor,0)}function M(){return W("hex",t.hexColor,1)}function k(){return l(t.rgbColor,function(){return{type:"rgb",value:b(X)}})}function $(){return l(t.rgbaColor,function(){return{type:"rgba",value:b(X)}})}function X(){return te(t.number)[1]}function ie(){return W("%",t.percentageValue,1)||ee()||O()}function ee(){return W("position-keyword",t.positionKeywords,1)}function O(){return W("px",t.pixelValue,1)||W("em",t.emValue,1)}function W(H,P,U){var D=te(P);if(D)return{type:H,value:D[U]}}function te(H){var P,U;return U=/^[\n\r\t\s]+/.exec(e),U&&ue(U[0].length),P=H.exec(e),P&&ue(P[0].length),P}function ue(H){e=e.substr(H)}return function(H){return e=H.toString(),n()}}();var EN=lo.parse;lo.stringify;var Qb={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},Kb={red:0,orange:60,yellow:120,green:180,blue:240,purple:300};function AN(t){var e,r=[],n=1,i;if(typeof t=="string")if(Qb[t])r=Qb[t].slice(),i="rgb";else if(t==="transparent")n=0,i="rgb",r=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(t)){var s=t.slice(1),o=s.length,l=o<=4;n=1,l?(r=[parseInt(s[0]+s[0],16),parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16)],o===4&&(n=parseInt(s[3]+s[3],16)/255)):(r=[parseInt(s[0]+s[1],16),parseInt(s[2]+s[3],16),parseInt(s[4]+s[5],16)],o===8&&(n=parseInt(s[6]+s[7],16)/255)),r[0]||(r[0]=0),r[1]||(r[1]=0),r[2]||(r[2]=0),i="rgb"}else if(e=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\s*\(([^\)]*)\)/.exec(t)){var h=e[1],c=h==="rgb",s=h.replace(/a$/,"");i=s;var o=s==="cmyk"?4:s==="gray"?1:3;r=e[2].trim().split(/\s*[,\/]\s*|\s+/).map(function(p,v){if(/%$/.test(p))return v===o?parseFloat(p)/100:s==="rgb"?parseFloat(p)*255/100:parseFloat(p);if(s[v]==="h"){if(/deg$/.test(p))return parseFloat(p);if(Kb[p]!==void 0)return Kb[p]}return parseFloat(p)}),h===s&&r.push(1),n=c||r[o]===void 0?1:r[o],r=r.slice(0,o)}else t.length>10&&/[0-9](?:\s|\/)/.test(t)&&(r=t.match(/([0-9]+)/g).map(function(f){return parseFloat(f)}),i=t.match(/([a-z])/ig).join("").toLowerCase());else isNaN(t)?Array.isArray(t)||t.length?(r=[t[0],t[1],t[2]],i="rgb",n=t.length===4?t[3]:1):t instanceof Object&&(t.r!=null||t.red!=null||t.R!=null?(i="rgb",r=[t.r||t.red||t.R||0,t.g||t.green||t.G||0,t.b||t.blue||t.B||0]):(i="hsl",r=[t.h||t.hue||t.H||0,t.s||t.saturation||t.S||0,t.l||t.lightness||t.L||t.b||t.brightness]),n=t.a||t.alpha||t.opacity||1,t.opacity!=null&&(n/=100)):(i="rgb",r=[t>>>16,(t&65280)>>>8,t&255]);return{space:i,values:r,alpha:n}}var D0={name:"rgb",min:[0,0,0],max:[255,255,255],channel:["red","green","blue"],alias:["RGB"]},Om={name:"hsl",min:[0,0,0],max:[360,100,100],channel:["hue","saturation","lightness"],alias:["HSL"],rgb:function(t){var e=t[0]/360,r=t[1]/100,n=t[2]/100,i,s,o,l,h;if(r===0)return h=n*255,[h,h,h];n<.5?s=n*(1+r):s=n+r-n*r,i=2*n-s,l=[0,0,0];for(var c=0;c<3;c++)o=e+1/3*-(c-1),o<0?o++:o>1&&o--,6*o<1?h=i+(s-i)*6*o:2*o<1?h=s:3*o<2?h=i+(s-i)*(2/3-o)*6:h=i,l[c]=h*255;return l}};D0.hsl=function(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.min(e,r,n),s=Math.max(e,r,n),o=s-i,l,h,c;return s===i?l=0:e===s?l=(r-n)/o:r===s?l=2+(n-e)/o:n===s&&(l=4+(e-r)/o),l=Math.min(l*60,360),l<0&&(l+=360),c=(i+s)/2,s===i?h=0:c<=.5?h=o/(s+i):h=o/(2-s-i),[l,h*100,c*100]};function TN(t){Array.isArray(t)&&t.raw&&(t=String.raw(...arguments));var e,r=AN(t);if(!r.space)return[];const n=r.space[0]==="h"?Om.min:D0.min,i=r.space[0]==="h"?Om.max:D0.max;return e=Array(3),e[0]=Math.min(Math.max(r.values[0],n[0]),i[0]),e[1]=Math.min(Math.max(r.values[1],n[1]),i[1]),e[2]=Math.min(Math.max(r.values[2],n[2]),i[2]),r.space[0]==="h"&&(e=Om.rgb(e)),e.push(Math.min(Math.max(r.alpha,0),1)),e}function IT(t){switch(typeof t){case"string":return CN(t);case"number":return Hd(t);default:return t}}function CN(t){const e=TN(t);if(!e)throw new Error(`Unable to parse color "${t}" as RGBA.`);return[e[0]/255,e[1]/255,e[2]/255,e[3]]}function PN(t){const e=EN(BN(t));if(e.length===0)throw new Error("Invalid CSS gradient.");if(e.length!==1)throw new Error("Unsupported CSS gradient (multiple gradients is not supported).");const r=e[0],n=IN(r.type),i=RN(r.colorStops),s=ON(r.orientation);return{type:n,stops:i,angle:s}}function IN(t){const e={"linear-gradient":0,"radial-gradient":1};if(!(t in e))throw new Error(`Unsupported gradient type "${t}"`);return e[t]}function RN(t){const e=DN(t),r=[];for(let n=0;n<t.length;n++){const i=kN(t[n]);r.push({offset:e[n],color:i.slice(0,3),alpha:i[3]})}return r}function kN(t){return IT(MN(t))}function MN(t){switch(t.type){case"hex":return`#${t.value}`;case"literal":return t.value;default:return`${t.type}(${t.value.join(",")})`}}function DN(t){const e=[];for(let i=0;i<t.length;i++){const s=t[i];let o=-1;s.type==="literal"&&s.length&&"type"in s.length&&s.length.type==="%"&&"value"in s.length&&(o=parseFloat(s.length.value)/100),e.push(o)}const r=i=>{for(let s=i;s<e.length;s++)if(e[s]!==-1)return{indexDelta:s-i,offset:e[s]};return{indexDelta:e.length-1-i,offset:1}};let n=0;for(let i=0;i<e.length;i++){const s=e[i];if(s!==-1)n=s;else if(i===0)e[i]=0;else if(i+1===e.length)e[i]=1;else{const o=r(i),l=(o.offset-n)/(1+o.indexDelta);for(let h=0;h<=o.indexDelta;h++)e[i+h]=n+(h+1)*l;i+=o.indexDelta,n=e[i]}}return e.map(FN)}function FN(t){return t.toString().length>6?parseFloat(t.toString().substring(0,6)):t}function ON(t){if(typeof t>"u")return 0;if("type"in t&&"value"in t)switch(t.type){case"angular":return parseFloat(t.value);case"directional":return NN(t.value)}return 0}function NN(t){const e={left:270,top:0,bottom:180,right:90,"left top":315,"top left":315,"left bottom":225,"bottom left":225,"right top":45,"top right":45,"right bottom":135,"bottom right":135};if(!(t in e))throw new Error(`Unsupported directional value "${t}"`);return e[t]}function BN(t){let e=t.replace(/\s{2,}/gu," ");return e=e.replace(/;/g,""),e=e.replace(/ ,/g,","),e=e.replace(/\( /g,"("),e=e.replace(/ \)/g,")"),e.trim()}var LN=Object.defineProperty,UN=Object.defineProperties,zN=Object.getOwnPropertyDescriptors,qb=Object.getOwnPropertySymbols,GN=Object.prototype.hasOwnProperty,jN=Object.prototype.propertyIsEnumerable,Zb=(t,e,r)=>e in t?LN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Nm=(t,e)=>{for(var r in e||(e={}))GN.call(e,r)&&Zb(t,r,e[r]);if(qb)for(var r of qb(e))jN.call(e,r)&&Zb(t,r,e[r]);return t},HN=(t,e)=>UN(t,zN(e));const Jb=90;function WN(t){return[...t].sort((e,r)=>e.offset-r.offset)}const Gl=class extends De{constructor(t){var e,r;let n;if(t&&"css"in t?n=HN(Nm({},PN(t.css||"")),{alpha:(e=t.alpha)!=null?e:Gl.defaults.alpha,maxColors:(r=t.maxColors)!=null?r:Gl.defaults.maxColors}):n=Nm(Nm({},Gl.defaults),t),!n.stops||n.stops.length<2)throw new Error("ColorGradientFilter requires at least 2 color stops.");super(SN,wN),this._stops=[],this.autoFit=!1,Object.assign(this,n)}get stops(){return this._stops}set stops(t){const e=WN(t),r=new Float32Array(e.length*3),n=0,i=1,s=2;for(let o=0;o<e.length;o++){const l=IT(e[o].color),h=o*3;r[h+n]=l[n],r[h+i]=l[i],r[h+s]=l[s]}this.uniforms.uColors=r,this.uniforms.uOffsets=e.map(o=>o.offset),this.uniforms.uAlphas=e.map(o=>o.alpha),this.uniforms.uNumStops=e.length,this._stops=e}set type(t){this.uniforms.uType=t}get type(){return this.uniforms.uType}set angle(t){this.uniforms.uAngle=t-Jb}get angle(){return this.uniforms.uAngle+Jb}set alpha(t){this.uniforms.uAlpha=t}get alpha(){return this.uniforms.uAlpha}set maxColors(t){this.uniforms.uMaxColors=t}get maxColors(){return this.uniforms.uMaxColors}set replace(t){this.uniforms.uReplace=t}get replace(){return this.uniforms.uReplace}};let ec=Gl;ec.LINEAR=0,ec.RADIAL=1,ec.CONIC=2,ec.defaults={type:Gl.LINEAR,stops:[{offset:0,color:16711680,alpha:1},{offset:1,color:255,alpha:1}],alpha:1,angle:90,maxColors:0,replace:!1};var VN=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,XN=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec2 dimensions;

const float SQRT_2 = 1.414213;

const float light = 1.0;

uniform float curvature;
uniform float lineWidth;
uniform float lineContrast;
uniform bool verticalLine;
uniform float noise;
uniform float noiseSize;

uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;

uniform float seed;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 dir = vec2(vTextureCoord.xy * filterArea.xy / dimensions - vec2(0.5, 0.5));
    
    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 rgb = gl_FragColor.rgb;

    if (noise > 0.0 && noiseSize > 0.0)
    {
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        rgb += _noise * noise;
    }

    if (lineWidth > 0.0)
    {
        float _c = curvature > 0. ? curvature : 1.;
        float k = curvature > 0. ?(length(dir * dir) * 0.25 * _c * _c + 0.935 * _c) : 1.;
        vec2 uv = dir * k;

        float v = (verticalLine ? uv.x * dimensions.x : uv.y * dimensions.y) * min(1.0, 2.0 / lineWidth ) / _c;
        float j = 1. + cos(v * 1.2 - time) * 0.5 * lineContrast;
        rgb *= j;
        float segment = verticalLine ? mod((dir.x + .5) * dimensions.x, 4.) : mod((dir.y + .5) * dimensions.y, 4.);
        rgb *= 0.99 + ceil(segment) * 0.015;
    }

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    gl_FragColor.rgb = rgb;
}
`;const RT=class extends De{constructor(e){super(VN,XN),this.time=0,this.seed=0,this.uniforms.dimensions=new Float32Array(2),Object.assign(this,RT.defaults,e)}apply(e,r,n,i){const{width:s,height:o}=r.filterFrame;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=o,this.uniforms.seed=this.seed,this.uniforms.time=this.time,e.applyFilter(this,r,n,i)}set curvature(e){this.uniforms.curvature=e}get curvature(){return this.uniforms.curvature}set lineWidth(e){this.uniforms.lineWidth=e}get lineWidth(){return this.uniforms.lineWidth}set lineContrast(e){this.uniforms.lineContrast=e}get lineContrast(){return this.uniforms.lineContrast}set verticalLine(e){this.uniforms.verticalLine=e}get verticalLine(){return this.uniforms.verticalLine}set noise(e){this.uniforms.noise=e}get noise(){return this.uniforms.noise}set noiseSize(e){this.uniforms.noiseSize=e}get noiseSize(){return this.uniforms.noiseSize}set vignetting(e){this.uniforms.vignetting=e}get vignetting(){return this.uniforms.vignetting}set vignettingAlpha(e){this.uniforms.vignettingAlpha=e}get vignettingAlpha(){return this.uniforms.vignettingAlpha}set vignettingBlur(e){this.uniforms.vignettingBlur=e}get vignettingBlur(){return this.uniforms.vignettingBlur}};let $N=RT;$N.defaults={curvature:1,lineWidth:1,lineContrast:.25,verticalLine:!1,noise:0,noiseSize:1,seed:0,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3,time:0};var YN=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,QN=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float alpha;
uniform vec3 color;

uniform vec2 shift;
uniform vec4 inputSize;

void main(void){
    vec4 sample = texture2D(uSampler, vTextureCoord - shift * inputSize.zw);

    // Premultiply alpha
    sample.rgb = color.rgb * sample.a;

    // alpha user alpha
    sample *= alpha;

    gl_FragColor = sample;
}`,KN=Object.defineProperty,ew=Object.getOwnPropertySymbols,qN=Object.prototype.hasOwnProperty,ZN=Object.prototype.propertyIsEnumerable,tw=(t,e,r)=>e in t?KN(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,rw=(t,e)=>{for(var r in e||(e={}))qN.call(e,r)&&tw(t,r,e[r]);if(ew)for(var r of ew(e))ZN.call(e,r)&&tw(t,r,e[r]);return t};const F0=class extends De{constructor(e){super(),this.angle=45,this._distance=5,this._resolution=ae.FILTER_RESOLUTION;const r=e?rw(rw({},F0.defaults),e):F0.defaults,{kernels:n,blur:i,quality:s,pixelSize:o,resolution:l}=r;this._offset=new cn(this._updatePadding,this),this._tintFilter=new De(YN,QN),this._tintFilter.uniforms.color=new Float32Array(4),this._tintFilter.uniforms.shift=this._offset,this._tintFilter.resolution=l,this._blurFilter=n?new wd(n):new wd(i,s),this.pixelSize=o,this.resolution=l;const{shadowOnly:h,rotation:c,distance:f,offset:m,alpha:p,color:v}=r;this.shadowOnly=h,c!==void 0&&f!==void 0?(this.rotation=c,this.distance=f):this.offset=m,this.alpha=p,this.color=v}apply(e,r,n,i){const s=e.getFilterTexture();this._tintFilter.apply(e,r,s,1),this._blurFilter.apply(e,s,n,i),this.shadowOnly!==!0&&e.applyFilter(this,r,n,0),e.returnFilterTexture(s)}_updatePadding(){const e=Math.max(Math.abs(this._offset.x),Math.abs(this._offset.y));this.padding=e+this.blur*2}_updateShift(){this._tintFilter.uniforms.shift.set(this.distance*Math.cos(this.angle),this.distance*Math.sin(this.angle))}set offset(e){this._offset.copyFrom(e),this._updatePadding()}get offset(){return this._offset}get resolution(){return this._resolution}set resolution(e){this._resolution=e,this._tintFilter&&(this._tintFilter.resolution=e),this._blurFilter&&(this._blurFilter.resolution=e)}get distance(){return this._distance}set distance(e){Ae("5.3.0","DropShadowFilter distance is deprecated, use offset"),this._distance=e,this._updatePadding(),this._updateShift()}get rotation(){return this.angle/uu}set rotation(e){Ae("5.3.0","DropShadowFilter rotation is deprecated, use offset"),this.angle=e*uu,this._updateShift()}get alpha(){return this._tintFilter.uniforms.alpha}set alpha(e){this._tintFilter.uniforms.alpha=e}get color(){return Wd(this._tintFilter.uniforms.color)}set color(e){Hd(e,this._tintFilter.uniforms.color)}get kernels(){return this._blurFilter.kernels}set kernels(e){this._blurFilter.kernels=e}get blur(){return this._blurFilter.blur}set blur(e){this._blurFilter.blur=e,this._updatePadding()}get quality(){return this._blurFilter.quality}set quality(e){this._blurFilter.quality=e}get pixelSize(){return this._blurFilter.pixelSize}set pixelSize(e){this._blurFilter.pixelSize=e}};let JN=F0;JN.defaults={offset:{x:4,y:4},color:0,alpha:.5,shadowOnly:!1,kernels:null,blur:2,quality:3,pixelSize:1,resolution:ae.FILTER_RESOLUTION};var eB=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,tB=`// precision highp float;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;
uniform float aspect;

uniform sampler2D displacementMap;
uniform float offset;
uniform float sinDir;
uniform float cosDir;
uniform int fillMode;

uniform float seed;
uniform vec2 red;
uniform vec2 green;
uniform vec2 blue;

const int TRANSPARENT = 0;
const int ORIGINAL = 1;
const int LOOP = 2;
const int CLAMP = 3;
const int MIRROR = 4;

void main(void)
{
    vec2 coord = (vTextureCoord * filterArea.xy) / dimensions;

    if (coord.x > 1.0 || coord.y > 1.0) {
        return;
    }

    float cx = coord.x - 0.5;
    float cy = (coord.y - 0.5) * aspect;
    float ny = (-sinDir * cx + cosDir * cy) / aspect + 0.5;

    // displacementMap: repeat
    // ny = ny > 1.0 ? ny - 1.0 : (ny < 0.0 ? 1.0 + ny : ny);

    // displacementMap: mirror
    ny = ny > 1.0 ? 2.0 - ny : (ny < 0.0 ? -ny : ny);

    vec4 dc = texture2D(displacementMap, vec2(0.5, ny));

    float displacement = (dc.r - dc.g) * (offset / filterArea.x);

    coord = vTextureCoord + vec2(cosDir * displacement, sinDir * displacement * aspect);

    if (fillMode == CLAMP) {
        coord = clamp(coord, filterClamp.xy, filterClamp.zw);
    } else {
        if( coord.x > filterClamp.z ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x -= filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x = filterClamp.z * 2.0 - coord.x;
            }
        } else if( coord.x < filterClamp.x ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.x += filterClamp.z;
            } else if (fillMode == MIRROR) {
                coord.x *= -filterClamp.z;
            }
        }

        if( coord.y > filterClamp.w ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y -= filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y = filterClamp.w * 2.0 - coord.y;
            }
        } else if( coord.y < filterClamp.y ) {
            if (fillMode == TRANSPARENT) {
                discard;
            } else if (fillMode == LOOP) {
                coord.y += filterClamp.w;
            } else if (fillMode == MIRROR) {
                coord.y *= -filterClamp.w;
            }
        }
    }

    gl_FragColor.r = texture2D(uSampler, coord + red * (1.0 - seed * 0.4) / filterArea.xy).r;
    gl_FragColor.g = texture2D(uSampler, coord + green * (1.0 - seed * 0.3) / filterArea.xy).g;
    gl_FragColor.b = texture2D(uSampler, coord + blue * (1.0 - seed * 0.2) / filterArea.xy).b;
    gl_FragColor.a = texture2D(uSampler, coord).a;
}
`;const O0=class extends De{constructor(e){super(eB,tB),this.offset=100,this.fillMode=O0.TRANSPARENT,this.average=!1,this.seed=0,this.minSize=8,this.sampleSize=512,this._slices=0,this._offsets=new Float32Array(1),this._sizes=new Float32Array(1),this._direction=-1,this.uniforms.dimensions=new Float32Array(2),this._canvas=document.createElement("canvas"),this._canvas.width=4,this._canvas.height=this.sampleSize,this.texture=ne.from(this._canvas,{scaleMode:Gn.NEAREST}),Object.assign(this,O0.defaults,e)}apply(e,r,n,i){const{width:s,height:o}=r.filterFrame;this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=o,this.uniforms.aspect=o/s,this.uniforms.seed=this.seed,this.uniforms.offset=this.offset,this.uniforms.fillMode=this.fillMode,e.applyFilter(this,r,n,i)}_randomizeSizes(){const e=this._sizes,r=this._slices-1,n=this.sampleSize,i=Math.min(this.minSize/n,.9/this._slices);if(this.average){const s=this._slices;let o=1;for(let l=0;l<r;l++){const h=o/(s-l),c=Math.max(h*(1-Math.random()*.6),i);e[l]=c,o-=c}e[r]=o}else{let s=1;const o=Math.sqrt(1/this._slices);for(let l=0;l<r;l++){const h=Math.max(o*s*Math.random(),i);e[l]=h,s-=h}e[r]=s}this.shuffle()}shuffle(){const e=this._sizes,r=this._slices-1;for(let n=r;n>0;n--){const i=Math.random()*n>>0,s=e[n];e[n]=e[i],e[i]=s}}_randomizeOffsets(){for(let e=0;e<this._slices;e++)this._offsets[e]=Math.random()*(Math.random()<.5?-1:1)}refresh(){this._randomizeSizes(),this._randomizeOffsets(),this.redraw()}redraw(){const e=this.sampleSize,r=this.texture,n=this._canvas.getContext("2d");n.clearRect(0,0,8,e);let i,s=0;for(let o=0;o<this._slices;o++){i=Math.floor(this._offsets[o]*256);const l=this._sizes[o]*e,h=i>0?i:0,c=i<0?-i:0;n.fillStyle=`rgba(${h}, ${c}, 0, 1)`,n.fillRect(0,s>>0,e,l+1>>0),s+=l}r.baseTexture.update(),this.uniforms.displacementMap=r}set sizes(e){const r=Math.min(this._slices,e.length);for(let n=0;n<r;n++)this._sizes[n]=e[n]}get sizes(){return this._sizes}set offsets(e){const r=Math.min(this._slices,e.length);for(let n=0;n<r;n++)this._offsets[n]=e[n]}get offsets(){return this._offsets}get slices(){return this._slices}set slices(e){this._slices!==e&&(this._slices=e,this.uniforms.slices=e,this._sizes=this.uniforms.slicesWidth=new Float32Array(e),this._offsets=this.uniforms.slicesOffset=new Float32Array(e),this.refresh())}get direction(){return this._direction}set direction(e){if(this._direction===e)return;this._direction=e;const r=e*uu;this.uniforms.sinDir=Math.sin(r),this.uniforms.cosDir=Math.cos(r)}get red(){return this.uniforms.red}set red(e){this.uniforms.red=e}get green(){return this.uniforms.green}set green(e){this.uniforms.green=e}get blue(){return this.uniforms.blue}set blue(e){this.uniforms.blue=e}destroy(){var e;(e=this.texture)==null||e.destroy(!0),this.texture=this._canvas=this.red=this.green=this.blue=this._sizes=this._offsets=null}};let Do=O0;Do.defaults={slices:5,offset:100,direction:0,fillMode:0,average:!1,seed:0,red:[0,0],green:[0,0],blue:[0,0],minSize:8,sampleSize:512},Do.TRANSPARENT=0,Do.ORIGINAL=1,Do.LOOP=2,Do.CLAMP=3,Do.MIRROR=4;var rB=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,nB=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

uniform float outerStrength;
uniform float innerStrength;

uniform vec4 glowColor;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform bool knockout;
uniform float alpha;

const float PI = 3.14159265358979323846264;

const float DIST = __DIST__;
const float ANGLE_STEP_SIZE = min(__ANGLE_STEP_SIZE__, PI * 2.0);
const float ANGLE_STEP_NUM = ceil(PI * 2.0 / ANGLE_STEP_SIZE);

const float MAX_TOTAL_ALPHA = ANGLE_STEP_NUM * DIST * (DIST + 1.0) / 2.0;

void main(void) {
    vec2 px = vec2(1.0 / filterArea.x, 1.0 / filterArea.y);

    float totalAlpha = 0.0;

    vec2 direction;
    vec2 displaced;
    vec4 curColor;

    for (float angle = 0.0; angle < PI * 2.0; angle += ANGLE_STEP_SIZE) {
       direction = vec2(cos(angle), sin(angle)) * px;

       for (float curDistance = 0.0; curDistance < DIST; curDistance++) {
           displaced = clamp(vTextureCoord + direction * 
                   (curDistance + 1.0), filterClamp.xy, filterClamp.zw);

           curColor = texture2D(uSampler, displaced);

           totalAlpha += (DIST - curDistance) * curColor.a;
       }
    }
    
    curColor = texture2D(uSampler, vTextureCoord);

    float alphaRatio = (totalAlpha / MAX_TOTAL_ALPHA);

    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * curColor.a;
    float innerGlowStrength = min(1.0, innerGlowAlpha);
    
    vec4 innerColor = mix(curColor, glowColor, innerGlowStrength);

    float outerGlowAlpha = alphaRatio * outerStrength * (1. - curColor.a);
    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);

    if (knockout) {
      float resultAlpha = (outerGlowAlpha + innerGlowAlpha) * alpha;
      gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);
    }
    else {
      vec4 outerGlowColor = outerGlowStrength * glowColor.rgba * alpha;
      gl_FragColor = innerColor + outerGlowColor;
    }
}
`;const kT=class extends De{constructor(t){const e=Object.assign({},kT.defaults,t),{outerStrength:r,innerStrength:n,color:i,knockout:s,quality:o,alpha:l}=e,h=Math.round(e.distance);super(rB,nB.replace(/__ANGLE_STEP_SIZE__/gi,`${(1/o/h).toFixed(7)}`).replace(/__DIST__/gi,`${h.toFixed(0)}.0`)),this.uniforms.glowColor=new Float32Array([0,0,0,1]),this.uniforms.alpha=1,Object.assign(this,{color:i,outerStrength:r,innerStrength:n,padding:h,knockout:s,alpha:l})}get color(){return Wd(this.uniforms.glowColor)}set color(t){Hd(t,this.uniforms.glowColor)}get outerStrength(){return this.uniforms.outerStrength}set outerStrength(t){this.uniforms.outerStrength=t}get innerStrength(){return this.uniforms.innerStrength}set innerStrength(t){this.uniforms.innerStrength=t}get knockout(){return this.uniforms.knockout}set knockout(t){this.uniforms.knockout=t}get alpha(){return this.uniforms.alpha}set alpha(t){this.uniforms.alpha=t}};let MT=kT;MT.defaults={distance:10,outerStrength:4,innerStrength:0,color:16777215,quality:.1,knockout:!1,alpha:1};var iB=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,sB=`vec3 mod289(vec3 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 mod289(vec4 x)
{
    return x - floor(x * (1.0 / 289.0)) * 289.0;
}
vec4 permute(vec4 x)
{
    return mod289(((x * 34.0) + 1.0) * x);
}
vec4 taylorInvSqrt(vec4 r)
{
    return 1.79284291400159 - 0.85373472095314 * r;
}
vec3 fade(vec3 t)
{
    return t * t * t * (t * (t * 6.0 - 15.0) + 10.0);
}
// Classic Perlin noise, periodic variant
float pnoise(vec3 P, vec3 rep)
{
    vec3 Pi0 = mod(floor(P), rep); // Integer part, modulo period
    vec3 Pi1 = mod(Pi0 + vec3(1.0), rep); // Integer part + 1, mod period
    Pi0 = mod289(Pi0);
    Pi1 = mod289(Pi1);
    vec3 Pf0 = fract(P); // Fractional part for interpolation
    vec3 Pf1 = Pf0 - vec3(1.0); // Fractional part - 1.0
    vec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);
    vec4 iy = vec4(Pi0.yy, Pi1.yy);
    vec4 iz0 = Pi0.zzzz;
    vec4 iz1 = Pi1.zzzz;
    vec4 ixy = permute(permute(ix) + iy);
    vec4 ixy0 = permute(ixy + iz0);
    vec4 ixy1 = permute(ixy + iz1);
    vec4 gx0 = ixy0 * (1.0 / 7.0);
    vec4 gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0);
    vec4 sz0 = step(gz0, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5);
    gy0 -= sz0 * (step(0.0, gy0) - 0.5);
    vec4 gx1 = ixy1 * (1.0 / 7.0);
    vec4 gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx1 = fract(gx1);
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1);
    vec4 sz1 = step(gz1, vec4(0.0));
    gx1 -= sz1 * (step(0.0, gx1) - 0.5);
    gy1 -= sz1 * (step(0.0, gy1) - 0.5);
    vec3 g000 = vec3(gx0.x, gy0.x, gz0.x);
    vec3 g100 = vec3(gx0.y, gy0.y, gz0.y);
    vec3 g010 = vec3(gx0.z, gy0.z, gz0.z);
    vec3 g110 = vec3(gx0.w, gy0.w, gz0.w);
    vec3 g001 = vec3(gx1.x, gy1.x, gz1.x);
    vec3 g101 = vec3(gx1.y, gy1.y, gz1.y);
    vec3 g011 = vec3(gx1.z, gy1.z, gz1.z);
    vec3 g111 = vec3(gx1.w, gy1.w, gz1.w);
    vec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));
    g000 *= norm0.x;
    g010 *= norm0.y;
    g100 *= norm0.z;
    g110 *= norm0.w;
    vec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));
    g001 *= norm1.x;
    g011 *= norm1.y;
    g101 *= norm1.z;
    g111 *= norm1.w;
    float n000 = dot(g000, Pf0);
    float n100 = dot(g100, vec3(Pf1.x, Pf0.yz));
    float n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));
    float n110 = dot(g110, vec3(Pf1.xy, Pf0.z));
    float n001 = dot(g001, vec3(Pf0.xy, Pf1.z));
    float n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));
    float n011 = dot(g011, vec3(Pf0.x, Pf1.yz));
    float n111 = dot(g111, Pf1);
    vec3 fade_xyz = fade(Pf0);
    vec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);
    vec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);
    float n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);
    return 2.2 * n_xyz;
}
float turb(vec3 P, vec3 rep, float lacunarity, float gain)
{
    float sum = 0.0;
    float sc = 1.0;
    float totalgain = 1.0;
    for (float i = 0.0; i < 6.0; i++)
    {
        sum += totalgain * pnoise(P * sc, rep);
        sc *= lacunarity;
        totalgain *= gain;
    }
    return abs(sum);
}
`,oB=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform vec2 light;
uniform bool parallel;
uniform float aspect;

uniform float gain;
uniform float lacunarity;
uniform float time;
uniform float alpha;

\${perlin}

void main(void) {
    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    float d;

    if (parallel) {
        float _cos = light.x;
        float _sin = light.y;
        d = (_cos * coord.x) + (_sin * coord.y * aspect);
    } else {
        float dx = coord.x - light.x / dimensions.x;
        float dy = (coord.y - light.y / dimensions.y) * aspect;
        float dis = sqrt(dx * dx + dy * dy) + 0.00001;
        d = dy / dis;
    }

    vec3 dir = vec3(d, d, 0.0);

    float noise = turb(dir + vec3(time, 0.0, 62.1 + time) * 0.05, vec3(480.0, 320.0, 480.0), lacunarity, gain);
    noise = mix(noise, 0.0, 0.3);
    //fade vertically.
    vec4 mist = vec4(noise, noise, noise, 1.0) * (1.0 - coord.y);
    mist.a = 1.0;
    // apply user alpha
    mist *= alpha;

    gl_FragColor = texture2D(uSampler, vTextureCoord) + mist;

}
`;const DT=class extends De{constructor(e){super(iB,oB.replace("${perlin}",sB)),this.parallel=!0,this.time=0,this._angle=0,this.uniforms.dimensions=new Float32Array(2);const r=Object.assign(DT.defaults,e);this._angleLight=new Se,this.angle=r.angle,this.gain=r.gain,this.lacunarity=r.lacunarity,this.alpha=r.alpha,this.parallel=r.parallel,this.center=r.center,this.time=r.time}apply(e,r,n,i){const{width:s,height:o}=r.filterFrame;this.uniforms.light=this.parallel?this._angleLight:this.center,this.uniforms.parallel=this.parallel,this.uniforms.dimensions[0]=s,this.uniforms.dimensions[1]=o,this.uniforms.aspect=o/s,this.uniforms.time=this.time,this.uniforms.alpha=this.alpha,e.applyFilter(this,r,n,i)}get angle(){return this._angle}set angle(e){this._angle=e;const r=e*uu;this._angleLight.x=Math.cos(r),this._angleLight.y=Math.sin(r)}get gain(){return this.uniforms.gain}set gain(e){this.uniforms.gain=e}get lacunarity(){return this.uniforms.lacunarity}set lacunarity(e){this.uniforms.lacunarity=e}get alpha(){return this.uniforms.alpha}set alpha(e){this.uniforms.alpha=e}};let aB=DT;aB.defaults={angle:30,gain:.5,lacunarity:2.5,time:0,parallel:!0,center:[0,0],alpha:1};var lB=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,uB=`precision mediump float;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float uHue;
uniform float uAlpha;
uniform bool uColorize;
uniform float uSaturation;
uniform float uLightness;

// https://en.wikipedia.org/wiki/Luma_(video)
const vec3 weight = vec3(0.299, 0.587, 0.114);

float getWeightedAverage(vec3 rgb) {
    return rgb.r * weight.r + rgb.g * weight.g + rgb.b * weight.b;
}

// https://gist.github.com/mairod/a75e7b44f68110e1576d77419d608786?permalink_comment_id=3195243#gistcomment-3195243
const vec3 k = vec3(0.57735, 0.57735, 0.57735);

vec3 hueShift(vec3 color, float angle) {
    float cosAngle = cos(angle);
    return vec3(
    color * cosAngle +
    cross(k, color) * sin(angle) +
    k * dot(k, color) * (1.0 - cosAngle)
    );
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    vec4 result = color;

    // colorize
    if (uColorize) {
        result.rgb = vec3(getWeightedAverage(result.rgb), 0., 0.);
    }

    // hue
    result.rgb = hueShift(result.rgb, uHue);

    // saturation
    // https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/huesaturation.js
    float average = (result.r + result.g + result.b) / 3.0;

    if (uSaturation > 0.) {
        result.rgb += (average - result.rgb) * (1. - 1. / (1.001 - uSaturation));
    } else {
        result.rgb -= (average - result.rgb) * uSaturation;
    }

    // lightness
    result.rgb = mix(result.rgb, vec3(ceil(uLightness)) * color.a, abs(uLightness));

    // alpha
    gl_FragColor = mix(color, result, uAlpha);
}
`;const FT=class extends De{constructor(t){super(lB,uB),this._hue=0;const e=Object.assign({},FT.defaults,t);Object.assign(this,e)}get hue(){return this._hue}set hue(t){this._hue=t,this.uniforms.uHue=this._hue*(Math.PI/180)}get alpha(){return this.uniforms.uAlpha}set alpha(t){this.uniforms.uAlpha=t}get colorize(){return this.uniforms.uColorize}set colorize(t){this.uniforms.uColorize=t}get lightness(){return this.uniforms.uLightness}set lightness(t){this.uniforms.uLightness=t}get saturation(){return this.uniforms.uSaturation}set saturation(t){this.uniforms.uSaturation=t}};let hB=FT;hB.defaults={hue:0,saturation:0,lightness:0,colorize:!1,alpha:1};var cB=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,dB=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec2 dimensions;

uniform float sepia;
uniform float noise;
uniform float noiseSize;
uniform float scratch;
uniform float scratchDensity;
uniform float scratchWidth;
uniform float vignetting;
uniform float vignettingAlpha;
uniform float vignettingBlur;
uniform float seed;

const float SQRT_2 = 1.414213;
const vec3 SEPIA_RGB = vec3(112.0 / 255.0, 66.0 / 255.0, 20.0 / 255.0);

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

vec3 Overlay(vec3 src, vec3 dst)
{
    // if (dst <= 0.5) then: 2 * src * dst
    // if (dst > 0.5) then: 1 - 2 * (1 - dst) * (1 - src)
    return vec3((dst.x <= 0.5) ? (2.0 * src.x * dst.x) : (1.0 - 2.0 * (1.0 - dst.x) * (1.0 - src.x)),
                (dst.y <= 0.5) ? (2.0 * src.y * dst.y) : (1.0 - 2.0 * (1.0 - dst.y) * (1.0 - src.y)),
                (dst.z <= 0.5) ? (2.0 * src.z * dst.z) : (1.0 - 2.0 * (1.0 - dst.z) * (1.0 - src.z)));
}


void main()
{
    gl_FragColor = texture2D(uSampler, vTextureCoord);
    vec3 color = gl_FragColor.rgb;

    if (sepia > 0.0)
    {
        float gray = (color.x + color.y + color.z) / 3.0;
        vec3 grayscale = vec3(gray);

        color = Overlay(SEPIA_RGB, grayscale);

        color = grayscale + sepia * (color - grayscale);
    }

    vec2 coord = vTextureCoord * filterArea.xy / dimensions.xy;

    if (vignetting > 0.0)
    {
        float outter = SQRT_2 - vignetting * SQRT_2;
        vec2 dir = vec2(vec2(0.5, 0.5) - coord);
        dir.y *= dimensions.y / dimensions.x;
        float darker = clamp((outter - length(dir) * SQRT_2) / ( 0.00001 + vignettingBlur * SQRT_2), 0.0, 1.0);
        color.rgb *= darker + (1.0 - darker) * (1.0 - vignettingAlpha);
    }

    if (scratchDensity > seed && scratch != 0.0)
    {
        float phase = seed * 256.0;
        float s = mod(floor(phase), 2.0);
        float dist = 1.0 / scratchDensity;
        float d = distance(coord, vec2(seed * dist, abs(s - seed * dist)));
        if (d < seed * 0.6 + 0.4)
        {
            highp float period = scratchDensity * 10.0;

            float xx = coord.x * period + phase;
            float aa = abs(mod(xx, 0.5) * 4.0);
            float bb = mod(floor(xx / 0.5), 2.0);
            float yy = (1.0 - bb) * aa + bb * (2.0 - aa);

            float kk = 2.0 * period;
            float dw = scratchWidth / dimensions.x * (0.75 + seed);
            float dh = dw * kk;

            float tine = (yy - (2.0 - dh));

            if (tine > 0.0) {
                float _sign = sign(scratch);

                tine = s * tine / period + scratch + 0.1;
                tine = clamp(tine + 1.0, 0.5 + _sign * 0.5, 1.5 + _sign * 0.5);

                color.rgb *= tine;
            }
        }
    }

    if (noise > 0.0 && noiseSize > 0.0)
    {
        vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
        pixelCoord.x = floor(pixelCoord.x / noiseSize);
        pixelCoord.y = floor(pixelCoord.y / noiseSize);
        // vec2 d = pixelCoord * noiseSize * vec2(1024.0 + seed * 512.0, 1024.0 - seed * 512.0);
        // float _noise = snoise(d) * 0.5;
        float _noise = rand(pixelCoord * noiseSize * seed) - 0.5;
        color += _noise * noise;
    }

    gl_FragColor.rgb = color;
}
`;const OT=class extends De{constructor(e,r=0){super(cB,dB),this.seed=0,this.uniforms.dimensions=new Float32Array(2),typeof e=="number"?(this.seed=e,e=void 0):this.seed=r,Object.assign(this,OT.defaults,e)}apply(e,r,n,i){var s,o;this.uniforms.dimensions[0]=(s=r.filterFrame)==null?void 0:s.width,this.uniforms.dimensions[1]=(o=r.filterFrame)==null?void 0:o.height,this.uniforms.seed=this.seed,e.applyFilter(this,r,n,i)}set sepia(e){this.uniforms.sepia=e}get sepia(){return this.uniforms.sepia}set noise(e){this.uniforms.noise=e}get noise(){return this.uniforms.noise}set noiseSize(e){this.uniforms.noiseSize=e}get noiseSize(){return this.uniforms.noiseSize}set scratch(e){this.uniforms.scratch=e}get scratch(){return this.uniforms.scratch}set scratchDensity(e){this.uniforms.scratchDensity=e}get scratchDensity(){return this.uniforms.scratchDensity}set scratchWidth(e){this.uniforms.scratchWidth=e}get scratchWidth(){return this.uniforms.scratchWidth}set vignetting(e){this.uniforms.vignetting=e}get vignetting(){return this.uniforms.vignetting}set vignettingAlpha(e){this.uniforms.vignettingAlpha=e}get vignettingAlpha(){return this.uniforms.vignettingAlpha}set vignettingBlur(e){this.uniforms.vignettingBlur=e}get vignettingBlur(){return this.uniforms.vignettingBlur}};let fB=OT;fB.defaults={sepia:.3,noise:.3,noiseSize:1,scratch:.5,scratchDensity:.3,scratchWidth:1,vignetting:.3,vignettingAlpha:1,vignettingBlur:.3};var pB=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,mB=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterClamp;

uniform float uAlpha;
uniform vec2 uThickness;
uniform vec4 uColor;
uniform bool uKnockout;

const float DOUBLE_PI = 2. * 3.14159265358979323846264;
const float ANGLE_STEP = \${angleStep};

float outlineMaxAlphaAtPos(vec2 pos) {
    if (uThickness.x == 0. || uThickness.y == 0.) {
        return 0.;
    }

    vec4 displacedColor;
    vec2 displacedPos;
    float maxAlpha = 0.;

    for (float angle = 0.; angle <= DOUBLE_PI; angle += ANGLE_STEP) {
        displacedPos.x = vTextureCoord.x + uThickness.x * cos(angle);
        displacedPos.y = vTextureCoord.y + uThickness.y * sin(angle);
        displacedColor = texture2D(uSampler, clamp(displacedPos, filterClamp.xy, filterClamp.zw));
        maxAlpha = max(maxAlpha, displacedColor.a);
    }

    return maxAlpha;
}

void main(void) {
    vec4 sourceColor = texture2D(uSampler, vTextureCoord);
    vec4 contentColor = sourceColor * float(!uKnockout);
    float outlineAlpha = uAlpha * outlineMaxAlphaAtPos(vTextureCoord.xy) * (1.-sourceColor.a);
    vec4 outlineColor = vec4(vec3(uColor) * outlineAlpha, outlineAlpha);
    gl_FragColor = contentColor + outlineColor;
}
`;const Rc=class extends De{constructor(e=1,r=0,n=.1,i=1,s=!1){super(pB,mB.replace(/\$\{angleStep\}/,Rc.getAngleStep(n))),this._thickness=1,this._alpha=1,this._knockout=!1,this.uniforms.uThickness=new Float32Array([0,0]),this.uniforms.uColor=new Float32Array([0,0,0,1]),this.uniforms.uAlpha=i,this.uniforms.uKnockout=s,Object.assign(this,{thickness:e,color:r,quality:n,alpha:i,knockout:s})}static getAngleStep(e){const r=Math.max(e*Rc.MAX_SAMPLES,Rc.MIN_SAMPLES);return(Math.PI*2/r).toFixed(7)}apply(e,r,n,i){this.uniforms.uThickness[0]=this._thickness/r._frame.width,this.uniforms.uThickness[1]=this._thickness/r._frame.height,this.uniforms.uAlpha=this._alpha,this.uniforms.uKnockout=this._knockout,e.applyFilter(this,r,n,i)}get alpha(){return this._alpha}set alpha(e){this._alpha=e}get color(){return Wd(this.uniforms.uColor)}set color(e){Hd(e,this.uniforms.uColor)}get knockout(){return this._knockout}set knockout(e){this._knockout=e}get thickness(){return this._thickness}set thickness(e){this._thickness=e,this.padding=e}};let nw=Rc;nw.MIN_SAMPLES=1,nw.MAX_SAMPLES=100;var gB=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,yB=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;

uniform vec4 filterArea;
uniform vec4 filterClamp;
uniform vec2 dimensions;

uniform bool mirror;
uniform float boundary;
uniform vec2 amplitude;
uniform vec2 waveLength;
uniform vec2 alpha;
uniform float time;

float rand(vec2 co) {
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main(void)
{
    vec2 pixelCoord = vTextureCoord.xy * filterArea.xy;
    vec2 coord = pixelCoord / dimensions;

    if (coord.y < boundary) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    float k = (coord.y - boundary) / (1. - boundary + 0.0001);
    float areaY = boundary * dimensions.y / filterArea.y;
    float v = areaY + areaY - vTextureCoord.y;
    float y = mirror ? v : vTextureCoord.y;

    float _amplitude = ((amplitude.y - amplitude.x) * k + amplitude.x ) / filterArea.x;
    float _waveLength = ((waveLength.y - waveLength.x) * k + waveLength.x) / filterArea.y;
    float _alpha = (alpha.y - alpha.x) * k + alpha.x;

    float x = vTextureCoord.x + cos(v * 6.28 / _waveLength - time) * _amplitude;
    x = clamp(x, filterClamp.x, filterClamp.z);

    vec4 color = texture2D(uSampler, vec2(x, y));

    gl_FragColor = color * _alpha;
}
`;const NT=class extends De{constructor(e){super(gB,yB),this.time=0,this.uniforms.amplitude=new Float32Array(2),this.uniforms.waveLength=new Float32Array(2),this.uniforms.alpha=new Float32Array(2),this.uniforms.dimensions=new Float32Array(2),Object.assign(this,NT.defaults,e)}apply(e,r,n,i){var s,o;this.uniforms.dimensions[0]=(s=r.filterFrame)==null?void 0:s.width,this.uniforms.dimensions[1]=(o=r.filterFrame)==null?void 0:o.height,this.uniforms.time=this.time,e.applyFilter(this,r,n,i)}set mirror(e){this.uniforms.mirror=e}get mirror(){return this.uniforms.mirror}set boundary(e){this.uniforms.boundary=e}get boundary(){return this.uniforms.boundary}set amplitude(e){this.uniforms.amplitude[0]=e[0],this.uniforms.amplitude[1]=e[1]}get amplitude(){return this.uniforms.amplitude}set waveLength(e){this.uniforms.waveLength[0]=e[0],this.uniforms.waveLength[1]=e[1]}get waveLength(){return this.uniforms.waveLength}set alpha(e){this.uniforms.alpha[0]=e[0],this.uniforms.alpha[1]=e[1]}get alpha(){return this.uniforms.alpha}};let vB=NT;vB.defaults={mirror:!0,boundary:.5,amplitude:[0,20],waveLength:[30,100],alpha:[1,1],time:0};var xB=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,_B=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;
uniform vec4 filterClamp;

uniform vec2 center;

uniform float amplitude;
uniform float wavelength;
// uniform float power;
uniform float brightness;
uniform float speed;
uniform float radius;

uniform float time;

const float PI = 3.14159;

void main()
{
    float halfWavelength = wavelength * 0.5 / filterArea.x;
    float maxRadius = radius / filterArea.x;
    float currentRadius = time * speed / filterArea.x;

    float fade = 1.0;

    if (maxRadius > 0.0) {
        if (currentRadius > maxRadius) {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
        fade = 1.0 - pow(currentRadius / maxRadius, 2.0);
    }

    vec2 dir = vec2(vTextureCoord - center / filterArea.xy);
    dir.y *= filterArea.y / filterArea.x;
    float dist = length(dir);

    if (dist <= 0.0 || dist < currentRadius - halfWavelength || dist > currentRadius + halfWavelength) {
        gl_FragColor = texture2D(uSampler, vTextureCoord);
        return;
    }

    vec2 diffUV = normalize(dir);

    float diff = (dist - currentRadius) / halfWavelength;

    float p = 1.0 - pow(abs(diff), 2.0);

    // float powDiff = diff * pow(p, 2.0) * ( amplitude * fade );
    float powDiff = 1.25 * sin(diff * PI) * p * ( amplitude * fade );

    vec2 offset = diffUV * powDiff / filterArea.xy;

    // Do clamp :
    vec2 coord = vTextureCoord + offset;
    vec2 clampedCoord = clamp(coord, filterClamp.xy, filterClamp.zw);
    vec4 color = texture2D(uSampler, clampedCoord);
    if (coord != clampedCoord) {
        color *= max(0.0, 1.0 - length(coord - clampedCoord));
    }

    // No clamp :
    // gl_FragColor = texture2D(uSampler, vTextureCoord + offset);

    color.rgb *= 1.0 + (brightness - 1.0) * p * fade;

    gl_FragColor = color;
}
`;const BT=class extends De{constructor(e=[0,0],r,n=0){super(xB,_B),this.center=e,Object.assign(this,BT.defaults,r),this.time=n}apply(e,r,n,i){this.uniforms.time=this.time,e.applyFilter(this,r,n,i)}get center(){return this.uniforms.center}set center(e){this.uniforms.center=e}get amplitude(){return this.uniforms.amplitude}set amplitude(e){this.uniforms.amplitude=e}get wavelength(){return this.uniforms.wavelength}set wavelength(e){this.uniforms.wavelength=e}get brightness(){return this.uniforms.brightness}set brightness(e){this.uniforms.brightness=e}get speed(){return this.uniforms.speed}set speed(e){this.uniforms.speed=e}get radius(){return this.uniforms.radius}set radius(e){this.uniforms.radius=e}};let bB=BT;bB.defaults={amplitude:30,wavelength:160,brightness:1,speed:500,radius:-1};var wB=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,SB=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float blur;
uniform float gradientBlur;
uniform vec2 start;
uniform vec2 end;
uniform vec2 delta;
uniform vec2 texSize;

float random(vec3 scale, float seed)
{
    return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);
}

void main(void)
{
    vec4 color = vec4(0.0);
    float total = 0.0;

    float offset = random(vec3(12.9898, 78.233, 151.7182), 0.0);
    vec2 normal = normalize(vec2(start.y - end.y, end.x - start.x));
    float radius = smoothstep(0.0, 1.0, abs(dot(vTextureCoord * texSize - start, normal)) / gradientBlur) * blur;

    for (float t = -30.0; t <= 30.0; t++)
    {
        float percent = (t + offset - 0.5) / 30.0;
        float weight = 1.0 - abs(percent);
        vec4 sample = texture2D(uSampler, vTextureCoord + delta / texSize * percent * radius);
        sample.rgb *= sample.a;
        color += sample * weight;
        total += weight;
    }

    color /= total;
    color.rgb /= color.a + 0.00001;

    gl_FragColor = color;
}
`;let LT=class extends De{constructor(e){var r,n;super(wB,SB),this.uniforms.blur=e.blur,this.uniforms.gradientBlur=e.gradientBlur,this.uniforms.start=(r=e.start)!=null?r:new Se(0,window.innerHeight/2),this.uniforms.end=(n=e.end)!=null?n:new Se(600,window.innerHeight/2),this.uniforms.delta=new Se(30,30),this.uniforms.texSize=new Se(window.innerWidth,window.innerHeight),this.updateDelta()}updateDelta(){this.uniforms.delta.x=0,this.uniforms.delta.y=0}get blur(){return this.uniforms.blur}set blur(e){this.uniforms.blur=e}get gradientBlur(){return this.uniforms.gradientBlur}set gradientBlur(e){this.uniforms.gradientBlur=e}get start(){return this.uniforms.start}set start(e){this.uniforms.start=e,this.updateDelta()}get end(){return this.uniforms.end}set end(e){this.uniforms.end=e,this.updateDelta()}},EB=class extends LT{updateDelta(){const e=this.uniforms.end.x-this.uniforms.start.x,r=this.uniforms.end.y-this.uniforms.start.y,n=Math.sqrt(e*e+r*r);this.uniforms.delta.x=e/n,this.uniforms.delta.y=r/n}},AB=class extends LT{updateDelta(){const e=this.uniforms.end.x-this.uniforms.start.x,r=this.uniforms.end.y-this.uniforms.start.y,n=Math.sqrt(e*e+r*r);this.uniforms.delta.x=-r/n,this.uniforms.delta.y=e/n}};const UT=class extends De{constructor(e,r,n,i){super(),typeof e=="number"&&(Ae("5.3.0","TiltShiftFilter constructor arguments is deprecated, use options."),e={blur:e,gradientBlur:r,start:n,end:i}),e=Object.assign({},UT.defaults,e),this.tiltShiftXFilter=new EB(e),this.tiltShiftYFilter=new AB(e)}apply(e,r,n,i){const s=e.getFilterTexture();this.tiltShiftXFilter.apply(e,r,s,1),this.tiltShiftYFilter.apply(e,s,n,i),e.returnFilterTexture(s)}get blur(){return this.tiltShiftXFilter.blur}set blur(e){this.tiltShiftXFilter.blur=this.tiltShiftYFilter.blur=e}get gradientBlur(){return this.tiltShiftXFilter.gradientBlur}set gradientBlur(e){this.tiltShiftXFilter.gradientBlur=this.tiltShiftYFilter.gradientBlur=e}get start(){return this.tiltShiftXFilter.start}set start(e){this.tiltShiftXFilter.start=this.tiltShiftYFilter.start=e}get end(){return this.tiltShiftXFilter.end}set end(e){this.tiltShiftXFilter.end=this.tiltShiftYFilter.end=e}};let TB=UT;TB.defaults={blur:100,gradientBlur:600,start:void 0,end:void 0};var CB=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,PB=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float radius;
uniform float angle;
uniform vec2 offset;
uniform vec4 filterArea;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

vec2 twist(vec2 coord)
{
    coord -= offset;

    float dist = length(coord);

    if (dist < radius)
    {
        float ratioDist = (radius - dist) / radius;
        float angleMod = ratioDist * ratioDist * angle;
        float s = sin(angleMod);
        float c = cos(angleMod);
        coord = vec2(coord.x * c - coord.y * s, coord.x * s + coord.y * c);
    }

    coord += offset;

    return coord;
}

void main(void)
{

    vec2 coord = mapCoord(vTextureCoord);

    coord = twist(coord);

    coord = unmapCoord(coord);

    gl_FragColor = texture2D(uSampler, coord );

}
`;const zT=class extends De{constructor(t){super(CB,PB),Object.assign(this,zT.defaults,t)}get offset(){return this.uniforms.offset}set offset(t){this.uniforms.offset=t}get radius(){return this.uniforms.radius}set radius(t){this.uniforms.radius=t}get angle(){return this.uniforms.angle}set angle(t){this.uniforms.angle=t}};let IB=zT;IB.defaults={radius:200,angle:4,padding:20,offset:new Se};var RB=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,kB=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

uniform vec2 uCenter;
uniform float uStrength;
uniform float uInnerRadius;
uniform float uRadius;

const float MAX_KERNEL_SIZE = \${maxKernelSize};

// author: http://byteblacksmith.com/improvements-to-the-canonical-one-liner-glsl-rand-for-opengl-es-2-0/
highp float rand(vec2 co, float seed) {
    const highp float a = 12.9898, b = 78.233, c = 43758.5453;
    highp float dt = dot(co + seed, vec2(a, b)), sn = mod(dt, 3.14159);
    return fract(sin(sn) * c + seed);
}

void main() {

    float minGradient = uInnerRadius * 0.3;
    float innerRadius = (uInnerRadius + minGradient * 0.5) / filterArea.x;

    float gradient = uRadius * 0.3;
    float radius = (uRadius - gradient * 0.5) / filterArea.x;

    float countLimit = MAX_KERNEL_SIZE;

    vec2 dir = vec2(uCenter.xy / filterArea.xy - vTextureCoord);
    float dist = length(vec2(dir.x, dir.y * filterArea.y / filterArea.x));

    float strength = uStrength;

    float delta = 0.0;
    float gap;
    if (dist < innerRadius) {
        delta = innerRadius - dist;
        gap = minGradient;
    } else if (radius >= 0.0 && dist > radius) { // radius < 0 means it's infinity
        delta = dist - radius;
        gap = gradient;
    }

    if (delta > 0.0) {
        float normalCount = gap / filterArea.x;
        delta = (normalCount - delta) / normalCount;
        countLimit *= delta;
        strength *= delta;
        if (countLimit < 1.0)
        {
            gl_FragColor = texture2D(uSampler, vTextureCoord);
            return;
        }
    }

    // randomize the lookup values to hide the fixed number of samples
    float offset = rand(vTextureCoord, 0.0);

    float total = 0.0;
    vec4 color = vec4(0.0);

    dir *= strength;

    for (float t = 0.0; t < MAX_KERNEL_SIZE; t++) {
        float percent = (t + offset) / MAX_KERNEL_SIZE;
        float weight = 4.0 * (percent - percent * percent);
        vec2 p = vTextureCoord + dir * percent;
        vec4 sample = texture2D(uSampler, p);

        // switch to pre-multiplied alpha to correctly blur transparent images
        // sample.rgb *= sample.a;

        color += sample * weight;
        total += weight;

        if (t > countLimit){
            break;
        }
    }

    color /= total;
    // switch back from pre-multiplied alpha
    // color.rgb /= color.a + 0.00001;

    gl_FragColor = color;
}
`,iw=Object.getOwnPropertySymbols,MB=Object.prototype.hasOwnProperty,DB=Object.prototype.propertyIsEnumerable,FB=(t,e)=>{var r={};for(var n in t)MB.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&iw)for(var n of iw(t))e.indexOf(n)<0&&DB.call(t,n)&&(r[n]=t[n]);return r};const GT=class extends De{constructor(t){const e=Object.assign(GT.defaults,t),{maxKernelSize:r}=e,n=FB(e,["maxKernelSize"]);super(RB,kB.replace("${maxKernelSize}",r.toFixed(1))),Object.assign(this,n)}get center(){return this.uniforms.uCenter}set center(t){this.uniforms.uCenter=t}get strength(){return this.uniforms.uStrength}set strength(t){this.uniforms.uStrength=t}get innerRadius(){return this.uniforms.uInnerRadius}set innerRadius(t){this.uniforms.uInnerRadius=t}get radius(){return this.uniforms.uRadius}set radius(t){(t<0||t===1/0)&&(t=-1),this.uniforms.uRadius=t}};let OB=GT;OB.defaults={strength:.1,center:[0,0],innerRadius:0,radius:-1,maxKernelSize:32};const jT=new MT({distance:20,alpha:.7}),HT=new Ke;tt.prototype._cacheAsBitmap=!1;tt.prototype._cacheData=null;tt.prototype._cacheAsBitmapResolution=null;tt.prototype._cacheAsBitmapMultisample=null;class NB{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(tt.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new NB),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}});tt.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))};tt.prototype._initCachedDisplayObject=function(t){var p,v;if((p=this._cacheData)!=null&&p.sprite)return;const e=this.alpha;this.alpha=1,t.batch.flush();const r=this.getLocalBounds(new Ee,!0);if((v=this.filters)!=null&&v.length){const x=this.filters[0].padding;r.pad(x)}const n=this.cacheAsBitmapResolution||t.resolution;r.ceil(n),r.width=Math.max(r.width,1/n),r.height=Math.max(r.height,1/n);const i=t.renderTexture.current,s=t.renderTexture.sourceFrame.clone(),o=t.renderTexture.destinationFrame.clone(),l=t.projection.transform,h=ao.create({width:r.width,height:r.height,resolution:n,multisample:this.cacheAsBitmapMultisample??t.multisample}),c=`cacheAsBitmap_${no()}`;this._cacheData.textureCacheId=c,we.addToCache(h.baseTexture,c),ne.addToCache(h,c);const f=this.transform.localTransform.copyTo(HT).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:h,clear:!0,transform:f,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=l,t.renderTexture.bind(i,s,o),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const m=new qn(h);m.transform.worldTransform=this.transform.worldTransform,m.anchor.x=-(r.x/r.width),m.anchor.y=-(r.y/r.height),m.alpha=e,m._bounds=this._bounds,this._cacheData.sprite=m,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=m.containsPoint.bind(m)};tt.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))};tt.prototype._initCachedDisplayObjectCanvas=function(t){var f;if((f=this._cacheData)!=null&&f.sprite)return;const e=this.getLocalBounds(new Ee,!0),r=this.alpha;this.alpha=1;const n=t.canvasContext.activeContext,i=t._projTransform,s=this.cacheAsBitmapResolution||t.resolution;e.ceil(s),e.width=Math.max(e.width,1/s),e.height=Math.max(e.height,1/s);const o=ao.create({width:e.width,height:e.height,resolution:s}),l=`cacheAsBitmap_${no()}`;this._cacheData.textureCacheId=l,we.addToCache(o.baseTexture,l),ne.addToCache(o,l);const h=HT;this.transform.localTransform.copyTo(h),h.invert(),h.tx-=e.x,h.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:o,clear:!0,transform:h,skipUpdateTransform:!1}),t.canvasContext.activeContext=n,t._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const c=new qn(o);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-(e.x/e.width),c.anchor.y=-(e.y/e.height),c.alpha=r,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=c.containsPoint.bind(c)};tt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID};tt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)};tt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,we.removeFromCache(this._cacheData.textureCacheId),ne.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null};tt.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)};tt.prototype.name=null;ir.prototype.getChildByName=function(t,e){for(let r=0,n=this.children.length;r<n;r++)if(this.children[r].name===t)return this.children[r];if(e)for(let r=0,n=this.children.length;r<n;r++){const i=this.children[r];if(!i.getChildByName)continue;const s=i.getChildByName(t,!0);if(s)return s}return null};tt.prototype.getGlobalPosition=function(t=new Se,e=!1){return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var BB=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class N0 extends De{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(UA,BB,e),this.alpha=1}_loadMatrix(e,r=!1){let n=e;r&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(e,r,n){return e[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],e[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],e[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],e[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],e[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],e[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],e[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],e[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],e[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],e[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],e[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],e[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],e[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],e[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],e[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],e[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],e[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],e[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],e[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],e[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}tint(e,r){const[n,i,s]=He.shared.setValue(e).toArray(),o=[n,0,0,0,0,0,i,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,r)}greyscale(e,r){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const n=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,l=s(o),h=n+(1-n)*o,c=o*(1-n)-l*i,f=o*(1-n)+l*i,m=o*(1-n)+l*i,p=n+o*(1-n),v=o*(1-n)-l*i,x=o*(1-n)-l*i,w=o*(1-n)+l*i,A=n+o*(1-n),S=[h,c,f,0,0,m,p,v,0,0,x,w,A,0,0,0,0,0,1,0];this._loadMatrix(S,r)}contrast(e,r){const n=(e||0)+1,i=-.5*(n-1),s=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(s,r)}saturate(e=0,r){const n=e*2/3+1,i=(n-1)*-.5,s=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(s,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,n,i,s){e=e||.2,r=r||.15,n=n||16770432,i=i||3375104;const o=He.shared,[l,h,c]=o.setValue(n).toArray(),[f,m,p]=o.setValue(i).toArray(),v=[.3,.59,.11,0,0,l,h,c,e,0,f,m,p,r,0,l-f,h-m,c-p,0,0];this._loadMatrix(v,s)}night(e,r){e=e||.1;const n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,r)}predator(e,r){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}N0.prototype.grayscale=N0.prototype.greyscale;var LB=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,UB=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class zB extends De{constructor(e,r){const n=new Ke;e.renderable=!1,super(UB,LB,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,r==null&&(r=20),this.scale=new Se(r,r)}apply(e,r,n,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),l=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&l!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/l,this.uniforms.rotation[3]=s.d/l),e.applyFilter(this,r,n,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var GB=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,jB=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class HB extends De{constructor(){super(jB,GB)}}var WB=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class VB extends De{constructor(e=.5,r=Math.random()){super(UA,WB,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const sw={AlphaFilter:dN,BlurFilter:vN,BlurFilterPass:M0,ColorMatrixFilter:N0,DisplacementFilter:zB,FXAAFilter:HB,NoiseFilter:VB};Object.entries(sw).forEach(([t,e])=>{Object.defineProperty(sw,t,{get(){return Ae("7.1.0",`filters.${t} has moved to ${t}`),e}})});const XB={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};tt.mixin(XB);const $B=9,tc=100,YB=0,QB=0,ow=2,aw=1,KB=-1e3,qB=-1e3,ZB=2;class WT{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(hi.tablet||hi.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width=`${tc}px`,r.style.height=`${tc}px`,r.style.position="absolute",r.style.top=`${YB}px`,r.style.left=`${QB}px`,r.style.zIndex=ow.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${aw}px`,e.style.height=`${aw}px`,e.style.position="absolute",e.style.top=`${KB}px`,e.style.left=`${qB}px`,e.style.zIndex=ZB.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}update(){const e=performance.now();if(hi.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:n,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:l,resolution:h}=this.renderer,c=i/o*h,f=s/l*h;let m=this.div;m.style.left=`${r}px`,m.style.top=`${n}px`,m.style.width=`${o}px`,m.style.height=`${l}px`;for(let p=0;p<this.children.length;p++){const v=this.children[p];if(v.renderId!==this.renderId)v._accessibleActive=!1,ca(this.children,p,1),this.div.removeChild(v._accessibleDiv),this.pool.push(v._accessibleDiv),v._accessibleDiv=null,p--;else{m=v._accessibleDiv;let x=v.hitArea;const w=v.worldTransform;v.hitArea?(m.style.left=`${(w.tx+x.x*w.a)*c}px`,m.style.top=`${(w.ty+x.y*w.d)*f}px`,m.style.width=`${x.width*w.a*c}px`,m.style.height=`${x.height*w.d*f}px`):(x=v.getBounds(),this.capHitArea(x),m.style.left=`${x.x*c}px`,m.style.top=`${x.y*f}px`,m.style.width=`${x.width*c}px`,m.style.height=`${x.height*f}px`,m.title!==v.accessibleTitle&&v.accessibleTitle!==null&&(m.title=v.accessibleTitle),m.getAttribute("aria-label")!==v.accessibleHint&&v.accessibleHint!==null&&m.setAttribute("aria-label",v.accessibleHint)),(v.accessibleTitle!==m.title||v.tabIndex!==m.tabIndex)&&(m.title=v.accessibleTitle,m.tabIndex=v.tabIndex,this.debug&&this.updateDebugHTML(m))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:n}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=`${tc}px`,r.style.height=`${tc}px`,r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=ow.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:n}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new bu(i),{target:n});i.rootTarget=this.renderer.lastObjectRendered,r.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===$B&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}WT.extension={name:"accessibility",type:[oe.RendererPlugin,oe.CanvasRendererPlugin]};fe.add(WT);var Ut=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35987]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t[t.COMPRESSED_RGBA_BPTC_UNORM_EXT=36492]="COMPRESSED_RGBA_BPTC_UNORM_EXT",t[t.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT=36493]="COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT",t[t.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT=36494]="COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT",t[t.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT=36495]="COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT",t))(Ut||{});const Sd={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35987:1,34798:1,37808:1,36492:1,36493:1,36494:1,36495:1};let On,Lo;function lw(){Lo={bptc:On.getExtension("EXT_texture_compression_bptc"),astc:On.getExtension("WEBGL_compressed_texture_astc"),etc:On.getExtension("WEBGL_compressed_texture_etc"),s3tc:On.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:On.getExtension("WEBGL_compressed_texture_s3tc_srgb"),pvrtc:On.getExtension("WEBGL_compressed_texture_pvrtc")||On.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:On.getExtension("WEBGL_compressed_texture_etc1"),atc:On.getExtension("WEBGL_compressed_texture_atc")}}const JB={extension:{type:oe.DetectionParser,priority:2},test:async()=>{const t=ae.ADAPTER.createCanvas().getContext("webgl");return t?(On=t,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{Lo||lw();const e=[];for(const r in Lo)Lo[r]&&e.push(r);return[...e,...t]},remove:async t=>(Lo||lw(),t.filter(e=>!(e in Lo)))};fe.add(JB);class eL extends Vd{constructor(e,r={width:1,height:1,autoLoad:!0}){let n,i;typeof e=="string"?(n=e,i=new Uint8Array):(n=null,i=e),super(i,r),this.origin=n,this.buffer=i?new qg(i):null,this._load=null,this.loaded=!1,this.origin!==null&&r.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new qg(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class Ks extends eL{constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=Ks._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||Ks._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,n){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;i.pixelStorei(i.UNPACK_ALIGNMENT,4);for(let s=0,o=this.levels;s<o;s++){const{levelID:l,levelWidth:h,levelHeight:c,levelBuffer:f}=this._levelBuffers[s];i.compressedTexImage2D(i.TEXTURE_2D,l,this.format,h,c,0,f)}return!0}onBlobLoaded(){this._levelBuffers=Ks._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=35916&&e<=35919)return"s3tc_sRGB";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e===36196)return"etc1";if(e===35986||e===35987||e===34798)return"atc";if(e>=36492&&e<=36495)return"bptc";if(e===37808)return"astc";throw new Error(`Invalid (compressed) texture format given: ${e}`)}static _createLevelBuffers(e,r,n,i,s,o,l){const h=new Array(n);let c=e.byteOffset,f=o,m=l,p=f+i-1&~(i-1),v=m+s-1&~(s-1),x=p*v*Sd[r];for(let w=0;w<n;w++)h[w]={levelID:w,levelWidth:n>1?f:p,levelHeight:n>1?m:v,levelBuffer:new Uint8Array(e.buffer,c,x)},c+=x,f=f>>1||1,m=m>>1||1,p=f+i-1&~(i-1),v=m+s-1&~(s-1),x=p*v*Sd[r];return h}}const Bm=4,rc=124,tL=32,uw=20,rL=542327876,nc={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},nL={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},ic={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},iL=1,sL=2,oL=4,aL=64,lL=512,uL=131072,hL=827611204,cL=861165636,dL=894720068,fL=808540228,pL=4,mL={[hL]:Ut.COMPRESSED_RGBA_S3TC_DXT1_EXT,[cL]:Ut.COMPRESSED_RGBA_S3TC_DXT3_EXT,[dL]:Ut.COMPRESSED_RGBA_S3TC_DXT5_EXT},gL={70:Ut.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Ut.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Ut.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Ut.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Ut.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Ut.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Ut.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Ut.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Ut.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,96:Ut.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,95:Ut.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,98:Ut.COMPRESSED_RGBA_BPTC_UNORM_EXT,99:Ut.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT};function yL(t){const e=new Uint32Array(t);if(e[0]!==rL)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,rc/Uint32Array.BYTES_PER_ELEMENT),n=r[nc.HEIGHT],i=r[nc.WIDTH],s=r[nc.MIPMAP_COUNT],o=new Uint32Array(t,nc.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,tL/Uint32Array.BYTES_PER_ELEMENT),l=o[iL];if(l&oL){const h=o[nL.FOURCC];if(h!==fL){const E=mL[h],b=Bm+rc,T=new Uint8Array(t,b);return[new Ks(T,{format:E,width:i,height:n,levels:s})]}const c=Bm+rc,f=new Uint32Array(e.buffer,c,uw/Uint32Array.BYTES_PER_ELEMENT),m=f[ic.DXGI_FORMAT],p=f[ic.RESOURCE_DIMENSION],v=f[ic.MISC_FLAG],x=f[ic.ARRAY_SIZE],w=gL[m];if(w===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${m}`);if(v===pL)throw new Error("DDSParser does not support cubemap textures");if(p===6)throw new Error("DDSParser does not supported 3D texture data");const A=new Array,S=Bm+rc+uw;if(x===1)A.push(new Uint8Array(t,S));else{const E=Sd[w];let b=0,T=i,R=n;for(let M=0;M<s;M++){const k=Math.max(1,T+3&-4),$=Math.max(1,R+3&-4),X=k*$*E;b+=X,T=T>>>1,R=R>>>1}let B=S;for(let M=0;M<x;M++)A.push(new Uint8Array(t,B,b)),B+=b}return A.map(E=>new Ks(E,{format:w,width:i,height:n,levels:s}))}throw l&aL?new Error("DDSParser does not support uncompressed texture data."):l&lL?new Error("DDSParser does not supported YUV uncompressed texture data."):l&uL?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&sL?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const hw=[171,75,84,88,32,49,49,187,13,10,26,10],vL=67305985,rn={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},B0=64,cw={[ge.UNSIGNED_BYTE]:1,[ge.UNSIGNED_SHORT]:2,[ge.INT]:4,[ge.UNSIGNED_INT]:4,[ge.FLOAT]:4,[ge.HALF_FLOAT]:8},xL={[J.RGBA]:4,[J.RGB]:3,[J.RG]:2,[J.RED]:1,[J.LUMINANCE]:1,[J.LUMINANCE_ALPHA]:2,[J.ALPHA]:1},_L={[ge.UNSIGNED_SHORT_4_4_4_4]:2,[ge.UNSIGNED_SHORT_5_5_5_1]:2,[ge.UNSIGNED_SHORT_5_6_5]:2};function bL(t,e,r=!1){const n=new DataView(e);if(!wL(t,n))return null;const i=n.getUint32(rn.ENDIANNESS,!0)===vL,s=n.getUint32(rn.GL_TYPE,i),o=n.getUint32(rn.GL_FORMAT,i),l=n.getUint32(rn.GL_INTERNAL_FORMAT,i),h=n.getUint32(rn.PIXEL_WIDTH,i),c=n.getUint32(rn.PIXEL_HEIGHT,i)||1,f=n.getUint32(rn.PIXEL_DEPTH,i)||1,m=n.getUint32(rn.NUMBER_OF_ARRAY_ELEMENTS,i)||1,p=n.getUint32(rn.NUMBER_OF_FACES,i),v=n.getUint32(rn.NUMBER_OF_MIPMAP_LEVELS,i),x=n.getUint32(rn.BYTES_OF_KEY_VALUE_DATA,i);if(c===0||f!==1)throw new Error("Only 2D textures are supported");if(p!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(m!==1)throw new Error("WebGL does not support array textures");const w=4,A=4,S=h+3&-4,E=c+3&-4,b=new Array(m);let T=h*c;s===0&&(T=S*E);let R;if(s!==0?cw[s]?R=cw[s]*xL[o]:R=_L[s]:R=Sd[l],R===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const B=r?EL(n,x,i):null;let M=T*R,k=h,$=c,X=S,ie=E,ee=B0+x;for(let O=0;O<v;O++){const W=n.getUint32(ee,i);let te=ee+4;for(let ue=0;ue<m;ue++){let H=b[ue];H||(H=b[ue]=new Array(v)),H[O]={levelID:O,levelWidth:v>1||s!==0?k:X,levelHeight:v>1||s!==0?$:ie,levelBuffer:new Uint8Array(e,te,M)},te+=M}ee+=W+4,ee=ee%4!==0?ee+4-ee%4:ee,k=k>>1||1,$=$>>1||1,X=k+w-1&~(w-1),ie=$+A-1&~(A-1),M=X*ie*R}return s!==0?{uncompressed:b.map(O=>{let W=O[0].levelBuffer,te=!1;return s===ge.FLOAT?W=new Float32Array(O[0].levelBuffer.buffer,O[0].levelBuffer.byteOffset,O[0].levelBuffer.byteLength/4):s===ge.UNSIGNED_INT?(te=!0,W=new Uint32Array(O[0].levelBuffer.buffer,O[0].levelBuffer.byteOffset,O[0].levelBuffer.byteLength/4)):s===ge.INT&&(te=!0,W=new Int32Array(O[0].levelBuffer.buffer,O[0].levelBuffer.byteOffset,O[0].levelBuffer.byteLength/4)),{resource:new Vd(W,{width:O[0].levelWidth,height:O[0].levelHeight}),type:s,format:te?SL(o):o}}),kvData:B}:{compressed:b.map(O=>new Ks(null,{format:l,width:h,height:c,levels:v,levelBuffers:O})),kvData:B}}function wL(t,e){for(let r=0;r<hw.length;r++)if(e.getUint8(r)!==hw[r])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function SL(t){switch(t){case J.RGBA:return J.RGBA_INTEGER;case J.RGB:return J.RGB_INTEGER;case J.RG:return J.RG_INTEGER;case J.RED:return J.RED_INTEGER;default:return t}}function EL(t,e,r){const n=new Map;let i=0;for(;i<e;){const s=t.getUint32(B0+i,r),o=B0+i+4,l=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let h=0;for(;h<s&&t.getUint8(o+h)!==0;h++);if(h===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const c=new TextDecoder().decode(new Uint8Array(t.buffer,o,h)),f=new DataView(t.buffer,o+h+1,s-h-1);n.set(c,f),i+=4+s+l}return n}const AL={extension:{type:oe.LoadParser,priority:vn.High},name:"loadDDS",test(t){return gs(t,".dds")},async load(t,e,r){const n=await(await ae.ADAPTER.fetch(t)).arrayBuffer(),i=yL(n).map(s=>{const o=new we(s,{mipmap:$n.OFF,alphaMode:fr.NO_PREMULTIPLIED_ALPHA,resolution:xi(t),...e.data});return wu(o,r,t)});return i.length===1?i[0]:i},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};fe.add(AL);const TL={extension:{type:oe.LoadParser,priority:vn.High},name:"loadKTX",test(t){return gs(t,".ktx")},async load(t,e,r){const n=await(await ae.ADAPTER.fetch(t)).arrayBuffer(),{compressed:i,uncompressed:s,kvData:o}=bL(t,n),l=i??s,h={mipmap:$n.OFF,alphaMode:fr.NO_PREMULTIPLIED_ALPHA,resolution:xi(t),...e.data},c=l.map(f=>{l===s&&Object.assign(h,{type:f.type,format:f.format});const m=f.resource??f,p=new we(m,h);return p.ktxKeyValueData=o,wu(p,r,t)});return c.length===1?c[0]:c},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};fe.add(TL);const CL=["s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"],PL={extension:oe.ResolveParser,test:t=>{const e=Ot.extname(t).slice(1);return["basis","ktx","dds"].includes(e)},parse:t=>{var n,i;const e=t.split("."),r=e.pop();if(["ktx","dds"].includes(r)){const s=e.pop();if(CL.includes(s))return{resolution:parseFloat(((n=ae.RETINA_PREFIX.exec(t))==null?void 0:n[1])??"1"),format:s,src:t}}return{resolution:parseFloat(((i=ae.RETINA_PREFIX.exec(t))==null?void 0:i[1])??"1"),format:r,src:t}}};fe.add(PL);const sc=new Ee,IL=4,VT=class Al{constructor(e){this.renderer=e,this._rendererPremultipliedAlpha=!1}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}async image(e,r,n,i){const s=new Image;return s.src=await this.base64(e,r,n,i),s}async base64(e,r,n,i){const s=this.canvas(e,i);if(s.toBlob!==void 0)return new Promise((o,l)=>{s.toBlob(h=>{if(!h){l(new Error("ICanvas.toBlob failed!"));return}const c=new FileReader;c.onload=()=>o(c.result),c.onerror=l,c.readAsDataURL(h)},r,n)});if(s.toDataURL!==void 0)return s.toDataURL(r,n);if(s.convertToBlob!==void 0){const o=await s.convertToBlob({type:r,quality:n});return new Promise((l,h)=>{const c=new FileReader;c.onload=()=>l(c.result),c.onerror=h,c.readAsDataURL(o)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(e,r){const{pixels:n,width:i,height:s,flipY:o,premultipliedAlpha:l}=this._rawPixels(e,r);o&&Al._flipY(n,i,s),l&&Al._unpremultiplyAlpha(n);const h=new lM(i,s,1),c=new ImageData(new Uint8ClampedArray(n.buffer),i,s);return h.context.putImageData(c,0,0),h.canvas}pixels(e,r){const{pixels:n,width:i,height:s,flipY:o,premultipliedAlpha:l}=this._rawPixels(e,r);return o&&Al._flipY(n,i,s),l&&Al._unpremultiplyAlpha(n),n}_rawPixels(e,r){const n=this.renderer;if(!n)throw new Error("The Extract has already been destroyed");let i,s=!1,o=!1,l,h=!1;e&&(e instanceof ao?l=e:(l=n.generateTexture(e,{region:r,resolution:n.resolution,multisample:n.multisample}),h=!0,r&&(sc.width=r.width,sc.height=r.height,r=sc)));const c=n.gl;if(l){if(i=l.baseTexture.resolution,r=r??l.frame,s=!1,o=l.baseTexture.alphaMode>0&&l.baseTexture.format===J.RGBA,!h){n.renderTexture.bind(l);const v=l.framebuffer.glFramebuffers[n.CONTEXT_UID];v.blitFramebuffer&&n.framebuffer.bind(v.blitFramebuffer)}}else i=n.resolution,r||(r=sc,r.width=n.width/i,r.height=n.height/i),s=!0,o=this._rendererPremultipliedAlpha,n.renderTexture.bind();const f=Math.max(Math.round(r.width*i),1),m=Math.max(Math.round(r.height*i),1),p=new Uint8Array(IL*f*m);return c.readPixels(Math.round(r.x*i),Math.round(r.y*i),f,m,c.RGBA,c.UNSIGNED_BYTE,p),h&&(l==null||l.destroy(!0)),{pixels:p,width:f,height:m,flipY:s,premultipliedAlpha:o}}destroy(){this.renderer=null}static _flipY(e,r,n){const i=r<<2,s=n>>1,o=new Uint8Array(i);for(let l=0;l<s;l++){const h=l*i,c=(n-l-1)*i;o.set(e.subarray(h,h+i)),e.copyWithin(h,c,c+i),e.set(o,c)}}static _unpremultiplyAlpha(e){e instanceof Uint8ClampedArray&&(e=new Uint8Array(e.buffer));const r=e.length;for(let n=0;n<r;n+=4){const i=e[n+3];if(i!==0){const s=255.001/i;e[n]=e[n]*s+.5,e[n+1]=e[n+1]*s+.5,e[n+2]=e[n+2]*s+.5}}}};VT.extension={name:"extract",type:oe.RendererSystem};let RL=VT;fe.add(RL);class kL{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function ML(t,e){var n;let r=!1;if((n=t==null?void 0:t._textures)!=null&&n.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof ne){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),r=!0)}}return r}function DL(t,e){if(t.baseTexture instanceof we){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function FL(t,e){if(t._texture&&t._texture instanceof ne){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function OL(t,e){return e instanceof $y?(e.updateText(!0),!0):!1}function NL(t,e){if(e instanceof cs){const r=e.toFontString();return Hi.measureFont(r),!0}return!1}function BL(t,e){if(t instanceof $y){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function LL(t,e){return t instanceof cs?(e.includes(t)||e.push(t),!0):!1}const XT=class $T{constructor(e){this.limiter=new kL($T.uploadsPerFrame),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(BL),this.registerFindHook(LL),this.registerFindHook(ML),this.registerFindHook(DL),this.registerFindHook(FL),this.registerUploadHook(OL),this.registerUploadHook(NL)}upload(e){return new Promise(r=>{e&&this.add(e),this.queue.length?(this.completes.push(r),this.ticking||(this.ticking=!0,Dt.system.addOnce(this.tick,this,hs.UTILITY))):r()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const e=this.queue[0];let r=!1;if(e&&!e._destroyed){for(let n=0,i=this.uploadHooks.length;n<i;n++)if(this.uploadHooks[n](this.uploadHookHelper,e)){this.queue.shift(),r=!0;break}}r||this.queue.shift()}if(this.queue.length)Dt.system.addOnce(this.tick,this,hs.UTILITY);else{this.ticking=!1;const e=this.completes.slice(0);this.completes.length=0;for(let r=0,n=e.length;r<n;r++)e[r]()}}registerFindHook(e){return e&&this.addHooks.push(e),this}registerUploadHook(e){return e&&this.uploadHooks.push(e),this}add(e){for(let r=0,n=this.addHooks.length;r<n&&!this.addHooks[r](e,this.queue);r++);if(e instanceof ir)for(let r=e.children.length-1;r>=0;r--)this.add(e.children[r]);return this}destroy(){this.ticking&&Dt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};XT.uploadsPerFrame=4;let L0=XT;Object.defineProperties(ae,{UPLOADS_PER_FRAME:{get(){return L0.uploadsPerFrame},set(t){Ae("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),L0.uploadsPerFrame=t}}});function YT(t,e){return e instanceof we?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function UL(t,e){if(!(e instanceof zl))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:n}=r;for(let i=0;i<n.length;i++){const{texture:s}=n[i].style;s&&YT(t,s.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function zL(t,e){return t instanceof zl?(e.push(t),!0):!1}class QT extends L0{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(zL),this.registerUploadHook(YT),this.registerUploadHook(UL)}}QT.extension={name:"prepare",type:oe.RendererSystem};fe.add(QT);const KT=class Tl{constructor(e,r,n){this.linkedSheets=[],(e instanceof we||e instanceof ne)&&(e={texture:e,data:r,resolutionFilename:n});const{texture:i,data:s,resolutionFilename:o=null,cachePrefix:l=""}=e;this.cachePrefix=l,this._texture=i instanceof ne?i:null,this.baseTexture=i instanceof we?i:this._texture.baseTexture,this.textures={},this.animations={},this.data=s;const h=this.baseTexture.resource;this.resolution=this._updateResolution(o||(h?h.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(e=null){const{scale:r}=this.data.meta;let n=xi(e,null);return n===null&&(n=typeof r=="number"?r:parseFloat(r??"1")),n!==1&&this.baseTexture.setResolution(n),n}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=Tl.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let r=e;const n=Tl.BATCH_SIZE;for(;r-e<n&&r<this._frameKeys.length;){const i=this._frameKeys[r],s=this._frames[i],o=s.frame;if(o){let l=null,h=null;const c=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,f=new Ee(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);s.rotated?l=new Ee(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):l=new Ee(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(h=new Ee(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new ne(this.baseTexture,l,f,h,s.rotated?2:0,s.anchor,s.borders),ne.addToCache(this.textures[i],this.cachePrefix+i.toString())}r++}}_processAnimations(){const e=this.data.animations||{};for(const r in e){this.animations[r]=[];for(let n=0;n<e[r].length;n++){const i=e[r][n];this.animations[r].push(this.textures[i])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Tl.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Tl.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){var r;for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&((r=this._texture)==null||r.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};KT.BATCH_SIZE=1e3;let dw=KT;const GL=["jpg","png","jpeg","avif","webp","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc"];function qT(t,e,r){const n={};if(t.forEach(i=>{n[i]=e}),Object.keys(e.textures).forEach(i=>{n[`${e.cachePrefix}${i}`]=e.textures[i]}),!r){const i=Ot.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{Object.assign(n,qT([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0))})}return n}const jL={extension:oe.Asset,cache:{test:t=>t instanceof dw,getCacheableAssets:(t,e)=>qT(t,e,!1)},resolver:{test:t=>{const e=t.split("?")[0].split("."),r=e.pop(),n=e.pop();return r==="json"&&GL.includes(n)},parse:t=>{var r;const e=t.split(".");return{resolution:parseFloat(((r=ae.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:oe.LoadParser,priority:vn.Normal},async testParse(t,e){return Ot.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var f,m;const{texture:n,imageFilename:i,cachePrefix:s}=(e==null?void 0:e.data)??{};let o=Ot.dirname(e.src);o&&o.lastIndexOf("/")!==o.length-1&&(o+="/");let l;if(n&&n.baseTexture)l=n;else{const p=_0(o+(i??t.meta.image),e.src);l=(await r.load([p]))[p]}const h=new dw({texture:l.baseTexture,data:t,resolutionFilename:e.src,cachePrefix:s});await h.parse();const c=(f=t==null?void 0:t.meta)==null?void 0:f.related_multi_packs;if(Array.isArray(c)){const p=[];for(const x of c){if(typeof x!="string")continue;let w=o+x;(m=e.data)!=null&&m.ignoreMultiPack||(w=_0(w,e.src),p.push(r.load({src:w,data:{ignoreMultiPack:!0}})))}const v=await Promise.all(p);h.linkedSheets=v,v.forEach(x=>{x.linkedSheets=[h].concat(h.linkedSheets.filter(w=>w!==x))})}return h},unload(t){t.destroy(!0)}}};fe.add(jL);const U0=class Uo extends cs{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(e){return new Uo(Object.keys(Uo.defaultOptions).reduce((r,n)=>({...r,[n]:e[n]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(e=>{URL.revokeObjectURL(e.src),e.refs--,e.refs===0&&(e.fontFace&&document.fonts.delete(e.fontFace),delete Uo.availableFonts[e.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(e,r={}){const{availableFonts:n}=Uo;if(n[e]){const i=n[e];return this._fonts.push(i),i.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return ae.ADAPTER.fetch(e).then(i=>i.blob()).then(async i=>new Promise((s,o)=>{const l=URL.createObjectURL(i),h=new FileReader;h.onload=()=>s([l,h.result]),h.onerror=o,h.readAsDataURL(i)})).then(async([i,s])=>{const o=Object.assign({family:Ot.basename(e,Ot.extname(e)),weight:"normal",style:"normal",display:"auto",src:i,dataSrc:s,refs:1,originalUrl:e,fontFace:null},r);n[e]=o,this._fonts.push(o),this.styleID++;const l=new FontFace(o.family,`url(${o.src})`,{weight:o.weight,style:o.style,display:o.display});o.fontFace=l,await l.load(),document.fonts.add(l),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...e){const r=e.filter(n=>!this._overrides.includes(n));r.length>0&&(this._overrides.push(...r),this.styleID++)}removeOverride(...e){const r=e.filter(n=>this._overrides.includes(n));r.length>0&&(this._overrides=this._overrides.filter(n=>!r.includes(n)),this.styleID++)}toCSS(e){return[`transform: scale(${e})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((e,r)=>`${e}
            @font-face {
                font-family: "${r.family}";
                src: url('${r.dataSrc}');
                font-weight: ${r.weight};
                font-style: ${r.style};
                font-display: ${r.display};
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(e){this._stylesheet!==e&&(this._stylesheet=e,this.styleID++)}normalizeColor(e){return Array.isArray(e)&&(e=Wd(e)),typeof e=="number"?iM(e):e}dropShadowToCSS(){let e=this.normalizeColor(this.dropShadowColor);const r=this.dropShadowAlpha,n=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),i=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);e.startsWith("#")&&r<1&&(e+=(r*255|0).toString(16).padStart(2,"0"));const s=`${n}px ${i}px`;return this.dropShadowBlur>0?`text-shadow: ${s} ${this.dropShadowBlur}px ${e}`:`text-shadow: ${s} ${e}`}reset(){Object.assign(this,Uo.defaultOptions)}onBeforeDraw(){const{fontsDirty:e}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&e?new Promise(r=>setTimeout(r,100)):Promise.resolve()}get isSafari(){const{userAgent:e}=ae.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(e)}set fillGradientStops(e){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(e){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(e){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(e){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(e){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(e){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(e){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};U0.availableFonts={},U0.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};let Lm=U0;const oc=class zo extends qn{constructor(e="",r={}){super(ne.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this.localStyleID=-1,this.dirty=!1,this._updateID=0,this.ownsStyle=!1;const n=new Image,i=ne.from(n,{scaleMode:ae.SCALE_MODE,resourceOptions:{autoLoad:!1}});i.orig=new Ee,i.trim=new Ee,this.texture=i;const s="http://www.w3.org/2000/svg",o="http://www.w3.org/1999/xhtml",l=document.createElementNS(s,"svg"),h=document.createElementNS(s,"foreignObject"),c=document.createElementNS(o,"div"),f=document.createElementNS(o,"style");h.setAttribute("width","10000"),h.setAttribute("height","10000"),h.style.overflow="hidden",l.appendChild(h),this.maxWidth=zo.defaultMaxWidth,this.maxHeight=zo.defaultMaxHeight,this._domElement=c,this._styleElement=f,this._svgRoot=l,this._foreignObject=h,this._foreignObject.appendChild(f),this._foreignObject.appendChild(c),this._image=n,this._loadImage=new Image,this._autoResolution=zo.defaultAutoResolution,this._resolution=zo.defaultResolution??ae.RESOLUTION,this.text=e,this.style=r}measureText(e){var f,m;const{text:r,style:n,resolution:i}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},e);Object.assign(this._domElement,{innerHTML:r,style:n.toCSS(i)}),this._styleElement.textContent=n.toGlobalCSS(),document.body.appendChild(this._svgRoot);const s=this._domElement.getBoundingClientRect();this._svgRoot.remove();const{width:o,height:l}=s;(o>this.maxWidth||l>this.maxHeight)&&console.warn("[HTMLText] Large expanse of text, increase HTMLText.maxWidth or HTMLText.maxHeight property.");const h=Math.min(this.maxWidth,Math.ceil(o)),c=Math.min(this.maxHeight,Math.ceil(l));return this._svgRoot.setAttribute("width",h.toString()),this._svgRoot.setAttribute("height",c.toString()),r!==this._text&&(this._domElement.innerHTML=this._text),n!==this._style&&(Object.assign(this._domElement,{style:(f=this._style)==null?void 0:f.toCSS(i)}),this._styleElement.textContent=(m=this._style)==null?void 0:m.toGlobalCSS()),{width:h+n.padding*2,height:c+n.padding*2}}async updateText(e=!0){const{style:r,_image:n,_loadImage:i}=this;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),!this.dirty&&e)return;const{width:s,height:o}=this.measureText();n.width=i.width=Math.ceil(Math.max(1,s)),n.height=i.height=Math.ceil(Math.max(1,o)),this._updateID++;const l=this._updateID;await new Promise(h=>{i.onload=async()=>{if(l<this._updateID){h();return}await r.onBeforeDraw(),n.src=i.src,i.onload=null,i.src="",this.updateTexture(),h()};const c=new XMLSerializer().serializeToString(this._svgRoot);i.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(c)}`})}get source(){return this._image}updateTexture(){const{style:e,texture:r,_image:n,resolution:i}=this,{padding:s}=e,{baseTexture:o}=r;r.trim.width=r._frame.width=n.width/i,r.trim.height=r._frame.height=n.height/i,r.trim.x=-s,r.trim.y=-s,r.orig.width=r._frame.width-s*2,r.orig.height=r._frame.height-s*2,this._onTextureUpdate(),o.setRealSize(n.width,n.height,i),this.dirty=!1}_render(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._render(e)}_renderCanvas(e){this._autoResolution&&this._resolution!==e.resolution&&(this._resolution=e.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(e)}getLocalBounds(e){return this.updateText(!0),super.getLocalBounds(e)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(e){var n,i,s,o,l;typeof e=="boolean"&&(e={children:e}),e=Object.assign({},zo.defaultDestroyOptions,e),super.destroy(e);const r=null;this.ownsStyle&&((n=this._style)==null||n.cleanFonts()),this._style=r,(i=this._svgRoot)==null||i.remove(),this._svgRoot=r,(s=this._domElement)==null||s.remove(),this._domElement=r,(o=this._foreignObject)==null||o.remove(),this._foreignObject=r,(l=this._styleElement)==null||l.remove(),this._styleElement=r,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=r,this._image.src="",this._image=r}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(e){this.updateText(!0);const r=Ki(this.scale.x)||1;this.scale.x=r*e/this._image.width/this.resolution,this._width=e}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(e){this.updateText(!0);const r=Ki(this.scale.y)||1;this.scale.y=r*e/this._image.height/this.resolution,this._height=e}get style(){return this._style}set style(e){this._style!==e&&(e=e||{},e instanceof Lm?(this.ownsStyle=!1,this._style=e):e instanceof cs?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=Lm.from(e)):(this.ownsStyle=!0,this._style=new Lm(e)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(e){e=String(e===""||e===null||e===void 0?" ":e),e=this.sanitiseText(e),this._text!==e&&(this._text=e,this.dirty=!0)}get resolution(){return this._resolution}set resolution(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)}sanitiseText(e){return e.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};oc.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},oc.defaultMaxWidth=2024,oc.defaultMaxHeight=2024,oc.defaultAutoResolution=!0;const ev=Ce.createContext(null),HL=({children:t,initialEnabled:e})=>{const[r,n]=Ce.useState(e);return L.jsx(ev.Provider,{value:{enabled:r,setEnabled:n},children:t})},tv=()=>{const t=Ce.useContext(ev);if(!t)throw new Error("useEventContext must be used within a EventProvider");return t},rv=qt.createContext(null),WL=({children:t})=>{const[e,r]=Ce.useState(!1),[n,i]=Ce.useState(""),s=tv(),o=()=>{r(!e)},l=c=>{r(!0),i(c),s.setEnabled(!1)},h=()=>{r(!1),s.setEnabled(!0)};return L.jsx(rv.Provider,{value:{isOpen:e,toggleSidebar:o,openSidebar:l,closeSidebar:h,activeObjectKey:n},children:t})},sf=()=>{const t=Ce.useContext(rv);if(!t)throw new Error("useSidebar must be used within a SidebarProvider");return t},VL=5,ZT=({handleClick:t,onPointerDown:e,onPointerUp:r})=>{const n=Ce.useRef({x:0,y:0});return{onpointerup:o=>{const l={x:o.clientX,y:o.clientY};Math.sqrt(Math.pow(l.x-n.current.x,2)+Math.pow(l.y-n.current.y,2))<VL?t==null||t():r==null||r()},onpointerdown:o=>{n.current={x:o.clientX,y:o.clientY},e==null||e()}}},XL=.005,$L=0,xe=t=>{const e=AT(),[r,n]=Ce.useState({x:t.x||0,y:t.y||0}),[i,s]=Ce.useState(0),[o,l]=Ce.useState(0),[h,c]=Ce.useState(1),[f,m]=Ce.useState(0),[p,v]=Ce.useState(!1),x=sf(),w=ZT({handleClick:()=>{var ie;x.openSidebar(((ie=t.metadata)==null?void 0:ie.objectKey)??"")},onPointerUp:()=>v(!1)}),A=()=>{v(!0)},S=()=>{v(!1)},E=t.trails&&t.trails.length>1;jn.useTick((ie,ee)=>{if(!t.trails||t.trails.length<2)return;const O=t.trails[i],W=(i+1)%t.trails.length,te=t.trails[W],ue=fw(O,{position:{x:e.position.x,y:e.position.y},scale:e.scale}),H=fw(te,{position:{x:e.position.x,y:e.position.y},scale:e.scale});let P,U;O.skipLinearInterpolation?(P=Math.round(o)===0?ue.x:H.x,U=Math.round(o)===0?ue.y:H.y):(P=ue.x+(H.x-ue.x)*o,U=ue.y+(H.y-ue.y)*o),n({x:P,y:U}),O.visible===!1?c(_e=>Math.max(0,_e-ie*.05)):c(_e=>Math.min(1,_e+ie*.05));const D=(O==null?void 0:O.delayMs)??$L;if(f<D){m(_e=>_e+ee.deltaMS);return}const G=(O==null?void 0:O.speed)??XL,re=o+ie*G;re>=1?(l(0),s(W),m(0)):l(re)});const[b,T]=Ce.useState([]);Ce.useEffect(()=>{t.spritesheet&&Sl.load(t.spritesheet).then(ie=>{T(Object.keys(ie.data.frames).map(ee=>ne.from(ee)))})},[t.spritesheet]);const[R,B]=Ce.useState(t.initialSpriteAnimationPlaying??!0),M=Ce.useRef(0),k=Ce.useRef(0);jn.useTick(ie=>{t.spriteAnimationIntervals&&t.spriteAnimationIntervals.length>0&&(k.current+=ie*16.67,k.current>=t.spriteAnimationIntervals[M.current]&&(k.current=0,M.current=(M.current+1)%t.spriteAnimationIntervals.length,B(ee=>!ee)))});const $=tv(),X={...t,x:E?r.x:t.x,y:E?r.y:t.y,alpha:h,eventMode:$.enabled?"static":"none",filters:t.enableGlowEffect&&p?[jT]:[],mouseover:A,mouseout:S,mousedown:A,onpointermove:()=>v(!0),...t.enableGlowEffect&&{cursor:"pointer",...w}};return t.spritesheet?b.length===0?null:L.jsx(jn.AnimatedSprite,{...t,...X,textures:b,isPlaying:R}):L.jsx(jn.Sprite,{...t,...X})};function fw(t,e){return{x:t.x*e.scale+e.position.x,y:t.y*e.scale+e.position.y}}const ks=t=>{const[e,r]=Ce.useState(!1),n=sf(),i=tv(),s=ZT({handleClick:()=>{var c;r(!1),n.openSidebar(((c=t.metadata)==null?void 0:c.objectKey)??"")},onPointerUp:()=>r(!1)}),o=()=>{r(!0)},l=()=>{r(!1)},h=()=>{r(!0)};return L.jsx(jn.Sprite,{...t,image:t.image,mouseover:o,mouseout:l,mousedown:o,onpointermove:h,filters:t.enableGlowEffect&&e?[jT]:[],eventMode:i.enabled?"static":"none",...t.enableGlowEffect&&{cursor:"pointer",...s}})},YL=[{key:"c-building-shadow",image:bO,offset:{x:960,y:-310}},{key:"c-building",image:_O,offset:{x:960,y:-583},component:t=>L.jsx(ks,{...t,enableGlowEffect:!0,metadata:{objectKey:"building-c"}})},{key:"human-4-shadow",image:rN,offset:{x:760,y:-850,scale:{x:.1,y:.1}}},{key:"human-4",image:"",component:t=>L.jsx(xe,{...t,spritesheet:"./spritesheet/human4.json",animationSpeed:.1}),offset:{x:760,y:-870,scale:{x:.7,y:.7}}},{key:"red-bubble",image:"",component:t=>L.jsx(xe,{...t,spritesheet:"./spritesheet/redbubble.json",animationSpeed:.07}),offset:{x:1116,y:-426}},{key:"purple-bubble",image:"",component:t=>L.jsx(xe,{...t,spritesheet:"./spritesheet/purplebubble.json",animationSpeed:.07}),offset:{x:966,y:-294}},{key:"train",image:wO,offset:{x:-1427,y:230},component:t=>L.jsx(ks,{...t,enableGlowEffect:!0,metadata:{objectKey:"train"}})},{key:"train-platform",image:SO,offset:{x:-1427,y:230}},{key:"depot-shadow",image:AO,offset:{x:-1620,y:-420}},{key:"building1",image:EO,offset:{x:-1680,y:-620},component:t=>L.jsx(ks,{...t,enableGlowEffect:!0,metadata:{objectKey:"building-1"}})},{key:"pipe",image:jO,offset:{x:-1485,y:-210}},{key:"power-plant-shadow",image:IO,offset:{x:0,y:-580}},{key:"building4",image:PO,offset:{x:0,y:-767},component:t=>L.jsx(ks,{...t,enableGlowEffect:!0,metadata:{objectKey:"building-4"}})},{key:"leaf",image:"",component:t=>L.jsx(xe,{...t,spritesheet:"./spritesheet/leaf.json",animationSpeed:.01}),offset:{x:15,y:-1200}},{key:"main-factory-shadow",image:CO,offset:{x:-680,y:-330}},{key:"building3",image:TO,offset:{x:-653,y:-410},component:t=>L.jsx(ks,{...t,enableGlowEffect:!0,metadata:{objectKey:"building-3"}})},{key:"bubble-2",image:"",component:t=>L.jsx(xe,{...t,spritesheet:"./spritesheet/bubble-2.json",animationSpeed:.07}),offset:{x:-586,y:-445}},{key:"bubble-1",image:"",component:t=>L.jsx(xe,{...t,spritesheet:"./spritesheet/bubble-1.json",animationSpeed:.07}),offset:{x:-670,y:-775}},{key:"human-2-shadow",image:Bi,component:t=>L.jsx(xe,{...t,animationSpeed:.07,trails:[{x:300,y:227,speed:.003},{x:56,y:35,speed:.003},{x:-196,y:-55,speed:.005},{x:-310,y:-135,speed:1},{x:-310,y:-135,visible:!1,delayMs:2e3,skipLinearInterpolation:!0}]}),offset:{x:-310,y:-170,scale:{x:.05,y:.05}}},{key:"human-2",image:"",component:t=>L.jsx(xe,{...t,spritesheet:"./spritesheet/human2.json",animationSpeed:.07,trails:[{x:300,y:192,speed:.003},{x:56,y:0,speed:.003},{x:-196,y:-90,speed:.005},{x:-310,y:-170,speed:1},{x:-310,y:-170,visible:!1,delayMs:2e3,skipLinearInterpolation:!0}]}),offset:{x:-310,y:-170,scale:{x:.4,y:.4}}},{key:"bridge-top",image:yO,offset:{x:30,y:70}},{key:"brain-factory-shadow",image:xO,offset:{x:1370,y:20}},{key:"building7",image:kO,offset:{x:1313,y:57}},{key:"brain",image:vO,component:t=>L.jsx(xe,{...t,trails:[{x:1483,y:-400,visible:!0,speed:.01},{x:1483,y:-350,visible:!0,speed:.01}],enableGlowEffect:!0,metadata:{objectKey:"brain"}}),offset:{x:1483,y:-400}},{key:"bubble-3",image:"",component:t=>L.jsx(xe,{...t,spritesheet:"./spritesheet/bubble-3.json",animationSpeed:.07}),offset:{x:1150,y:7}},{key:"yellow-ball",image:Xb,component:t=>L.jsx(xe,{...t,trails:[{x:1574,y:-25,visible:!0,speed:.01},{x:1666,y:32,visible:!0},{x:1544,y:102,visible:!1,speed:.004},{x:1240,y:248,visible:!0},{x:1050,y:380,visible:!0,speed:.05},{x:1032,y:460,visible:!0,delayMs:5e3,speed:1,skipLinearInterpolation:!0}]}),offset:{x:0,y:0}},{key:"purple-ball-2",image:$b,component:t=>L.jsx(xe,{...t,trails:[{x:1544,y:102,visible:!1,speed:.004},{x:1240,y:248,visible:!0},{x:1050,y:380,visible:!0,speed:.05},{x:1032,y:460,visible:!0,delayMs:5e3,speed:1,skipLinearInterpolation:!0},{x:1574,y:-25,visible:!0,speed:.01},{x:1666,y:32,visible:!0}]}),offset:{x:0,y:0}},{key:"yellow-ball-2",image:Xb,component:t=>L.jsx(xe,{...t,trails:[{x:1240,y:248,visible:!0},{x:1050,y:380,visible:!0,speed:.05},{x:1032,y:460,visible:!0,delayMs:5e3,speed:1,skipLinearInterpolation:!0},{x:1574,y:-25,visible:!0,speed:.01},{x:1666,y:32,visible:!0},{x:1544,y:102,visible:!1,speed:.004}]}),offset:{x:0,y:0}},{key:"purple-ball",image:$b,component:t=>L.jsx(xe,{...t,trails:[{x:1032,y:460,visible:!0,delayMs:5e3,speed:1,skipLinearInterpolation:!0},{x:1574,y:-25,visible:!0,speed:.01},{x:1666,y:32,visible:!0},{x:1544,y:102,visible:!1,speed:.004},{x:1240,y:248,visible:!0},{x:1050,y:380,visible:!0,speed:.05}]}),offset:{x:1240,y:248}},{key:"globe",image:DO,offset:{x:-750,y:-1033},component:t=>L.jsx(ks,{...t,enableGlowEffect:!0,metadata:{objectKey:"globe"}})},{key:"yellow-pins",image:"",component:t=>L.jsx(xe,{...t,spritesheet:"./spritesheet/yellow-pins.json",animationSpeed:.03}),offset:{x:-815,y:-1055,scale:{x:.4,y:.4}}},{key:"blue-pins",image:"",component:t=>L.jsx(xe,{...t,spritesheet:"./spritesheet/blue-pins.json",animationSpeed:.03}),offset:{x:-805,y:-1038,scale:{x:.4,y:.4}}},{key:"green-pins",image:"",component:t=>L.jsx(xe,{...t,spritesheet:"./spritesheet/green-pins.json",animationSpeed:.03}),offset:{x:-850,y:-1105,scale:{x:.4,y:.4}}},{key:"train-strawberry-shadow",image:OO,offset:{x:-380,y:510}},{key:"train-strawberry",image:FO,offset:{x:-367,y:473}},{key:"elevator",image:"",component:t=>L.jsx(xe,{...t,spritesheet:"./spritesheet/elevator.json",animationSpeed:.1,spriteAnimationIntervals:[1e3,8900],initialSpriteAnimationPlaying:!0}),offset:{x:285,y:1040}},{key:"train-chocolate",image:NO,component:t=>L.jsx(xe,{...t,trails:[{x:373,y:1167,delayMs:1e3,speed:.003},{x:-1964,y:2517,speed:1,skipLinearInterpolation:!0},{x:1473,y:532}]}),offset:{x:1473,y:532}},{key:"fish-denison-1",image:LO,component:t=>L.jsx(xe,{...t,trails:[{x:-900,y:333},{x:-900,y:303}]}),offset:{x:-900,y:333}},{key:"fish-denison-2",image:UO,component:t=>L.jsx(xe,{...t,trails:[{x:-1017,y:267,speed:.003},{x:-1017,y:237,speed:.003}]}),offset:{x:-1017,y:267}},{key:"fish-denison-3",image:zO,component:t=>L.jsx(xe,{...t,trails:[{x:617,y:700,speed:.004},{x:617,y:670,speed:.004}]}),offset:{x:617,y:700}},{key:"red-lollipop-1",image:Zh,component:Ni,offset:{x:340,y:-1160,scale:{x:.5,y:.5}}},{key:"red-lollipop-2",component:Ni,image:Zh,offset:{x:340,y:-1040,scale:{x:.18,y:.18}}},{key:"purple-lollipop-1",component:Ni,image:Jh,offset:{x:270,y:-1070,scale:{x:.25,y:.25}}},{key:"purple-lollipop-2",component:Ni,image:Jh,offset:{x:420,y:-1065,scale:{x:.25,y:.25}}},{key:"purple-lollipop-3",component:Ni,image:Jh,offset:{x:-1534,y:-135,scale:{x:.4,y:.4}}},{key:"red-lollipop-3",component:Ni,image:Zh,offset:{x:-1480,y:-74,scale:{x:.2,y:.2}}},{key:"red-lollipop-4",component:Ni,image:Zh,offset:{x:954,y:-180,scale:{x:.4,y:.4}}},{key:"purple-lollipop-4",component:Ni,image:Jh,offset:{x:1e3,y:-117,scale:{x:.2,y:.2}}},{key:"fish-orange",image:HO,component:t=>L.jsx(xe,{...t,trails:[{x:3529,y:636,visible:!0,speed:3e-4},{x:-1840,y:-2464,visible:!0,speed:1},{x:-1840,y:-2464,visible:!1,speed:1,skipLinearInterpolation:!0}]}),offset:{x:1797,y:-364}},{key:"khairul",image:"",component:t=>L.jsx(xe,{...t,spritesheet:"./spritesheet/khairul.json",animationSpeed:.07,trails:[{x:3432,y:626,visible:!0,speed:3e-4},{x:-1937,y:-2474,visible:!0,speed:1},{x:-1937,y:-2474,visible:!1,speed:1,skipLinearInterpolation:!0}]}),offset:{x:1700,y:-374,scale:{x:.5,y:.5}}},{key:"human-1",image:"",component:t=>L.jsx(xe,{...t,spritesheet:"./spritesheet/human1.json",animationSpeed:.07,trails:[{x:3459,y:636,visible:!0,speed:3e-4},{x:-1910,y:-2464,visible:!0,speed:1},{x:-1910,y:-2464,visible:!1,speed:1,skipLinearInterpolation:!0}]}),offset:{x:1727,y:-364,scale:{x:.5,y:.5}}},{key:"fish-orange-partial",image:WO,component:t=>L.jsx(xe,{...t,trails:[{x:3529,y:636,visible:!0,speed:3e-4},{x:-1840,y:-2464,visible:!0,speed:1},{x:-1840,y:-2464,visible:!1,speed:1,skipLinearInterpolation:!0}]}),offset:{x:1797,y:-364}},{key:"plant-pot-1",image:VO,component:({...t})=>L.jsx(xe,{...t,trails:[{x:-985,y:65,visible:!0,speed:.003},{x:-1227,y:-75,visible:!0,speed:.003},{x:-1010,y:-200,visible:!1},{x:-924,y:-250,visible:!1,skipLinearInterpolation:!0,speed:1}]}),offset:{x:-985,y:65}},{key:"plant-pot-2",image:XO,component:({...t})=>L.jsx(xe,{...t,trails:[{x:-1222,y:-84,speed:.003},{x:-1005,y:-209,visible:!1},{x:-919,y:-259,visible:!1,skipLinearInterpolation:!0,speed:1},{x:-980,y:56,speed:.003}]}),offset:{x:-980,y:56}},{key:"plant-pot-3",image:$O,component:({...t})=>L.jsx(xe,{...t,trails:[{x:-1010,y:-200,visible:!1},{x:-924,y:-250,visible:!1,skipLinearInterpolation:!0,speed:1},{x:-985,y:65,visible:!0,speed:.003},{x:-1227,y:-75,visible:!0,speed:.003}]}),offset:{x:0,y:0}},{key:"spots-ball",image:QO,component:t=>L.jsx(xe,{...t,trails:[{x:-870,y:-312,speed:.01},{x:-900,y:-308,speed:.01},{x:-956,y:-340,speed:.01},{x:-950,y:-375,speed:.003},{x:-846,y:-435,speed:.01},{x:-855,y:-453,speed:.003},{x:-1062,y:-573,speed:.01},{x:-1065,y:-610,speed:.003},{x:-891,y:-710,speed:.003},{x:-860,y:-700,speed:1,skipLinearInterpolation:!0},{x:-860,y:-700,speed:1,visible:!1,skipLinearInterpolation:!0,delayMs:1e3}]}),offset:{x:-874,y:-308}},{key:"stripes-ball",image:KO,component:t=>L.jsx(xe,{...t,trails:[{x:-846,y:-435,speed:.01},{x:-855,y:-453,speed:.003},{x:-1062,y:-573,speed:.01},{x:-1065,y:-610,speed:.003},{x:-891,y:-710,speed:.003},{x:-860,y:-700,speed:1,skipLinearInterpolation:!0},{x:-860,y:-700,speed:1,visible:!1,skipLinearInterpolation:!0,delayMs:1e3},{x:-870,y:-312,speed:.01},{x:-900,y:-308,speed:.01},{x:-956,y:-340,speed:.01},{x:-950,y:-375,speed:.003}]}),offset:{x:-874,y:-308}},{key:"tree-building-3",image:MO,offset:{x:-1040,y:-450}},{key:"fish-blue-german",image:GO,component:t=>L.jsx(xe,{...t,trails:[{x:-3550,y:833,visible:!0,speed:3e-4},{x:1818,y:-2267,visible:!0,speed:1,skipLinearInterpolation:!0},{x:1818,y:-2267,visible:!1,speed:1,skipLinearInterpolation:!0}]}),offset:{x:-433,y:-967}},{key:"train-hole-top-layer",image:BO,offset:{x:1692,y:427}},{key:"shiba",image:"",component:t=>L.jsx(xe,{...t,spritesheet:"./spritesheet/shiba.json",animationSpeed:.07}),offset:{x:30,y:1010,scale:{x:.3,y:.3}}},{key:"water-bridge-shadow",image:YO,offset:{x:305,y:-305}},{key:"human-5-shadow",image:eN,offset:{x:138,y:800,scale:{x:.05,y:.05}}},{key:"human-5",image:"",component:t=>L.jsx(xe,{...t,spritesheet:"./spritesheet/human5.json",animationSpeed:.07}),offset:{x:130,y:780,scale:{x:.3,y:.3}}},{key:"otter-1",image:"",component:t=>L.jsx(xe,{...t,spritesheet:"./spritesheet/otter1.json",animationSpeed:.07}),offset:{x:-254,y:270,scale:{x:.3,y:.3}}},{key:"otter-2",image:"",component:t=>L.jsx(xe,{...t,spritesheet:"./spritesheet/otter2.json",animationSpeed:.07}),offset:{x:-186,y:148,scale:{x:.5,y:.5}}},{key:"otter-3",image:"",component:t=>L.jsx(xe,{...t,spritesheet:"./spritesheet/otter3.json",animationSpeed:.07}),offset:{x:244,y:-90,scale:{x:.4,y:.4}}},{key:"otter-4",image:"",component:t=>L.jsx(xe,{...t,spritesheet:"./spritesheet/otter4.json",animationSpeed:.07}),offset:{x:182,y:-156,scale:{x:.4,y:.4}}},{key:"human3a-shadow",image:Bi,offset:{x:-600,y:-136,scale:{x:.05,y:.05}}},{key:"human3a",image:"",component:t=>L.jsx(xe,{...t,spritesheet:"./spritesheet/human3a.json",animationSpeed:.07}),offset:{x:-600,y:-176,scale:{x:.3,y:.3}}},{key:"human4a-shadow",image:Bi,offset:{x:-560,y:-155,scale:{x:.05,y:.05}}},{key:"human4a",image:"",component:t=>L.jsx(xe,{...t,spritesheet:"./spritesheet/human4a.json",animationSpeed:.07}),offset:{x:-570,y:-196,scale:{x:.3,y:.3}}},{key:"human5a-shadow",image:Bi,offset:{x:-1555,y:-715,scale:{x:.05,y:.05}}},{key:"human5a",image:"",component:t=>L.jsx(xe,{...t,spritesheet:"./spritesheet/human5a.json",animationSpeed:.07}),offset:{x:-1560,y:-760,scale:{x:.3,y:.3}}},{key:"human8-shadow",image:JO,offset:{x:-1500,y:-690,scale:{x:.05,y:.05}}},{key:"human8",image:"",component:t=>L.jsx(xe,{...t,spritesheet:"./spritesheet/human8.json",animationSpeed:.07}),offset:{x:-1500,y:-705,scale:{x:.4,y:.4}}},{key:"human25-shadow",image:tN,offset:{x:150,y:300,scale:{x:.05,y:.05}}},{key:"human25",image:"",component:t=>L.jsx(xe,{...t,spritesheet:"./spritesheet/human25.json",animationSpeed:.07}),offset:{x:110,y:260,scale:{x:.4,y:.4}}},{key:"human19-shadow",image:Bi,offset:{x:80,y:330,scale:{x:.05,y:.05}}},{key:"human19",image:"",component:t=>L.jsx(xe,{...t,spritesheet:"./spritesheet/human19.json",animationSpeed:.07}),offset:{x:80,y:250,scale:{x:.4,y:.4}}},{key:"cotton-tree",image:ZO,offset:{x:-50,y:286}},{key:"human20-shadow",image:Bi,offset:{x:100,y:720,scale:{x:.05,y:.05}}},{key:"human20",image:"",component:t=>L.jsx(xe,{...t,spritesheet:"./spritesheet/human20.json",animationSpeed:.07}),offset:{x:100,y:680,scale:{x:.25,y:.25}}},{key:"human21-shadow",image:Bi,offset:{x:155,y:735,scale:{x:.05,y:.05}}},{key:"human21",image:"",component:t=>L.jsx(xe,{...t,spritesheet:"./spritesheet/human21.json",animationSpeed:.07}),offset:{x:152,y:710,scale:{x:.25,y:.25}}},{key:"building6",image:RO,offset:{x:593,y:267},component:t=>L.jsx(ks,{...t,enableGlowEffect:!0,metadata:{objectKey:"building-6"}})},{key:"human-3-shadow",image:Bi,offset:{x:340,y:650,scale:{x:.05,y:.05}}},{key:"human-3",image:"",component:t=>L.jsx(xe,{...t,spritesheet:"./spritesheet/human3.json",animationSpeed:.07}),offset:{x:336,y:622,scale:{x:.3,y:.3}}},{key:"fish-angel-1",image:Yb,component:t=>L.jsx(xe,{...t,trails:[{x:-3456,y:-1367,visible:!0,speed:3e-4},{x:3731,y:2783,visible:!0,speed:1},{x:3731,y:2783,visible:!1,speed:1,skipLinearInterpolation:!0}]}),offset:{x:-700,y:833,scale:{x:.6,y:.6}}},{key:"fish-angel-2",image:Yb,component:t=>L.jsx(xe,{...t,trails:[{x:-2764,y:-967,speed:3e-4},{x:3731,y:2783,visible:!0,speed:1},{x:3731,y:2783,visible:!1,speed:1,skipLinearInterpolation:!0}]}),offset:{x:-333,y:1433,scale:{x:.6,y:.6}}}],QL=["./spritesheet/starOne.json","./spritesheet/starTwo.json"],KL=(t,e)=>{const r=[];for(let l=0;l<t;l++){const h=Math.floor(Math.random()*2),c=QL[h],f=qL(-1200,1200,-1e3,800),m=Math.random()*(.1-.07)+.07;r.push({key:`star-${l}`,image:"",component:p=>L.jsx(xe,{...p,spritesheet:c,animationSpeed:m,scale:.03}),offset:{x:f.x*(1/e),y:f.y*(1/e)}})}return r};function qL(t,e,r,n){const i=Math.random()*(e-t)+t,s=Math.random()*(n-r)+r;return{x:i,y:s}}const ZL=KL(200,.5),Um=({children:t,Context:e,render:r})=>L.jsx(e.Consumer,{children:n=>r(L.jsx(e.Provider,{value:n,children:t}))}),JL=({children:t,...e})=>L.jsx(Um,{Context:Jy,render:r=>L.jsx(Um,{Context:ev,render:n=>L.jsx(Um,{Context:rv,render:i=>L.jsx(jn.Stage,{...e,children:i}),children:n}),children:r}),children:t}),e5="/assets/Section1-nIvSpPZv.png",t5="/assets/Section2-BW6Hj3xt.png",r5="/assets/Section3-DPGkFR2P.png",n5="/assets/Section4-TkBpfZNT.png",i5="/assets/Section5-Dr038CEr.png",s5="/assets/Section6-BK9eXmuW.png",o5="/assets/Section7-8DZ7OHYT.png",a5="/assets/Creativeans-globe-with-pins-a5N0Xep_.webp",l5="data:image/webp;base64,UklGRogEAABXRUJQVlA4WAoAAAAQAAAANgAAUQAAQUxQSNsBAAABkChJsmlbfZ9t27Zt27Zt27Zt27Zt27Y9T2v2Wn1+ICImALYDFxu058mbN6/fvL6/qXsesBaY+0T0tyZnYii9X2yuz+Eq0UaxPT2Yk4bfxf69XA4miNsG1laI6/aWVor7ZlbGCmNBCxWF8ls4T2GEdK+nDSxSwUNGoX3i4SCP1FYlE+IrqglMkkrzjGqYIqNQn1R05PoW3LSES7KbDpKNMV0gO2vwf4/shiHoM7KbBv/3ya4acIlsp+kwWQPTMrJYpq5cT2DOxrVO4e8VVX0FpjP9CKFJw7QE6mNESXTZedbC4zaaKF7Cs7SF5xoc22FxAsP9QDawyt2rmLC73NWj+LA9zs2RSLA+wslo2I8jDk8VhsNl9k43hMvoYvnRrBJwO0/Tr8aMlXsOHdm3fl7v/IHhOKIo74N5sqYaUxhR3gXzGE0lpuCivAXmQZpyTEG+K66DuacoSzEF+qS4DuZOoizC5P+d4jiYW4gyI5PfS8VeMNcXZTqqh4o9YK4qyuRUtxQ7wFxKlImoLiqOgTmfKDNR7VMcAXMSUaalGqzYC+p9iqRU/p+Z1oE6ppijcOUx9QN3bcNGkPf43zywz//PONAf+Kc7+G+ISG344F2REvBF+ZkKPrknA3wSAFZQOCCGAgAAkA8AnQEqNwBSAD6BNJRHpSMiITa3jtigEAlkDbZlfoMeq1DiAB5y1kvkRcdktv9UJOao533XYWZGJqI+9qlaQMT0M9nplzyF31mggBL8iHHvXV1mUeYonwqxQdvIFb3wvNK99bXmo2Y6XGTY+LB3eUqnTP6KlkzrhPpPYarLrH8U6kCfQAD+6Z3//oZKdGuRhP0voVXcw3OP9Rq+9jtzDF3+IhPZTBopxuT8YlRuw8Gc5uNTAX0uFnfHB7X9KS3zNFG/j7x61v8kNJVcMtxvyTyA35TB32Ya1HF8zrK+ZJKpjh0oScLlunu1zF4eqGfdqr7bfF6f/FP3hWwP6+uYP9YK5CEN3LRrBC/gvfzW/+0WqgNDpMa95OiBqfqfl5WllktvQrXyikD93VL4W3yhFtx9XDb/CzkPsYug4gm8vvfbt3OGfx9lfVWganh1GwIUBjLYhdDzkjxmR8Fbsfr/9TsMOGfX/mbC5f9w4YxTIC1GNGySQWomkSiRi1WNCrAq8vFUj9NZ7UpTlWLDlQk8WHl8H7MSjNFNxqyvDAXUfL6LV5TRd6KKUNDtGhBaohj+tm1H8S7EE5kJ3EdBvwqlAHOu3EPHrMBHsmDd5swPX9Npow8PzxG7V2MhMti+o3vIv/ij1CylT+JN1WU/tmQZlY7RfGTaTVPiv6uLcpPqsH/sWwnxHFhyx4rg6TP8oFyMY3SAIz6WgavkfF4VlHxkXdUGYT4Cvd/Gwr/ybn3itWzH6PmLXqkTPBNOP27Yh/MfUBREjYkHqoVEU4PQ5nOf0Bbzv0Y7//2IgZQnTvgbU4MKo097H/8WOPfBy5NmvZj7vgBOPLMhF9RzpN7a2XkWmqj9oR+gAA==",u5="data:image/webp;base64,UklGRnAEAABXRUJQVlA4WAoAAAAQAAAANgAAUQAAQUxQSOIBAAABkC3btmk74zq2bSePtm3btm3btm3btm3bxozW3GuNkw+IiAnAfzW43JSzb8xPd/XOyBF/4D3xvLemuzADv4jVc+Uclb4v1pdEdTFKXD7Jbm+9OC5va784r2xnuxDmszFZGH/G8lZWOM96CvOVRDp6mSu0UXSJhXeKbiGRRNVEEub2muZUFzQ7qSSFKdwXrnqmfMI9xdSa7JBpJNk90xyyZ8GGNWTPQxvW+8oisqdBholkN2HsQbbLVJZstCkeWRUTLnLFUQyj2g9lGqraGpwg+hiiKkjUE/qzNB+CPKSnqQKvw0k2wftpiufBFiK9YEgDmyneucsJuymvOPqYHbbjfndyJhmsNxGX42E/6J2DvTnhsLNY31ocLv1ea14oPu7pnAZuW4tyRriq/UeMGTdmZP86seD8hSYGiBuKcjqYH2uiMdUU5WQw31P8jMxUSZTjwXxL8T0iUwlRjgLzVcW3CEyFRDkIzOcUH0Mz5RJlFzAfV7wPYsokyg5g3qd4G8SUQZTNwbxF8dyfKYUoG4F5heJ1MFM8UbYG81jFC3+mMJ8VTcBcVsxPQD1SUZ1rvekWuM+a8nFFeG9YAe6U8u9TgWSF/rU3AOTN/rEO9P3/mgX+WSIyFD64QKQrfPGsVIJPAlZQOCBoAgAAsA0AnQEqNwBSAD6FNpRHpSMiITP7u4igEIlkAM/Qbyp78WwA6WkiOd2SPmWuUAuLRGlHwmU6c58ua0KTXG7UET7r6c+nYyZXH9FCBX8cs3bUDtt0tsj7VsintcWS/sbmoXS2kWBlbJVLG0F2dbYF0jhzZPAkoAD+7Gb//i+f/0TP//0TkpwgGauie+a8tVMflnLYZf5XP0cTTA9uCBZ3Sx4XIk8Vl9NAgo6/gM+0zvLKHDrT15mvrdKSYlQIACmo4fo4x5gZ+S70zhWt4IDKet/Nfy/74S/ln8z/KU/+PywGpMYCzr5K0gVTV3bag2N+ddSieXiFD3rXoSP/VRS9991e3TvkYOZIc1HHqAm84DPr8Dp8Bu+2Au2W6hiqrd2jKIHbsrwsf8s4SMiW1KexIalWHmBHl+7ANcX0kw9tf7bymNZ6jXxrULZrSLar0VelOOsaiq+qYBqMy+7sGOej9/VxNWhToKCtfVDXDguz5+DAimga2vL/E/VM3qznLVh/Jm9WR7hrn0yWAlCDzqYarT3osaP530nGWgYmIyBkEsPuKl6xZf6t/Ugf/NIEzKhOIdn0tbUVr+YQdpZv2/yzAGa/trUWDhbvO3NZXwHnRZwFjRx6OKqRRLYBQ+GWFwCu44JQ6NkrVkx3qMfAVb+R16WZrJp7/nN9yqitaVwnfym+fcXp0t2HLUAaO/s4ymDP3/8ll/3ox0Y53EWxSp1gFmZKCVS88kOvCDsg+po7i1Ps5+eXsIgpXUCaA21wYj2h8hxPotfx4f/9+E6gJBN9J4ZnX/2j7KDLjM2N7//seGXzkYQAAAAAAA==",h5="data:image/webp;base64,UklGRpgEAABXRUJQVlA4WAoAAAAQAAAANQAAUQAAQUxQSPEBAAABkChJsmlbfe+zbdu2bdu2bdu2bdu2bds252Gv2Wv3+YGImABYDlZq5N6Hb96+efvm+bm5zeKDM/vCL+LyRMMg3uU4KTbft/co7Hqx/TSPFyV/iIdj7PURb/f4W5osXp8NYmWceH/cRkdhXO0uv3B2cRPwJomkdzFcWHfokghvRdVUogOaSB+IJL+inTBPV+yiummK8pVKshvKC3drQ0+yuYZpZNeCOC0jk5ROO9gyOO33kW1saZ2WkL2O7jSFbB2cu5L1N5QmK28I957qUyQDNlFtgLkJVQNFyOdET4IpMIyoP7SR39M8D61CV5rmcHmEZDvcJv1J8TaGK1SiyA+LbQgqwmpLz8rDclVvPmSG7Sae7AgF22FeePCqKux3E+tP2vnDfognll4tLwlPO4lyevyWo5au37Ju4dDmmQPA2yAPNInA20aUY8Ab4LbiZ3yilqIcCeJrim+xiJqKcjiILyk+RyeqL8rBID6teB+ZqKYo+4H4qOJFGKKKouwC4oOKR8GISoqyA4h3Kx4EJiokypYg3qa47U+US5SNQLxeccuPKK0oW4B4tuIKiKN8UTRgqi/mc2Ceq6hOdcp0CMwBH5mKUsUV4xxQ5zCc9uOq5XQkALiHOGwB+5T/FoB+kYiMBP9KkR7wwR1SBb64sA18EgBWUDgggAIAAJAOAJ0BKjYAUgA+hTaXR6UjIiEyuSwAoBCJQBpjf/sPiocDPfV+weQAaeHWuGI5yWD8/nQYfqrgGCcBBW6NsX9cEYi0fWlG4NA0QVa866EiEtJUn9aecBevkTQFCJDeCs3Dho2GtHNfgIbd8aaa+WiePQ6zkE2BC2Id+WAAAJ342c8r2iA3g2nccTJ0Ecs32aQvdsbLizPM42/xeMS4/h2vs2MNFR+jKYV67Ab8zpsm3WcBVZH9bRjHWqA0Qm9vemr4mp0QEjrqKbcgkSVqxy4m+pfSSalBwghuaCOWRohNGfF/c/YZbAIpW/F1bv75cSxmolu3OoJ+HWN1UpclM98RzGf+mu/5K15SzzIrVajx+bRKfumvhocz6UY2FuVcVS5XEQwo0t0vAbNdkBpiXKjnm8BHZs55zI4CwZYU1wCMyeIbHEadn/r/PMeUXtDt3QixTD1/qJcO+5Y/J+RXhyKJb7fLfkFCLyu79SVExiLx9F8SvIcLiSAKdO/wK3U86/j61blqFv7s1A3q++D4N3uoZM0SfGuHNXiYZ5wJt94xSBtCFyP5x5oWGw5wHxdt3UricRuJ29Ol5ngu3YixwJlZdfcel8DAvN+lv3KjB3MDVxLGv0iac2xKG4FmDWsiewJu5dRRqJT+dXYgsmpflLQ9GGSpxVL2uY85Ful+DYbsEmzmboiv/3H/Z66Vwk8AXV+t1JJVLOIkKFfzUqzH8U7SAKvC6On2kw/LHs0UV/0BoeNToePkFDLo2sl1wFeYZVY4PKJ4+zgrseHps+ATQXta4HNJH5jvDwklQCiHdu5I60pvy5n+5AAC2txQdl/7EVvyeln9u//OKd7QAAAAAAA=";function z0(){return z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},z0.apply(this,arguments)}function c5(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function d5(t,e){if(t==null)return{};var r=c5(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var f5=["size","color"];function zm(t){var e=t.size,r=e===void 0?24:e,n=t.color,i=n===void 0?"currentColor":n,s=d5(t,f5);return qt.createElement("svg",z0({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-arrow-up-right",width:r,height:r,viewBox:"0 0 24 24",stroke:i,strokeWidth:"2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},s),qt.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),qt.createElement("line",{x1:"17",y1:"7",x2:"7",y2:"17"}),qt.createElement("polyline",{points:"8 7 17 7 17 16"}))}const p5={"building-3":{title:"Factory",subtitle:"Where brands are built and dreams come alive ",body:L.jsxs("p",{className:"font-body",children:["Since 2012, business leaders have trusted us to solve their strategic and creative challenges: from branding, business design, UI/UX design, packaging design to communication design across industries and regions. Guided by our systematic approach and methodologies, such as"," ",L.jsx("a",{href:"https://www.creativeans.com/branding-service/",target:"_blank",rel:"noopener noreferrer",children:"BrandBuilder"})," ","and"," ",L.jsx("a",{href:"https://www.creativeans.com/business-design/",target:"_blank",rel:"noopener noreferrer",children:"EDIT Design Thinking"}),", we consistently deliver innovative solutions that create lasting impact."]}),buttonLink:"https://www.creativeans.com/works",image:e5},"building-1":{title:"Depot",subtitle:"12 years and counting",body:L.jsx("p",{className:"font-body",children:"Welcome to the Creativeans Depot, a whimsical vault of our journey spanning over 12 remarkable years. Imagine a vast, vibrant warehouse filled with shelves and crates, each brimming with colorful memories, groundbreaking projects, and milestones that have shaped our story. From the sparkling ideas that first ignited our creativity to the bold, innovative works that pushed the boundaries of design, this depot is a treasure trove of our collective imagination. Its a living archive, where each piece is a testament to our passion for crafting brands that mattera place where the past fuels the future, and every corner is an inspiration waiting to be rediscovered. Step inside, and explore the stories that have defined us."}),buttonLink:"https://www.creativeans.com/awards/",image:t5},"building-4":{title:"Power Plant",subtitle:"Design a sustainable future together",body:L.jsx("p",{className:"font-body",children:"Our sustainable design services fuse creativity and strategic expertise to integrate eco-friendly practices into your business model. We help unify your brand's message with sustainable values, ensuring consistency and coherence across all communication channels while fostering environmental responsibility and innovation."}),buttonLink:"https://www.creativeans.com/solutions/sustainable-design-consulting/",image:r5},"building-c":{title:"House",subtitle:"Let's grow together",body:L.jsx("p",{className:"font-body",children:"Joining Creativeans means becoming part of an interdisciplinary consultancy with strong values and a unique work environment. We place great emphasis on personal development because we want our people to be the very best, and your skills and contribution will be rewarded with competitive salary and a comprehensive benefits package."}),buttonLink:"https://www.creativeans.com/careers/",image:n5},brain:{title:"The Brain",subtitle:"Empowering the industry",body:L.jsx("p",{className:"font-body",children:"Our Brain is a metaphorical space representing the wealth of knowledge, creativity, and expertise we've cultivated over the years. It's where we gather and share the tools, insights, and ideas that fuel innovation in branding and design. By offering free resources to our audience, we empower others to explore new creative frontiers and solve their own challenges. We are dedicated to making creativity accessible to everyone, ensuring that great ideas can be sparked, refined, and realised by all."}),buttonLink:"https://www.creativeans.com/resources/",image:i5},"building-6":{title:"School",subtitle:"Everyone can be creative",body:L.jsx("p",{className:"font-body",children:"We empower both organisations and individuals by equipping them with the essential knowledge and tools necessary for cultivating and enhancing their creative capabilities. By offering comprehensive and personalised training experiences, we aim to foster creativity and innovation, empowering our clients to navigate the dynamic landscape of todays competitive markets with confidence and strategic prowess"}),buttonLink:"https://www.creativeans.com/resources/",image:s5},train:{title:"Train Station",subtitle:"We invest in brands that matter",body:L.jsx("p",{children:"We believe that design has the power to shape the future. Our venture team provides both hands-on expertise and coaching to help brands accelerate growth and create value. Our investments target visionary pre-seed startups ready to disrupt, SMEs poised for exponential growth, social enterprises making a significant difference, and government agencies seeking programme partners to catalyse change."}),buttonLink:"https://www.creativeans.com/venture-studio/",image:o5},globe:{title:"Location",subtitle:"We'd love you to drop by our office!",body:L.jsxs("div",{className:"grid gap-8 font-body sm:grid-cols-3 sm:gap-4",children:[L.jsxs("div",{children:[L.jsxs("div",{className:"mb-4 flex items-center gap-4",children:[L.jsx("img",{src:u5,alt:"",className:"h-4"}),L.jsxs("div",{className:"flex items-center",children:[L.jsx("p",{className:"font-brand uppercase",children:"Singapore"}),L.jsx("a",{href:"https://maps.app.goo.gl/zfAiL59asx4riK7n6",target:"_blank",rel:"noopener noreferrer",className:"text-black visited:text-black",children:L.jsx(zm,{size:24})})]})]}),L.jsx("p",{children:"39 Woodlands Close, #08-56 Mega@Woodlands Singapore 737856"})]}),L.jsxs("div",{children:[L.jsxs("div",{className:"mb-4 flex items-center gap-4",children:[L.jsx("img",{src:l5,alt:"",className:"h-4"}),L.jsxs("div",{className:"flex items-center",children:[L.jsx("p",{className:"font-brand uppercase",children:"Indonesia"}),L.jsx("a",{href:"https://maps.app.goo.gl/cgKaRBsLkMP1ZhbF8",target:"_blank",rel:"noopener noreferrer",className:"text-black visited:text-black",children:L.jsx(zm,{size:24})})]})]}),L.jsx("p",{children:"The Energy Building, SCBD Jakarta 12190 Indonesia "})]}),L.jsxs("div",{children:[L.jsxs("div",{className:"mb-4 flex items-center gap-4",children:[L.jsx("img",{src:h5,alt:"",className:"h-4"}),L.jsxs("div",{className:"flex items-center",children:[L.jsx("p",{className:"font-brand uppercase",children:"Milan"}),L.jsx("a",{href:"https://maps.app.goo.gl/4f3PAeKVTNf6zVNx9",target:"_blank",rel:"noopener noreferrer",className:"text-black visited:text-black",children:L.jsx(zm,{size:24})})]})]}),L.jsx("p",{children:"Via Fratelli Roselli Milan 20139 Italy"})]})]}),buttonLink:"",image:a5}},m5=({className:t,...e})=>L.jsx("span",{className:"font-body rotate-45 rounded-[50%] border border-black p-0 px-[11px] text-[35px] leading-[1.2] hover:cursor-pointer "+t,...e,children:"+"}),pw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOIAAAAsCAYAAAB48mQTAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAcaSURBVHhe7V1dTFxFFD7DxaUB7HaLaEx9NUZ8KK0mAovaaK3pG6nRV/XB+OSD0bR9MUX5bbQprYnaGFJ9MFYSE30Sq4kxGCVqjU1hgaL8FK3Uhqi0Coq713Pm5+69l7sUaLqd7D0XyOzszDlzznfmzLln7iwrIHS1pzMNwnWfygHcKQTU5cCtcfGFiz+AJdYjS2qX/VxsLwPIYaHKwv1Xy88VQKOuj5+Rh+hJfinP6vgZvQP6L+OHSEl8iD/qu1qcTL8AXgpnUYaM8BewNHXiT+97deqi69RPXgXaVb9V0gscn/Tx8Zf0VJfvk32Xj1d0eUkELU9BeSPwkZa/Gnw1PgX1jcBPjzeHOGZwfmTKHOftkWRy0O96GlGA1h2TGxL//vUSavc8Ti3HTFblBNrJ1DRQxtAlvcL+3uQ2ThMuC/PTTkFOIvmukR/1Jzq9WBAH+aeNZOrB8and9FP6qUVBXdH8/P2vrK/HX8oSxEvJF8FPTi7zp52R+hmnKNBuJoWiNU6slfGcUPEJtPvrvnHVeFpHzY+KtdIH+hv+nhOH9KTx6PKcfu3jGf3zi4YPT62Pp7/BqQC+ZvGiYGLkyttGyWnq0ePl2wN2UeNlUY5Xq5PJF08JsUT8pSN2Nw9tdbPifazdQZNx9PKnMH5pAGYXR+Dv7JyWhAtGgBFYLwKithbKt9ZDYtdOqGhpUSHNEadx0X/ibHXqtHTEroZMNwh3359Ls/DZxUNwbuHUesdjOkaAEbgCAuXpNFR1tEHZbVso3To4Vr1pv+huPNPkgjOAAbPsxC/Pwq+LwwwkI8AIXGMEnLu3Q7LvPUqKcpi6bBedjcNvYlh8Znj+Yzh58ZVrPDyzZwQYAYNAVXcnVDz+KOWMx0RXw/Ag5ob3fnB+L96SfscoMQKMQJEQKL+vGW58p5c2xr4QXY2ZP/C2NHlsag9uzOBLvhgBRqAoCIibaiD1zVe0k30BHXFYPjM4/NODRRmcB2EEGIE8AqmJMfk8mB2RZwUjcB0RIEekh4jsiNfRCDw0I8ARkecAI2ABApsnz6qTUzJHxBeHf+Qc0QK7sAgxQyA1iTkiHreTjki7NT28WROzKcDq2oBACiNiPkfkiGiDTViGGCIgI6LZNeWIGMMZwCpbgcDmKZ0jdjYO0QfQoIdzRCsMw0LECwGOiPGyN2trKQIpjIgyR8RD33LXlCOipZZisUoagdSUL0fMoSMe4VvTkjY4K2cnAr6IyDminSZiqeKAgBcR6daUnuxzRIyD2VlH2xBITftyRHZE28zD8sQFAXJEebKms0mdrOGIGBfTs542IeBFxA79HJEd0SbzsCxxQSA1jR+DopM1FBHpXyge5V3TuNie9bQIAV9ExOeI+E9Uj4zzpy8ssg+LEhMEZI5IEbFD54gcEWNieVbTKgRS5/SuaUfTED6+EHCUI6JVBmJh4oGAckSOiPGwNmtpLQJeRGzHW1M6a8oR0VpbsWAljAA5Yj5HZEcsYVOzajYjkJrROWI75oh0j8oR0WZzsWylioC8NaVdU7o1pSNur/FmTanamvWyGAGOiBYbh0WLDwLSEWVETKuzphwR42N81tQeBFIz4+oT+pgjzuJzxFt6J/hLaOwxD0sSBwREbQ1s+v5r2jW9QDliP+aIj3z4816Y4a9li4P9WUdLEHAeaIaN7x7HcOh+ItqahrrxHnXf+PwA9M8esEREFoMRKH0Eqt56HRK7d9LJmoOi7f7M7W7WHcL71MRHMxwVS9/8rKENCNyw6yGo7n2D8sPL5TnYhmkiwMvp4f0uuF2/L83Aiemn8Uu9l2yQlWVgBEoTgcpKSH7eD86WWwH97rmxRLJHOmLfY33O6Pm7vsX/5raNdnBG50/CxKUv4beFEfwW4bnSBIO1YgSKiIC4uRac+nqo2P0wJPa0yJ1S/PthLLHxHrw1zUpHpKt1x+QG8d9CqyvcF3DzxsnRQw18viFLPHmTQ9+lEj3YVwd8XzIMtNOnOVykc5Geyig+fn50oEB+bbHkE+Rn+hl5Vuan+AT5BeWP4iflDehl9M3LQ+2R/UL6Fewn+Ws9CRf8oTOG8iu5/HVSP9RO+ElKWeIl6ehA1Ar01C75qP6GXo4n6fLt4fFMPTDeGuSNpF8mb1jPsLxXp2cAJ43DMj1DOCzDKcouEbj7ccKNF2WfsB1NXbaXZXFmHfqnInlgSohFPeWDy0JrOtOQc9wnsXsdTpY6nDw1/sltJnn4PeJinCjflp+8Uc4W4OFzIOq7Wn4F+fr5hZxzJfmW8SvAZyVnV84YXBTMmHollItZ/rWedNJYaiGJag/0N/TU3zOyIgvQY7uiC43nOXHUeNiX6KQTh+k1Hy2nWQw82bzFosC41K6igVqEtBwBet0elttbtCRdhJ5m0YmiL7a8Hn56sRQwh0tNRjhiRLju8ZHK5KDf8/4HqOrbSpEL5JgAAAAASUVORK5CYII=",ac="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%3e%3cpath%20id='Path_98078'%20data-name='Path%2098078'%20d='M-27.219,0l-10,9.428,1.045.985,8.216-7.745V20h1.478V2.668l8.215,7.745,1.046-.985Z'%20transform='translate(20%2037.219)%20rotate(90)'%20fill='%2349e4e0'/%3e%3c/svg%3e",mw=t=>{const[e,r]=Ce.useState(!1);return t.href?L.jsxs("a",{href:t.href,target:"_blank",rel:"noopener noreferrer",className:"relative",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),children:[L.jsx("img",{src:pw,className:"h-12 w-full"}),L.jsxs("div",{className:"absolute top-0 flex h-full w-full items-center justify-evenly",children:[L.jsx("p",{className:"text-center font-bold uppercase text-[#48e4e0]",children:t.children}),L.jsxs("div",{className:"flex w-10 overflow-hidden",children:[L.jsx("img",{src:ac,className:`h-6 transform transition-transform duration-300 ease-linear ${e?"translate-x-0":"-translate-x-12"}`}),L.jsx("img",{src:ac,className:`h-6 transform transition-transform duration-300 ease-linear ${e?"translate-x-6":"-translate-x-6"}`})]})]})]}):L.jsxs("button",{className:"relative",onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),...t,children:[L.jsx("img",{src:pw,className:"h-12 w-full"}),L.jsxs("div",{className:"absolute top-0 flex h-full w-full items-center justify-evenly",children:[L.jsx("p",{className:"text-center font-bold uppercase text-[#48e4e0]",children:t.children}),L.jsxs("div",{className:"flex w-10 overflow-hidden",children:[L.jsx("img",{src:ac,className:`h-6 transform transition-transform duration-300 ease-linear ${e?"translate-x-0":"-translate-x-12"}`}),L.jsx("img",{src:ac,className:`h-6 transform transition-transform duration-300 ease-linear ${e?"translate-x-6":"-translate-x-6"}`})]})]})]})},g5=()=>{const t=sf(),e=p5[t.activeObjectKey??""];return L.jsxs(L.Fragment,{children:[L.jsx("div",{className:`fixed right-0 z-20 h-screen w-screen transform overflow-y-scroll bg-[#f7f8fc] px-12 pb-[300px] pt-[100px] transition-transform duration-300 ease-in-out lg:w-1/2 lg:pt-[160px] ${t.isOpen?"translate-x-0":"translate-x-full"}`,children:L.jsxs("div",{className:"flex flex-col gap-8",children:[L.jsx("div",{"data-label":"header",className:"flex items-center justify-end",children:L.jsx(m5,{onClick:t.closeSidebar})}),L.jsx("div",{"data-label":"body",className:"mb-20 sm:mb-0",children:e&&L.jsxs("div",{className:"flex flex-col gap-8",children:[L.jsx("div",{className:"flex justify-center",children:L.jsx("img",{className:"h-[30vh] 2xl:h-[50vh]",src:e.image})}),L.jsx("p",{className:"font-brand text-5xl uppercase",children:e.title}),e.subtitle&&L.jsx("p",{className:"font-brand uppercase",children:e.subtitle}),e.body,L.jsxs("div",{className:"grid items-center gap-4 sm:grid-cols-[250px,250px]",children:[e.buttonLink&&L.jsx(mw,{href:e.buttonLink,children:"Learn More"}),L.jsx(mw,{onClick:()=>{window.parent.postMessage("openPopup","https://www.creativeans.com")},children:"Contact Us"})]})]})})]})}),t.isOpen&&L.jsx("div",{className:"fixed z-10 h-screen w-screen bg-black opacity-70 hover:cursor-pointer",onClick:t.closeSidebar})]})},y5=()=>{const{position:t,scale:e,isDragging:r,handleMouseDown:n,handleMouseMove:i,handleTouchStart:s,handleTouchMove:o,handleTouchEnd:l}=AT(),h=sf(),c=f=>f.map(m=>{var w,A;const p={x:m.offset.x*e,y:m.offset.y*e},v={x:((w=m.offset.scale)==null?void 0:w.x)||1,y:((A=m.offset.scale)==null?void 0:A.y)||1},x=m.component||jn.Sprite;return L.jsx(x,{image:m.image,anchor:.5,x:t.x+p.x,y:t.y+p.y,scale:{x:e*v.x,y:e*v.y},rotation:m.rotation||0},m.key)});return L.jsxs("div",{className:"relative m-0 h-screen w-screen overflow-hidden p-0",children:[L.jsx(g5,{}),L.jsxs(JL,{width:window.innerWidth,height:window.innerHeight,onMouseMove:i,onMouseDown:n,onTouchStart:s,onTouchMove:o,onTouchEnd:l,style:{touchAction:"none",cursor:r?"grabbing":"grab"},children:[c(ZL),L.jsx(jn.Sprite,{image:gO,anchor:.5,x:t.x,y:t.y,scale:{x:e,y:e},pointerdown:n,eventMode:"static",onclick:h.closeSidebar}),c(YL)]})]})};var v5=typeof ai=="object"&&ai&&ai.Object===Object&&ai,x5=typeof self=="object"&&self&&self.Object===Object&&self;v5||x5||Function("return this")();var _5=typeof window<"u"?Ce.useLayoutEffect:Ce.useEffect,b5=typeof window>"u";function gw(t,{defaultValue:e=!1,initializeWithValue:r=!0}={}){const n=l=>b5?e:window.matchMedia(l).matches,[i,s]=Ce.useState(()=>r?n(t):e);function o(){s(n(t))}return _5(()=>{const l=window.matchMedia(t);return o(),l.addListener?l.addListener(o):l.addEventListener("change",o),()=>{l.removeListener?l.removeListener(o):l.removeEventListener("change",o)}},[t]),i}const w5=4096,S5=2671;function E5(){const t=gw("(min-width: 1600px)"),e=gw("(min-width: 768px)"),r=t?.8:e?.5:.3;return L.jsx(HL,{initialEnabled:!0,children:L.jsx(nN,{scale:r,width:w5,height:S5,children:L.jsx(WL,{children:L.jsx(y5,{})})})})}RE(document.getElementById("root")).render(L.jsx(Ce.StrictMode,{children:L.jsx(E5,{})}))});export default A5();
